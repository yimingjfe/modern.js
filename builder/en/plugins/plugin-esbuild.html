<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Esbuild Plugin | Modern.js Builder</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/eden-x-logo.png">
    <meta name="description" content="A Build Engine for Modern Web Development">
    <meta name="theme-color" content="#5c6ac4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/builder/assets/css/0.styles.4bd065d5.css" as="style"><link rel="preload" href="/builder/assets/js/app.e92125e2.js" as="script"><link rel="preload" href="/builder/assets/js/2.ab5db946.js" as="script"><link rel="preload" href="/builder/assets/js/12.e643b309.js" as="script"><link rel="preload" href="/builder/assets/js/58.5090c8e7.js" as="script"><link rel="prefetch" href="/builder/assets/js/10.fd3b7021.js"><link rel="prefetch" href="/builder/assets/js/100.dba04220.js"><link rel="prefetch" href="/builder/assets/js/101.c3c49395.js"><link rel="prefetch" href="/builder/assets/js/102.7717d4fb.js"><link rel="prefetch" href="/builder/assets/js/103.f9ec1ccd.js"><link rel="prefetch" href="/builder/assets/js/104.bbcfb0c1.js"><link rel="prefetch" href="/builder/assets/js/105.c919514e.js"><link rel="prefetch" href="/builder/assets/js/106.c5e97354.js"><link rel="prefetch" href="/builder/assets/js/107.7aaa8c11.js"><link rel="prefetch" href="/builder/assets/js/108.45fa1839.js"><link rel="prefetch" href="/builder/assets/js/109.7d8064e2.js"><link rel="prefetch" href="/builder/assets/js/11.8555a632.js"><link rel="prefetch" href="/builder/assets/js/110.2bf57126.js"><link rel="prefetch" href="/builder/assets/js/111.9ee4f088.js"><link rel="prefetch" href="/builder/assets/js/112.a72528ae.js"><link rel="prefetch" href="/builder/assets/js/113.b7824916.js"><link rel="prefetch" href="/builder/assets/js/114.60ed4432.js"><link rel="prefetch" href="/builder/assets/js/115.147c62d0.js"><link rel="prefetch" href="/builder/assets/js/116.42ca6c1a.js"><link rel="prefetch" href="/builder/assets/js/117.92a627f9.js"><link rel="prefetch" href="/builder/assets/js/118.a8797911.js"><link rel="prefetch" href="/builder/assets/js/119.53fe3c54.js"><link rel="prefetch" href="/builder/assets/js/120.16647f75.js"><link rel="prefetch" href="/builder/assets/js/121.5ce80ea8.js"><link rel="prefetch" href="/builder/assets/js/122.4ef92170.js"><link rel="prefetch" href="/builder/assets/js/123.8cb63450.js"><link rel="prefetch" href="/builder/assets/js/124.f0b9bfc9.js"><link rel="prefetch" href="/builder/assets/js/125.6ee6036c.js"><link rel="prefetch" href="/builder/assets/js/126.54b9b8cf.js"><link rel="prefetch" href="/builder/assets/js/127.45847b75.js"><link rel="prefetch" href="/builder/assets/js/128.0974dafc.js"><link rel="prefetch" href="/builder/assets/js/129.81f7a1d7.js"><link rel="prefetch" href="/builder/assets/js/13.b4c26474.js"><link rel="prefetch" href="/builder/assets/js/130.fc4fb4b1.js"><link rel="prefetch" href="/builder/assets/js/131.e052c509.js"><link rel="prefetch" href="/builder/assets/js/132.ef7f2e00.js"><link rel="prefetch" href="/builder/assets/js/133.54d62ef1.js"><link rel="prefetch" href="/builder/assets/js/134.d9927dc6.js"><link rel="prefetch" href="/builder/assets/js/135.0fe65da4.js"><link rel="prefetch" href="/builder/assets/js/136.719ac35e.js"><link rel="prefetch" href="/builder/assets/js/14.c2bd4dd4.js"><link rel="prefetch" href="/builder/assets/js/15.730c690c.js"><link rel="prefetch" href="/builder/assets/js/16.0458c6ac.js"><link rel="prefetch" href="/builder/assets/js/17.7f1f1c8f.js"><link rel="prefetch" href="/builder/assets/js/18.9fe84904.js"><link rel="prefetch" href="/builder/assets/js/19.c66bf656.js"><link rel="prefetch" href="/builder/assets/js/20.02f301b6.js"><link rel="prefetch" href="/builder/assets/js/21.2ea2ec0f.js"><link rel="prefetch" href="/builder/assets/js/22.62516ef9.js"><link rel="prefetch" href="/builder/assets/js/23.fe2b3f46.js"><link rel="prefetch" href="/builder/assets/js/24.d8a93243.js"><link rel="prefetch" href="/builder/assets/js/25.a6a4f8ca.js"><link rel="prefetch" href="/builder/assets/js/26.d1b99776.js"><link rel="prefetch" href="/builder/assets/js/27.cccdc504.js"><link rel="prefetch" href="/builder/assets/js/28.b3bfc8e4.js"><link rel="prefetch" href="/builder/assets/js/29.42ddcaf0.js"><link rel="prefetch" href="/builder/assets/js/3.165c31e5.js"><link rel="prefetch" href="/builder/assets/js/30.8cc9430e.js"><link rel="prefetch" href="/builder/assets/js/31.ac3de32e.js"><link rel="prefetch" href="/builder/assets/js/32.0876a041.js"><link rel="prefetch" href="/builder/assets/js/33.a97d2f06.js"><link rel="prefetch" href="/builder/assets/js/34.5839b4b2.js"><link rel="prefetch" href="/builder/assets/js/35.94b12ff0.js"><link rel="prefetch" href="/builder/assets/js/36.cb6b9542.js"><link rel="prefetch" href="/builder/assets/js/37.ef50a1ff.js"><link rel="prefetch" href="/builder/assets/js/38.f263daaf.js"><link rel="prefetch" href="/builder/assets/js/39.ec22c17a.js"><link rel="prefetch" href="/builder/assets/js/4.6f76eaa4.js"><link rel="prefetch" href="/builder/assets/js/40.759bd52a.js"><link rel="prefetch" href="/builder/assets/js/41.e1ebd351.js"><link rel="prefetch" href="/builder/assets/js/42.c34c2bcf.js"><link rel="prefetch" href="/builder/assets/js/43.4bf013e3.js"><link rel="prefetch" href="/builder/assets/js/44.947f2061.js"><link rel="prefetch" href="/builder/assets/js/45.aed69ee4.js"><link rel="prefetch" href="/builder/assets/js/46.92bf0e7a.js"><link rel="prefetch" href="/builder/assets/js/47.4395d471.js"><link rel="prefetch" href="/builder/assets/js/48.87c7ace8.js"><link rel="prefetch" href="/builder/assets/js/49.b608531f.js"><link rel="prefetch" href="/builder/assets/js/5.09740a1f.js"><link rel="prefetch" href="/builder/assets/js/50.2da48759.js"><link rel="prefetch" href="/builder/assets/js/51.c7426d9b.js"><link rel="prefetch" href="/builder/assets/js/52.f8fdcc98.js"><link rel="prefetch" href="/builder/assets/js/53.4ca2eea3.js"><link rel="prefetch" href="/builder/assets/js/54.60e38067.js"><link rel="prefetch" href="/builder/assets/js/55.6ec9c0d1.js"><link rel="prefetch" href="/builder/assets/js/56.a18a3a43.js"><link rel="prefetch" href="/builder/assets/js/57.32fc3ca4.js"><link rel="prefetch" href="/builder/assets/js/59.25cacec2.js"><link rel="prefetch" href="/builder/assets/js/6.188eb6c1.js"><link rel="prefetch" href="/builder/assets/js/60.b068183a.js"><link rel="prefetch" href="/builder/assets/js/61.da93a4b0.js"><link rel="prefetch" href="/builder/assets/js/62.a5d49064.js"><link rel="prefetch" href="/builder/assets/js/63.245fa3de.js"><link rel="prefetch" href="/builder/assets/js/64.f2a2c68e.js"><link rel="prefetch" href="/builder/assets/js/65.5dbc3bae.js"><link rel="prefetch" href="/builder/assets/js/66.f635771d.js"><link rel="prefetch" href="/builder/assets/js/67.db7ab202.js"><link rel="prefetch" href="/builder/assets/js/68.1f340989.js"><link rel="prefetch" href="/builder/assets/js/69.70103cc7.js"><link rel="prefetch" href="/builder/assets/js/7.884ce243.js"><link rel="prefetch" href="/builder/assets/js/70.2a060f89.js"><link rel="prefetch" href="/builder/assets/js/71.51fbadde.js"><link rel="prefetch" href="/builder/assets/js/72.bf4f9703.js"><link rel="prefetch" href="/builder/assets/js/73.f032f3cd.js"><link rel="prefetch" href="/builder/assets/js/74.e145a29e.js"><link rel="prefetch" href="/builder/assets/js/75.632a2694.js"><link rel="prefetch" href="/builder/assets/js/76.fe66a109.js"><link rel="prefetch" href="/builder/assets/js/77.ac4ce165.js"><link rel="prefetch" href="/builder/assets/js/78.a0b164cc.js"><link rel="prefetch" href="/builder/assets/js/79.2ef339d4.js"><link rel="prefetch" href="/builder/assets/js/8.d0de7c53.js"><link rel="prefetch" href="/builder/assets/js/80.75fe8010.js"><link rel="prefetch" href="/builder/assets/js/81.9a059214.js"><link rel="prefetch" href="/builder/assets/js/82.243508c3.js"><link rel="prefetch" href="/builder/assets/js/83.7c36526e.js"><link rel="prefetch" href="/builder/assets/js/84.6a3d4265.js"><link rel="prefetch" href="/builder/assets/js/85.3a9c90cd.js"><link rel="prefetch" href="/builder/assets/js/86.1c884357.js"><link rel="prefetch" href="/builder/assets/js/87.babf3006.js"><link rel="prefetch" href="/builder/assets/js/88.aa44bd95.js"><link rel="prefetch" href="/builder/assets/js/89.a641c557.js"><link rel="prefetch" href="/builder/assets/js/9.2103aff0.js"><link rel="prefetch" href="/builder/assets/js/90.cd53a0c6.js"><link rel="prefetch" href="/builder/assets/js/91.f83a01ef.js"><link rel="prefetch" href="/builder/assets/js/92.dc05fcd4.js"><link rel="prefetch" href="/builder/assets/js/93.12982b5b.js"><link rel="prefetch" href="/builder/assets/js/94.edb1cfe7.js"><link rel="prefetch" href="/builder/assets/js/95.abf3b654.js"><link rel="prefetch" href="/builder/assets/js/96.0298f9bb.js"><link rel="prefetch" href="/builder/assets/js/97.de2abbc3.js"><link rel="prefetch" href="/builder/assets/js/98.82d83933.js"><link rel="prefetch" href="/builder/assets/js/99.1f38dd27.js">
    <link rel="stylesheet" href="/builder/assets/css/0.styles.4bd065d5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><!----> <header class="navbar"><div class="navbar-container"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/builder/en/" class="home-link router-link-active"><img src="https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/eden-x-logo.png" alt="Modern.js Builder" class="logo"> <span class="site-name can-hide">Modern.js Builder</span></a> <div class="links can-hide"><nav class="nav-left-links"></nav> <div class="search-box"><input aria-label="Search" placeholder="Search" autocomplete="off" spellcheck="false" value=""> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="search-icon"><path d="M21.7,20.3L18,16.6c1.2-1.5,2-3.5,2-5.6c0-5-4-9-9-9c-5,0-9,4-9,9c0,5,4,9,9,9c2.1,0,4.1-0.7,5.6-2l3.7,3.7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3C22.1,21.3,22.1,20.7,21.7,20.3zM4,11c0-3.9,3.1-7,7-7c3.9,0,7,3.1,7,7c0,1.9-0.8,3.7-2,4.9c0,0,0,0,0,0s0,0,0,0c-1.3,1.3-3,2-4.9,2C7.1,18,4,14.9,4,11z"></path></svg> <span class="search-command-wrapper search-command"><span class="search-command-char">⌘</span> <span class="search-command-char">K</span></span> <!----></div> <nav class="nav-links"><div class="nav-item"><a href="/builder/en/guide/introduction.html" class="vp-link nav-link">
  Guide
  </a></div><div class="nav-item"><a href="/builder/en/api/" class="vp-link nav-link">
  API
  </a></div><div class="nav-item"><a href="/builder/en/plugins/introduction.html" class="vp-link nav-link">
  Plugins
  </a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-down"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="arrow-icon"><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/builder/zh/plugins/plugin-esbuild.html" class="vp-link nav-link">
  简体中文
  </a></li><li class="dropdown-item"><!----> <a href="/builder/en/plugins/plugin-esbuild.html" aria-current="page" class="vp-link nav-link router-link-exact-active router-link-active">
  English
  </a></li></ul></div></div> <div class="VPNavBarAppearance appearance" data-v-9cda28be><button type="button" aria-label="toggle dark mode" class="vt-switch vt-switch-appearance" data-v-9cda28be><span class="vt-switch-check"><span class="vt-switch-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="vt-switch-appearance-sun"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path> <path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path> <path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path> <path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path> <path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path> <path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path> <path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path> <path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path> <path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="vt-switch-appearance-moon"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg></span></span></button></div> <a href="https://github.com/modern-js-dev/modern.js/tree/main/packages/builder" target="_blank" rel="noopener noreferrer" class="repo-link"><svg width="1em" height="1em" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z" fill="currentColor"></path></svg> </a></nav></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div class="links"><nav class="nav-left-links"></nav> <!----> <nav class="nav-links"><div class="nav-item"><a href="/builder/en/guide/introduction.html" class="vp-link nav-link">
  Guide
  </a></div><div class="nav-item"><a href="/builder/en/api/" class="vp-link nav-link">
  API
  </a></div><div class="nav-item"><a href="/builder/en/plugins/introduction.html" class="vp-link nav-link">
  Plugins
  </a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-down"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="arrow-icon"><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/builder/zh/plugins/plugin-esbuild.html" class="vp-link nav-link">
  简体中文
  </a></li><li class="dropdown-item"><!----> <a href="/builder/en/plugins/plugin-esbuild.html" aria-current="page" class="vp-link nav-link router-link-exact-active router-link-active">
  English
  </a></li></ul></div></div> <div class="VPNavBarAppearance appearance" data-v-9cda28be><button type="button" aria-label="toggle dark mode" class="vt-switch vt-switch-appearance" data-v-9cda28be><span class="vt-switch-check"><span class="vt-switch-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="vt-switch-appearance-sun"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path> <path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path> <path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path> <path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path> <path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path> <path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path> <path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path> <path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path> <path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="vt-switch-appearance-moon"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg></span></span></button></div> <a href="https://github.com/modern-js-dev/modern.js/tree/main/packages/builder" target="_blank" rel="noopener noreferrer" class="repo-link"><svg width="1em" height="1em" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z" fill="currentColor"></path></svg> </a></nav></div>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/builder/en/plugins/introduction.html" class="sidebar-link">Introduce to Plugin</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>List</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/builder/en/plugins/list.html" class="sidebar-link">Overview</a></li><li><a href="/builder/en/plugins/plugin-swc.html" class="sidebar-link">SWC plugin</a></li><li><a href="/builder/en/plugins/plugin-esbuild.html" aria-current="page" class="active sidebar-link">Esbuild Plugin</a></li><li><a href="/builder/en/plugins/plugin-node-polyfill.html" class="sidebar-link">Node Polyfill Plugin</a></li><li><a href="/builder/en/plugins/plugin-image-compress.html" class="sidebar-link">Image Compress Plugin</a></li></ul></section></li></ul> </aside> <main class="page enpluginsplugin-esbuild.html"> <div class="theme-default-content vp-doc content__default"><h1 id="esbuild-plugin"><a href="#esbuild-plugin" class="header-anchor">#</a> Esbuild Plugin</h1> <div class="custom-block tip"><p class="custom-block-title">About esbuild</p> <p><a href="https://esbuild.github.io/" target="_blank" rel="noopener noreferrer">esbuild<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is a front-end build tool based on Golang. It has the functions of bundling, compiling and minimizing JavaScript code. Compared with traditional tools, the performance is significantly improved. When minimizing code, compared to webpack's built-in terser minimizer, esbuild has dozens of times better performance.</p></div> <p>Builder provides esbuild plugin that allow you to use esbuild instead of babel-loader, ts-loader and terser for transformation and minification process. When you enable esbuild in a large project, <strong>it can greatly reduce the time required for code compilation and compression, while effectively avoiding OOM (heap out of memory) problems</strong>.</p> <h2 id="quick-start"><a href="#quick-start" class="header-anchor">#</a> Quick Start</h2> <h3 id="install"><a href="#install" class="header-anchor">#</a> Install</h3> <p>You can install the plugin with the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># npm</span>
<span class="token function">npm</span> <span class="token function">install</span> @modern-js/builder-plugin-esbuild -D
<span class="token comment"># yarn</span>
<span class="token function">yarn</span> <span class="token function">add</span> @modern-js/builder-plugin-esbuild -D
<span class="token comment"># pnpm</span>
<span class="token function">pnpm</span> <span class="token function">install</span> @modern-js/builder-plugin-esbuild -D
</code></pre></div><h3 id="register"><a href="#register" class="header-anchor">#</a> Register</h3> <p>In upper-level frameworks such as Modern.js or EdenX, you can register esbuild plugins through the <code>builderPlugins</code> config:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> PluginEsbuild <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@modern-js/builder-plugin-esbuild'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  builderPlugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">PluginEsbuild</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>If you are using the Builder's Node API, you can register esbuild plugins through the <code>addPlugins</code> method:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> PluginEsbuild <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@modern-js/builder-plugin-esbuild'</span><span class="token punctuation">;</span>
<span class="token comment">// add the plugin to the builder instance</span>
builder<span class="token punctuation">.</span><span class="token function">addPlugins</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">PluginEsbuild</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="config"><a href="#config" class="header-anchor">#</a> Config</h2> <p>The plugin will enable code transformation and minification by default. You can also customize the behavior of the plugin through configuration.</p> <h3 id="loader"><a href="#loader" class="header-anchor">#</a> loader</h3> <ul><li><strong>Type</strong>:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">LoaderOptions</span> <span class="token operator">=</span> EsbuildLoaderOptions <span class="token operator">|</span> <span class="token boolean">false</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><strong>Default</strong>:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> defaultOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
  target<span class="token operator">:</span> <span class="token string">'es2015'</span><span class="token punctuation">,</span>
  charset<span class="token operator">:</span> builderConfig<span class="token punctuation">.</span>output<span class="token punctuation">.</span>charset<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>This config is used to enable JavaScript/TypeScript transformation, which will replace babel-loader and ts-loader with esbuild-loader.</p> <p>If you want to modify the options, you can check the <a href="https://github.com/privatenumber/esbuild-loader#loader" target="_blank" rel="noopener noreferrer">esbuild-loader documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h4 id="set-the-target-environment"><a href="#set-the-target-environment" class="header-anchor">#</a> Set the target environment</h4> <p>Use the <code>target</code> option to set the target environment for transformation. <code>target</code> can be set directly to the JavaScript language version, such as <code>es6</code>, <code>es2020</code>; it can also be set to several target environments, each target environment is an environment name followed by a version number, such as <code>['chrome58', 'edge16' ,'firefox57']</code>. For a detailed introduction of the <code>target</code> option, please refer to <a href="https://esbuild.github.io/api/#target" target="_blank" rel="noopener noreferrer">esbuild - target<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>target supports setting to the following environments:</p> <ul><li>chrome</li> <li>edge</li> <li>firefox</li> <li>ie</li> <li>ios</li> <li>node</li> <li>opera</li> <li>safari</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">PluginEsbuild</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  loader<span class="token operator">:</span> <span class="token punctuation">{</span>
    target<span class="token operator">:</span> <span class="token string">'chrome61'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="disable-transformation"><a href="#disable-transformation" class="header-anchor">#</a> Disable transformation</h4> <p>Set <code>loader</code> to <code>false</code> to disable esbuild transformation, and Builder will continue to use Babel to transform the code.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">PluginEsbuild</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  loader<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="minimize"><a href="#minimize" class="header-anchor">#</a> minimize</h3> <ul><li><strong>Type</strong>:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">MinimizeOptions</span> <span class="token operator">=</span> EsbuildMinifyOptions <span class="token operator">|</span> <span class="token boolean">false</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><strong>Default</strong>:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> defaultOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
  css<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  target<span class="token operator">:</span> <span class="token string">'es2015'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>This option is used to enable minification for JavaScript and CSS.</p> <p>If you want to modify the options, you can check the <a href="https://github.com/privatenumber/esbuild-loader#minifyplugin" target="_blank" rel="noopener noreferrer">esbuild-loader documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h4 id="set-the-target-environment-2"><a href="#set-the-target-environment-2" class="header-anchor">#</a> Set the target environment</h4> <p>Use the <code>target</code> option to set the target environment for minification.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">PluginEsbuild</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  minimize<span class="token operator">:</span> <span class="token punctuation">{</span>
    target<span class="token operator">:</span> <span class="token string">'chrome61'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="disable-minification"><a href="#disable-minification" class="header-anchor">#</a> Disable minification</h4> <p>Set <code>minimize</code> to <code>false</code> to disable esbuild minification, and Builder will continue to use Terser to minify the code.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">PluginEsbuild</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  minimize<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="limitations"><a href="#limitations" class="header-anchor">#</a> Limitations</h2> <p>Although esbuild can significantly improve the build performance of existing webpack projects, it still has certain limitations that require special attention.</p> <h3 id="compatibility"><a href="#compatibility" class="header-anchor">#</a> Compatibility</h3> <p>As a compiler (i.e. <code>loader</code> capability), esbuild usually supports at least ES2015 (that is, ES6) syntax, and does not have the ability to automatically inject Polyfill.. If the production environment needs to downgrade to ES5 and below syntax, it is recommended to use SWC compilation.</p> <p>You can specify the target syntax version by following config:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">PluginEsbuild</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  loader<span class="token operator">:</span> <span class="token punctuation">{</span>
    target<span class="token operator">:</span> <span class="token string">'es2015'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>As a code minify tool (i.e. <code>minimize</code> capability), esbuild can minify the code in production environment, and usually supports ES2015 syntax at least.</p> <p>If you set the compressed <code>target</code> to <code>es5</code>, you need to ensure that all codes have been compiled to ES5 codes, otherwise it will cause esbuild compilation error: <code>Transforming 'xxx' to the configured target environment (&quot;es5&quot;) is not supported yet</code>.</p> <p>Therefore, for projects that need to be compatible with ES5 and below syntax in the production environment, please be careful to enable the minimize capability, and it is recommended to use SWC compression.</p> <p>You can specify the target syntax version by following config:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">PluginEsbuild</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">minimize</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'es2015'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">Caution</p> <p>Projects that need to be compatible with ES5 and below syntax in the production environment need to be careful to turn on the minimize config.</p></div> <h3 id="not-support-babel-plugins"><a href="#not-support-babel-plugins" class="header-anchor">#</a> Not support Babel plugins</h3> <p>As a compiler, the syntax transformation function of the original Babel plugins such as <code>babel-plugin-import</code> is not available after esbuild is turned on. And since the bottom layer of the plugin uses esbuild's <code>Transform API</code>, it does not support esbuild plugins to customize the compilation process.</p> <p>If you have requirements related to Babel plugins such as <code>babel-plugin-import</code>, you can use the SWC plugin.</p> <h3 id="bundle-size"><a href="#bundle-size" class="header-anchor">#</a> Bundle Size</h3> <p>Although the compression speed of esbuild is faster, the compression ratio of esbuild is lower than that of terser, so the bundle size will increase, please use it according to the scenes. Generally speaking, esbuild is more suitable for scenes that are not sensitive to bundle size.</p> <p>You can refer to <a href="https://github.com/privatenumber/minification-benchmarks" target="_blank" rel="noopener noreferrer">minification-benchmarks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for a detailed comparison between minimizers.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><svg width="1em" height="1em" viewBox="0 0 24 24" class="last-updated-icon"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1a6.887 6.887 0 0 0 0 9.8c2.73 2.7 7.15 2.7 9.88 0c1.36-1.35 2.04-2.92 2.04-4.9h2c0 1.98-.88 4.55-2.64 6.29c-3.51 3.48-9.21 3.48-12.72 0c-3.5-3.47-3.53-9.11-.02-12.58a8.987 8.987 0 0 1 12.65 0L21 3v7.12M12.5 8v4.25l3.5 2.08l-.72 1.21L11 13V8h1.5z" fill="currentColor"></path></svg> <span class="prefix">Last Updated: </span> <span class="time">12/19/2022, 1:49:49 AM</span></div></footer> <div class="page-nav"><div class="inner"><a href="/builder/en/plugins/plugin-swc.html" class="vp-link prev"><span>←</span>
  SWC plugin
  <span><br> <span class="prev-link">/en/plugins/plugin-swc.html</span></span></a> <a href="/builder/en/plugins/plugin-node-polyfill.html" class="vp-link next">
  Node Polyfill Plugin
  <span>
        →
        <br> <span class="next-link">/en/plugins/plugin-node-polyfill.html</span></span></a></div></div> </main> <div class="sticker vuepress-toc"><div class="on-this-page">ON THIS PAGE</div> <div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#quick-start" title="Quick Start">Quick Start</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#config" title="Config">Config</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#limitations" title="Limitations">Limitations</a></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/builder/assets/js/app.e92125e2.js" defer></script><script src="/builder/assets/js/2.ab5db946.js" defer></script><script src="/builder/assets/js/12.e643b309.js" defer></script><script src="/builder/assets/js/58.5090c8e7.js" defer></script>
  </body>
</html>
