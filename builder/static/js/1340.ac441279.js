/*! For license information please see 1340.ac441279.js.LICENSE.txt */
(self.webpackChunk_modern_js_builder_doc=self.webpackChunk_modern_js_builder_doc||[]).push([[1340],{12170:function(e,n,t){"use strict";function o(){return o=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o.apply(this,arguments)}var i;t.d(n,{RQ:function(){return B},Zn:function(){return k},Zq:function(){return C},aU:function(){return i},cP:function(){return u},fp:function(){return f},kG:function(){return s},lX:function(){return a},pC:function(){return I}}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const r="popstate";function a(e){return void 0===e&&(e={}),h((function(e,n){let{pathname:t,search:o,hash:i}=e.location;return d("",{pathname:t,search:o,hash:i},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}),(function(e,n){return"string"==typeof n?n:c(n)}),null,e)}function s(e,n){if(!1===e||null==e)throw new Error(n)}function l(e){return{usr:e.state,key:e.key}}function d(e,n,t,i){return void 0===t&&(t=null),o({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof n?u(n):n,{state:t,key:n&&n.key||i||Math.random().toString(36).substr(2,8)})}function c(e){let{pathname:n="/",search:t="",hash:o=""}=e;return t&&"?"!==t&&(n+="?"===t.charAt(0)?t:"?"+t),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function u(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let o=e.indexOf("?");o>=0&&(n.search=e.substr(o),e=e.substr(0,o)),e&&(n.pathname=e)}return n}function p(e){let n="undefined"!=typeof window&&void 0!==window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,t="string"==typeof e?e:c(e);return s(n,"No window.location.(origin|href) available to create URL for href: "+t),new URL(t,n)}function h(e,n,t,o){void 0===o&&(o={});let{window:a=document.defaultView,v5Compat:s=!1}=o,u=a.history,h=i.Pop,m=null;function f(){h=i.Pop,m&&m({action:h,location:g.location})}let g={get action(){return h},get location(){return e(a,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(r,f),m=e,()=>{a.removeEventListener(r,f),m=null}},createHref(e){return n(a,e)},encodeLocation(e){let n=p("string"==typeof e?e:c(e));return{pathname:n.pathname,search:n.search,hash:n.hash}},push:function(e,n){h=i.Push;let o=d(g.location,e,n);t&&t(o,e);let r=l(o),c=g.createHref(o);try{u.pushState(r,"",c)}catch(p){a.location.assign(c)}s&&m&&m({action:h,location:g.location})},replace:function(e,n){h=i.Replace;let o=d(g.location,e,n);t&&t(o,e);let r=l(o),a=g.createHref(o);u.replaceState(r,"",a),s&&m&&m({action:h,location:g.location})},go(e){return u.go(e)}};return g}var m;function f(e,n,t){void 0===t&&(t="/");let o=k(("string"==typeof n?u(n):n).pathname||"/",t);if(null==o)return null;let i=g(e);!function(e){e.sort(((e,n)=>e.score!==n.score?n.score-e.score:function(e,n){return e.length===n.length&&e.slice(0,-1).every(((e,t)=>e===n[t]))?e[e.length-1]-n[n.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),n.routesMeta.map((e=>e.childrenIndex)))))}(i);let r=null;for(let a=0;null==r&&a<i.length;++a)r=w(i[a],v(o));return r}function g(e,n,t,o){void 0===n&&(n=[]),void 0===t&&(t=[]),void 0===o&&(o="");let i=(e,i,r)=>{let a={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(s(a.relativePath.startsWith(o),'Absolute route path "'+a.relativePath+'" nested under path "'+o+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(o.length));let l=B([o,a.relativePath]),d=t.concat(a);e.children&&e.children.length>0&&(s(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,n,d,l)),(null!=e.path||e.index)&&n.push({path:l,score:S(l,e.index),routesMeta:d})};return e.forEach(((e,n)=>{var t;if(""!==e.path&&null!=(t=e.path)&&t.includes("?"))for(let o of b(e.path))i(e,n,o);else i(e,n)})),n}function b(e){let n=e.split("/");if(0===n.length)return[];let[t,...o]=n,i=t.endsWith("?"),r=t.replace(/\?$/,"");if(0===o.length)return i?[r,""]:[r];let a=b(o.join("/")),s=[];return s.push(...a.map((e=>""===e?r:[r,e].join("/")))),i&&s.push(...a),s.map((n=>e.startsWith("/")&&""===n?"/":n))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));const y=/^:\w+$/,x=e=>"*"===e;function S(e,n){let t=e.split("/"),o=t.length;return t.some(x)&&(o+=-2),n&&(o+=2),t.filter((e=>!x(e))).reduce(((e,n)=>e+(y.test(n)?3:""===n?1:10)),o)}function w(e,n){let{routesMeta:t}=e,o={},i="/",r=[];for(let a=0;a<t.length;++a){let e=t[a],s=a===t.length-1,l="/"===i?n:n.slice(i.length)||"/",d=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!d)return null;Object.assign(o,d.params);let c=e.route;r.push({params:o,pathname:B([i,d.pathname]),pathnameBase:O(B([i,d.pathnameBase])),route:c}),"/"!==d.pathnameBase&&(i=B([i,d.pathnameBase]))}return r}function E(e,n){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[t,o]=function(e,n,t){void 0===n&&(n=!1);void 0===t&&(t=!0);T("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let o=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,n)=>(o.push(n),"/([^\\/]+)")));e.endsWith("*")?(o.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,n?void 0:"i"),o]}(e.path,e.caseSensitive,e.end),i=n.match(t);if(!i)return null;let r=i[0],a=r.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:o.reduce(((e,n,t)=>{if("*"===n){let e=s[t]||"";a=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}return e[n]=function(e,n){try{return decodeURIComponent(e)}catch(t){return T(!1,'The value for the URL param "'+n+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}(s[t]||"",n),e}),{}),pathname:r,pathnameBase:a,pattern:e}}function v(e){try{return decodeURI(e)}catch(n){return T(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}function k(e,n){if("/"===n)return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,o=e.charAt(t);return o&&"/"!==o?null:e.slice(t)||"/"}function T(e,n){if(!e){"undefined"!=typeof console&&console.warn(n);try{throw new Error(n)}catch(t){}}}function P(e,n,t,o){return"Cannot include a '"+e+"' character in a manually specified `to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the `to."+t+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function C(e){return e.filter(((e,n)=>0===n||e.route.path&&e.route.path.length>0))}function I(e,n,t,i){let r;void 0===i&&(i=!1),"string"==typeof e?r=u(e):(r=o({},e),s(!r.pathname||!r.pathname.includes("?"),P("?","pathname","search",r)),s(!r.pathname||!r.pathname.includes("#"),P("#","pathname","hash",r)),s(!r.search||!r.search.includes("#"),P("#","search","hash",r)));let a,l=""===e||""===r.pathname,d=l?"/":r.pathname;if(i||null==d)a=t;else{let e=n.length-1;if(d.startsWith("..")){let n=d.split("/");for(;".."===n[0];)n.shift(),e-=1;r.pathname=n.join("/")}a=e>=0?n[e]:"/"}let c=function(e,n){void 0===n&&(n="/");let{pathname:t,search:o="",hash:i=""}="string"==typeof e?u(e):e,r=t?t.startsWith("/")?t:function(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?t.length>1&&t.pop():"."!==e&&t.push(e)})),t.length>1?t.join("/"):"/"}(t,n):n;return{pathname:r,search:R(o),hash:j(i)}}(r,a),p=d&&"/"!==d&&d.endsWith("/"),h=(l||"."===d)&&t.endsWith("/");return c.pathname.endsWith("/")||!p&&!h||(c.pathname+="/"),c}const B=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class N extends Error{}const L=["post","put","patch","delete"],A=(new Set(L),["get",...L]);new Set(A),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement},12555:function(e,n,t){"use strict";t.d(n,{Qp:function(){return g},tP:function(){return b}});var o=!1;if("undefined"!=typeof window){var i={get passive(){o=!0}};window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}var r="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),a=[],s=!1,l=-1,d=void 0,c=void 0,u=void 0,p=function(e){return a.some((function(n){return!(!n.options.allowTouchMove||!n.options.allowTouchMove(e))}))},h=function(e){var n=e||window.event;return!!p(n.target)||(n.touches.length>1||(n.preventDefault&&n.preventDefault(),!1))},m=function(){void 0!==u&&(document.body.style.paddingRight=u,u=void 0),void 0!==d&&(document.body.style.overflow=d,d=void 0)},f=function(){if(void 0!==c){var e=-parseInt(document.body.style.top,10),n=-parseInt(document.body.style.left,10);document.body.style.position=c.position,document.body.style.top=c.top,document.body.style.left=c.left,window.scrollTo(n,e),c=void 0}},g=function(e,n){if(e){if(!a.some((function(n){return n.targetElement===e}))){var t={targetElement:e,options:n||{}};a=[].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(a),[t]),r?window.requestAnimationFrame((function(){if(void 0===c){c={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,n=e.scrollY,t=e.scrollX,o=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-n,document.body.style.left=-t,setTimeout((function(){return window.requestAnimationFrame((function(){var e=o-window.innerHeight;e&&n>=o&&(document.body.style.top=-(n+e))}))}),300)}})):function(e){if(void 0===u){var n=!!e&&!0===e.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;if(n&&t>0){var o=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);u=document.body.style.paddingRight,document.body.style.paddingRight=o+t+"px"}}void 0===d&&(d=document.body.style.overflow,document.body.style.overflow="hidden")}(n),r&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(l=e.targetTouches[0].clientY)},e.ontouchmove=function(n){1===n.targetTouches.length&&function(e,n){var t=e.targetTouches[0].clientY-l;!p(e.target)&&(n&&0===n.scrollTop&&t>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(n)&&t<0?h(e):e.stopPropagation())}(n,e)},s||(document.addEventListener("touchmove",h,o?{passive:!1}:void 0),s=!0))}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},b=function(){r&&(a.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),s&&(document.removeEventListener("touchmove",h,o?{passive:!1}:void 0),s=!1),l=-1),r?f():m(),a=[]}},79522:function(e,n,t){"use strict";var o=t(48456),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,n){var t,r,a,s,l,d,c=!1;n||(n={}),t=n.debug||!1;try{if(a=o(),s=document.createRange(),l=document.getSelection(),(d=document.createElement("span")).textContent=e,d.ariaHidden="true",d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",(function(o){if(o.stopPropagation(),n.format)if(o.preventDefault(),void 0===o.clipboardData){t&&console.warn("unable to use e.clipboardData"),t&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=i[n.format]||i.default;window.clipboardData.setData(r,e)}else o.clipboardData.clearData(),o.clipboardData.setData(n.format,e);n.onCopy&&(o.preventDefault(),n.onCopy(o.clipboardData))})),document.body.appendChild(d),s.selectNodeContents(d),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(u){t&&console.error("unable to copy using execCommand: ",u),t&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(n.format||"text",e),n.onCopy&&n.onCopy(window.clipboardData),c=!0}catch(u){t&&console.error("unable to copy using clipboardData: ",u),t&&console.error("falling back to prompt"),r=function(e){var n=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,n)}("message"in n?n.message:"Copy to clipboard: #{key}, Enter"),window.prompt(r,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),d&&document.body.removeChild(d),a()}return c}},24546:function(e){"use strict";e.exports=function(e,n,t,o,i,r,a,s){if(!e){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[t,o,i,r,a,s],c=0;(l=new Error(n.replace(/%s/g,(function(){return d[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},91748:function(){},47841:function(e,n,t){var o,i;o=function(){var e,n,t={version:"0.2.0"},o=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function i(e,n,t){return e<n?n:e>t?t:e}function r(e){return 100*(-1+e)}function a(e,n,t){var i;return(i="translate3d"===o.positionUsing?{transform:"translate3d("+r(e)+"%,0,0)"}:"translate"===o.positionUsing?{transform:"translate("+r(e)+"%,0)"}:{"margin-left":r(e)+"%"}).transition="all "+n+"ms "+t,i}t.configure=function(e){var n,t;for(n in e)void 0!==(t=e[n])&&e.hasOwnProperty(n)&&(o[n]=t);return this},t.status=null,t.set=function(e){var n=t.isStarted();e=i(e,o.minimum,1),t.status=1===e?null:e;var r=t.render(!n),d=r.querySelector(o.barSelector),c=o.speed,u=o.easing;return r.offsetWidth,s((function(n){""===o.positionUsing&&(o.positionUsing=t.getPositioningCSS()),l(d,a(e,c,u)),1===e?(l(r,{transition:"none",opacity:1}),r.offsetWidth,setTimeout((function(){l(r,{transition:"all "+c+"ms linear",opacity:0}),setTimeout((function(){t.remove(),n()}),c)}),c)):setTimeout(n,c)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var e=function(){setTimeout((function(){t.status&&(t.trickle(),e())}),o.trickleSpeed)};return o.trickle&&e(),this},t.done=function(e){return e||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(e){var n=t.status;return n?("number"!=typeof e&&(e=(1-n)*i(Math.random()*n,.1,.95)),n=i(n+e,0,.994),t.set(n)):t.start()},t.trickle=function(){return t.inc(Math.random()*o.trickleRate)},e=0,n=0,t.promise=function(o){return o&&"resolved"!==o.state()?(0===n&&t.start(),e++,n++,o.always((function(){0==--n?(e=0,t.done()):t.set((e-n)/e)})),this):this},t.render=function(e){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=o.template;var i,a=n.querySelector(o.barSelector),s=e?"-100":r(t.status||0),d=document.querySelector(o.parent);return l(a,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),o.showSpinner||(i=n.querySelector(o.spinnerSelector))&&h(i),d!=document.body&&c(d,"nprogress-custom-parent"),d.appendChild(n),n},t.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(o.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&h(e)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var e=document.body.style,n="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return n+"Perspective"in e?"translate3d":n+"Transform"in e?"translate":"margin"};var s=function(){var e=[];function n(){var t=e.shift();t&&t(n)}return function(t){e.push(t),1==e.length&&n()}}(),l=function(){var e=["Webkit","O","Moz","ms"],n={};function t(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,n){return n.toUpperCase()}))}function o(n){var t=document.body.style;if(n in t)return n;for(var o,i=e.length,r=n.charAt(0).toUpperCase()+n.slice(1);i--;)if((o=e[i]+r)in t)return o;return n}function i(e){return e=t(e),n[e]||(n[e]=o(e))}function r(e,n,t){n=i(n),e.style[n]=t}return function(e,n){var t,o,i=arguments;if(2==i.length)for(t in n)void 0!==(o=n[t])&&n.hasOwnProperty(t)&&r(e,t,o);else r(e,i[1],i[2])}}();function d(e,n){return("string"==typeof e?e:p(e)).indexOf(" "+n+" ")>=0}function c(e,n){var t=p(e),o=t+n;d(t,n)||(e.className=o.substring(1))}function u(e,n){var t,o=p(e);d(e,n)&&(t=o.replace(" "+n+" "," "),e.className=t.substring(1,t.length-1))}function p(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function h(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return t},void 0===(i="function"==typeof o?o.call(n,t,n,e):o)||(e.exports=i)},52504:function(e,n,t){"use strict";var o=t(62265);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,n,t,i,r,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:r,resetWarningCache:i};return t.PropTypes=t,t}},23698:function(e,n,t){e.exports=t(52504)()},62265:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},14065:function(e,n){"use strict";function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var o=t-1>>>1,i=e[o];if(!(0<r(i,n)))break e;e[o]=n,e[t]=i,t=o}}function o(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var o=0,i=e.length,a=i>>>1;o<a;){var s=2*(o+1)-1,l=e[s],d=s+1,c=e[d];if(0>r(l,t))d<i&&0>r(c,l)?(e[o]=c,e[d]=t,o=d):(e[o]=l,e[s]=t,o=s);else{if(!(d<i&&0>r(c,t)))break e;e[o]=c,e[d]=t,o=d}}}return n}function r(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var d=[],c=[],u=1,p=null,h=3,m=!1,f=!1,g=!1,b="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function S(e){for(var n=o(c);null!==n;){if(null===n.callback)i(c);else{if(!(n.startTime<=e))break;i(c),n.sortIndex=n.expirationTime,t(d,n)}n=o(c)}}function w(e){if(g=!1,S(e),!f)if(null!==o(d))f=!0,N(E);else{var n=o(c);null!==n&&L(w,n.startTime-e)}}function E(e,t){f=!1,g&&(g=!1,y(P),P=-1),m=!0;var r=h;try{for(S(t),p=o(d);null!==p&&(!(p.expirationTime>t)||e&&!B());){var a=p.callback;if("function"==typeof a){p.callback=null,h=p.priorityLevel;var s=a(p.expirationTime<=t);t=n.unstable_now(),"function"==typeof s?p.callback=s:p===o(d)&&i(d),S(t)}else i(d);p=o(d)}if(null!==p)var l=!0;else{var u=o(c);null!==u&&L(w,u.startTime-t),l=!1}return l}finally{p=null,h=r,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var v,k=!1,T=null,P=-1,C=5,I=-1;function B(){return!(n.unstable_now()-I<C)}function O(){if(null!==T){var e=n.unstable_now();I=e;var t=!0;try{t=T(!0,e)}finally{t?v():(k=!1,T=null)}}else k=!1}if("function"==typeof x)v=function(){x(O)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,j=R.port2;R.port1.onmessage=O,v=function(){j.postMessage(null)}}else v=function(){b(O,0)};function N(e){T=e,k||(k=!0,v())}function L(e,t){P=b((function(){e(n.unstable_now())}),t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){f||m||(f=!0,N(E))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return o(d)},n.unstable_next=function(e){switch(h){case 1:case 2:case 3:var n=3;break;default:n=h}var t=h;h=n;try{return e()}finally{h=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=h;h=e;try{return n()}finally{h=t}},n.unstable_scheduleCallback=function(e,i,r){var a=n.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?a+r:a:r=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:r,expirationTime:s=r+s,sortIndex:-1},r>a?(e.sortIndex=r,t(c,e),null===o(d)&&e===o(c)&&(g?(y(P),P=-1):g=!0,L(w,r-a))):(e.sortIndex=s,t(d,e),f||m||(f=!0,N(E))),e},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(e){var n=h;return function(){var t=h;h=n;try{return e.apply(this,arguments)}finally{h=t}}}},9031:function(e,n,t){"use strict";e.exports=t(14065)},65241:function(e){e.exports=function(e,n,t,o){var i=t?t.call(o,e,n):void 0;if(void 0!==i)return!!i;if(e===n)return!0;if("object"!=typeof e||!e||"object"!=typeof n||!n)return!1;var r=Object.keys(e),a=Object.keys(n);if(r.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(n),l=0;l<r.length;l++){var d=r[l];if(!s(d))return!1;var c=e[d],u=n[d];if(!1===(i=t?t.call(o,c,u,d):void 0)||void 0===i&&c!==u)return!1}return!0}},48456:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var n=document.activeElement,t=[],o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));switch(n.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||t.forEach((function(n){e.addRange(n)})),n&&n.focus()}}},6677:function(e,n){"use strict";n.Z={title:"Modern.js Builder",description:"",icon:"",themeConfig:{footer:{message:"Copyright \xa9 2022 ByteDance."},socialLinks:[{icon:"github",mode:"link",content:"https://github.com/modern-js-dev/modern.js/tree/main/packages/builder"}],locales:[{lang:"zh",label:"\u7b80\u4f53\u4e2d\u6587",nav:[{text:"\u6307\u5357",link:"/guide/introduction"},{text:"API",link:"/api/"},{text:"\u63d2\u4ef6",link:"/plugins/introduction"}],sidebar:{"/guide/":[{text:"\u5f00\u59cb",collapsed:!1,collapsible:!1,items:[{text:"\u4ecb\u7ecd",link:"/guide/introduction"},{text:"\u5feb\u901f\u4e0a\u624b",link:"/guide/quick-start"},{text:"\u540d\u8bcd\u89e3\u91ca",link:"/guide/glossary"},{text:"\u529f\u80fd\u5bfc\u822a",link:"/guide/features"}]},{text:"\u57fa\u7840",collapsed:!1,collapsible:!1,items:[{text:"Builder \u914d\u7f6e\u9879",link:"/guide/basic/builder-config"},{text:"\u6784\u5efa\u4ea7\u7269\u7c7b\u578b",link:"/guide/basic/build-target"},{text:"\u6784\u5efa\u4ea7\u7269\u76ee\u5f55",link:"/guide/basic/output-files"},{text:"\u5f15\u7528\u6837\u5f0f\u8d44\u6e90",link:"/guide/basic/css-usage"},{text:"\u5f15\u7528\u9759\u6001\u8d44\u6e90",link:"/guide/basic/static-assets"},{text:"\u5f15\u7528 SVG \u8d44\u6e90",link:"/guide/basic/svg-assets"},{text:"\u5f15\u7528 JSON \u6587\u4ef6",link:"/guide/basic/json-files"},{text:"\u914d\u7f6e HTML \u6a21\u677f",link:"/guide/basic/html-template"},{text:"\u4f7f\u7528 CSS Modules",link:"/guide/basic/css-modules"},{text:"\u4f7f\u7528 TypeScript",link:"/guide/basic/typescript"}]},{text:"\u8fdb\u9636",collapsed:!1,collapsible:!1,items:[{text:"\u8def\u5f84\u522b\u540d",link:"/guide/advanced/alias"},{text:"\u73af\u5883\u53d8\u91cf",link:"/guide/advanced/define"},{text:"\u6a21\u5757\u70ed\u66ff\u6362",link:"/guide/advanced/hmr"},{text:"\u5f00\u542f REM \u9002\u914d",link:"/guide/advanced/rem"},{text:"\u8bbe\u7f6e\u6d4f\u89c8\u5668\u8303\u56f4",link:"/guide/advanced/browserslist"},{text:"\u6d4f\u89c8\u5668\u517c\u5bb9\u6027",link:"/guide/advanced/browser-compatibility"},{text:"\u4fee\u6539 webpack \u914d\u7f6e",link:"/guide/advanced/custom-webpack-config"}]},{text:"\u4f18\u5316",collapsed:!1,collapsible:!1,items:[{text:"\u4ea7\u7269\u4f53\u79ef\u4f18\u5316",link:"/guide/optimization/optimize-bundle"},{text:"\u63d0\u5347\u6784\u5efa\u6027\u80fd",link:"/guide/optimization/build-performance"},{text:"\u62c6\u5305\u6700\u4f73\u5b9e\u8df5",link:"/guide/optimization/split-chunk"},{text:"\u9759\u6001\u8d44\u6e90\u5185\u8054",link:"/guide/optimization/inline-assets"}]},{text:"\u8c03\u8bd5",collapsed:!1,collapsible:!1,items:[{text:"\u5f00\u542f\u8c03\u8bd5\u6a21\u5f0f",link:"/guide/debug/debug-mode"},{text:"\u4f7f\u7528 Webpack Inspector",link:"/guide/debug/inspector"}]},{text:"\u5e38\u89c1\u95ee\u9898",collapsed:!1,collapsible:!1,items:[{text:"\u901a\u7528\u7c7b\u95ee\u9898",link:"/guide/faq/general"},{text:"\u529f\u80fd\u7c7b\u95ee\u9898",link:"/guide/faq/features"},{text:"\u5f02\u5e38\u7c7b\u95ee\u9898",link:"/guide/faq/exceptions"}]}],"/api/":[{text:"API \u603b\u89c8",link:"/api/"},{text:"\u914d\u7f6e",collapsed:!1,collapsible:!1,items:[{text:"Source Config",link:"/api/config-source"},{text:"Html Config",link:"/api/config-html"},{text:"Dev Config",link:"/api/config-dev"},{text:"Output Config",link:"/api/config-output"},{text:"Security Config",link:"/api/config-security"},{text:"Tools Config",link:"/api/config-tools"},{text:"Performance Config",link:"/api/config-performance"},{text:"Experiments Config",link:"/api/config-experiments"}]},{text:"Node API",collapsed:!1,collapsible:!1,items:[{text:"Builder Core",link:"/api/builder-core"},{text:"Builder Instance",link:"/api/builder-instance"},{text:"Builder Types",link:"/api/builder-types"}]},{text:"Plugin API",collapsed:!1,collapsible:!1,items:[{text:"Plugin Core",link:"/api/plugin-core"},{text:"Plugin Hooks",link:"/api/plugin-hooks"}]}],"/plugins":[{text:"\u6307\u5357",collapsed:!1,collapsible:!1,items:[{text:"\u63d2\u4ef6\u7cfb\u7edf",link:"/plugins/introduction"}]},{text:"\u5217\u8868",collapsed:!1,collapsible:!1,items:[{text:"\u603b\u89c8",link:"/plugins/list"},{text:"SWC \u63d2\u4ef6",link:"/plugins/plugin-swc"},{text:"Stylus \u63d2\u4ef6",link:"/plugins/plugin-stylus"},{text:"Esbuild \u63d2\u4ef6",link:"/plugins/plugin-esbuild"},{text:"Node Polyfill \u63d2\u4ef6",link:"/plugins/plugin-node-polyfill"},{text:"Image Compress \u63d2\u4ef6",link:"/plugins/plugin-image-compress"}]}]},title:"Modern.js Builder",outlineTitle:"\u76ee\u5f55",prevPageText:"\u4e0a\u4e00\u9875",nextPageText:"\u4e0b\u4e00\u9875",description:"\u4e00\u4e2a\u9762\u5411 Web \u5f00\u53d1\u573a\u666f\u7684\u6784\u5efa\u5f15\u64ce"},{lang:"en",label:"English",nav:[{text:"Guide",link:"/en/guide/introduction"},{text:"API",link:"/en/api/"},{text:"Plugins",link:"/en/plugins/introduction"}],sidebar:{"/en/guide/":[{text:"Getting Started",collapsed:!1,collapsible:!1,items:[{text:"Introduction",link:"/en/guide/introduction"},{text:"Quick Start",link:"/en/guide/quick-start"},{text:"Glossary",link:"/en/guide/glossary"},{text:"All Features",link:"/en/guide/features"}]},{text:"Basic",collapsed:!1,collapsible:!1,items:[{text:"Builder Config",link:"/en/guide/basic/builder-config"},{text:"Build Target",link:"/en/guide/basic/build-target"},{text:"Output Files",link:"/en/guide/basic/output-files"},{text:"CSS Usage",link:"/en/guide/basic/css-usage"},{text:"Import Static Assets",link:"/en/guide/basic/static-assets"},{text:"Import SVG Assets",link:"/en/guide/basic/svg-assets"},{text:"Import JSON Files",link:"/en/guide/basic/json-files"},{text:"HTML Template",link:"/en/guide/basic/html-template"},{text:"Use CSS Modules",link:"/en/guide/basic/css-modules"},{text:"Use TypeScript",link:"/en/guide/basic/typescript"}]},{text:"Advanced",collapsed:!1,collapsible:!1,items:[{text:"Alias",link:"/en/guide/advanced/alias"},{text:"Using define config",link:"/en/guide/advanced/define"},{text:"Hot Module Replacement",link:"/en/guide/advanced/hmr"},{text:"REM adaptation",link:"/en/guide/advanced/rem"},{text:"Browserslist",link:"/en/guide/advanced/browserslist"},{text:"Browser Compatibility",link:"/en/guide/advanced/browser-compatibility"},{text:"Custom webpack config",link:"/en/guide/advanced/custom-webpack-config"}]},{text:"Optimization",collapsed:!1,collapsible:!1,items:[{text:"Bundle Size Optimization",link:"/en/guide/optimization/optimize-bundle"},{text:"Improve Build Performance",link:"/en/guide/optimization/build-performance"},{text:"Chunk Splitting Practice",link:"/en/guide/optimization/split-chunk"},{text:"Inline Static Assets",link:"/en/guide/optimization/inline-assets"}]},{text:"Debug",collapsed:!1,collapsible:!1,items:[{text:"Debug Mode",link:"/en/guide/debug/debug-mode"},{text:"Using Webpack Inspector",link:"/en/guide/debug/inspector"}]},{text:"FAQ",collapsed:!1,collapsible:!1,items:[{text:"General",link:"/en/guide/faq/general"},{text:"Features",link:"/en/guide/faq/features"},{text:"Exceptions",link:"/en/guide/faq/exceptions"}]}],"/en/api/":[{text:"API Reference",link:"/en/api/"},{text:"Config",collapsed:!1,collapsible:!1,items:[{text:"Source Config",link:"/en/api/config-source"},{text:"Html Config",link:"/en/api/config-html"},{text:"Dev Config",link:"/en/api/config-dev"},{text:"Output Config",link:"/en/api/config-output"},{text:"Security Config",link:"/en/api/config-security"},{text:"Tools Config",link:"/en/api/config-tools"},{text:"Performance Config",link:"/en/api/config-performance"},{text:"Experiments Config",link:"/en/api/config-experiments"}]},{text:"Node API",collapsed:!1,collapsible:!1,items:[{text:"Builder Core",link:"/en/api/builder-core"},{text:"Builder Instance",link:"/en/api/builder-instance"},{text:"Builder Types",link:"/en/api/builder-types"}]},{text:"Plugin API",collapsed:!1,collapsible:!1,items:[{text:"Plugin Core",link:"/en/api/plugin-core"},{text:"Plugin Hooks",link:"/en/api/plugin-hooks"}]}],"/en/plugins":[{text:"Guide",collapsed:!1,collapsible:!1,items:[{text:"Introduce to Plugin",link:"/en/plugins/introduction"}]},{text:"List",collapsed:!1,collapsible:!1,items:[{text:"Overview",link:"/en/plugins/list"},{text:"SWC plugin",link:"/en/plugins/plugin-swc"},{text:"Stylus Plugin",link:"/en/plugins/plugin-stylus"},{text:"Esbuild Plugin",link:"/en/plugins/plugin-esbuild"},{text:"Node Polyfill Plugin",link:"/en/plugins/plugin-node-polyfill"},{text:"Image Compress Plugin",link:"/en/plugins/plugin-image-compress"}]}]},title:"Modern.js Builder",description:"A Build Engine for Web Development"}]},base:"/builder/",root:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs",lang:"zh",logo:"",pages:[{id:0,title:"",routePath:"/builder/components/NextSteps",toc:[],content:"const NextSteps = (props: { children?: React.ReactNode }) => { return\n{props.children}; };\n\nexport default NextSteps;",frontmatter:{}},{id:1,title:"",routePath:"/builder/components/Step",toc:[],content:"const Step = (props: { href: string; title: string; description: string }) => {\nreturn ( {props.title} {props.description} ); };\n\nexport default Step;",frontmatter:{}},{id:2,title:"Builder Core",routePath:"/builder/en/api/builder-core",toc:[{id:"createbuilder",text:"createBuilder",depth:2},{id:"webpack-provider",text:"Webpack Provider",depth:3},{id:"rspack-provider",text:"Rspack Provider",depth:3},{id:"options",text:"options",depth:3},{id:"mergebuilderconfig",text:"mergeBuilderConfig",depth:2},{id:"webpack",text:"webpack",depth:2},{id:"htmlwebpackplugin",text:"HtmlWebpackPlugin",depth:2}],content:"BUILDER CORE\n\nThis section describes some of the core methods provided by Builder.\n\n\nCREATEBUILDER\n\nCreate a Builder instance object.\n\nWhen using this method, it needs to be used with the\n@modern-js/builder-webpack-provider or @modern-js/builder-rspack-provider.\nProviders implements corresponding build feature based on specific bundlers.\n\n\nWEBPACK PROVIDER\n\nWhen builderWebpackProvider is passed, the Builder will use webpack as the\nbundler for building.\n\n\n\n\nconst provider = builderWebpackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n\nconst builder = await createBuilder(provider, {\n  // some options\n});\n\n\n\nRSPACK PROVIDER\n\nWhen builderRspackProvider is passed, the Builder will use rspack as the bundler\nfor building.\n\n\n\n\nconst provider = builderRspackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n\nconst builder = await createBuilder(provider, {\n  // some options\n});\n\n\n> Tips: @modern-js/builder-rspack-provider has not been developed yet.\n\n\nOPTIONS\n\nThe second parameter of createBuilder is a options object, you can pass in the\nfollowing options:\n\ntype BuilderEntry = Record<string, string | string[]>;\n\ntype BuilderTarget = 'web' | 'node' | 'modern-web' | 'web-worker';\n\ntype CreateBuilderOptions = {\n  cwd?: string;\n  entry?: BuilderEntry;\n  target?: BuilderTarget | BuilderTarget[];\n  framework?: string;\n  configPath?: string | null;\n};\n\n\nDescription:\n\n * cwd: The root path of the current build, the default value is process.cwd().\n * entry: Build entry object.\n * target: Build target type, the default value is ['web'], see chapter Build\n   Target for details.\n * framework: The name of the framework, a unique identifier, the default value\n   is 'modern.js'.\n * configPath: The path to the framework config file (absolute path), this\n   parameter affects the build cache update.\n\n\nMERGEBUILDERCONFIG\n\nMerges multiple Builder config objects and returns a new merged object.\n\n * Type\n\nfunction mergeBuilderConfig(...configs: BuilderConfig[]): BuilderConfig;\n\n\n * Example\n\n\n\nconst config1 = {\n  dev: {\n    https: false,\n  },\n};\nconst config2 = {\n  dev: {\n    https: true,\n  },\n};\n\nconst mergedConfig = mergeBuilderConfig(config1, config2);\n\nconsole.log(mergedConfig); // { dev: { https: true } }\n\n\n> This method does not modify the original config object.\n\n\nWEBPACK\n\nA webpack object for consuming webpack builtin plugins or type definitions.\n\n * Example\n\n\n\nnew webpack.DefinePlugin();\n\n\n> In most scenarios, it is recommended to import webpack from Builder instead of\n> manually installing a \"webpack\" dependency, which can avoid multi-instance\n> problems.\n\n\nHTMLWEBPACKPLUGIN\n\nHtmlWebpackPlugin object, usually used to implement custom plugins of\nHtmlWebpackPlugin.\n\n * Example\n\n\n\n> In most scenarios, it is recommended to import HtmlWebpackPlugin from builder\n> instead of manually installing a \"html-webpack-plugin\" dependency, which can\n> avoid multi-instance problems.",frontmatter:{extractApiHeaders:[2]}},{id:3,title:"Builder Instance",routePath:"/builder/en/api/builder-instance",toc:[{id:"buildercontext",text:"builder.context",depth:2},{id:"buildercontextentry",text:"builder.context.entry",depth:3},{id:"buildercontexttarget",text:"builder.context.target",depth:3},{id:"buildercontextrootpath",text:"builder.context.rootPath",depth:3},{id:"buildercontextsrcpath",text:"builder.context.srcPath",depth:3},{id:"buildercontextdistpath",text:"builder.context.distPath",depth:3},{id:"buildercontextcachepath",text:"builder.context.cachePath",depth:3},{id:"buildercontextconfigpath",text:"builder.context.configPath",depth:3},{id:"buildercontexttsconfigpath",text:"builder.context.tsconfigPath",depth:3},{id:"buildercontextframework",text:"builder.context.framework",depth:3},{id:"buildercontextdevserver",text:"builder.context.devServer",depth:3},{id:"builderbuild",text:"builder.build",depth:2},{id:"development-environment-build",text:"Development environment build",depth:3},{id:"monitor-file-changes",text:"Monitor file changes",depth:3},{id:"custom-compiler",text:"Custom Compiler",depth:3},{id:"builderstartdevserver",text:"builder.startDevServer",depth:2},{id:"disable-print-urls",text:"Disable print URLs",depth:3},{id:"strict-port",text:"Strict Port",depth:3},{id:"custom-compiler-1",text:"Custom Compiler",depth:3},{id:"buildercreatecompiler",text:"builder.createCompiler",depth:2},{id:"builderaddplugins",text:"builder.addPlugins",depth:2},{id:"builderremoveplugins",text:"builder.removePlugins",depth:2},{id:"builderispluginexists",text:"builder.isPluginExists",depth:2},{id:"builderinspectconfig",text:"builder.inspectConfig",depth:2},{id:"builderonbeforecreatecompiler",text:"builder.onBeforeCreateCompiler",depth:2},{id:"builderonaftercreatecompiler",text:"builder.onAfterCreateCompiler",depth:2},{id:"builderonbeforebuild",text:"builder.onBeforeBuild",depth:2},{id:"builderonafterbuild",text:"builder.onAfterBuild",depth:2},{id:"builderonbeforestartdevserver",text:"builder.onBeforeStartDevServer",depth:2},{id:"builderonafterstartdevserver",text:"builder.onAfterStartDevServer",depth:2},{id:"builderondevcompiledone",text:"builder.onDevCompileDone",depth:2},{id:"builderonexit",text:"builder.onExit",depth:2},{id:"buildergetbuilderconfig",text:"builder.getBuilderConfig",depth:2},{id:"buildergetnormalizedconfig",text:"builder.getNormalizedConfig",depth:2},{id:"buildergethtmlpaths",text:"builder.getHTMLPaths",depth:2}],content:"BUILDER INSTANCE\n\nThis section describes all the properties and methods on the Builder instance\nobject.\n\n\nBUILDER.CONTEXT\n\nbuilder.context is a read-only object that provides some context infos.\n\n\nBUILDER.CONTEXT.ENTRY\n\nThe entry object, corresponding to the entry option of createBuilder method.\n\n * Type\n\ntype BuilderEntry = Record<string, string | string[]>;\n\n\n\nBUILDER.CONTEXT.TARGET\n\nBuild target type, corresponding to the target option of createBuilder method.\n\n * Type\n\ntype BuilderTarget = 'web' | 'node' | 'modern-web' | 'web-worker';\n\ntype Context = {\n  target: BuilderTarget | BuilderTarget[];\n};\n\n\n\nBUILDER.CONTEXT.ROOTPATH\n\nThe root path of current build, corresponding to the cwd option of createBuilder\nmethod.\n\n * Type\n\ntype RootPath = string;\n\n\n\nBUILDER.CONTEXT.SRCPATH\n\nThe absolute path to the src directory.\n\n * Type\n\ntype SrcPath = string;\n\n\n\nBUILDER.CONTEXT.DISTPATH\n\nThe absolute path of the output directory, corresponding to the\noutput.distPath.root config in BuilderConfig.\n\n * Type\n\ntype DistPath = string;\n\n\n\nBUILDER.CONTEXT.CACHEPATH\n\nThe absolute path of the build cache files.\n\n * Type\n\ntype CachePath = string;\n\n\n\nBUILDER.CONTEXT.CONFIGPATH\n\nThe absolute path to the framework config file, corresponding to the configPath\noption of createBuilder method.\n\n * Type\n\ntype ConfigPath = string | undefined;\n\n\n\nBUILDER.CONTEXT.TSCONFIGPATH\n\nThe absolute path of the tsconfig.json file, or undefined if the tsconfig.json\nfile does not exist in current project.\n\n * Type\n\ntype TsconfigPath = string | undefined;\n\n\n\nBUILDER.CONTEXT.FRAMEWORK\n\nThe name of the framework, a unique identifier, the default value is\n'modern.js'.\n\n * Type\n\ntype Framework = string | undefined;\n\n\n\nBUILDER.CONTEXT.DEVSERVER\n\nDev Server information, including the current Dev Server hostname and port\nnumber.\n\n * Type\n\ntype DevServer = {\n  hostname: string;\n  port: number;\n};\n\n\n\nBUILDER.BUILD\n\nPerform a production build.\n\n * Type\n\ntype BuildOptions = {\n  mode?: 'development' | 'production';\n  watch?: boolean;\n  // custom Compiler object\n  compiler?: Compiler | MultiCompiler;\n};\n\nfunction Build(options?: BuildOptions): Promise<void>;\n\n\n * Example\n\nawait builder.build();\n\n\n\nDEVELOPMENT ENVIRONMENT BUILD\n\nIf you need to perform a development build, you can set the mode option to\n'development'.\n\nawait builder.build({\n  mode: 'development',\n});\n\n\n\nMONITOR FILE CHANGES\n\nIf you need to watch file changes and re-build, you can set the watch option to\ntrue.\n\nawait builder.build({\n  watch: true,\n});\n\n\n\nCUSTOM COMPILER\n\nIn some cases, you may want to use a custom compiler:\n\nconst compiler = webpack({\n  // ...\n});\nawait builder.build({\n  compiler,\n});\n\n\n\nBUILDER.STARTDEVSERVER\n\nStart the local Dev Server, based on the Modern.js Dev Server.\n\n * Type\n\ntype StartDevServerOptions = {\n  // Whether to output URL infos, the default is true\n  printURLs?: boolean;\n  // Whether to throw an exception when the port is occupied, the default is false\n  strictPort?: boolean;\n  // custom Compiler object\n  compiler?: Compiler | MultiCompiler;\n  // passing through the build-independent dev server configuration\n  serverOptions?: Partial<ModernDevServerOptions>;\n};\n\ntype StartDevServerResult = {\n  urls: string[];\n  port: number;\n  server: Server;\n};\n\nfunction StartDevServer(\n  options?: StartDevServerOptions,\n): Promise<StartDevServerResult>;\n\n\n * Example\n\nStart Dev Server:\n\nawait builder.startDevServer();\n\n\nAfter successfully starting Dev Server, you can see the following logs:\n\ninfo    Starting dev server...\ninfo    Dev server running at:\n\n  > Local:    http://localhost:8080\n  > Network:  http://192.168.0.1:8080\n\n\nstartDevServer returns the following parameters:\n\n * urls: URLs to access Dev Server.\n * port: The actual listening port number.\n * server: Server instance object.\n\nconst { urls, port, server } = await builder.startDevServer();\nconsole.log(urls); // ['http://localhost:8080', 'http://192.168.0.1:8080']\nconsole.log(port); // 8080\n\n// Close the Dev Server\nawait server.close();\n\n\n\nDISABLE PRINT URLS\n\nSetting printURLs to false to disable the default URL output, so you can custom\nthe logs.\n\nawait builder.startDevServer({\n  printURLs: false,\n});\n\n\n\nSTRICT PORT\n\nWhen a port is occupied, Builder will automatically increment the port number\nuntil an available port is found.\n\nSet strictPort to true and Builder will throw an exception when the port is\noccupied.\n\nawait builder.startDevServer({\n  strictPort: true,\n});\n\n\n\nCUSTOM COMPILER\n\nIn some cases, you may want to use a custom compiler:\n\nconst compiler = webpack({\n  // ...\n});\nawait builder.startDevServer({\n  compiler,\n});\n\n\n\nBUILDER.CREATECOMPILER\n\nCreate a Compiler object.\n\nWhen the target option of createBuilder contains only one value, the return\nvalue is Compiler; when target contains multiple values, the return value is\nMultiCompiler.\n\n * Type\n\nfunction CreateCompiler(): Promise<Compiler | MultiCompiler>;\n\n\n * Example\n\nconst compiler = await builder.createCompiler();\n\n\n> In most scenarios, you do not need to use this API unless you need to custom\n> the Dev Server or other advanced scenarios.\n\n\nBUILDER.ADDPLUGINS\n\nRegister one or more Builder plugins, which can be called multiple times.\n\nThis method needs to be called before compiling. If it is called after\ncompiling, it will not affect the compilation result.\n\n * Type\n\ntype AddPluginsOptions = { before?: string } | { after?: string };\n\nfunction AddPlugins(\n  plugins: BuilderPlugins[],\n  options?: AddPluginsOptions,\n): Promise<void>;\n\n\n * Example\n\nbuilder.addPlugins([PluginFoo(), PluginBar()]);\n\n// Insert before the bar plugin\nbuilder.addPlugins([PluginFoo()], { before: 'bar' });\n\n// Insert after the bar plugin\nbuilder.addPlugins([PluginFoo()], { after: 'bar' });\n\n\n\nBUILDER.REMOVEPLUGINS\n\nRemoves one or more Builder plugins, which can be called multiple times.\n\nThis method needs to be called before compiling. If it is called after\ncompiling, it will not affect the compilation result.\n\n * Type\n\nfunction RemovePlugins(pluginNames: string[]): void;\n\n\n * Example\n\n// add plugin\nconst pluginFoo = PluginFoo();\nbuilder.addPlugins(pluginFoo);\n\n// remove plugin\nbuilder.removePlugins([pluginFoo.name]);\n\n\n\nBUILDER.ISPLUGINEXISTS\n\n * Example\n\nbuilder.addPlugins([PluginFoo()]);\n\nbuilder.isPluginExists(PluginFoo().name); // true\n\n\n\nBUILDER.INSPECTCONFIG\n\nInspect the final generated builder config and bundler config.\n\n * Type\n\ntype InspectConfigOptions = {\n  // View the config in the specified environment, the default is \"development\", can be set to \"production\"\n  env?: BuilderMode;\n  // Whether to enable verbose mode, display the complete content of the function in the config, the default is `false`\n  verbose?: boolean;\n  // Specify the output path, defaults to the value configured by `output.distPath.root`\n  outputPath?: string;\n  // Whether to write the result to disk, the default is `false`\n  writeToDisk?: boolean;\n};\n\nasync function InspectConfig(options?: InspectConfigOptions): Promise<{\n  builderConfig: string;\n  bundlerConfigs: string[];\n  origin: {\n    builderConfig: BuilderConfig;\n    bundlerConfigs: BundlerConfigs[];\n  };\n}>;\n\n\n * Example\n\nGet the config content in string format:\n\nconst { builderConfig, bundlerConfigs } = await builder.inspectConfig();\n\nconsole.log(builderConfig, bundlerConfigs);\n\n\nWrite the config content to disk:\n\nawait builder.inspectConfig({\n  writeToDisk: true,\n});\n\n\n\nBUILDER.ONBEFORECREATECOMPILER\n\n * Example\n\nbuilder.onBeforeCreateCompiler(({ bundlerConfigs }) => {\n  console.log('the bundler config is ', bundlerConfigs);\n});\n\n\n\nBUILDER.ONAFTERCREATECOMPILER\n\n * Example\n\nbuilder.onAfterCreateCompiler(({ compiler }) => {\n  console.log('the compiler is ', compiler);\n});\n\n\n\nBUILDER.ONBEFOREBUILD\n\n * Example\n\nbuilder.onBeforeBuild(({ bundlerConfigs }) => {\n  console.log('the bundler config is ', bundlerConfigs);\n});\n\n\n\nBUILDER.ONAFTERBUILD\n\n * Example\n\nbuilder.onAfterBuild(({ stats }) => {\n  console.log(stats?.toJson());\n});\n\n\n\nBUILDER.ONBEFORESTARTDEVSERVER\n\n * Example\n\nbuilder.onBeforeStartDevServer(() => {\n  console.log('before start!');\n});\n\n\n\nBUILDER.ONAFTERSTARTDEVSERVER\n\n * Example\n\nbuilder.onAfterStartDevServer(({ port }) => {\n  console.log('this port is: ', port);\n});\n\n\n\nBUILDER.ONDEVCOMPILEDONE\n\n * Example\n\nbuilder.onDevCompileDone(({ isFirstCompile }) => {\n  if (isFirstCompile) {\n    console.log('first compile!');\n  } else {\n    console.log('re-compile!');\n  }\n});\n\n\n\nBUILDER.ONEXIT\n\n * Example\n\nbuilder.onExit(() => {\n  console.log('exit!');\n});\n\n\n\nBUILDER.GETBUILDERCONFIG\n\n * Example\n\nbuilder.onBeforeBuild(() => {\n  const config = builder.getBuilderConfig();\n  console.log(config.html?.title);\n});\n\n\n\nBUILDER.GETNORMALIZEDCONFIG\n\n * Example\n\nbuilder.onBeforeBuild(() => {\n  const config = api.getNormalizedConfig();\n  console.log(config.html.title);\n});\n\n\n\nBUILDER.GETHTMLPATHS\n\n * Example\n\nbuilder.onBeforeBuild(() => {\n  const htmlPaths = api.getHTMLPaths();\n  console.log(htmlPaths); // { main: 'html/main/index.html' };\n});\n",frontmatter:{extractApiHeaders:[2]}},{id:4,title:"Builder Types",routePath:"/builder/en/api/builder-types",toc:[{id:"builderinstance",text:"BuilderInstance",depth:2},{id:"buildercontext-1",text:"BuilderContext",depth:2},{id:"builderplugin",text:"BuilderPlugin",depth:2},{id:"buildertarget",text:"BuilderTarget",depth:2},{id:"builderentry",text:"BuilderEntry",depth:2},{id:"createbuilderoptions",text:"CreateBuilderOptions",depth:2}],content:"BUILDER TYPES\n\nThis section describes some of the type definitions provided by the Builder.\n\n\nBUILDERINSTANCE\n\nThe type of the Builder instance.\n\n\n\nlet builder: BuilderInstance;\n\n\nYou can pass in the Provider type through generics to make the type definition\nof the Builder instance more accurate:\n\n\n\n\nlet builder: BuilderInstance<BuilderWebpackProvider>;\n\n\n\nBUILDERCONTEXT\n\nThe type of the context property in the Builder instance.\n\n\n\nconst context: BuilderContext = builder.context;\n\n\n\nBUILDERPLUGIN\n\nThe type of Builder plugin, should be used with the BuilderPluginAPI type\nexported from the provider.\n\n\n\n\nconst myPlugin: BuilderPlugin<BuilderPluginAPI> = {\n  name: 'my-plugin',\n  setup() {},\n};\n\n\n\nBUILDERTARGET\n\nThe type of build target.\n\n\n\n\nBUILDERENTRY\n\nThe type of the entry option to the createBuilder method.\n\n\n\n\nCREATEBUILDEROPTIONS\n\nThe param type of createBuilder method.\n\n",frontmatter:{extractApiHeaders:[2]}},{id:5,title:"Dev Config",routePath:"/builder/en/api/config-dev",toc:[{id:"devassetprefix",text:"dev.assetPrefix",depth:2},{id:"devhmr",text:"dev.hmr",depth:2},{id:"devhttps",text:"dev.https",depth:2},{id:"devport",text:"dev.port",depth:2},{id:"devprogressbar",text:"dev.progressBar",depth:2},{id:"devstarturl",text:"dev.startUrl",depth:2}],content:"DEV CONFIG\n\nThis section describes some dev configurations in Modern.js Builder.\n\n\nDEV.ASSETPREFIX\n\n\nDEV.HMR\n\n\nDEV.HTTPS\n\n\nDEV.PORT\n\n\nDEV.PROGRESSBAR\n\n\nDEV.STARTURL",frontmatter:{extractApiHeaders:[2]}},{id:6,title:"Experiments Config",routePath:"/builder/en/api/config-experiments",toc:[{id:"experimentslazycompilation",text:"experiments.lazyCompilation",depth:2}],content:"EXPERIMENTS CONFIG\n\nThis section describes some experimental configs in the Builder, which can\nenable unstable features in Builder.\n\nIf you meet issues with experimental features, please disable the config first\nand report through GitHub Issues.\n\n\nEXPERIMENTS.LAZYCOMPILATION",frontmatter:{extractApiHeaders:[2]}},{id:7,title:"Html Config",routePath:"/builder/en/api/config-html",toc:[{id:"htmlappicon",text:"html.appIcon",depth:2},{id:"htmlcrossorigin",text:"html.crossorigin",depth:2},{id:"htmldisablehtmlfolder",text:"html.disableHtmlFolder",depth:2},{id:"htmlfavicon",text:"html.favicon",depth:2},{id:"htmlfaviconbyentries",text:"html.faviconByEntries",depth:2},{id:"htmlinject",text:"html.inject",depth:2},{id:"htmlinjectbyentries",text:"html.injectByEntries",depth:2},{id:"htmlmeta",text:"html.meta",depth:2},{id:"htmlmetabyentries",text:"html.metaByEntries",depth:2},{id:"htmltags",text:"html.tags",depth:2},{id:"htmltagsbyentries",text:"html.tagsByEntries",depth:2},{id:"htmlmountid",text:"html.mountId",depth:2},{id:"htmltemplate",text:"html.template",depth:2},{id:"htmltemplatebyentries",text:"html.templateByEntries",depth:2},{id:"htmltemplateparameters",text:"html.templateParameters",depth:2},{id:"htmltemplateparametersbyentries",text:"html.templateParametersByEntries",depth:2},{id:"htmltitle",text:"html.title",depth:2},{id:"htmltitlebyentries",text:"html.titleByEntries",depth:2}],content:"HTML CONFIG\n\nThis section describes some HTML configurations in Modern.js Builder.\n\n\nHTML.APPICON\n\n\nHTML.CROSSORIGIN\n\n\nHTML.DISABLEHTMLFOLDER\n\n\nHTML.FAVICON\n\n\nHTML.FAVICONBYENTRIES\n\n\nHTML.INJECT\n\n\nHTML.INJECTBYENTRIES\n\n\nHTML.META\n\n\nHTML.METABYENTRIES\n\n\nHTML.TAGS\n\n\nHTML.TAGSBYENTRIES\n\n\nHTML.MOUNTID\n\n\nHTML.TEMPLATE\n\n\nHTML.TEMPLATEBYENTRIES\n\n\nHTML.TEMPLATEPARAMETERS\n\n\nHTML.TEMPLATEPARAMETERSBYENTRIES\n\n\nHTML.TITLE\n\n\nHTML.TITLEBYENTRIES",frontmatter:{extractApiHeaders:[2]}},{id:8,title:"Output Config",routePath:"/builder/en/api/config-output",toc:[{id:"outputassetprefix",text:"output.assetPrefix",depth:2},{id:"outputassetsretry",text:"output.assetsRetry",depth:2},{id:"outputcharset",text:"output.charset",depth:2},{id:"outputcleandistpath",text:"output.cleanDistPath",depth:2},{id:"outputconverttorem",text:"output.convertToRem",depth:2},{id:"outputcopy",text:"output.copy",depth:2},{id:"outputcssmodulelocalidentname",text:"output.cssModuleLocalIdentName",depth:2},{id:"outputdataurilimit",text:"output.dataUriLimit",depth:2},{id:"outputdisablecssextract",text:"output.disableCssExtract",depth:2},{id:"outputdisablecssmoduleextension",text:"output.disableCssModuleExtension",depth:2},{id:"outputdistpath",text:"output.distPath",depth:2},{id:"outputdisableminimize",text:"output.disableMinimize",depth:2},{id:"outputdisablesourcemap",text:"output.disableSourceMap",depth:2},{id:"outputdisabletschecker",text:"output.disableTsChecker",depth:2},{id:"outputdisablefilenamehash",text:"output.disableFilenameHash",depth:2},{id:"outputdisableinlineruntimechunk",text:"output.disableInlineRuntimeChunk",depth:2},{id:"outputenableassetmanifest",text:"output.enableAssetManifest",depth:2},{id:"outputenableassetfallback",text:"output.enableAssetFallback",depth:2},{id:"outputenablelatestdecorators",text:"output.enableLatestDecorators",depth:2},{id:"outputenablecssmoduletsdeclaration",text:"output.enableCssModuleTSDeclaration",depth:2},{id:"outputenableinlinescripts",text:"output.enableInlineScripts",depth:2},{id:"outputenableinlinestyles",text:"output.enableInlineStyles",depth:2},{id:"outputexternals",text:"output.externals",depth:2},{id:"outputfilename",text:"output.filename",depth:2},{id:"outputlegalcomments",text:"output.legalComments",depth:2},{id:"outputoverridebrowserslist",text:"output.overrideBrowserslist",depth:2},{id:"outputpolyfill",text:"output.polyfill",depth:2},{id:"outputsvgdefaultexport",text:"output.svgDefaultExport",depth:2}],content:"OUTPUT CONFIG\n\nThis section describes some output related configurations in Modern.js Builder.\n\n\nOUTPUT.ASSETPREFIX\n\n\nOUTPUT.ASSETSRETRY\n\n\nOUTPUT.CHARSET\n\n\nOUTPUT.CLEANDISTPATH\n\n\nOUTPUT.CONVERTTOREM\n\n\nOUTPUT.COPY\n\n\nOUTPUT.CSSMODULELOCALIDENTNAME\n\n\nOUTPUT.DATAURILIMIT\n\n\nOUTPUT.DISABLECSSEXTRACT\n\n\nOUTPUT.DISABLECSSMODULEEXTENSION\n\n\nOUTPUT.DISTPATH\n\n\nOUTPUT.DISABLEMINIMIZE\n\n\nOUTPUT.DISABLESOURCEMAP\n\n\nOUTPUT.DISABLETSCHECKER\n\n\nOUTPUT.DISABLEFILENAMEHASH\n\n\nOUTPUT.DISABLEINLINERUNTIMECHUNK\n\n\nOUTPUT.ENABLEASSETMANIFEST\n\n\nOUTPUT.ENABLEASSETFALLBACK\n\n\nOUTPUT.ENABLELATESTDECORATORS\n\n\nOUTPUT.ENABLECSSMODULETSDECLARATION\n\n\nOUTPUT.ENABLEINLINESCRIPTS\n\n\nOUTPUT.ENABLEINLINESTYLES\n\n\nOUTPUT.EXTERNALS\n\n\nOUTPUT.FILENAME\n\n\nOUTPUT.LEGALCOMMENTS\n\n\nOUTPUT.OVERRIDEBROWSERSLIST\n\n\nOUTPUT.POLYFILL\n\n\nOUTPUT.SVGDEFAULTEXPORT",frontmatter:{extractApiHeaders:[2]}},{id:9,title:"Performance Config",routePath:"/builder/en/api/config-performance",toc:[{id:"performancebuildcache",text:"performance.buildCache",depth:2},{id:"performancebundleanalyze",text:"performance.bundleAnalyze",depth:2},{id:"performancechunksplit",text:"performance.chunkSplit",depth:2},{id:"performanceprintfilesize",text:"performance.printFileSize",depth:2},{id:"performanceprofile",text:"performance.profile",depth:2},{id:"performanceremoveconsole",text:"performance.removeConsole",depth:2},{id:"performanceremovemomentlocale",text:"performance.removeMomentLocale",depth:2}],content:"PERFORMANCE CONFIG\n\nThis section describes some performance related configurations in Modern.js\nBuilder.\n\n\nPERFORMANCE.BUILDCACHE\n\n\nPERFORMANCE.BUNDLEANALYZE\n\n\nPERFORMANCE.CHUNKSPLIT\n\n\nPERFORMANCE.PRINTFILESIZE\n\n\nPERFORMANCE.PROFILE\n\n\nPERFORMANCE.REMOVECONSOLE\n\n\nPERFORMANCE.REMOVEMOMENTLOCALE",frontmatter:{extractApiHeaders:[2]}},{id:10,title:"Security Config",routePath:"/builder/en/api/config-security",toc:[{id:"securitysri",text:"security.sri",depth:2}],content:"SECURITY CONFIG\n\nThis section describes some security related configurations in Modern.js\nBuilder.\n\n\nSECURITY.SRI",frontmatter:{extractApiHeaders:[2]}},{id:11,title:"Source Config",routePath:"/builder/en/api/config-source",toc:[{id:"sourcealias",text:"source.alias",depth:2},{id:"sourceinclude",text:"source.include",depth:2},{id:"sourceexclude",text:"source.exclude",depth:2},{id:"sourcecompilejsdatauri",text:"source.compileJsDataURI",depth:2},{id:"sourcedefine",text:"source.define",depth:2},{id:"sourceglobalvars",text:"source.globalVars",depth:2},{id:"sourcemodulescopes",text:"source.moduleScopes",depth:2},{id:"sourcepreentry",text:"source.preEntry",depth:2},{id:"sourceresolveextensionprefix",text:"source.resolveExtensionPrefix",depth:2},{id:"sourceresolvemainfields",text:"source.resolveMainFields",depth:2}],content:"SOURCE CONFIG\n\nThis section describes configs related to source code parsing and compilation in\nModern.js Builder.\n\n\nSOURCE.ALIAS\n\n\nSOURCE.INCLUDE\n\n\nSOURCE.EXCLUDE\n\n\nSOURCE.COMPILEJSDATAURI\n\n\nSOURCE.DEFINE\n\n\nSOURCE.GLOBALVARS\n\n\nSOURCE.MODULESCOPES\n\n\nSOURCE.PREENTRY\n\n\nSOURCE.RESOLVEEXTENSIONPREFIX\n\n\nSOURCE.RESOLVEMAINFIELDS",frontmatter:{extractApiHeaders:[2]}},{id:12,title:"Tools Config",routePath:"/builder/en/api/config-tools",toc:[{id:"toolsautoprefixer",text:"tools.autoprefixer",depth:2},{id:"toolsbabel",text:"tools.babel",depth:2},{id:"toolscssextract",text:"tools.cssExtract",depth:2},{id:"toolscssloader",text:"tools.cssLoader",depth:2},{id:"toolsdevserver",text:"tools.devServer",depth:2},{id:"toolshtmlplugin",text:"tools.htmlPlugin",depth:2},{id:"toolsinspector",text:"tools.inspector",depth:2},{id:"toolsless",text:"tools.less",depth:2},{id:"toolsminifycss",text:"tools.minifyCss",depth:2},{id:"toolspostcss",text:"tools.postcss",depth:2},{id:"toolspug",text:"tools.pug",depth:2},{id:"toolssass",text:"tools.sass",depth:2},{id:"toolsstyleloader",text:"tools.styleLoader",depth:2},{id:"toolsstyledcomponents",text:"tools.styledComponents",depth:2},{id:"toolsterser",text:"tools.terser",depth:2},{id:"toolstsloader",text:"tools.tsLoader",depth:2},{id:"toolstschecker",text:"tools.tsChecker",depth:2},{id:"toolswebpack",text:"tools.webpack",depth:2},{id:"toolswebpackchain",text:"tools.webpackChain",depth:2}],content:"TOOLS CONFIG\n\nThis section describes some low-level tools configurations in Modern.js Builder.\n\n\nTOOLS.AUTOPREFIXER\n\n\nTOOLS.BABEL\n\n\nTOOLS.CSSEXTRACT\n\n\nTOOLS.CSSLOADER\n\n\nTOOLS.DEVSERVER\n\n\nTOOLS.HTMLPLUGIN\n\n\nTOOLS.INSPECTOR\n\n\nTOOLS.LESS\n\n\nTOOLS.MINIFYCSS\n\n\nTOOLS.POSTCSS\n\n\nTOOLS.PUG\n\n\nTOOLS.SASS\n\n\nTOOLS.STYLELOADER\n\n\nTOOLS.STYLEDCOMPONENTS\n\n\nTOOLS.TERSER\n\n\nTOOLS.TSLOADER\n\n\nTOOLS.TSCHECKER\n\n\nTOOLS.WEBPACK\n\n\nTOOLS.WEBPACKCHAIN",frontmatter:{extractApiHeaders:[2]}},{id:13,title:"API",routePath:"/builder/en/api/",toc:[],content:"API",frontmatter:{overview:!0}},{id:14,title:"Plugin Core",routePath:"/builder/en/api/plugin-core",toc:[{id:"builderplugin-1",text:"BuilderPlugin",depth:2},{id:"builderpluginapi",text:"BuilderPluginAPI",depth:2},{id:"plugin-for-webpack-provider",text:"Plugin for webpack provider",depth:3},{id:"plugins-for-rspack-provider",text:"Plugins for rspack provider",depth:3},{id:"apicontext",text:"api.context",depth:2},{id:"apigetbuilderconfig",text:"api.getBuilderConfig",depth:2},{id:"apigetnormalizedconfig",text:"api.getNormalizedConfig",depth:2},{id:"apiispluginexists",text:"api.isPluginExists",depth:2},{id:"apigethtmlpaths",text:"api.getHTMLPaths",depth:2}],content:"PLUGIN CORE\n\nThis section describes the core plugin types and APIs.\n\n\nBUILDERPLUGIN\n\nThe type of the plugin object. The plugin object contains the following\nproperties:\n\n * name: The name of the plugin, a unique identifier.\n * setup: The setup function of the plugin, which can be an asynchronous\n   function. This function will only be executed once when the plugin is\n   initialized.\n\nexport type BuilderPlugin<API = BuilderPluginAPI> = {\n  name: string;\n  setup: (api: API) => Promise<void> | void;\n};\n\n\nYou can import this type from @modern-js/builder:\n\n\n\nexport default (): BuilderPlugin => ({\n  name: 'builder-plugin-foo',\n\n  setup: api => {\n    api.onAfterBuild(() => {\n      console.log('after build!');\n    });\n  },\n});\n\n\n\nBUILDERPLUGINAPI\n\nThe type of plugin API. The plugin API provides the context info, utility\nfunctions and lifecycle hooks.\n\nFor a complete introduction to lifecycle hooks, please read the Plugin Hooks\nchapter.\n\nWhen using webpack provider or rspack provider, the type definition of\nBuilderPluginAPI is somewhat different, and you can introduce the corresponding\ntype according to the usage scenario of the plugin.\n\n\nPLUGIN FOR WEBPACK PROVIDER\n\nWhen developing plugins for webpack provider, please import BuilderPluginAPI\nfrom @modern-js/builder-webpack-provider.\n\n\n\n\nexport default (): BuilderPlugin<BuilderPluginAPI> => ({\n  name: 'builder-plugin-foo',\n\n  setup: api => {\n    api.modifyWebpackConfig(config => {\n      config.devtool = false;\n    });\n  },\n});\n\n\n\nPLUGINS FOR RSPACK PROVIDER\n\nWhen developing plugins for rspack provider, please import BuilderPluginAPI from\n@modern-js/builder-rspack-provider.\n\n\n\n\nexport default (): BuilderPlugin<BuilderPluginAPI> => ({\n  name: 'builder-plugin-foo',\n\n  setup: api => {\n    api.modifyRspackConfig(config => {\n      config.devtool = false;\n    });\n  },\n});\n\n\n\nAPI.CONTEXT\n\napi.context is a read-only object that provides some context information.\n\nThe content of api.context is exactly the same as builder.context, please refer\nto builder.context.\n\n * Example\n\nconst PluginFoo = () => ({\n   setup(api) {\n     console.log(api.context.distPath);\n   }\n);\n\n\n\nAPI.GETBUILDERCONFIG\n\n * Example\n\nconst PluginFoo = () => ({\n   setup(api) {\n     const config = api.getBuilderConfig();\n     console.log(config.html?.title);\n   }\n);\n\n\n\nAPI.GETNORMALIZEDCONFIG\n\n * Example\n\nconst PluginFoo = () => ({\n   setup(api) {\n     const config = api.getNormalizedConfig();\n     console.log(config.html.title);\n   }\n);\n\n\n\nAPI.ISPLUGINEXISTS\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    console.log(api.isPluginExists('builder-plugin-foo'));\n  },\n});\n\n\n\nAPI.GETHTMLPATHS\n\n * Example\n\nconst PluginFoo = () => ({\n   setup(api) {\n     api.modifyWebpackChain(() => {\n       const htmlPaths = api.getHTMLPaths();\n       console.log(htmlPaths); // { main: 'html/main/index.html' };\n     });\n   }\n);\n",frontmatter:{extractApiHeaders:[2]}},{id:15,title:"Plugin Hooks",routePath:"/builder/en/api/plugin-hooks",toc:[{id:"overview",text:"Overview",depth:2},{id:"common-hooks",text:"Common Hooks",depth:2},{id:"modifybuilderconfig",text:"modifyBuilderConfig",depth:3},{id:"modifywebpackchain",text:"modifyWebpackChain",depth:3},{id:"modifywebpackconfig",text:"modifyWebpackConfig",depth:3},{id:"modifyrspackconfig",text:"modifyRspackConfig",depth:3},{id:"onbeforecreatecompiler",text:"onBeforeCreateCompiler",depth:3},{id:"onaftercreatecompiler",text:"onAfterCreateCompiler",depth:3},{id:"build-hooks",text:"Build Hooks",depth:2},{id:"onbeforebuild",text:"onBeforeBuild",depth:3},{id:"onafterbuild",text:"onAfterBuild",depth:3},{id:"dev-server-hooks",text:"Dev Server Hooks",depth:2},{id:"onbeforestartdevserver",text:"onBeforeStartDevServer",depth:3},{id:"onafterstartdevserver",text:"onAfterStartDevServer",depth:3},{id:"ondevcompiledone",text:"onDevCompileDone",depth:3},{id:"other-hooks",text:"Other Hooks",depth:2},{id:"onexit",text:"onExit",depth:3}],content:"PLUGIN HOOKS\n\nThis section describes the lifetime hooks provided by Builder plugin.\n\n\nOVERVIEW\n\nCommon Hooks\n\n * modifyBuilderConfig: Modify raw config of Builder.\n * modifyWebpackChain: Modify webpack-chain.\n * modifyWebpackConfig: Modify raw config of webpack.\n * modifyRspackConfig: Modify raw config of rspack.\n * onBeforeCreateCompiler: Called before creating compiler instance.\n * onAfterCreateCompiler: Called after the compiler object is created, but\n   before the build is executed.\n\nBuild Hooks\uff1aCalled only when the build method is executed to build the\nproduction outputs.\n\n * onBeforeBuild: Called before the production build is executed.\n * onAfterBuild: Called after executing the production build, you can get the\n   build stats.\n\nDev Server Hooks: Called only when the startDevServer method is executed to run\nthe development server.\n\n * onBeforeStartDevServer: Called before starting the development server.\n * onAfterStartDevServer: Called after starting the development server.\n * onDevCompileDone: Called after each development compile.\n\nOther Hooks\n\n * onExit: Called when the process is going to exit.\n\n\nCOMMON HOOKS\n\n\nMODIFYBUILDERCONFIG\n\nModify the config passed to the Builder, you can directly modify the config\nobject, or return a new object to replace the previous object.\n\n * Type\n\ntype ModifyWebpackChainUtils = {\n  mergeBuilderConfig: typeof mergeBuilderConfig;\n};\n\nfunction ModifyBuilderConfig(\n  callback: (\n    config: BuilderConfig,\n    utils: ModifyWebpackChainUtils,\n  ) => PromiseOrNot<BuilderConfig | void>,\n): void;\n\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.modifyBuilderConfig((config, { mergeBuilderConfig }) => {\n      config.html = config.html || {};\n      config.html.title = 'Hello World!';\n      return mergeBuilderConfig(config, {\n        source: { preEntry: 'foo.js' }\n      });\n    });\n  },\n});\n\n\n\nMODIFYWEBPACKCHAIN\n\nModify the webpack config through the webpack chain. This method is only called\nwhen using webpack provider.\n\n * Type\n\ntype ModifyWebpackChainUtils = {\n  env: NodeEnv;\n  isProd: boolean;\n  target: BuilderTarget;\n  webpack: typeof import('webpack');\n  isServer: boolean;\n  isWebWorker: boolean;\n  CHAIN_ID: ChainIdentifier;\n  getCompiledPath: (name: string) => string;\n  HtmlWebpackPlugin: typeof import('html-webpack-plugin');\n};\n\nfunction ModifyWebpackChain(\n  callback: (\n    chain: WebpackChain,\n    utils: ModifyWebpackChainUtils,\n  ) => Promise<void> | void,\n): void;\n\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.modifyWebpackChain((chain, utils) => {\n      if (utils.env === 'development') {\n        chain.devtool('eval');\n      }\n    });\n  },\n});\n\n\n\nMODIFYWEBPACKCONFIG\n\nTo modify the final webpack config object, you can directly modify the config\nobject, or return a new object to replace the previous object. This method is\nonly called when using webpack provider.\n\nThis method is called later than the modifyWebpackChain hook.\n\n * Type\n\ntype ModifyWebpackConfigUtils = {\n  env: NodeEnv;\n  isProd: boolean;\n  target: BuilderTarget;\n  webpack: typeof import('webpack');\n  isServer: boolean;\n  isWebWorker: boolean;\n  CHAIN_ID: ChainIdentifier;\n  getCompiledPath: (name: string) => string;\n  HtmlWebpackPlugin: typeof import('html-webpack-plugin');\n  addRules: (rules: RuleSetRule | RuleSetRule[]) => void;\n  prependPlugins: (\n    plugins: WebpackPluginInstance | WebpackPluginInstance[],\n  ) => void;\n  appendPlugins: (\n    plugins: WebpackPluginInstance | WebpackPluginInstance[],\n  ) => void;\n  removePlugin: (pluginName: string) => void;\n};\n\nfunction ModifyWebpackConfig(\n  callback: (\n    config: WebpackConfig,\n    utils: ModifyWebpackConfigUtils,\n  ) => Promise<WebpackConfig | void> | WebpackConfig | void,\n): void;\n\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.modifyWebpackConfig((config, utils) => {\n      if (utils.env === 'development') {\n        config.devtool = 'eval';\n      }\n    });\n  },\n});\n\n\n\nMODIFYRSPACKCONFIG\n\nTo modify the final rspack config object, you can directly modify the config\nobject, or return a new object to replace the previous object. This method is\nonly called when using rspack provider.\n\n * Type\n\ntype ModifyRspackConfigUtils = {\n  env: NodeEnv;\n  isProd: boolean;\n  target: BuilderTarget;\n  isServer: boolean;\n  isWebWorker: boolean;\n  getCompiledPath: (name: string) => string;\n};\n\nfunction ModifyRspackConfig(\n  callback: (\n    config: RspackConfig,\n    utils: ModifyRspackConfigUtils,\n  ) => Promise<RspackConfig | void> | RspackConfig | void,\n): void;\n\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.modifyRspackConfig((config, utils) => {\n      if (utils.env === 'development') {\n        config.devtool = 'eval';\n      }\n    });\n  },\n});\n\n\n\nONBEFORECREATECOMPILER\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onBeforeCreateCompiler(({ bundlerConfigs }) => {\n      console.log('the bundler config is ', bundlerConfigs);\n    });\n  },\n});\n\n\n\nONAFTERCREATECOMPILER\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onAfterCreateCompiler(({ compiler }) => {\n      console.log('the compiler is ', compiler);\n    });\n  },\n});\n\n\n\nBUILD HOOKS\n\n\nONBEFOREBUILD\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onBeforeBuild(({ bundlerConfigs }) => {\n      console.log('the bundler config is ', bundlerConfigs);\n    });\n  },\n});\n\n\n\nONAFTERBUILD\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onAfterBuild(({ stats }) => {\n      console.log(stats?.toJson());\n    });\n  },\n});\n\n\n\nDEV SERVER HOOKS\n\n\nONBEFORESTARTDEVSERVER\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onBeforeStartDevServer(() => {\n      console.log('before start!');\n    });\n  },\n});\n\n\n\nONAFTERSTARTDEVSERVER\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onAfterStartDevServer(({ port }) => {\n      console.log('this port is: ', port);\n    });\n  },\n});\n\n\n\nONDEVCOMPILEDONE\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onDevCompileDone(({ isFirstCompile }) => {\n      if (isFirstCompile) {\n        console.log('first compile!');\n      } else {\n        console.log('re-compile!');\n      }\n    });\n  },\n});\n\n\n\nOTHER HOOKS\n\n\nONEXIT\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onExit(() => {\n      console.log('exit!');\n    });\n  },\n});\n",frontmatter:{extractApiHeaders:[2]}},{id:16,title:"",routePath:"/builder/en/config/dev/assetPrefix",toc:[{id:"boolean-type",text:"Boolean Type",depth:4},{id:"string-type",text:"String type",depth:4}],content:" * Type: boolean | string\n * Default: '/'\n\nSet the URL prefix of static assets in the development environment, similar to\nthe output.publicPath config of webpack.\n\nassetPrefix will affect the URLs of most of the static assets, including\nJavaScript files, CSS files, images, videos, etc. If an incorrect value is\nspecified, you'll receive 404 errors while loading these resources.\n\nThis config is only used in the development environment. In the production\nenvironment, please use the output.assetPrefix to set the URL prefix.\n\nBOOLEAN TYPE\n\nIf assetPrefix is set to true, the URL prefix will be //ip:port/:\n\nexport default {\n  dev: {\n    assetPrefix: true,\n  },\n};\n\n\nThe script URL will be:\n\n<script defer src=\"//${ip}:8080/static/js/main.js\"><\/script>\n\n\nIf assetPrefix is set to false or not set, / is used as the default value.\n\nSTRING TYPE\n\nWhen the value of assetPrefix is string type, the string will be used as the URL\nprefix:\n\nexport default {\n  dev: {\n    assetPrefix: 'http://example.com/assets/',\n  },\n};\n\n\nThe script URL will be:\n\n<script defer src=\"http://example.com/assets/static/js/main.js\"><\/script>\n",frontmatter:{}},{id:17,title:"",routePath:"/builder/en/config/dev/hmr",toc:[],content:" * Type: boolean\n * Default: true\n\nWhether to enable Hot Module Replacement.\n\nIf hmr is set to false, the HMR and react-refresh will no longer work.\n\nexport default {\n  dev: {\n    hmr: false,\n  },\n};\n",frontmatter:{}},{id:18,title:"",routePath:"/builder/en/config/dev/https",toc:[{id:"automatically-generate-certificates",text:"Automatically generate certificates",depth:4},{id:"manually-set-the-certificate",text:"Manually set the certificate",depth:4}],content:" * Type: boolean | { key: string; cert: string }\n * Default: false\n\nAfter configuring this option, you can enable HTTPS Dev Server, and disabling\nthe HTTP Dev Server.\n\nHTTP:\n\n  > Local: http://localhost:8080/\n  > Network: http://192.168.0.1:8080/\n\n\nHTTPS:\n\n  > Local: https://localhost:8080/\n  > Network: https://192.168.0.1:8080/\n\n\nAUTOMATICALLY GENERATE CERTIFICATES\n\nYou can directly set https to true, Builder will automatically generate the\nHTTPS certificate based on devcert.\n\nWhen using this method, you need to manually install the devcert dependency in\nyour project:\n\n# npm\nnpm install devcert@1.2.2 -D\n\n#yarn\nyarn add devcert@1.2.2 -D\n\n#pnpm\npnpm add devcert@1.2.2 -D\n\n\nThen configure dev.https to true:\n\nexport default {\n  dev: {\n    https: true,\n  },\n};\n\n\nThe devcert has some limitations, it does not currently support IP addresses\nyet.\n\nThe https proxy automatically installs the certificate and needs root authority,\nplease enter the password according to the prompt. The password is only used to\ntrust the certificate, and will not be leaked or be used elsewhere.\n\nMANUALLY SET THE CERTIFICATE\n\nYou can also manually pass in the certificate and the private key required in\nthe dev.https option. This parameter will be directly passed to the createServer\nmethod of the https module in Node.js.\n\nFor details, please refer to https.createServer.\n\n\n\nexport default {\n  dev: {\n    https: {\n      key: fs.readFileSync('certificates/private.pem'),\n      cert: fs.readFileSync('certificates/public.pem'),\n    },\n  },\n};\n",frontmatter:{}},{id:19,title:"",routePath:"/builder/en/config/dev/port",toc:[{id:"example",text:"Example",depth:4}],content:" * Type: number\n * Default: 8080\n\nSpecify a port number for Dev Server to listen.\n\nBy default, Dev Server listens on port 8080 and automatically increments the\nport number when the port is occupied.\n\nEXAMPLE\n\nSet the port to 3000:\n\nexport default {\n  dev: {\n    port: 3000,\n  },\n};\n",frontmatter:{}},{id:20,title:"",routePath:"/builder/en/config/dev/progressBar",toc:[],content:" * Type:\n\ntype ProgressBar =\n  | boolean\n  | {\n      id?: string;\n    };\n\n\n * Default: true\n\nWhether to display progress bar during compilation.\n\nexport default {\n  dev: {\n    progressBar: false,\n  },\n};\n\n\nIf you need to modify the text displayed on the left side of the progress bar,\nyou can set the id option:\n\nexport default {\n  dev: {\n    progressBar: {\n      id: 'Some Text',\n    },\n  },\n};\n",frontmatter:{}},{id:21,title:"",routePath:"/builder/en/config/dev/startUrl",toc:[],content:" * Type: boolean | string | string[] | undefined\n * Default: undefined\n\ndev.startUrl is used to set the URL of the page that automatically opens in the\nbrowser when Dev Server starts.\n\nBy default, no page will be opened.\n\nYou can set it to the following values:\n\nexport default {\n  dev: {\n    // Open the project's default preview page\n    startUrl: true,\n    // Open the specified page\n    startUrl: 'http://localhost:8080',\n    // Open multiple pages\n    startUrl: ['http://localhost:8080', 'http://localhost:8080/about'],\n  },\n};\n",frontmatter:{}},{id:22,title:"",routePath:"/builder/en/config/experiments/lazyCompilation",toc:[{id:"lazy-compilation-for-dynamic-imports",text:"Lazy Compilation for Dynamic Imports",depth:3},{id:"lazy-compilation-for-entires",text:"Lazy Compilation for Entires",depth:3},{id:"limitations",text:"Limitations",depth:3},{id:"disable-split-chunks",text:"Disable split chunks",depth:4},{id:"use-proxy",text:"Use proxy",depth:4}],content:" * Type:\n\ntype LazyCompilationOptions =\n  | boolean\n  | {\n      // Whether to enable lazy compilation for entries\n      entries?: boolean;\n      // Whether to enable lazy compilation for dynamic imports\n      imports?: boolean;\n    };\n\n\n * Default: false\n\nUsed to enable the lazy compilation (i.e. compile on demand). When this config\nis enabled, Builder will compile entrypoints and dynamic imports only when they\nare used. It will improve the compilation startup time of the project.\n\nLazy compilation only takes effect in the development.\n\n\nLAZY COMPILATION FOR DYNAMIC IMPORTS\n\nLazy compile async modules introduced by Dynamic Import:\n\nexport default {\n  experiments: {\n    lazyCompilation: {\n      imports: true,\n      entries: false,\n    },\n  },\n};\n\n\nWhen imports option is enabled, all async modules will only be compiled when\nrequested. If your project is a single-page application, and routing is split\nthrough Dynamic Import, there will be a significant effect of speeding up\ncompilation.\n\n\nLAZY COMPILATION FOR ENTIRES\n\nIn addition to lazy compilation for async modules, you can also choose to lazily\ncompile both entries and async modules at the same time.\n\nexport default {\n  experiments: {\n    lazyCompilation: {\n      imports: true,\n      entries: true,\n    },\n  },\n};\n\n\nThe above config can also be simplified to:\n\nexport default {\n  experiments: {\n    lazyCompilation: true,\n  },\n};\n\n\nWhen entries option is enabled, all pages will not be compiled when the\ncompilation is started, and the page will be compiled only when you visit it.\n\nWhen using lazy compilation for entries, there are some considerations:\n\n * Only work for multi-page applications, no work for single-page applications.\n * when you visit a page, there will be a white screen for a period of time due\n   to waiting for the page to be compiled.\n\n\nLIMITATIONS\n\nDISABLE SPLIT CHUNKS\n\nWhen you enable lazy compilation, in order to ensure the compilation results,\nBuilder will disable split chunks in the development. This will not affect the\nbuild results in the production, but will cause a difference between the build\nresults of the development and production.\n\nUSE PROXY\n\nLazy Compilation relies on the local development server of webpack. When you\nproxy a domain name to localhost, Lazy Compilation will not work properly.\nTherefore, if you need to develop with proxy, please disable Lazy Compilation.",frontmatter:{}},{id:23,title:"",routePath:"/builder/en/config/html/appIcon",toc:[{id:"example-4",text:"Example",depth:4}],content:' * Type: string\n * Default: undefined\n\nSet the file path of the app icon, can be set as a relative path relative to the\nproject root directory, or as an absolute path to the file. Setting it as a CDN\nURL is not currently supported.\n\nAfter config this option, the icon will be automatically copied to the dist\ndirectory during the compilation, and the corresponding link tag will be added\nto the HTML.\n\nEXAMPLE\n\nSet as a relative path:\n\nexport default {\n  html: {\n    appIcon: \'./src/assets/icon.png\',\n  },\n};\n\n\nSet to an absolute path:\n\n\n\nexport default {\n  html: {\n    appIcon: path.resolve(__dirname, \'./src/assets/icon.png\'),\n  },\n};\n\n\nAfter recompiling, the following tags are automatically generated in the HTML:\n\n<link rel="apple-touch-icon" sizes="180*180" href="/static/image/icon.png" />\n',frontmatter:{}},{id:24,title:"",routePath:"/builder/en/config/html/crossorigin",toc:[{id:"example-3",text:"Example",depth:4}],content:" * Type: boolean | 'anonymous' | 'use-credentials'\n * Default: false\n\nSet the crossorigin attribute of the <script> tag.\n\nWhen true is passed, it is automatically set to crossorigin=\"anonymous\".\n\nEXAMPLE\n\nexport default {\n  html: {\n    crossorigin: 'anonymous',\n  },\n};\n\n\nAfter compilation, the <script> tag in HTML becomes:\n\n<script defer src=\"/static/js/main.js\" crossorigin=\"anonymous\"><\/script>\n",frontmatter:{}},{id:25,title:"",routePath:"/builder/en/config/html/disableHtmlFolder",toc:[{id:"example-1",text:"Example",depth:4}],content:" * Type: boolean\n * Default: false\n\nRemove the folder of the HTML files. When this option is enabled, the generated\nHTML file path will change from [name]/index.html to [name].html.\n\nEXAMPLE\n\nBy default, the structure of HTML files in the dist directory is:\n\n/dist\n\u2514\u2500\u2500 html\n \xa0  \u2514\u2500\u2500 main\n \xa0\xa0     \u2514\u2500\u2500 index.html\n\n\nEnable the html.disableHtmlFolder config:\n\nexport default {\n  html: {\n    disableHtmlFolder: true,\n  },\n};\n\n\nAfter recompiling, the directory structure of the HTML files in dist is:\n\n/dist\n\u2514\u2500\u2500 html\n \xa0\xa0 \u2514\u2500\u2500 main.html\n\n\n> If you want to set the path of the HTML files, use the output.distPath.html\n> config.",frontmatter:{}},{id:26,title:"",routePath:"/builder/en/config/html/favicon",toc:[{id:"example-2",text:"Example",depth:4}],content:" * Type: string\n * Default: undefined\n\nSet the favicon icon path for all pages, can be set as a relative path relative\nto the project root directory, or as an absolute path to the file. Setting it as\na CDN URL is not currently supported.\n\nAfter config this option, the favicon will be automatically copied to the dist\ndirectory during the compilation, and the corresponding link tag will be added\nto the HTML.\n\nEXAMPLE\n\nSet as a relative path:\n\nexport default {\n  html: {\n    favicon: './src/assets/icon.png',\n  },\n};\n\n\nSet to an absolute path:\n\n\n\nexport default {\n  html: {\n    favicon: path.resolve(__dirname, './src/assets/icon.png'),\n  },\n};\n\n\nAfter recompiling, the following tags are automatically generated in the HTML:\n\n<link rel=\"icon\" href=\"/favicon.ico\" />\n",frontmatter:{}},{id:27,title:"",routePath:"/builder/en/config/html/faviconByEntries",toc:[{id:"example-5",text:"Example",depth:4}],content:" * Type: Record<string, string>\n * Default: undefined\n\nSet different favicon for different pages.\n\nThe usage is same as favicon, and you can use the \"entry name\" as the key to set\neach page individually.\n\nfaviconByEntries will overrides the value set in favicon.\n\nEXAMPLE\n\nexport default {\n  html: {\n    favicon: './src/assets/default.png',\n    faviconByEntries: {\n      foo: './src/assets/foo.png',\n    },\n  },\n};\n\n\nAfter recompiling, you will see:\n\n * The favicon for page foo is ./src/assets/foo.png.\n * The favicon for other pages is ./src/assets/default.png.",frontmatter:{}},{id:28,title:"",routePath:"/builder/en/config/html/inject",toc:[{id:"default-inject-position",text:"Default inject position",depth:4},{id:"inject-into-body",text:"Inject into body",depth:4}],content:' * Type: \'head\' | \'body\' | \'true\' | false\n * Default: \'head\'\n\nSet the inject position of the <script> tag.\n\nCan be set to the following values:\n\n * \'head\': The script tag will be inject inside the head tag.\n * \'body\': The script tag is inject at the end of the body tag.\n * true: The result depends on the scriptLoading config of html-webpack-plugin.\n * false: script tags will not be injected.\n\nDEFAULT INJECT POSITION\n\nThe script tag is inside the head tag by default:\n\n<html>\n  <head>\n    <title></title>\n    <script defer src="/static/js/runtime-main.js"><\/script>\n    <script defer src="/static/js/main.js"><\/script>\n    <link href="/static/css/main.css" rel="stylesheet" />\n  </head>\n  <body>\n    <div id="root"></div>\n  </body>\n</html>\n\n\nINJECT INTO BODY\n\nAdd the following config to inject script into the body tag:\n\nexport default {\n  html: {\n    inject: \'body\',\n  },\n};\n\n\nYou will see that the script tag is generated at the end of the body tag:\n\n<html>\n  <head>\n    <title></title>\n    <link href="/static/css/main.css" rel="stylesheet" />\n  </head>\n  <body>\n    <div id="root"></div>\n    <script defer src="/static/js/runtime-main.js"><\/script>\n    <script defer src="/static/js/main.js"><\/script>\n  </body>\n</html>\n',frontmatter:{}},{id:29,title:"",routePath:"/builder/en/config/html/injectByEntries",toc:[{id:"example-6",text:"Example",depth:4}],content:" * Type: Record<string, boolean | string>\n * Default: undefined\n\nSet different script tag inject positions for different pages.\n\nThe usage is same as inject, and you can use the \"entry name\" as the key to set\neach page individually.\n\ninjectByEntries will overrides the value set in inject.\n\nEXAMPLE\n\nexport default {\n  html: {\n    inject: 'head',\n    injectByEntries: {\n      foo: 'body',\n    },\n  },\n};\n\n\nAfter recompiling, you will see:\n\n * The script tag of the page foo will be injected inside the body tag.\n * The script tag of other pages will be injected inside the head tag.",frontmatter:{}},{id:30,title:"",routePath:"/builder/en/config/html/meta",toc:[{id:"string-type-1",text:"String Type",depth:4},{id:"object-type",text:"Object Type",depth:4},{id:"remove-default-value",text:"Remove Default Value",depth:3}],content:" * Type: Record<string, false | string | Record<string, string | boolean>>\n * Default: undefined\n\nConfigure the <meta> tag of the HTML.\n\nSTRING TYPE\n\nWhen the value of a meta object is a string, the key of the object is\nautomatically mapped to name, and the value is mapped to content.\n\nFor example to set description:\n\nexport default {\n  html: {\n    meta: {\n      description: 'a description of the page',\n    },\n  },\n};\n\n\nThe generated meta tag in HTML is:\n\n<meta name=\"description\" content=\"a description of the page\" />\n\n\nOBJECT TYPE\n\nWhen the value of a meta object is an object, the key: value of the object is\nmapped to the attribute of the meta tag.\n\nIn this case, the name and content properties will not be set by default.\n\nFor example to set http-equiv:\n\nexport default {\n  html: {\n    meta: {\n      'http-equiv': {\n        'http-equiv': 'x-ua-compatible',\n        content: 'ie=edge',\n      },\n    },\n  },\n};\n\n\nThe meta tag in HTML is:\n\n<meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\" />\n\n\n\nREMOVE DEFAULT VALUE\n\nSetting the value of the meta object to false and the meta tag will not be\ngenerated.\n\nFor example to remove the imagemode:\n\nexport default {\n  html: {\n    meta: {\n      imagemode: false,\n    },\n  },\n};\n",frontmatter:{}},{id:31,title:"",routePath:"/builder/en/config/html/metaByEntries",toc:[{id:"example-10",text:"Example",depth:4}],content:' * Type: Record<string, Meta>\n * Default: undefined\n\nSet different meta tags for different pages.\n\nThe usage is same as meta, and you can use the "entry name" as the key to set\neach page individually.\n\nmetaByEntries will overrides the value set in meta.\n\nEXAMPLE\n\nexport default {\n  html: {\n    meta: {\n      description: \'ByteDance\',\n    },\n    metaByEntries: {\n      foo: {\n        description: \'TikTok\',\n      },\n    },\n  },\n};\n\n\nAfter compiling, you can see that the meta of the page foo is:\n\n<meta name="description" content="TikTok" />\n\n\nThe meta of other pages is:\n\n<meta name="description" content="ByteDance" />\n',frontmatter:{}},{id:32,title:"",routePath:"/builder/en/config/html/mountId",toc:[{id:"example-9",text:"Example",depth:4}],content:' * Type: string\n * Default: \'root\'\n\nBy default, the root element is included in the HTML template for component\nmounting, and the element id can be modified through mountId.\n\n<body>\n  <div id="root"></div>\n</body>\n\n\nEXAMPLE\n\nSet the id to app:\n\nexport default {\n  html: {\n    mountId: \'app\',\n  },\n};\n\n\nAfter compilation:\n\n<body>\n  <div id="app"></div>\n</body>\n\n\nIf you customized the HTML template, please make sure that the template contains\n<div id="<%= mountId %>"></div>, otherwise this config will not take effect.',frontmatter:{}},{id:33,title:"",routePath:"/builder/en/config/html/tags",toc:[{id:"tag-object",text:"Tag Object",depth:4},{id:"tags-handler",text:"Tags Handler",depth:4}],content:" * Type: ArrayOrNot<HtmlInjectTag | HtmlInjectTagHandler>\n * Default: undefined\n\nModifies the tags that are injected into the HTML page.\n\nTAG OBJECT\n\nexport interface HtmlInjectTag {\n  tag: string;\n  attrs?: Record<string, string | boolean | null | undefined>;\n  children?: string;\n  /** @default false */\n  hash?: boolean | string | ((url: string, hash: string) => string);\n  /** @default true */\n  publicPath?: boolean | string | ((url: string, publicPath: string) => string);\n  /** @default false */\n  append?: boolean;\n  /**\n   * Enable by default only for elements that are allowed to be included in the `head` tag.\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head#see_also}\n   */\n  head?: boolean;\n}\n\n\nA tag object can be used to describe the tag to be injected and the location of\nthe injection can be controlled by the parameters.\n\nexport default {\n  output: {\n    assetPrefix: '//example.com/'\n  },\n  html: {\n    tags: [\n      {\n        tag: 'script',\n        attrs: { src: 'a.js' },\n        head: true,\n        append: true,\n        publicPath: true,\n        hash: true,\n      },\n    ],\n  },\n};\n\n\nIt will add a script tag to the end of the head of the HTML:\n\n<html>\n  <head>\n    \x3c!-- some other headTags... --\x3e\n    <script src=\"//example.com/a.js?8327ec63\"><\/script>\n  </head>\n  <body>\n    \x3c!-- some other bodyTags... --\x3e\n  </body>\n</html>\n\n\nThe final insertion position of the tag is determined by the head and append\noptions, and two elements with the same configuration will be inserted into the\nsame area and hold their relative positions to each other.\n\nFields in the tag that indicate the path to the external resource file are\naffected by the publicPath and hash options. These fields include src for the\nscript tag and href for the link tag.\n\nEnabling publicPath will splice the output.assetPrefix field before the\nattribute representing the path in the tag. And the hash field causes the\nfilename to be followed by an additional hash query to control browser caching,\nwith the same hash string as the HTML file product.\n\nYou can also pass functions to those fields to control the path joining.\n\nTAGS HANDLER\n\nexport type HtmlInjectTagUtils = {\n  outputName: string;\n  publicPath: string;\n  hash: string;\n};\n\nexport type HtmlInjectTagHandler = (\n  tags: HtmlInjectTag[],\n  utils: HtmlInjectTagUtils,\n) => HtmlInjectTag[] | void;\n\n\nhtml.tags can also accept functions that can arbitrarily modify tags by writing\nlogic to the callback, often used to ensure the relative position of tags while\ninserting them.\n\nThe callback function accepts a tag list as an argument and needs to modify or\nreturn a new tag array directly.\n\nexport default {\n  html: {\n    tags: [\n      tags => { tags.splice(0, 1); },\n      /* ^? \n       *   { tag: 'script', attrs: { src: 'b.js' } },\n       *   ... some other headTags\n       *   { tag: 'script', attrs: { src: 'c.js' } },\n       *   ... some other bodyTags\n       *   { tag: 'script', attrs: { src: 'a.js' }, head: false },\n       */\n      { tag: 'script', attrs: { src: 'a.js' }, head: false },\n      { tag: 'script', attrs: { src: 'b.js' }, append: false },\n      { tag: 'script', attrs: { src: 'c.js' } },\n      tags => [...tags, { tag: 'script', attrs: { src: 'd.js' } }],\n      /* ^? \n       *   ... some other headTags\n       *   { tag: 'script', attrs: { src: 'c.js' } },\n       *   ... some other bodyTags\n       *   { tag: 'script', attrs: { src: 'a.js' }, head: false },\n       */\n    ],\n  },\n};\n\n\nThe function will be executed at the end of the HTML processing flow. In the\nexample below, the 'tags' parameter will contain all tag objects that form\nconfig, regardless of the function's location in config.\n\nModifying the attributes append, publicPath, hash in the callback will not take\neffect, because they have been applied to the tag's location and path\nattributes, respectively.\n\nSo the end product will look like:\n\n<html>\n  <head>\n    \x3c!-- some other headTags... --\x3e\n    <script src=\"//example.com/c.js\"><\/script>\n    <script src=\"//example.com/d.js\"><\/script>\n  </head>\n  <body>\n    \x3c!-- some other bodyTags... --\x3e\n    <script src=\"//example.com/a.js\"><\/script>\n  </body>\n</html>\n",frontmatter:{}},{id:34,title:"",routePath:"/builder/en/config/html/tagsByEntries",toc:[{id:"example-7",text:"Example",depth:4}],content:" * Type: Record<string, ArrayOrNot<HtmlInjectTag | HtmlInjectTagHandler>>\n * Default: undefined\n\nUsed for multiple entry applications, injecting different tags for each entry.\n\nThe usage is the same as tags, and you can use the \"entry name\" as the key to\nset each page individually.\n\ntagsByEntries will override the value set in tags.\n\nEXAMPLE\n\nexport default {\n  html: {\n    tags: [\n      { tag: 'script', attrs: { src: 'a.js' } }\n    ],\n    tagsByEntries: {\n      foo: [\n        { tag: 'script', attrs: { src: 'b.js' } }\n      ],\n    },\n  },\n};\n\n\nCompile the application and you can see a tag injected on the foo page:\n\n<script src=\"b.js\"><\/script>\n\n\nAnd for any other pages:\n\n<script src=\"a.js\"><\/script>\n",frontmatter:{}},{id:35,title:"",routePath:"/builder/en/config/html/template",toc:[{id:"example-8",text:"Example",depth:4}],content:" * Type: string\n * Default:\n\nDefine the path to the HTML template, corresponding to the template config of\nhtml-webpack-plugin.\n\nEXAMPLE\n\nReplace the default template with a custom HTML template file\uff0cyou can add the\nfollowing config:\n\nexport default {\n  html: {\n    template: './static/index.html',\n  },\n};\n",frontmatter:{}},{id:36,title:"",routePath:"/builder/en/config/html/templateByEntries",toc:[{id:"example-13",text:"Example",depth:4}],content:" * Type: Object\n * Default: undefined\n\nSet different template file for different pages.\n\nThe usage is same as template, and you can use the \"entry name\" as the key to\nset each page individually.\n\ntemplateByEntries will overrides the value set in template.\n\nEXAMPLE\n\nexport default {\n  output: {\n    template: './static/index.html',\n    templateByEntries: {\n      foo: './src/pages/foo/index.html',\n      bar: './src/pages/bar/index.html',\n    },\n  },\n};\n",frontmatter:{}},{id:37,title:"",routePath:"/builder/en/config/html/templateParameters",toc:[{id:"example-11",text:"Example",depth:4}],content:" * Type: Object | Function\n * Default:\n\ntype DefaultParameters = {\n  meta: string; // corresponding to html.meta config\n  title: string; // corresponding to html.title config\n  mountId: string; // corresponding to html.mountId config\n  entryName: string; // entry name\n  assetPrefix: string; // corresponding to output.assetPrefix config\n  compilation: webpack.Compilation; // Compilation object corresponding to webpack\n  webpackConfig: config; // webpack config\n  // htmlWebpackPlugin built-in parameters\n  // See https://github.com/jantimon/html-webpack-plugin for details\n  htmlWebpackPlugin: {\n    tags: object;\n    files: object;\n    options: object;\n  };\n};\n\n\nDefine the parameters in the HTML template, corresponding to the\ntemplateParameters config of html-webpack-plugin. You can use the config as an\nobject or a function.\n\nIf it is an object, it will be merged with the default parameters. For example:\n\nexport default {\n  html: {\n    templateParameters: {\n      title: 'My App',\n    },\n  },\n};\n\n\nIf it is a function, the default parameters will be passed in, and you can\nreturn an object to override the default parameters. For example:\n\nexport default {\n  html: {\n    templateParameters: defaultParameters => {\n      console.log(defaultParameters.compilation);\n      console.log(defaultParameters.title);\n      return {\n        title: 'My App',\n      };\n    },\n  },\n};\n\n\nEXAMPLE\n\nTo use the foo parameter in the HTML template, you can add the following config:\n\nexport default {\n  html: {\n    templateParameters: {\n      foo: 'bar',\n    },\n  },\n};\n\n\nOr you can use a function to dynamically generate the parameters:\n\nexport default {\n  html: {\n    templateParameters: defaultParameters => {\n      return {\n        foo: 'bar',\n      };\n    },\n  },\n};\n\n\nThen you can use the foo parameter in the HTML template by <%= foo %>:\n\n<script>\n  window.foo = '<%= foo %>';\n<\/script>\n\n\nThe compiled HTML is:\n\n<script>window.foo = 'bar'<\/script>\n",frontmatter:{}},{id:38,title:"",routePath:"/builder/en/config/html/templateParametersByEntries",toc:[{id:"example-12",text:"Example",depth:4}],content:" * Type: Object\n * Default: undefined\n\nSet different template parameters for different pages.\n\nThe usage is same as templateParameters, and you can use the \"entry name\" as the\nkey to set each page individually.\n\ntemplateParametersByEntries will overrides the value set in templateParameters.\n\nEXAMPLE\n\nexport default {\n  html: {\n    templateParametersByEntries: {\n      foo: {\n        type: 'a',\n      },\n      bar: {\n        type: 'b',\n      },\n    },\n  },\n};\n",frontmatter:{}},{id:39,title:"",routePath:"/builder/en/config/html/title",toc:[],content:" * Type: string\n * Default: undefined\n\nSet the title tag of the HTML page, for example:\n\nexport default {\n  html: {\n    title: 'example',\n  },\n};\n",frontmatter:{}},{id:40,title:"",routePath:"/builder/en/config/html/titleByEntries",toc:[{id:"example-15",text:"Example",depth:4}],content:" * Type: Record<string, string>\n * Default: undefined\n\nSet different title for different pages.\n\nThe usage is same as title, and you can use the \"entry name\" as the key to set\neach page individually.\n\ntitleByEntries will overrides the value set in title.\n\nEXAMPLE\n\nexport default {\n  html: {\n    title: 'ByteDance',\n    titleByEntries: {\n      foo: 'TikTok',\n    },\n  },\n};\n\n\nAfter recompiling, you can see:\n\n * The title of the page foo is TikTok.\n * The title of other pages is ByteDance.",frontmatter:{}},{id:41,title:"",routePath:"/builder/en/config/output/assetPrefix",toc:[{id:"example-14",text:"Example",depth:4}],content:" * Type: boolean | string\n * Default: '/'\n\nWhen using CDN in the production environment, you can use this option to set the\nURL prefix of static assets, similar to the output.publicPath config of webpack.\n\nassetPrefix will affect the URLs of most of the static assets, including\nJavaScript files, CSS files, images, videos, etc. If an incorrect value is\nspecified, you'll receive 404 errors while loading these resources.\n\nThis config is only used in the production environment. In the development\nenvironment, please use the dev.assetPrefix to set the URL prefix.\n\nAfter setting, the URLs of JavaScript, CSS and other static files will be\nprefixed with output.assetPrefix:\n\nEXAMPLE\n\nexport default {\n  output: {\n    assetPrefix: 'https://cdn.example.com/assets/',\n  },\n};\n\n\nAfter building, you can see that the JS files are loaded from:\n\n<script\n  defer\n  src=\"https://cdn.example.com/assets/static/js/main.ebc4ff4f.js\"\n><\/script>\n",frontmatter:{}},{id:42,title:"",routePath:"/builder/en/config/output/assetsRetry",toc:[{id:"assetsretrymax",text:"assetsRetry.max",depth:3},{id:"assetsretrydomain",text:"assetsRetry.domain",depth:3},{id:"assetsretrytype",text:"assetsRetry.type",depth:3},{id:"assetsretrytest",text:"assetsRetry.test",depth:3},{id:"assetsretrycrossorigin",text:"assetsRetry.crossOrigin",depth:3},{id:"assetsretryonretry",text:"assetsRetry.onRetry",depth:3},{id:"assetsretryonsuccess",text:"assetsRetry.onSuccess",depth:3},{id:"assetsretryonfail",text:"assetsRetry.onFail",depth:3}],content:" * Type: Object\n\noutput.assetsRetry is used to configure the retry of assets.The type of\nAssetsRetryOptions is as follows:\n\nexport type AssetsRetryHookContext = {\n  times: number;\n  domain: string;\n  url: string;\n  tagName: string;\n};\n\nexport type AssetsRetryOptions = {\n  type?: string[];\n  domain?: string[];\n  max?: number;\n  test?: string | ((url: string) => boolean);\n  crossOrigin?: boolean;\n  onRetry?: (options: AssetsRetryHookContext) => void;\n  onSuccess?: (options: AssetsRetryHookContext) => void;\n  onFail?: (options: AssetsRetryHookContext) => void;\n};\n\n\nThe default value is as follows:\n\nexport const defaultAssetsRetryOptions: AssetsRetryOptions = {\n  type: ['script', 'link', 'img'],\n  domain: [],\n  max: 3,\n  test: '',\n  crossOrigin: false,\n  onRetry: () => {},\n  onSuccess: () => {},\n  onFail: () => {},\n};\n\n\n\nASSETSRETRY.MAX\n\n * Type: number\n * Default: 3\n\nThe maximum number of retries for a single asset. For example:\n\nexport default {\n  output: {\n    assetsRetry: {\n      max: 3,\n    },\n  },\n};\n\n\n\nASSETSRETRY.DOMAIN\n\n * Type: string[]\n * Default: []\n\nThe domain of the asset to be retried. For example:\n\nexport default {\n  output: {\n    assetsRetry: {\n      domain: ['https://cdn1.example.com', 'https://cdn2.example.com'],\n    },\n  },\n};\n\n\n\nASSETSRETRY.TYPE\n\n * Type: string[]\n * Default: ['script', 'link', 'img']\n\nThe type of the asset to be retried. For example:\n\nexport default {\n  output: {\n    assetsRetry: {\n      type: ['script', 'link'],\n    },\n  },\n};\n\n\n\nASSETSRETRY.TEST\n\n * Type: string | ((url: string) => boolean) | undefined\n * Default: undefined\n\nThe test function of the asset to be retried. For example:\n\nexport default {\n  output: {\n    assetsRetry: {\n      test: /cdn\\.example\\.com/,\n    },\n  },\n};\n\n\n\nASSETSRETRY.CROSSORIGIN\n\n * Type: undefined | boolean\n * Default: false\n\nWhether to add the crossOrigin attribute to the asset to be retried. For\nexample:\n\nexport default {\n  output: {\n    assetsRetry: {\n      crossOrigin: true,\n    },\n  },\n};\n\n\n\nASSETSRETRY.ONRETRY\n\n * Type: undefined | (options: AssetsRetryHookContext) => void\n\nThe callback function when the asset is being retried. For example:\n\nexport default {\n  output: {\n    assetsRetry: {\n      onRetry: ({ times, domain, url, tagName }) => {\n        console.log(\n          `Retry ${times} times, domain: ${domain}, url: ${url}, tagName: ${tagName}`,\n        );\n      },\n    },\n  },\n};\n\n\n\nASSETSRETRY.ONSUCCESS\n\n * Type: undefined | (options: AssetsRetryHookContext) => void\n\nThe callback function when the asset is successfully retried. For example:\n\nexport default {\n  output: {\n    assetsRetry: {\n      onSuccess: ({ times, domain, url, tagName }) => {\n        console.log(\n          `Retry ${times} times, domain: ${domain}, url: ${url}, tagName: ${tagName}`,\n        );\n      },\n    },\n  },\n};\n\n\n\nASSETSRETRY.ONFAIL\n\n * Type: undefined | (options: AssetsRetryHookContext) => void\n\nThe callback function when the asset is failed to be retried. For example:\n\nexport default {\n  output: {\n    assetsRetry: {\n      onFail: ({ times, domain, url, tagName }) => {\n        console.log(\n          `Retry ${times} times, domain: ${domain}, url: ${url}, tagName: ${tagName}`,\n        );\n      },\n    },\n  },\n};\n",frontmatter:{}},{id:43,title:"",routePath:"/builder/en/config/output/charset",toc:[],content:" * Type: 'ascii' | 'utf8'\n * Default: 'ascii'\n\nBy default, Builder's output is ASCII-only and will escape all non-ASCII\ncharacters.\n\nIf you want to output the original characters without using escape sequences,\nyou can set output.charset to utf8.\n\nexport default {\n  output: {\n    charset: 'utf8',\n  },\n};\n\n\nBuilder will automatically add <meta charset=\"utf-8\"> to the generated HTML\nfiles if output.charset is utf8.",frontmatter:{}},{id:44,title:"",routePath:"/builder/en/config/output/cleanDistPath",toc:[],content:" * Type: boolean\n * Default: true\n\nWhether to clean all files in the dist path before starting compilation.\n\nBy default, Builder clean up the dist file, you can disable this behavior by\nsetting cleanDistPath to false.\n\nexport default {\n  output: {\n    cleanDistPath: false,\n  },\n};\n",frontmatter:{}},{id:45,title:"",routePath:"/builder/en/config/output/convertToRem",toc:[{id:"boolean-type-1",text:"Boolean Type",depth:4},{id:"object-type-1",text:"Object Type",depth:4},{id:"example-16",text:"Example",depth:4}],content:" * Type: boolean | object\n * Default: false\n\nBy setting output.convertToRem, the Builder can do the following things:\n\n * Convert px to rem in CSS.\n * Insert runtime code into the HTML template to set the fontSize of the root\n   element.\n\nBOOLEAN TYPE\n\nIf output.convertToRem is set to true, Rem processing capability will be turned\non.\n\nexport default {\n  output: {\n    convertToRem: true,\n  },\n};\n\n\nAt this point, the rem configuration defaults as follows:\n\n{\n  enableRuntime: true,\n  rootFontSize: 50,\n  screenWidth: 375,\n  rootFontSize: 50,\n  maxRootFontSize: 64,\n  widthQueryKey: '',\n  excludeEntries: [],\n  supportLandscape: false,\n  useRootFontSizeBeyondMax: false,\n  pxtorem: {\n    rootValue: 50,\n    unitPrecision: 5,\n    propList: ['*'],\n  }\n}\n\n\nOBJECT TYPE\n\nWhen the value of output.convertToRem is object type, The Builder will perform\nRem processing based on the current configuration.\n\noptions:\n\n| Name | Type | Default | Description | | ------------------------ | ----------\n|\n--------------------------------------------------------------------------------\n------------------------------------ |\n--------------------------------------------------------------------------------\n------------------------------------------- | | enableRuntime | boolean | true |\nWhether to inject runtime code into html templates, to support dynamic\ncalculation of the font size of the root element | | rootFontSize | number | 50\n| The root element font size | | maxRootFontSize | number | 64 | The root\nelement max font size | | widthQueryKey | string | '' | Get clientWidth from the\nurl query based on widthQueryKey | | screenWidth | number | 375 | The screen\nwidth for UI design drawings\uff08Usually, fontSize = (clientWidth * rootFontSize) /\nscreenWidth\uff09 | | excludeEntries | string[] | [] | The entries to ignore | |\nsupportLandscape | boolean | false | Use height to calculate rem in landscape |\n| useRootFontSizeBeyondMax | boolean | false | Whether to use rootFontSize when\nlarge than maxRootFontSize | | pxtorem | object | rootValue (Default is the same\nas rootFontSize) unitPrecision: 5 propList: ['*'] | postcss-pxtorem options |\n\nEXAMPLE\n\nexport default {\n  output: {\n    convertToRem: {\n      rootFontSize: 30,\n      excludeEntries: ['404', 'page2'],\n      pxtorem: {\n        propList: ['font-size'],\n      },\n    },\n  },\n};\n",frontmatter:{}},{id:46,title:"",routePath:"/builder/en/config/output/copy",toc:[],content:" * Type: CopyPluginOptions | CopyPluginOptions['patterns']\n * Default: undefined\n\nCopies the specified file or directory to the dist directory.\n\nFor example, copy the files under src/assets to the dist directory:\n\nexport default {\n  output: {\n    copy: [{ from: './src/assets', to: '' }],\n  },\n};\n\n\nFor more detailed configuration, please refer to: copy-webpack-plugin.",frontmatter:{}},{id:47,title:"",routePath:"/builder/en/config/output/cssModuleLocalIdentName",toc:[{id:"default-value",text:"Default Value",depth:3},{id:"template-string",text:"Template String",depth:3},{id:"example-20",text:"Example",depth:3}],content:" * Type: string\n * Default:\n\n// isProd indicates that the production build\nconst localIdentName = isProd\n  ? '[hash:base64:5]'\n  : '[path][name]__[local]--[hash:base64:5]';\n\n\nSets the format of the className generated by CSS Modules after compilation.\n\n\nDEFAULT VALUE\n\ncssModuleLocalIdentName has different default values in development and\nproduction.\n\nIn a production, Builder will generate shorter class names to reduce the bundle\nsize.\n\n\n\n// In development, the value is `.src-index-module__header--xxxxx`\n// In production, the value is `.xxxxx`\nconsole.log(styles.header);\n\n\n\nTEMPLATE STRING\n\nYou can use the following template strings in cssModuleLocalIdentName:\n\n * [name] - the basename of the asset.\n * [local] - original class.\n * [hash] - the hash of the string.\n * [folder] - the folder relative path.\n * [path] - the relative path.\n * [file] - filename and path.\n * [ext] - extension with leading dot.\n * [hash:<hashDigest>:<hashDigestLength>]: hash with hash settings.\n\n\nEXAMPLE\n\nSet cssModuleLocalIdentName to other value:\n\nexport default {\n  output: {\n    cssModuleLocalIdentName: '[hash:base64:4]',\n  },\n};\n",frontmatter:{}},{id:48,title:"",routePath:"/builder/en/config/output/dataUriLimit",toc:[{id:"example-17",text:"Example",depth:4}],content:" * Type\n\ntype DataUriLimitConfig = {\n  svg?: number;\n  font?: number;\n  image?: number;\n  media?: number;\n};\n\n\n * Default\n\nconst defaultDatUriLimit = {\n  svg: 10000,\n  font: 10000,\n  image: 10000,\n  media: 10000,\n};\n\n\nSet the size threshold to inline static assets such as images and fonts.\n\nBy default, static assets will be Base64 encoded and inline into the page if the\nsize is less than 10KB.\n\nYou can adjust the threshold by setting the dataUriLimit config.\n\nDetail:\n\n * svg: The threshold of the SVG image.\n * font: The threshold of the font file.\n * image: The threshold of non-SVG images.\n * media: The threshold of media assets such as videos.\n\nEXAMPLE\n\nSet the threshold of images to 5000 Bytes, and set media assets not to be\ninlined:\n\nexport default {\n  output: {\n    dataUriLimit: {\n      image: 5000,\n      media: 0,\n    },\n  },\n};\n",frontmatter:{}},{id:49,title:"",routePath:"/builder/en/config/output/disableCssExtract",toc:[{id:"example-18",text:"Example",depth:3}],content:" * Type: boolean\n * Default: false\n\nWhether to disable CSS extract and inline CSS files into JS files.\n\nBy default, Builder will extract CSS into a separate .css file and output it to\nthe dist directory. When this option is set to true, CSS files will be inlined\ninto JS files and inserted on the page at runtime via <style> tags.\n\n\nEXAMPLE\n\nexport default {\n  output: {\n    disableCssExtract: true,\n  },\n};\n",frontmatter:{}},{id:50,title:"",routePath:"/builder/en/config/output/disableCssModuleExtension",toc:[{id:"example-19",text:"Example",depth:3},{id:"detailed",text:"Detailed",depth:3},{id:"disablecssmoduleextension-is-false-default",text:"disableCssModuleExtension is false (default)",depth:4},{id:"disablecssmoduleextension-is-true",text:"disableCssModuleExtension is true",depth:4}],content:" * Type: boolean\n * Default: false\n\nWhether to treat all .css files in the source directory as CSS Modules.\n\nBy default, only the *.module.css files are treated as CSS Modules. After\nenabling this config, all *.css style files in the source directory will be\nregarded as CSS Modules.\n\n.sass, .scss and .less files are also affected by disableCssModuleExtension.\n\nWe do not recommend enabling this config, because after enabling\ndisableCssModuleExtension, CSS Modules files and ordinary CSS files cannot be\nclearly distinguished, which is not conducive to long-term maintenance.\n\n\nEXAMPLE\n\nexport default {\n  output: {\n    disableCssModuleExtension: true,\n  },\n};\n\n\n\nDETAILED\n\nThe following is a detailed explanation of the CSS Modules rules:\n\nDISABLECSSMODULEEXTENSION IS FALSE (DEFAULT)\n\nThe following files are treated as CSS Modules:\n\n * all *.module.css files\n\nThe following files are treated as normal CSS:\n\n * all *.css files (excluding .module)\n * all *.global.css files\n\nDISABLECSSMODULEEXTENSION IS TRUE\n\nThe following files are treated as CSS Modules:\n\n * *.css and *.module.css files in the source directory\n * *.module.css files under node_modules\n\nThe following files are treated as normal CSS:\n\n * all *.global.css files\n * *.css files under node_modules (without .module)\n\nFor CSS Modules files inside node_modules, please always use the *.module.css\nsuffix.",frontmatter:{}},{id:51,title:"",routePath:"/builder/en/config/output/disableFilenameHash",toc:[{id:"example-21",text:"Example",depth:4}],content:" * Type: boolean\n * Default: false\n\nRemove the hash from the name of static files after production build.\n\nAfter the production build, there will be a hash in the middle of the filename\nby default. You can disable this behavior through the output.disableFilenameHash\nconfig.\n\nEXAMPLE\n\nBy default, the filename is:\n\nFile                                     Size         Gzipped\ndist/static/css/187.7879e19d.css         126.99 KB    9.17 KB\ndist/static/js/main.18a568e5.js          2.24 KB      922 B\n\n\nAdd output.disableFilenameHash config:\n\nexport default {\n  output: {\n    disableFilenameHash: true,\n  },\n};\n\n\nAfter rebuild, the filenames become:\n\nFile                            Size         Gzipped\ndist/static/css/187.css         126.99 KB    9.17 KB\ndist/static/js/main.js          2.24 KB      922 B\n",frontmatter:{}},{id:52,title:"",routePath:"/builder/en/config/output/disableInlineRuntimeChunk",toc:[],content:" * Type: boolean\n * Default: false\n\nControls whether to the inline the runtime chunk to HTML.\n\nIn production mode, the runtime chunk file will be inlined into HTML by default\nrather than written into dist directory, this can reduce the HTTP request\nnumber.\n\nThis option is used to disable that default behavior.\n\nexport default {\n  output: {\n    disableInlineRuntimeChunk: true,\n  },\n};\n",frontmatter:{}},{id:53,title:"",routePath:"/builder/en/config/output/disableMinimize",toc:[],content:" * Type: boolean\n * Default: false\n\nWhether to disable code minification in production build.\n\nBy default, JS code and CSS code are minified during production build. If you do\nnot want to minify the code, you can set disableMinimize to true.\n\nexport default {\n  output: {\n    disableMinimize: true,\n  },\n};\n",frontmatter:{}},{id:54,title:"",routePath:"/builder/en/config/output/disableSourceMap",toc:[],content:" * Type:\n\ntype DisableSourceMap =\n  | boolean\n  | {\n      js?: boolean;\n      css?: boolean;\n    };\n\n\n * Default:\n\nconst defaultDisableSourceMap = {\n  js: false,\n  css: process.env.NODE_ENV === 'production',\n};\n\n\nWhether to disable Source Map generation.\n\n:::tip What is a Source Map Source Map is an information file that saves the\nsource code mapping relationship. It records each location of the compiled code\nand the corresponding pre-compilation location. With Source Map, you can\ndirectly view the source code when debugging the compiled code. :::\n\nBy default, Builder's Source Map generation rules are:\n\n * In development build, SourceMap of JS files and CSS files will be generated,\n   which is convenient for debugging.\n * In production build, the Source Map of JS files will be generated for\n   debugging and troubleshooting online problems; the Source Map of CSS files\n   will not be generated.\n\nIf the project does not need Source Map, you can turned off it to speed up the\ncompile speed.\n\nexport default {\n  output: {\n    disableSourceMap: true,\n  },\n};\n\n\nIf you want to enable Source Map in development and disable it in the\nproduction, you can set to:\n\nexport default {\n  output: {\n    disableSourceMap: process.env.NODE_ENV === 'production',\n  },\n};\n\n\nIf you need to individually control the Source Map of JS files or CSS files, you\ncan refer to the following settings:\n\nexport default {\n  output: {\n    disableSourceMap: {\n      js: false,\n      css: true,\n    },\n  },\n};\n",frontmatter:{}},{id:55,title:"",routePath:"/builder/en/config/output/disableTsChecker",toc:[{id:"blocking-compilation",text:"Blocking Compilation",depth:3},{id:"example-23",text:"Example",depth:3}],content:" * Type: boolean\n * Default: false\n\nWhether to disable TypeScript type checker during compilation.\n\nBy default, Builder will run the TypeScript type checker in a separate process\nduring the build process. Its checking logic is consistent with TypeScript's\nnative tsc command. You can use tsconfig.json or Builder's tools.tsChecker\nconfig to customize the checking behavior.\n\n\nBLOCKING COMPILATION\n\n * In development build, type errors will not block the compilation process.\n * In production build, type errors will cause the build to fail to ensure the\n   stability of the production code.\n\n\nEXAMPLE\n\nDisable TypeScript type checker:\n\nexport default {\n  output: {\n    disableTsChecker: true,\n  },\n};\n\n\nDisable type checker in development:\n\nexport default {\n  output: {\n    disableTsChecker: process.env.NODE_ENV === 'development',\n  },\n};\n\n\nDisable type checker in production:\n\nexport default {\n  output: {\n    disableTsChecker: process.env.NODE_ENV === 'production',\n  },\n};\n\n\nIt is not recommended to disable type checker in production, which will reduce\nthe stability of the production code, please use it with caution.",frontmatter:{}},{id:56,title:"",routePath:"/builder/en/config/output/distPath",toc:[{id:"example-22",text:"Example",depth:4}],content:" * Type\n\ntype DistPathConfig = {\n  root?: string;\n  js?: string;\n  css?: string;\n  svg?: string;\n  font?: string;\n  html?: string;\n  image?: string;\n  media?: string;\n  server?: string;\n};\n\n\n * Default\n\nconst defaultDistPath = {\n  root: 'dist',\n  html: 'html',\n  js: 'static/js',\n  css: 'static/css',\n  svg: 'static/svg',\n  font: 'static/font',\n  image: 'static/image',\n  media: 'static/media',\n  server: 'bundles',\n};\n\n\nSet the directory of the dist files. Builder will output files to the\ncorresponding subdirectory according to the file type.\n\nDetail:\n\n * root: The root directory of all files.\n * html: The output directory of HTML files.\n * js: The output directory of JavaScript files.\n * css: The output directory of CSS style files.\n * svg: The output directory of SVG images.\n * font: The output directory of font files.\n * image: The output directory of non-SVG images.\n * media: The output directory of media assets, such as videos.\n * server: The output directory of server bundles when target is node.\n\nEXAMPLE\n\nThe JavaScript files will be output to the distPath.root + distPath.js\ndirectory, which is dist/static/js.\n\nIf you need to output JavaScript files to the build/resource/js directory, you\ncan add following config:\n\nexport default {\n  output: {\n    distPath: {\n      root: 'build',\n      js: 'resource/js',\n    },\n  },\n};\n",frontmatter:{}},{id:57,title:"",routePath:"/builder/en/config/output/enableAssetFallback",toc:[{id:"example-24",text:"Example",depth:4}],content:" * Type: boolean\n * Default: false\n\nIf this option is enabled, all unrecognized files will be emitted to the dist\ndirectory; otherwise, an exception will be thrown.\n\nEXAMPLE\n\nEnable the config:\n\nexport default {\n  output: {\n    enableAssetFallback: true,\n  },\n};\n\n\nImport a module of unknown type in code:\n\nimport './foo.xxx';\n\n\nAfter compilation, foo.xxx will be output to the dist/static/media directory.\n\nYou can control the output path and filename after fallback through the\noutput.distPath.media and output.filename.media configs.\n\nEnabling this config will change the rules structure in the webpack config. In\nmost cases, we do not recommend using this config.",frontmatter:{}},{id:58,title:"",routePath:"/builder/en/config/output/enableAssetManifest",toc:[{id:"example-25",text:"Example",depth:4}],content:' * Type: boolean\n * Default: false\n\nWhether to generate a manifest file that contains information of all assets.\n\nEXAMPLE\n\nEnable asset manifest:\n\nexport default {\n  output: {\n    enableAssetManifest: true,\n  },\n};\n\n\nAfter compiler, there will be a dist/manifest.json file:\n\n{\n  "files": {\n    "main.css": "/static/css/main.45b01211.css",\n    "main.js": "/static/js/main.52fd298f.js",\n    "html/main/index.html": "/html/main/index.html"\n  },\n  "entrypoints": ["static/css/main.45b01211.css", "static/js/main.52fd298f.js"]\n}\n',frontmatter:{}},{id:59,title:"",routePath:"/builder/en/config/output/enableCssModuleTSDeclaration",toc:[{id:"example-27",text:"Example",depth:4}],content:" * Type: boolean\n * Default: false\n\nWhether to generate a TypeScript declaration file for CSS modules.\n\nEXAMPLE\n\nEnable CSS module TypeScript declaration:\n\nexport default {\n  output: {\n    enableCssModuleTSDeclaration: true,\n  },\n};\n\n\nAfter building, there will be a .d.ts file for each CSS module file. For example\n\ninterface CssExports {\n  title: string;\n}\nexport const cssExports: CssExports;\nexport default cssExports;\n",frontmatter:{}},{id:60,title:"",routePath:"/builder/en/config/output/enableInlineScripts",toc:[{id:"example-26",text:"Example",depth:4}],content:" * Type: boolean\n * Default: false\n\nWhether to inline output scripts files (.js files) into HTML with <script> tags\nin production mode.\n\nNote that, with this option on, the scripts files will no longer be written in\ndist directory, they will only exist inside the HTML file instead.\n\nEXAMPLE\n\nBy default, we have following output files:\n\ndist/html/main/index.html\ndist/static/css/style.css\ndist/static/js/main.js\n\n\nAfter turn on the output.enableInlineScripts option:\n\nexport default {\n  output: {\n    enableInlineScripts: true,\n  },\n};\n\n\nThe output files will become:\n\ndist/html/main/index.html\ndist/static/css/style.css\n\n\nAnd dist/static/js/main.js will be inlined in index.html:\n\n<html>\n  <body>\n    <script>\n      // content of dist/static/js/main.js\n    <\/script>\n  </body>\n</html>\n",frontmatter:{}},{id:61,title:"",routePath:"/builder/en/config/output/enableInlineStyles",toc:[{id:"example-28",text:"Example",depth:4}],content:" * Type: boolean\n * Default: false\n\nWhether to inline output style files (.css files) into HTML with <style> tags in\nproduction mode.\n\nNote that, with this option on, the style files will no longer be written in\ndist directory, they will only exist inside the HTML file instead.\n\nEXAMPLE\n\nBy default, we have following output files:\n\ndist/html/main/index.html\ndist/static/css/style.css\ndist/static/js/main.js\n\n\nAfter turn on the output.enableInlineStyles option:\n\nexport default {\n  output: {\n    enableInlineStyles: true,\n  },\n};\n\n\nThe output files will become:\n\ndist/html/main/index.html\ndist/static/js/main.js\n\n\nAnd dist/static/css/style.css will be inlined in index.html:\n\n<html>\n  <head>\n    <style>\n      /* content of dist/static/css/style.css */\n    </style>\n  </head>\n  <body>\n  </body>\n</html>\n",frontmatter:{}},{id:62,title:"",routePath:"/builder/en/config/output/enableLatestDecorators",toc:[],content:" * Type: boolean\n * Default: false\n\nWhether to use the new decorator proposal.\n\nBy default, Builder uses the legacy decorator proposal when compiling\ndecorators.\n\nWhen output.enableLatestDecorators is set to true, the Builder will compile with\nthe new decorator proposal (version 2018-09).\n\nexport default {\n  output: {\n    enableLatestDecorators: true,\n  },\n};\n",frontmatter:{}},{id:63,title:"",routePath:"/builder/en/config/output/externals",toc:[{id:"example-31",text:"Example",depth:4}],content:" * Type: string | object | function | RegExp\n\n * Default: undefined\n\nAt build time, prevent some import dependencies from being packed into bundles\nin your code, and instead fetch them externally at runtime.\n\nFor more information, please see: webpack Externals\n\nEXAMPLE\n\nExclude the react-dom dependency from the build product. To get this module at\nruntime, the value of react-dom will globally retrieve the ReactDOM variable.\n\nexport default {\n  output: {\n    externals: {\n      'react-dom': 'ReactDOM',\n    },\n  },\n};\n\n\nWhen the build target is Web Worker, externals will not take effect. This is\nbecause the Worker environment can not access global variables.",frontmatter:{}},{id:64,title:"",routePath:"/builder/en/config/output/filename",toc:[{id:"example-30",text:"Example",depth:4}],content:" * Type\n\ntype FilenameConfig = {\n  js?: string;\n  css?: string;\n  svg?: string;\n  font?: string;\n  image?: string;\n  media?: string;\n};\n\n\n * Default\n\n// Development\nconst devDefaultFilename = {\n  js: '[name].js',\n  css: '[name].css',\n  svg: '[name].[contenthash:8].svg',\n  font: '[name].[contenthash:8][ext]',\n  image: '[name].[contenthash:8][ext]',\n  media: '[name].[contenthash:8][ext]',\n};\n\n// Production\nconst prodDefaultFilename = {\n  js: '[name].[contenthash:8].js',\n  css: '[name].[contenthash:8].css',\n  svg: '[name].[contenthash:8].svg',\n  font: '[name].[contenthash:8][ext]',\n  image: '[name].[contenthash:8][ext]',\n  media: '[name].[contenthash:8][ext]',\n};\n\n\nSets the filename of dist files.\n\nAfter the production build, there will be a hash in the middle of the filename\nby default. You can disable this behavior through the output.disableFilenameHash\nconfig.\n\nDetail:\n\n * js: The name of the JavaScript file.\n * css: The name of the CSS style file.\n * svg: The name of the SVG image.\n * font: The name of the font file.\n * image: The name of a non-SVG image.\n * media: The name of a media asset, such as a video.\n\nEXAMPLE\n\nSet the name of the JavaScript file to [name]_script.js:\n\nexport default {\n  output: {\n    filename: {\n      js:\n        process.env.NODE_ENV === 'production'\n          ? '[name]_script.[contenthash:8].js'\n          : '[name]_script.js',\n    },\n  },\n};\n",frontmatter:{}},{id:65,title:"",routePath:"/builder/en/config/output/legalComments",toc:[{id:"example-29",text:"Example",depth:4}],content:" * Type : 'linked' | 'inline' | 'none'\n * Default: 'linked'\n\nConfigure how to handle the legal comment.\n\nA \"legal comment\" is considered to be any statement-level comment in JS or\nrule-level comment in CSS that contains @license or @preserve or that starts\nwith //! or /*!. These comments are preserved in output files by default since\nthat follows the intent of the original authors of the code.\n\nThis behavior can be configured by using one of the following options:\n\n * linked: Extract all legal comments to a .LEGAL.txt file and link to them with\n   a comment.\n * inline: Preserve all legal comments in original position.\n * none: Remove all legal comments.\n\nEXAMPLE\n\nRemove all legal comments:\n\nexport default {\n  output: {\n    legalComments: 'none',\n  },\n};\n",frontmatter:{}},{id:66,title:"",routePath:"/builder/en/config/output/overrideBrowserslist",toc:[{id:"priority",text:"Priority",depth:4},{id:"default-value-1",text:"Default Value",depth:4},{id:"example-32",text:"Example",depth:4},{id:"set-according-to-targets",text:"Set according to Targets",depth:4}],content:" * Type: string[] | Record<BuilderTarget, string[]\n * Default: undefined\n\nSpecifies the range of target browsers that the project is compatible with. This\nvalue will be used by @babel/preset-env and autoprefixer to identify the\nJavaScript syntax that need to be transformed and the CSS browser prefixes that\nneed to be added.\n\nPRIORITY\n\nThe overrideBrowserslist config will override the .browserslistrc config file in\nthe project and the browserslist field in package.json.\n\nIn most cases, it is recommended to use the .browserslistrc file rather than the\noverrideBrowserslist config. Because the .browserslistrc file is the official\nconfig file, it is more general and can be recognized by other libraries in the\ncommunity.\n\nDEFAULT VALUE\n\nIf there is no browserslist configs defined in the project, nor\noverrideBrowserslist defined, then Builder will set the default browserslist to:\n\n['> 0.01%', 'not dead', 'not op_mini all'];\n\n\nEXAMPLE\n\nAn example compatible with mobile scenarios:\n\nexport default {\n  output: {\n    overrideBrowserslist: [\n      'iOS 9',\n      'Android 4.4',\n      'last 2 versions',\n      '> 0.2%',\n      'not dead',\n    ],\n  },\n};\n\n\nCheck out the browserslist documentation to learn more about browserslist.\n\nSET ACCORDING TO TARGETS\n\nWhen you build multiple targets at the same time, you can set different browser\nranges for different targets. At this point, you need to set\noverrideBrowserslist to an object whose key is the corresponding build target.\n\nFor example to set different ranges for web and node:\n\nexport default {\n  output: {\n    overrideBrowserslist: {\n      web: ['iOS 9', 'Android 4.4', 'last 2 versions', '> 0.2%', 'not dead'],\n      node: ['node >= 14'],\n    },\n  },\n};\n",frontmatter:{}},{id:67,title:"",routePath:"/builder/en/config/output/polyfill",toc:[{id:"config",text:"Config",depth:3},{id:"entry",text:"entry",depth:4},{id:"usage",text:"usage",depth:4},{id:"ua",text:"ua",depth:4},{id:"off",text:"off",depth:4}],content:" * Type: 'entry' | 'usage' | 'ua' | 'off'\n * Default: 'entry'\n\nVia output.polyfill you can configure how the polyfill is injected.\n\n\nCONFIG\n\nENTRY\n\nPolyfill is injected in every entry file when output.polyfill is configured as\n'entry'.\n\nEquivalent to useBuiltIns: 'entry' configuration in @babel/preset-env.\n\nUSAGE\n\nPolyfill is injected in each file based on the API used in the code.\n\nEquivalent to useBuiltIns: 'usage' configuration in @babel/preset-env.\n\nUA\n\nThe Polyfill code is dynamically delivered according to the currently requested\nUA information.\n\nOFF\n\nPolyfill is not injected. When using this option, you need to ensure code\ncompatibility yourself.",frontmatter:{}},{id:68,title:"",routePath:"/builder/en/config/output/svgDefaultExport",toc:[],content:" * Type: url | component\n * Default: url\n\noutput.svgDefaultExport is used to configure the default export type of SVG\nfiles.\n\nWhen output.svgDefaultExport is set to url , the default export of SVG files is\nthe URL of the file. For example:\n\n\n\nconsole.log(logo); // => asset url\n\n\nWhen output.svgDefaultExport is set to component , the default export of SVG\nfiles is the React component of the file. For example:\n\n\n\nconsole.log(Logo); // => React Component\n\n\nAt this time, you can also specify the ?url query to import the URL, for\nexample:\n\n\n\nconsole.log(logo); // => asset url\n",frontmatter:{}},{id:69,title:"",routePath:"/builder/en/config/performance/buildCache",toc:[],content:" * Type\n\ntype BuildCacheConfig =\n  | {\n      /**\n       * Base directory for the filesystem cache.\n       */\n      cacheDirectory?: string;\n    }\n  | boolean;\n\n\n * Default:\n\nconst defaultBuildCacheConfig = {\n  cacheDirectory: './node_modules/.cache/webpack',\n};\n\n\nControls the Builder's caching behavior during the build process.\n\nBuilder will enable build cache by default to improve the compile speed, the\ngenerated cache files are write to the ./node_modules/.cache/webpack directory\nby default.\n\nYou can configure the cache path with buildCache, e.g.\n\nexport default {\n  performance: {\n    buildCache: {\n      cacheDirectory: './node_modules/.custom_cache/webpack',\n    },\n  },\n};\n\n\nYou can also disable the build cache by setting it to false:\n\nexport default {\n  performance: {\n    buildCache: false,\n  },\n};\n",frontmatter:{}},{id:70,title:"",routePath:"/builder/en/config/performance/bundleAnalyze",toc:[],content:" * Type: Object | undefined\n\nYou have two ways to enable webpack-bundle-analyzer to analyze the size of\noutput files:\n\n * Add environment variable BUNDLE_ANALYZE=true.\n * Add performance.bundleAnalyze config.\n\nBy default, webpack-bundle-analyzer is not enabled. When enabled, its\nconfiguration is as follows:\n\n{\n  analyzerMode: 'static',\n  openAnalyzer: false,\n  // `target` is the compilation target, such as `web`, `node`, etc.\n  reportFilename: `report-${target}.html`,\n}\n\n\nYou can override the default config through performance.bundleAnalyze, for\nexample:\n\nexport default {\n  performance: {\n    bundleAnalyze: {\n      analyzerMode: 'server',\n      openAnalyzer: true,\n    },\n  },\n};\n",frontmatter:{}},{id:71,title:"",routePath:"/builder/en/config/performance/chunkSplit",toc:[{id:"chunksplitstrategy",text:"chunkSplit.strategy",depth:3},{id:"chunksplitminsize",text:"chunkSplit.minSize",depth:3},{id:"chunksplitmaxsize",text:"chunkSplit.maxSize",depth:3},{id:"chunksplitforcesplitting",text:"chunkSplit.forceSplitting",depth:3},{id:"chunksplitsplitchunks",text:"chunkSplit.splitChunks",depth:3},{id:"chunksplitoverride",text:"chunkSplit.override",depth:3}],content:" * Type: Object\n * Default: { strategy: 'split-by-experience' }\n\nperformance.chunkSplit is used to configure the chunk splitting strategy. The\ntype of ChunkSplit is as follows:\n\ninterface BaseChunkSplit {\n  strategy?:\n    | 'split-by-module'\n    | 'split-by-experience'\n    | 'all-in-one'\n    | 'single-vendor';\n  override?: SplitChunks;\n  forceSplitting?: Array<RegExp>;\n}\n\ninterface SplitBySize {\n  strategy?: 'split-by-size';\n  minSize?: number;\n  maxSize?: number;\n  override?: SplitChunks;\n  forceSplitting?: Array<RegExp>;\n}\n\ninterface SplitCustom {\n  strategy?: 'custom';\n  splitChunks?: SplitChunks;\n  forceSplitting?: Array<RegExp>;\n}\n\nexport type ChunkSplit = BaseChunkSplit | SplitBySize | SplitCustom;\n\n\n\nCHUNKSPLIT.STRATEGY\n\nBuilder provides the following chunk splitting strategies:\n\n * split-by-experience: split by experience, the default strategy\n * split-by-module: split a chunk per npm package\n * split-by-size: split by chunk size\n * all-in-one: all code is bundled into a single chunk\n * single-vendor: The code in node_modules is bundled into a single chunk\n * custom: custom chunk splitting strategy\n\nBuilder use split-by-experience strategy by default, in which the following npm\npackage group will be split into a single chunk:\n\n * react and react-dom\n * react-router\u3001history and react-router-dom\n * antd component library\n * semi component library\n * arco component library\n * @babel/runtime (including @babel/runtime-corejs2\u3001 @babel/runtime-corejs3)\n * lodash\u3001lodash-es\n * core-js\n\nIf you want to use other splitting strategies, you can specify it via\nperformance.chunkSplit.strategy.\n\n\nCHUNKSPLIT.MINSIZE\n\n * Type: number\n * Default: 10000\n\nWhen performance.chunkSplit.strategy is split-by-size, you can specify the\nminimum size of a chunk via performance.chunkSplit.minSize, the unit is bytes.\nThe default value is 10000. For example:\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-size',\n      minSize: 20000,\n    },\n  },\n};\n\n\n\nCHUNKSPLIT.MAXSIZE\n\n * Type: number\n * Default: Infinity\n\nWhen performance.chunkSplit.strategy is split-by-size, you can specify the\nmaximum size of a chunk via performance.chunkSplit.maxSize, the unit is bytes.\nThe default value is Infinity. For example:\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-size',\n      maxSize: 50000,\n    },\n  },\n};\n\n\n\nCHUNKSPLIT.FORCESPLITTING\n\n * Type: Array<RegExp>\n * Default: []\n\nVia performance.chunkSplit.forceSplitting, you can specify the NPM packages that\nneed to be forced to split. For example:\n\nexport default {\n  performance: {\n    chunkSplit: {\n      forceSplitting: [/^@arco-design\\/web-react/],\n    },\n  },\n};\n\n\nThis is an easier way than configuring webpack's splitChunks directly.\n\n\nCHUNKSPLIT.SPLITCHUNKS\n\nWhen performance.chunkSplit.strategy is custom, you can specify the custom\nwebpack chunk splitting config via performance.chunkSplit.splitChunks. This\nconfig will be merged with the webpack splitChunks config (the cacheGroups\nconfig will also be merged). For example:\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'custom',\n      splitChunks: {\n        cacheGroups: {\n          react: {\n            test: /[\\\\/]node_modules[\\\\/](react|react-dom)[\\\\/]/,\n            name: 'react',\n            chunks: 'all',\n          },\n        },\n      },\n    },\n  },\n};\n\n\n\nCHUNKSPLIT.OVERRIDE\n\nWhen performance.chunkSplit.strategy is split-by-experience, split-by-module,\nsplit-by-size or single-vendor, you can specify the custom webpack chunk\nsplitting config via performance.chunkSplit.override. This config will be merged\nwith the webpack splitChunks config (the cacheGroups config will also be\nmerged). For example:\n\nexport default {\n  performance: {\n    strategy: 'split-by-experience',\n    chunkSplit: {\n      override: {\n        cacheGroups: {\n          react: {\n            test: /[\\\\/]node_modules[\\\\/](react|react-dom)[\\\\/]/,\n            name: 'react',\n            chunks: 'all',\n          },\n        },\n      },\n    },\n  },\n};\n\n\n> When the Builder target is \"node\", since Node Bundles do not need to be\n> splitted to optimize loading performance, the chunkSplit rule will not take\n> effect.",frontmatter:{}},{id:72,title:"",routePath:"/builder/en/config/performance/printFileSize",toc:[{id:"example-33",text:"Example",depth:4}],content:" * Type: boolean\n * Default: true\n\nWhether to print the file sizes after production build.\n\ninfo    File sizes after production build:\n\n  File                                     Size         Gzipped\n  dist/static/js/lib-corejs.1c836fe7.js    212.89 kB    66.57 kB\n  dist/static/js/lib-react.fcafbc5c.js     134.65 kB    43.45 kB\n  dist/static/js/main.6ff06f70.js          8.93 kB      3.73 kB\n  dist/static/css/main.9f48031b.css        2.64 kB      927 B\n  dist/html/main/index.html                1.64 kB      874 B\n\n\nEXAMPLE\n\nDisable the logs:\n\nexport default {\n  performance: {\n    printFileSize: false,\n  },\n};\n",frontmatter:{}},{id:73,title:"",routePath:"/builder/en/config/performance/profile",toc:[{id:"example-34",text:"Example",depth:4}],content:" * Type: boolean\n * Default: false\n\nWhether capture timing information for each module, same as the profile config\nof webpack.\n\nEXAMPLE\n\nexport default {\n  performance: {\n    profile: true,\n  },\n};\n\n\nWhen turned on, webpack generates a JSON file with some statistics about the\nmodule that includes information about timing information for each module.",frontmatter:{}},{id:74,title:"",routePath:"/builder/en/config/performance/removeConsole",toc:[{id:"remove-all-consoles",text:"Remove all consoles",depth:4},{id:"remove-specific-console",text:"Remove specific console",depth:4}],content:" * Type: boolean | ConsoleType[]\n * Default: false\n\nWhether to remove console.xx in production build.\n\nREMOVE ALL CONSOLES\n\nWhen removeConsole is set to true, all types of console.xx are removed:\n\nexport default {\n  performance: {\n    removeConsole: true,\n  },\n};\n\n\nREMOVE SPECIFIC CONSOLE\n\nYou can also specify to remove only certain types of console.xx, such as\nconsole.log and console.warn:\n\nexport default {\n  performance: {\n    removeConsole: ['log', 'warn'],\n  },\n};\n\n\nThe following types of console are currently supported:\n\ntype ConsoleType = 'log' | 'info' | 'warn' | 'error' | 'table' | 'group';\n",frontmatter:{}},{id:75,title:"",routePath:"/builder/en/config/performance/removeMomentLocale",toc:[],content:" * Type: boolean\n * Default: false\n\nWhether to remove the locales of moment.js.\n\nmoment.js contains a lot of locales by default, which will increase the bundle\nsize.\n\nWhen moment.js is used in the project, it is recommended to enable this option\nto automatically exclude all locales:\n\nexport default {\n  performance: {\n    removeMomentLocale: true,\n  },\n};\n\n\nOnce enabled, you can load a specific locale via:\n\n\nimport 'moment/locale/zh-cn';\n\nmoment.locale('zh-cn');\n",frontmatter:{}},{id:76,title:"",routePath:"/builder/en/config/security/sri",toc:[{id:"introduce-sri",text:"Introduce SRI",depth:4},{id:"example-35",text:"Example",depth:4}],content:' * Type:\n\ntype SRIOptions = {\n  hashFuncNames?: []string;\n  enabled?: "auto" | true | false;\n  hashLoading?: "eager" | "lazy";\n} | boolean;\n\n\n * Default: undefined\n\nAdding an integrity attribute (integrity) to sub-resources introduced by HTML\nallows the browser to verify the integrity of the introduced resource, thus\npreventing tampering with the downloaded resource.\n\nEnabling this option will set the webpack output.crossOriginLoading\nconfiguration item to anonymous.\n\nINTRODUCE SRI\n\nSubresource Integrity (SRI) is a security feature that enables browsers to\nverify that resources they fetch (for example, from a CDN) are delivered without\nunexpected manipulation. It works by allowing you to provide a cryptographic\nhash that a fetched resource must match.\n\nFor script tags, the result is to refuse to execute the code; for CSS links, the\nresult is not to load the styles.\n\nFor more on subresource integrity, see Subresource Integrity - MDN.\n\nEXAMPLE\n\nBy default, SRI is not turned on, and when it is, its default configuration is\nas follows:\n\n{\n  hashFuncNames: [\'sha384\'];\n  enabled: "auto",\n  hashLoading: "eager",\n}\n\n\nYou can customize the configuration items according to your own needs:\n\nexport default {\n  security: {\n    sri: {\n      hashFuncNames: [\'sha-256\'],\n      enabled: true,\n      hashLoading: \'lazy\',\n    },\n  },\n};\n',frontmatter:{}},{id:77,title:"",routePath:"/builder/en/config/source/alias",toc:[{id:"object-type-2",text:"Object Type",depth:4},{id:"function-type",text:"Function Type",depth:4}],content:" * Type: Record<string, string | string[]> | Function\n * Default: undefined\n\nCreate aliases to import or require certain modules, same as the resolve.alias\nconfig of webpack.\n\nFor TypeScript projects, you only need to configure compilerOptions.paths in\ntsconfig.json, Builder will automatically recognize the aliases in\ntsconfig.json, so the alias config is unnecessary.\n\nOBJECT TYPE\n\nThe alias can be an Object, and the relative path will be automatically\nconverted to absolute path.\n\nexport default {\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n};\n\n\nWith above configuration, if @common/Foo.tsx is import in the code, it will be\nmapped to the <root>/src/common/Foo.tsx path.\n\nFUNCTION TYPE\n\nThe alias can be a function, it will accept the previous alias object, and you\ncan modify it.\n\nexport default {\n  source: {\n    alias: alias => {\n      alias['@common'] = './src/common';\n    },\n  },\n};\n\n\nYou can also return a new object as the final result in the function, which will\nreplace the previous alias object.\n\nexport default {\n  source: {\n    alias: alias => {\n      return {\n        '@common': './src/common',\n      };\n    },\n  },\n};\n",frontmatter:{}},{id:78,title:"",routePath:"/builder/en/config/source/compileJsDataURI",toc:[{id:"example-36",text:"Example",depth:4}],content:" * Type: boolean\n * Default: true\n\nWhether to compile JavaScript code imported via Data URI.\n\nSuch as:\n\n\n\nimport 'data:text/javascript;charset=utf-8;base64,Y29uc29sZS5sb2coJ2lubGluZSAxJyk7';\n\n\nEXAMPLE\n\nAdd the following config to disable:\n\nexport default {\n  source: {\n    compileJsDataURI: false,\n  },\n};\n",frontmatter:{}},{id:79,title:"",routePath:"/builder/en/config/source/define",toc:[{id:"example-38",text:"Example",depth:4}],content:" * Type: Record<string, unknown>\n * Default: {}\n\nReplaces variables in your code with other values or expressions at compile\ntime. This can be useful for allowing different behavior between development\nbuilds and production builds.\n\nEach key passed into options is an identifier or multiple identifiers joined\nwith ..\n\n * If the value is a string it will be used as a code fragment.\n * If the value isn't a string, it will be stringified (including functions).\n * If the value is an object all keys are defined the same way.\n * If you prefix typeof to the key, it's only defined for typeof calls.\n\nFor more information please visit https://webpack.js.org/plugins/define-plugin/.\n\nEXAMPLE\n\nexport default {\n  source: {\n    define: {\n      PRODUCTION: JSON.stringify(true),\n      VERSION: JSON.stringify('5fa3b9'),\n      BROWSER_SUPPORTS_HTML5: true,\n      TWO: '1 + 1',\n      'typeof window': JSON.stringify('object'),\n      'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV),\n      'import.meta': { test: undefined },\n    },\n  },\n};\n\n\nExpressions will be replaced with the corresponding code fragments:\n\nconst foo = TWO;\n\n// \u2b07\ufe0f Turn into being...\nconst foo = 1 + 1;\n",frontmatter:{}},{id:80,title:"",routePath:"/builder/en/config/source/exclude",toc:[],content:" * Type: Array<string | RegExp>\n * Default: []\n\nSpecifies JavaScript/TypeScript files that do not need to be compiled. The usage\nis consistent with Rule.exclude in webpack, which supports passing in strings or\nregular expressions to match the module path.\n\nFor example:\n\n\n\nexport default {\n  source: {\n    exclude: [path.resolve(__dirname, 'src/module-a'), /src\\/module-b/],\n  },\n};\n",frontmatter:{}},{id:81,title:"",routePath:"/builder/en/config/source/globalVars",toc:[{id:"example-37",text:"Example",depth:4}],content:" * Type: Record<string, JSONValue>\n * Default:\n\nconst defaultGlobalVars = {\n  // The environment variable `process.env.NODE_ENV` will be added by default,\n  // so you don't need to set it in manually.\n  'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV),\n};\n\n\nDefine global variables. It can replace expressions like process.env.FOO in your\ncode after compile. Such as:\n\nconsole.log(process.env.NODE_ENV);\n\n// \u2b07\ufe0f Turn into being...\nconsole.log('development');\n\n\nDoesn't works with destructuring assignment, because builder does not know if\nNODE_ENV and process.env.NODE_ENV are associated:\n\nconst { NODE_ENV } = process.env;\nconsole.log(NODE_ENV);\n// \u274c Won't get a string.\n\n\nYou can take source.globalVars as the syntax sugar of source.define, the only\ndifference is that source.globalVars will automatically stringify the value,\nwhich makes it easier to set the value of global variables. The values of\nglobalVars should be JSON-safe to ensure it can be serialized.\n\nexport default {\n  source: {\n    globalVars: {\n      'process.env.BUILD_VERSION': '0.0.1',\n      'import.meta.foo': { bar: 42 },\n      'import.meta.baz': false,\n    },\n    define: {\n      'process.env.BUILD_VERSION': JSON.stringify('0.0.1'),\n      'import.meta': {\n        foo: JSON.stringify({ bar: 42 }),\n        baz: JSON.stringify(false),\n      },\n    },\n  },\n};\n\n\nEXAMPLE\n\nAdd the following config to use:\n\nexport default {\n  source: {\n    globalVars: {\n      ENABLE_VCONSOLE: true,\n      APP_CONTEXT: { answer: 42 },\n    },\n  },\n};\n",frontmatter:{}},{id:82,title:"",routePath:"/builder/en/config/source/include",toc:[{id:"typical-example",text:"Typical Example",depth:3},{id:"monorepo-project",text:"Monorepo Project",depth:3},{id:"precautions",text:"Precautions",depth:3}],content:" * Type: Array<string | RegExp>\n * Default: []\n\nIn order to maintain faster compilation speed, Builder will not compile\nJavaScript/TypeScript files under node_modules through babel-loader or ts-loader\nby default, as will as the JavaScript/TypeScript files outside the current\nproject directory.\n\nThrough the source.include config, you can specify directories or modules that\nneed additional compilation. The usage is consistent with Rule.include in\nwebpack, which supports passing in strings or regular expressions to match the\nmodule path.\n\nFor example:\n\n\n\nexport default {\n  source: {\n    include: [path.resolve(__dirname, '../other-dir')],\n  },\n};\n\n\n\nTYPICAL EXAMPLE\n\nA typical usage scenario is to compile files under node_modules, because some\nthird-party dependencies have ES6+ syntax, which may cause them to fail to run\non low-version browsers. You can solve the problem by using this config to\nspecify the dependencies that need to be compiled. Take query-string as an\nexample, you can add the following config:\n\n\n\nexport default {\n  source: {\n    include: [\n      // Method 1:\n      // First get the path of the module by require.resolve\n      // Then pass path.dirname to point to the corresponding directory\n      path.dirname(require.resolve('query-string')),\n      // Method 2:\n      // Match by regular expression\n      // All paths containing `/query-string/` will be matched\n      /\\/query-string\\//,\n    ],\n  },\n};\n\n\n> Note that this config will only compile the code of query-string itself, not\n> the sub-dependencies of query-string. If you need to compile a sub-dependency\n> of query-string, you need to add the corresponding npm package to\n> source.include.\n\n\nMONOREPO PROJECT\n\nWhen using Monorepo, if you need to refer to the source code of other libraries\nin Monorepo, you can add the corresponding library to source.include:\n\n\n\nexport default {\n  source: {\n    include: [\n      // Method 1:\n      // Compile all files in Monorepo's package directory\n      path.resolve(__dirname, '../../packages'),\n\n      // Method 2:\n      // Compile the source code of a package in Monorepo's package directory\n      // This way of writing matches the range more accurately and has less impact on the overall build performance.\n      path.resolve(__dirname, '../../packages/xxx/src'),\n    ],\n  },\n};\n\n\n\nPRECAUTIONS\n\nNote that Babel cannot compile CommonJS modules by default. When you use\nsource.include to compile CommonJS modules, you need to set Babel's sourceType\nconfig to unambiguous:\n\nexport default {\n  tools: {\n    babel(config) {\n      config.sourceType = 'unambiguous';\n    },\n  },\n};\n\n\nSetting sourceType to unambiguous may have some other effects, please refer to\nBabel official documentation.",frontmatter:{}},{id:83,title:"",routePath:"/builder/en/config/source/moduleScopes",toc:[{id:"example-39",text:"Example",depth:4},{id:"array-type",text:"Array Type",depth:4},{id:"function-type-1",text:"Function Type",depth:4}],content:" * Type: Array<string | Regexp> | Function\n * Default: undefined\n\nRestrict importing paths. After configuring this option, all source files can\nonly import code from the specific paths, and import code from other paths is\nnot allowed.\n\nEXAMPLE\n\nFirst, we configure moduleScopes to only include the src directory:\n\nexport default {\n  source: {\n    moduleScopes: ['./src'],\n  },\n};\n\n\nThen we import the utils/a module outside the src directory in src/App.tsx:\n\n\n\nAfter compiling, there will be a reference path error:\n\n\n\nIf we configure the utils directory in moduleScopes, the error will disappear.\n\nexport default {\n  source: {\n    moduleScopes: ['./src', './utils'],\n  },\n};\n\n\nARRAY TYPE\n\nYou can directly set several paths like this:\n\nexport default {\n  source: {\n    moduleScopes: ['./src', './shared', './utils'],\n  },\n};\n\n\nFUNCTION TYPE\n\nmoduleScopes also supports setting as a function, which can be modified instead\nof overriding the default value:\n\nexport default {\n  source: {\n    moduleScopes: scopes => {\n      scopes.push('./shared');\n    },\n  },\n};\n",frontmatter:{}},{id:84,title:"",routePath:"/builder/en/config/source/preEntry",toc:[{id:"add-a-single-script",text:"Add a single script",depth:4},{id:"add-global-style",text:"Add global style",depth:4},{id:"add-multiple-scripts",text:"Add multiple scripts",depth:4}],content:" * Type: string | string[]\n * Default: undefined\n\nAdd a script before the entry file of each page. This script will be executed\nbefore the page code. It can be used to execute global logics, such as injecting\npolyfills, setting global styles, etc.\n\nADD A SINGLE SCRIPT\n\nFirst create a src/polyfill.ts file:\n\nconsole.log('I am a polyfill');\n\n\nThen configure src/polyfill.ts to source.preEntry:\n\nexport default {\n  source: {\n    preEntry: './src/polyfill.ts',\n  },\n};\n\n\nRe-run the compilation and visit any page, you can see that the code in\nsrc/polyfill.ts has been executed, and the I am a polyfill is logged in the\nconsole.\n\nADD GLOBAL STYLE\n\nYou can also configure the global style through source.preEntry, this CSS code\nwill be loaded earlier than the page code, such as introducing a normalize.css\nfile:\n\nexport default {\n  source: {\n    preEntry: './src/normalize.css',\n  },\n};\n\n\nADD MULTIPLE SCRIPTS\n\nYou can add multiple scripts by setting preEntry to an array, and they will be\nexecuted in array order:\n\nexport default {\n  source: {\n    preEntry: ['./src/polyfill-a.ts', './src/polyfill-b.ts'],\n  },\n};\n",frontmatter:{}},{id:85,title:"",routePath:"/builder/en/config/source/resolveExtensionPrefix",toc:[{id:"example-41",text:"Example",depth:4},{id:"set-according-to-targets-2",text:"Set according to Targets",depth:4}],content:" * Type: string | Record<BuilderTarget, string>\n * Default: undefined\n\nAdd a prefix to resolve.extensions.\n\nIf multiple files share the same name but have different extensions, Builder\nwill resolve the one with the extension listed first in the array and skip the\nrest.\n\nEXAMPLE\n\nexport default {\n  source: {\n    resolveExtensionPrefix: '.web',\n  },\n};\n\n\nWith the configuration above, the extensions array will become:\n\n// before\nconst extensions = ['.js', '.ts', ...];\n\n// after\nconst extensions = ['.web.js', '.js', '.web.ts' , '.ts', ...];\n\n\nWhen import './foo' in the code, the foo.web.js file will be resolved first,\nthen the foo.js file.\n\nSET ACCORDING TO TARGETS\n\nWhen you build multiple targets at the same time, you can set different\nextension prefix for different targets. At this point, you need to set\nresolveExtensionPrefix to an object whose key is the corresponding build target.\n\nFor example to set different extension prefix for web and node:\n\nexport default {\n  output: {\n    source: {\n      resolveExtensionPrefix: {\n        web: '.web',\n        node: '.node',\n      },\n    },\n  },\n};\n\n\nWhen import './foo' in the code, the foo.node.js file will be resolved for node\ntarget, and the foo.web.js file will be resolved for web target.",frontmatter:{}},{id:86,title:"",routePath:"/builder/en/config/source/resolveMainFields",toc:[{id:"example-40",text:"Example",depth:4},{id:"set-according-to-targets-1",text:"Set according to Targets",depth:4}],content:" * Type:\n\ntype Fields = (string | string[])[];\n\ntype ResolveMainFields = Fields | Record<BuilderTarget, Fields>;\n\n\n * Default: undefined\n\nThis config will determine which field of package.json you use to import the npm\nmodule. Same as the resolve.mainFields config of webpack.\n\nEXAMPLE\n\nexport default {\n  source: {\n    resolveMainFields: ['main', 'browser', 'exports'],\n  },\n};\n\n\nSET ACCORDING TO TARGETS\n\nWhen you build multiple targets at the same time, you can set different\nmainFields for different targets. At this point, you need to set\nresolveMainFields to an object whose key is the corresponding build target.\n\nFor example to set different mainFields for web and node:\n\nexport default {\n  output: {\n    source: {\n      resolveMainFields: {\n        web: ['main', 'browser', 'exports'],\n        node: ['main', 'node', 'exports'],\n      },\n    },\n  },\n};\n",frontmatter:{}},{id:87,title:"",routePath:"/builder/en/config/tools/autoprefixer",toc:[{id:"object-type-3",text:"Object Type",depth:3},{id:"function-type-2",text:"Function Type",depth:3}],content:" * Type: Object | Function\n * Default\n\n{\n  flexbox: 'no-2009',\n  // Depends on the browserslist config in the project\n  // and the `output.overrideBrowserslist` (higher priority) config\n  overrideBrowserslist: browserslist,\n}\n\n\nYou can modify the config of autoprefixer by tools.autoprefixer.\n\n\nOBJECT TYPE\n\nWhen tools.autoprefixer is configured as Object type, it is merged with the\ndefault config through Object.assign. For example:\n\nexport default {\n  tools: {\n    autoprefixer: {\n      flexbox: 'no-2009',\n    },\n  },\n};\n\n\n\nFUNCTION TYPE\n\nWhen tools.autoprefixer is a Function, the default config is passed as the first\nparameter and can be directly modified or returned as the final result. For\nexample:\n\nexport default {\n  tools: {\n    autoprefixer(config) {\n      // modify flexbox config\n      config.flexbox = 'no-2009';\n    },\n  },\n};\n",frontmatter:{}},{id:88,title:"",routePath:"/builder/en/config/tools/babel",toc:[{id:"function-type-4",text:"Function Type",depth:3},{id:"object-type-5",text:"Object Type",depth:3},{id:"util-functions",text:"Util Functions",depth:3},{id:"addplugins",text:"addPlugins",depth:4},{id:"addpresets",text:"addPresets",depth:4},{id:"removeplugins",text:"removePlugins",depth:4},{id:"removepresets",text:"removePresets",depth:4},{id:"addincludes",text:"addIncludes",depth:4},{id:"addexcludes",text:"addExcludes",depth:4},{id:"modifypresetenvoptions",text:"modifyPresetEnvOptions",depth:4},{id:"modifypresetreactoptions",text:"modifyPresetReactOptions",depth:4}],content:" * Type: Object | Function\n * Default: undefined\n\nBy tools.babel you can modify the options of babel-loader.\n\n\nFUNCTION TYPE\n\nWhen tools.babel's type is Function\uff0cthe default babel config will be passed in\nas the first parameter, the config object can be modified directly, or a value\ncan be returned as the final result. The second parameter provides some util\nfunctions that can be called directly:\n\nexport default {\n  tools: {\n    babel(config) {\n      // Add a babel plugin\n      // note: the plugin have been added to the default config to support antd load on demand\n      config.plugins.push([\n        'babel-plugin-import',\n        {\n          libraryName: 'xxx-components',\n          libraryDirectory: 'es',\n          style: true,\n        },\n      ]);\n    },\n  },\n};\n\n\n\nOBJECT TYPE\n\nWhen tools.babel's type is Object, the config will be merged with default config\nby Object.assign. Note that Object.assign is a shallow copy and will completely\noverwrite the built-in presets or plugins array, please use it with caution.\n\nexport default {\n  tools: {\n    babel: {\n      plugins: [\n        [\n          'babel-plugin-import',\n          {\n            libraryName: 'xxx-components',\n            libraryDirectory: 'es',\n            style: true,\n          },\n        ],\n      ],\n    },\n  },\n};\n\n\n\nUTIL FUNCTIONS\n\nWhen tools.babel is a Function, the tool functions available for the second\nparameter are as follows:\n\nADDPLUGINS\n\n * Type: (plugins: BabelPlugin[]) => void\n\nAdd some Babel plugins. For example:\n\nexport default {\n  tools: {\n    babel(config, { addPlugins }) {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          {\n            libraryName: 'xxx-components',\n            libraryDirectory: 'es',\n            style: true,\n          },\n        ],\n      ]);\n    },\n  },\n};\n\n\nADDPRESETS\n\n * Type: (presets: BabelPlugin[]) => void\n\nAdd Babel preset configuration. (No need to add presets in most cases)\n\nexport default {\n  tools: {\n    babel(config, { addPresets }) {\n      addPresets(['@babel/preset-env']);\n    },\n  },\n};\n\n\nREMOVEPLUGINS\n\n * Type: (plugins: string | string[]) => void\n\nTo remove the Babel plugin, just pass in the name of the plugin to be removed,\nyou can pass in a single string or an array of strings.\n\nexport default {\n  tools: {\n    babel(config, { removePlugins }) {\n      removePlugins('babel-plugin-import');\n    },\n  },\n};\n\n\nREMOVEPRESETS\n\n * Type: (presets: string | string[]) => void\n\nTo remove the Babel preset configuration, pass in the name of the preset to be\nremoved, you can pass in a single string or an array of strings.\n\nexport default {\n  tools: {\n    babel(config, { removePresets }) {\n      removePresets('@babel/preset-env');\n    },\n  },\n};\n\n\nADDINCLUDES\n\n * Type: (includes: string | RegExp | (string | RegExp)[]) => void\n\nBy default, Babel will only compile the application code in the src directory.\nWith addIncludes you can specify that Babel compile some files in node_modules.\nFor example:\n\nexport default {\n  tools: {\n    babel(config, { addIncludes }) {\n      addIncludes('node_modules/xxx-components');\n    },\n  },\n};\n\n\nNote that Babel cannot compile CommonJS modules by default. When you use\nsource.include to compile CommonJS modules, you need to set Babel's sourceType\nconfig to unambiguous:\n\nexport default {\n  tools: {\n    babel(config) {\n      config.sourceType = 'unambiguous';\n    },\n  },\n};\n\n\nSetting sourceType to unambiguous may have some other effects, please refer to\nBabel official documentation.\n\nBuilder provides a more general source.include config than addIncludes, and it\nis recommended to use this configuration item first.\n\nADDEXCLUDES\n\n * Type: (excludes: string | RegExp | (string | RegExp)[]) => void\n\nContrary to addIncludes, specifies that certain files are excluded from Babel's\ncompilation.\n\nFor example, without compiling files in the src/example directory:\n\nexport default {\n  tools: {\n    babel(config, { addExcludes }) {\n      addExcludes('src/example');\n    },\n  },\n};\n\n\nMODIFYPRESETENVOPTIONS\n\n * Type: (options: PresetEnvOptions) => void\n\nModify the configuration of @babel/preset-env, the configuration you pass in\nwill be shallowly merged with default config. For example:\n\nexport default {\n  tools: {\n    babel(config, { modifyPresetEnvOptions }) {\n      modifyPresetEnvOptions({\n        targets: {\n          browsers: ['last 2 versions'],\n        },\n      });\n    },\n  },\n};\n\n\nMODIFYPRESETREACTOPTIONS\n\n * Type: (options: PresetReactOptions) => void\n\nModify the configuration of @babel/preset-react, the configuration you pass in\nwill be shallowly merged with default config. For example:\n\nexport default {\n  tools: {\n    babel(config, { modifyPresetReactOptions }) {\n      modifyPresetReactOptions({\n        pragma: 'React.createElement',\n      });\n    },\n  },\n};\n",frontmatter:{}},{id:89,title:"",routePath:"/builder/en/config/tools/cssExtract",toc:[{id:"object-type-4",text:"Object Type",depth:3},{id:"function-type-3",text:"Function Type",depth:3}],content:" * Type: Object | Function\n * Default:\n\nconst defaultOptions = {\n  // The loader options\n  loaderOptions: {},\n  // The plugin options\n  pluginOptions: {\n    // The default value of cssPath is `static/css`\n    // while the default value of cssFilename is `[name].[contenthash:8].css`\n    filename: `${cssPath}/${cssFilename}`,\n    chunkFilename: `${cssPath}/async/${cssFilename}`,\n    ignoreOrder: true,\n  },\n};\n\n\nThe config of mini-css-extract-plugin can be modified through tools.cssExtract.\n\n\nOBJECT TYPE\n\nWhen this value is an Object, it is merged with the default config via\nObject.assign. For example:\n\nexport default {\n  tools: {\n    cssExtract: {\n      pluginOptions: {\n        filename: 'static/css/[name].[contenthash:8].css',\n      },\n    },\n  },\n};\n\n\n\nFUNCTION TYPE\n\nWhen the value a Function, the default config is passed in as the first\nparameter. You can modify the config object directly, or return an object as the\nfinal config. For example:\n\nexport default {\n  tools: {\n    cssExtract: config => {\n      config.pluginOptions.filename = 'static/css/[name].[contenthash:8].css';\n      return config;\n    },\n  },\n};\n\n\nFor more config details, please refer to mini-css-extract-plugin.",frontmatter:{}},{id:90,title:"",routePath:"/builder/en/config/tools/cssLoader",toc:[{id:"object-type-6",text:"Object Type",depth:3},{id:"function-type-5",text:"Function Type",depth:3}],content:" * Type: Object | Function\n * Default: undefined\n\nThe config of css-loader can be modified through tools.cssLoader. The default\nconfig is as follows:\n\n{\n  importLoaders: 1,\n  modules: {\n    auto: true,\n    exportLocalsConvention: 'camelCase',\n    localIdentName: config.output.cssModuleLocalIdentName,\n    // isServer indicates node (SSR) build\n    // isWebWorker indicates web worker build\n    exportOnlyLocals: isServer || isWebWorker,\n  },\n  // CSS Source Map enabled by default in development environment\n  sourceMap: isDev,\n}\n\n\n\nOBJECT TYPE\n\nWhen this value is an Object, it is merged with the default config via deep\nmerge. For example:\n\nexport default {\n  tools: {\n    cssLoader: {\n      modules: {\n        exportOnlyLocals: true,\n      },\n    },\n  },\n};\n\n\n\nFUNCTION TYPE\n\nWhen the value is a Function, the default config is passed in as the first\nparameter. You can modify the config object directly, or return an object as the\nfinal config. For example:\n\nexport default {\n  tools: {\n    cssLoader: config => {\n      config.modules.exportOnlyLocals = true;\n      return config;\n    },\n  },\n};\n",frontmatter:{}},{id:91,title:"",routePath:"/builder/en/config/tools/devServer",toc:[{id:"options-1",text:"Options",depth:3},{id:"after",text:"after",depth:4},{id:"before",text:"before",depth:4},{id:"client",text:"client",depth:4},{id:"devmiddleware",text:"devMiddleware",depth:4},{id:"headers",text:"headers",depth:4},{id:"historyapifallback",text:"historyApiFallback",depth:4},{id:"hot",text:"hot",depth:4},{id:"https",text:"https",depth:4},{id:"livereload",text:"liveReload",depth:4},{id:"setupmiddlewares",text:"setupMiddlewares",depth:4},{id:"proxy",text:"proxy",depth:4},{id:"watch",text:"watch",depth:4}],content:" * Type: Object\n * Default: {}\n\nThe config of DevServer can be modified through tools.devServer.\n\n\nOPTIONS\n\nAFTER\n\n * Type: Array\n * Default: []\n\nProvides the ability to execute custom middleware after all other middleware\ninternally within the server.\n\nexport default {\n  tools: {\n    devServer: {\n      after: [\n        async (req, res, next) => {\n          console.log('after dev middleware');\n          next();\n        },\n      ],\n    },\n  },\n};\n\n\nBEFORE\n\n * Type: Array\n * Default: []\n\nProvides the ability to execute custom middleware prior to all other middleware\ninternally within the server.\n\nexport default {\n  tools: {\n    devServer: {\n      before: [\n        async (req, res, next) => {\n          console.log('before dev middleware');\n          next();\n        },\n      ],\n    },\n  },\n};\n\n\nCLIENT\n\n * Type:\n\n{\n    /** Specify a protocol to use */\n    protocol?: string;\n    /** The path which the middleware is serving the event stream on */\n    path?: string;\n    /** Specify a port number to listen for requests on */\n    port?: string;\n    /** Specify a host to use */\n    host?: string;\n}\n\n\n * Default:\n\n{\n    path: '/webpack-hmr',\n    port: '8080',\n    host: networkAddress || 'localhost',\n}\n\n\nThe config of hmr client.\n\nDEVMIDDLEWARE\n\n * Type:\n\n{\n  writeToDisk: boolean | ((filename: string) => boolean);\n}\n\n\n * Default:\n\n{\n  writeToDisk: (file: string) => !file.includes('.hot-update.'),\n}\n\n\nThe config of devMiddleware. Current options is the subset of\nwebpack-dev-middleware.\n\nHEADERS\n\n * Type: Record<string, string>\n * Default: undefined\n\nAdds headers to all responses.\n\nexport default {\n  tools: {\n    devServer: {\n      headers: {\n        'X-Custom-Foo': 'bar',\n      },\n    },\n  },\n};\n\n\nHISTORYAPIFALLBACK\n\n * Type: boolean | ConnectHistoryApiFallbackOptions\n * Default: false\n\nThe index.html page will likely have to be served in place of any 404 responses.\nEnable devServer.historyApiFallback by setting it to true:\n\nexport default {\n  tools: {\n    devServer: {\n      historyApiFallback: true,\n    },\n  },\n};\n\n\nFor more options and information, see the connect-history-api-fallback\ndocumentation.\n\nHOT\n\n * Type: boolean\n * Default: true\n\nEnable Hot Module Replacement feature.\n\nHTTPS\n\n * Type: boolean | { key: string; cert: string }\n * Default: false\n\nBy default, DevServer will be served over HTTP. It can optionally be served over\nHTTPS by setting devServer.https to true, and will disable the HTTP server.\n\nYou can also manually pass in the certificate and corresponding private key\nrequired by the HTTPS server:\n\nexport default {\n  tools: {\n    devServer: {\n      https: {\n        key: fs.readFileSync('certificates/private.pem'),\n        cert: fs.readFileSync('certificates/public.pem'),\n      },\n    },\n  },\n};\n\n\nLIVERELOAD\n\n * Type: boolean\n * Default: true\n\nBy default, the DevServer will reload/refresh the page when file changes are\ndetected\uff08devServer.hot option must be disabled in order for liveReload to take\neffect\uff09. Disable devServer.liveReload by setting it to false.\n\nSETUPMIDDLEWARES\n\n * Type:\n\nArray<\n  (\n    middlewares: {\n      unshift: (...handlers: RequestHandler[]) => void;\n      push: (...handlers: RequestHandler[]) => void;\n    },\n    server: {\n      sockWrite: (\n        type: string,\n        data?: string | boolean | Record<string, any>,\n      ) => void;\n    },\n  ) => void\n>;\n\n\n * Default: undefined\n\nProvides the ability to execute a custom function and apply custom middlewares.\n\nThe order among several different types of middleware is: devServer.before =>\nunshift => internal middlewares => push => devServer.after.\n\nexport default {\n  tools: {\n    devServer: {\n      setupMiddlewares: [\n        (middlewares, server) => {\n          middlewares.unshift((req, res, next) => {\n            next();\n          });\n\n          middlewares.push((req, res, next) => {\n            next();\n          });\n        },\n      ],\n    },\n  },\n};\n\n\nIt is possible to use some server api to meet special scenario requirements:\n\n * sockWrite. Allow send some message to hmr client, and then the hmr client\n   will take different actions depending on the message type. If you send a\n   \"content changed\" message, the page will reload.\n\nexport default {\n  tools: {\n    devServer: {\n      setupMiddlewares: [\n        (middlewares, server) => {\n          // add custom watch & trigger page reload when change\n          watcher.on('change', changed => {\n            server.sockWrite('content-changed');\n          });\n        },\n      ],\n    },\n  },\n};\n\n\nPROXY\n\n * Type: Record<string, string> | Record<string, ProxyDetail>\n * Default: undefined\n\nProxying some URLs.\n\nexport default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': 'http://localhost:3000',\n      },\n    },\n  },\n};\n\n\nA request to /api/users will now proxy the request to\nhttp://localhost:3000/api/users.\n\nIf you don't want /api to be passed along, we need to rewrite the path:\n\nexport default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': {\n          target: 'http://localhost:3000',\n          pathRewrite: { '^/api': '' },\n        },\n      },\n    },\n  },\n};\n\n\nThe DevServer Proxy makes use of the http-proxy-middleware package. Check out\nits documentation for more advanced usages.\n\nThe full type definition of DevServer Proxy is:\n\n\n\ntype ProxyDetail = HttpProxyOptions & {\n  bypass?: (\n    req: IncomingMessage,\n    res: ServerResponse,\n    proxyOptions: ProxyOptions,\n  ) => string | undefined | null | false;\n  context?: string | string[];\n};\n\ntype ProxyOptions =\n  | Record<string, string>\n  | Record<string, ProxyDetail>\n  | ProxyDetail[]\n  | ProxyDetail;\n\n\nIn addition to the http-proxy-middleware option, we also support the bypass and\ncontext configuration:\n\n * bypass\uff1abypass the proxy based on the return value of a function.\n   * Return null or undefined to continue processing the request with proxy.\n   * Return false to produce a 404 error for the request.\n   * Return a path to serve from, instead of continuing to proxy the request.\n * context\uff1aIf you want to proxy multiple, specific paths to the same target, you\n   can use an array of one or more objects with a context property.\n\n// custom bypass\nexport default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': {\n          target: 'http://localhost:3000',\n          bypass: function (req, res, proxyOptions) {\n            if (req.headers.accept.indexOf('html') !== -1) {\n              console.log('Skipping proxy for browser request.');\n              return '/index.html';\n            }\n          },\n        },\n      },\n    },\n  },\n};\n\n\n// proxy multiple\nexport default {\n  tools: {\n    devServer: {\n      proxy: [\n        {\n          context: ['/auth', '/api'],\n          target: 'http://localhost:3000',\n        },\n      ],\n    },\n  },\n};\n\n\nWATCH\n\n * Type: boolean\n * Default: true\n\nWhether to watch files change in directories such as mock/, server/, api/.",frontmatter:{}},{id:92,title:"",routePath:"/builder/en/config/tools/htmlPlugin",toc:[{id:"object-type-7",text:"Object Type",depth:3},{id:"function-type-6",text:"Function Type",depth:3},{id:"boolean-type-2",text:"Boolean Type",depth:3}],content:" * Type: false | Object | Function\n * Default:\n\nconst defaultHtmlPluginOptions = {\n  inject, // corresponding to the html.inject config\n  favicon, // corresponding to html.favicon config\n  filename, // generated based on output.distPath and entryName\n  template, // defaults to the built-in HTML template path\n  templateParameters, // corresponding to the html.templateParameters config\n  chunks: [entryName],\n  minify: {\n    removeComments: false,\n    useShortDoctype: true,\n    keepClosingSlash: true,\n    collapseWhitespace: true,\n    removeRedundantAttributes: true,\n    removeScriptTypeAttributes: true,\n    removeStyleLinkTypeAttributes: true,\n  },\n};\n\n\nThe configs of html-webpack-plugin can be modified through tools.htmlPlugin.\n\n\nOBJECT TYPE\n\nWhen tools.htmlPlugin is Object type, the value will be merged with the default\nconfig via Object.assign.\n\nexport default {\n  tools: {\n    htmlPlugin: {\n      scriptLoading: 'blocking',\n    },\n  },\n};\n\n\n\nFUNCTION TYPE\n\nWhen tools.htmlPlugin is a Function:\n\n * The first parameter is the default config, which can be modified directly.\n * The second parameter is also an object, containing the entry name and the\n   entry value.\n * The Function can return a new object as the final config.\n\nexport default {\n  tools: {\n    htmlPlugin(config, { entryName, entryValue }) {\n      if (entryName === 'main') {\n        config.scriptLoading = 'blocking';\n      }\n    },\n  },\n};\n\n\n\nBOOLEAN TYPE\n\nThe built-in html-webpack-plugin plugins can be disabled by set tools.htmlPlugin\nto false.\n\nexport default {\n  tools: {\n    htmlPlugin: false,\n  },\n};\n",frontmatter:{}},{id:93,title:"",routePath:"/builder/en/config/tools/inspector",toc:[{id:"object-type-9",text:"Object Type",depth:3},{id:"function-type-8",text:"Function Type",depth:3}],content:" * Type: Object | Function | undefined\n * Default: undefined\n\nYou can enable or configure the webpack inspector through tools.inspector.\n\nWhen the configuration is not undefined, it means that webpack-inspector is\nenabled, and the type of tools.inspector can be Object or Function.\n\n\nOBJECT TYPE\n\nWhen tools.inspector is configured with type Object, it is merged with the\ndefault configuration via Object.assign. For example:\n\nexport default {\n  tools: {\n    inspector: {\n      // The default port is 3333\n      port: 3334,\n    },\n  },\n};\n\n\n\nFUNCTION TYPE\n\nWhen tools.inspector is a Function, the default configuration is passed as the\nfirst parameter and can be directly modified or returned as the final result.\nFor example:\n\nexport default {\n  tools: {\n    inspector(config) {\n      config.port = 3334;\n    },\n  },\n};\n",frontmatter:{}},{id:94,title:"",routePath:"/builder/en/config/tools/less",toc:[{id:"object-type-8",text:"Object Type",depth:3},{id:"function-type-7",text:"Function Type",depth:3},{id:"util-function",text:"Util Function",depth:3},{id:"addexcludes-1",text:"addExcludes",depth:4}],content:" * Type: Object | Function\n * Default:\n\nconst defaultOptions = {\n  lessOptions: {\n    javascriptEnabled: true,\n  },\n  // CSS Source Map enabled by default in development environment\n  sourceMap: isDev,\n};\n\n\nYou can modify the config of less-loader via tools.less.\n\n\nOBJECT TYPE\n\nWhen tools.less is configured as Object type, it is merged with the default\nconfig through Object.assign in a shallow way. It should be noted that\nlessOptions is merged through deepMerge in a deep way. For example:\n\nexport default {\n  tools: {\n    less: {\n      lessOptions: {\n        javascriptEnabled: false,\n      },\n    },\n  },\n};\n\n\n\nFUNCTION TYPE\n\nWhen tools.less is a Function, the default config is passed as the first\nparameter, which can be directly modified or returned as the final result. The\nsecond parameter provides some utility functions that can be called directly.\nFor example:\n\nexport default {\n  tools: {\n    less(config) {\n      // Modify the config of lessOptions\n      config.lessOptions = {\n        javascriptEnabled: false,\n      };\n    },\n  },\n};\n\n\n\nUTIL FUNCTION\n\nADDEXCLUDES\n\n * Type: (excludes: RegExp | RegExp[]) => void\n\nUsed to specify which files less-loader does not compile, You can pass in one or\nmore regular expressions to match the path of less files, for example:\n\nexport default {\n  tools: {\n    less(config, { addExcludes }) {\n      addExcludes(/node_modules/);\n    },\n  },\n};\n",frontmatter:{}},{id:95,title:"",routePath:"/builder/en/config/tools/minifyCss",toc:[{id:"object-type-11",text:"Object Type",depth:3},{id:"function-type-10",text:"Function Type",depth:3}],content:" * Type: Object | Function | undefined\n * Default:\n\nconst defaultOptions = {\n  minimizerOptions: {\n    preset: [\n      'default',\n      {\n        mergeLonghand: false,\n      },\n    ],\n  },\n};\n\n\nWhen building for production, Builder will minimize the CSS code through\ncss-minimizer-webpack-plugin. The config of css-minimizer-webpack-plugin can be\nmodified via tools.minifyCss.\n\n\nOBJECT TYPE\n\nWhen tools.minifyCss is Object type, it will be merged with the default config\nvia Object.assign.\n\nFor example, modify the preset config of cssnano:\n\nexport default {\n  tools: {\n    minifyCss: {\n      minimizerOptions: {\n        preset: require.resolve('cssnano-preset-simple'),\n      },\n    },\n  },\n};\n\n\n\nFUNCTION TYPE\n\nWhen tools.minifyCss is Function type, the default config is passed in as the\nfirst parameter, the config object can be modified directly, or a value can be\nreturned as the final result.\n\nexport default {\n   tools: {\n    minifyCss: options => {\n      options.minimizerOptions = {\n        preset: require.resolve('cssnano-preset-simple'),\n      },\n    }\n  }\n};\n",frontmatter:{}},{id:96,title:"",routePath:"/builder/en/config/tools/postcss",toc:[{id:"function-type-9",text:"Function Type",depth:3},{id:"object-type-10",text:"Object Type",depth:3},{id:"util-functions-1",text:"Util Functions",depth:3},{id:"addplugins-1",text:"addPlugins",depth:4}],content:" * Type: Object | Function\n * Default:\n\nconst defaultOptions = {\n  postcssOptions: {\n    plugins: [\n      require('postcss-flexbugs-fixes'),\n      require('postcss-custom-properties'),\n      require('postcss-initial'),\n      require('postcss-page-break'),\n      require('postcss-font-variant'),\n      require('postcss-media-minmax'),\n      require('postcss-nesting'),\n      require('autoprefixer')({\n        flexbox: 'no-2009',\n      }),\n    ],\n    // CSS Source Map enabled by default in development environment\n    sourceMap: isDev,\n  },\n};\n\n\nBuilder integrates PostCSS by default, you can configure postcss-loader through\ntools.postcss.\n\n\nFUNCTION TYPE\n\nWhen the value is a Function, the internal default config is passed as the first\nparameter, and the config object can be modified directly without returning, or\nan object can be returned as the final result; the second parameter is a set of\ntool functions for modifying the postcss-loader config.\n\nFor example, you need to add a PostCSS plugin on the basis of the original\nplugin, and push a new plugin to the postcssOptions.plugins array:\n\nexport default {\n  tools: {\n    postcss: opts => {\n      opts.postcssOptions.plugins.push(require('postcss-px-to-viewport'));\n    },\n  },\n};\n\n\nWhen you need to pass parameters to the PostCSS plugin, you can pass them in by\nfunction parameters:\n\nexport default {\n  tools: {\n    postcss: opts => {\n      const viewportPlugin = require('postcss-px-to-viewport')({\n        viewportWidth: 375,\n      });\n      opts.postcssOptions.plugins.push(viewportPlugin);\n    },\n  },\n};\n\n\ntools.postcss can return a config object and completely replace the default\nconfig:\n\nexport default {\n  tools: {\n    postcss: () => {\n      return {\n        postcssOptions: {\n          plugins: [require('postcss-px-to-viewport')],\n        },\n      };\n    },\n  },\n};\n\n\n\nOBJECT TYPE\n\nWhen this value is an Object, it is merged with the default config via\nObject.assign. Note that Object.assign is a shallow copy and will completely\noverwrite the built-in presets or plugins array, please use it with caution.\n\nexport default {\n  tools: {\n    postcss: {\n      // Because `Object.assign` is used, the default postcssOptions will be overwritten.\n      postcssOptions: {\n        plugins: [require('postcss-px-to-viewport')],\n      },\n    },\n  },\n};\n\n\n\nUTIL FUNCTIONS\n\nADDPLUGINS\n\n * Type: (plugins: PostCSSPlugin | PostCSSPlugin[]) => void\n\nFor adding additional PostCSS plugins, You can pass in a single PostCSS plugin,\nor an array of PostCSS plugins.\n\nexport default {\n  tools: {\n    postcss: (config, { addPlugins }) => {\n      // Add a PostCSS Plugin\n      addPlugins(require('postcss-preset-env'));\n      // Add multiple PostCSS Plugins\n      addPlugins([require('postcss-preset-env'), require('postcss-import')]);\n    },\n  },\n};\n\n\nBuilder uses the PostCSS v8 version. When you use third-party PostCSS plugins,\nplease pay attention to whether the PostCSS version is compatible. Some legacy\nplugins may not work in PostCSS v8.",frontmatter:{}},{id:97,title:"",routePath:"/builder/en/config/tools/pug",toc:[{id:"boolean-type-3",text:"Boolean Type",depth:3},{id:"object-type-12",text:"Object Type",depth:3},{id:"function-type-11",text:"Function Type",depth:3}],content:" * Type: true | Object | Function | undefined\n * Default: false\n\nConfigure the Pug template engine.\n\n\nBOOLEAN TYPE\n\nPug template engine is not enabled by default, you can enable it by setting\ntools.pug to true.\n\nexport default {\n  tools: {\n    pug: true,\n  },\n};\n\n\nWhen enabled, you can use index.pug as the template file in html.template\nconfig.\n\n\nOBJECT TYPE\n\nWhen tools.terser is Object type, you can passing the Pug options:\n\nexport default {\n  tools: {\n    pug: {\n      doctype: 'xml',\n    },\n  },\n};\n\n\nFor detailed options, please refer to Pug API Reference.\n\n\nFUNCTION TYPE\n\nWhen tools.pug is Function type, the default configuration is passed in as the\nfirst parameter, the configuration object can be modified directly, or a value\ncan be returned as the final result.\n\nexport default {\n  tools: {\n    pug(config) {\n      config.doctype = 'xml';\n    },\n  },\n};\n",frontmatter:{}},{id:98,title:"",routePath:"/builder/en/config/tools/sass",toc:[{id:"object-type-13",text:"Object Type",depth:3},{id:"function-type-12",text:"Function Type",depth:3},{id:"utility-function",text:"Utility Function",depth:3},{id:"addexcludes-2",text:"addExcludes",depth:4}],content:" * Type: Object | Function\n * Default:\n\nconst defaultOptions = {\n  // CSS Source Map enabled by default in development environment\n  sourceMap: isDev,\n};\n\n\nYou can modify the config of sass-loader via tools.sass.\n\n\nOBJECT TYPE\n\nWhen tools.sass is Object type, it is merged with the default config through\nObject.assign. It should be noted that sassOptions is merged through deepMerge\nin a deep way.\n\nFor example:\n\nexport default {\n  tools: {\n    sass: {\n      sourceMap: true,\n    },\n  },\n};\n\n\n\nFUNCTION TYPE\n\nWhen tools.sass is a Function, the default config is passed as the first\nparameter, which can be directly modified or returned as the final result. The\nsecond parameter provides some utility functions that can be called directly.\nFor Example:\n\nexport default {\n  tools: {\n    sass(config) {\n      // Modify sourceMap config\n      config.additionalData = async (content, loaderContext) => {\n        // ...\n      };\n    },\n  },\n};\n\n\n\nUTILITY FUNCTION\n\nADDEXCLUDES\n\n * Type: (excludes: RegExp | RegExp[]) => void\n\nUsed to specify which files sass-loader does not compile, You can pass in one or\nmore regular expressions to match the path of sass files, for example:\n\nexport default {\n  tools: {\n    sass(config, { addExcludes }) {\n      addExcludes(/node_modules/);\n    },\n  },\n};\n",frontmatter:{}},{id:99,title:"",routePath:"/builder/en/config/tools/styleLoader",toc:[{id:"object-type-14",text:"Object Type",depth:3},{id:"function-type-13",text:"Function Type",depth:3}],content:" * Type: Object | Function\n * Default: {}\n\nThe config of style-loader can be set through tools.styleLoader.\n\nIt is worth noting that Builder does not enable style-loader by default. You can\nuse output.disableCssExtract config to enable it\u3002\n\n\nOBJECT TYPE\n\nWhen this value is an Object, it is merged with the default config via\nObject.assign. For example:\n\nexport default {\n  tools: {\n    styleLoader: {\n      loaderOptions: {\n        insert: 'head',\n      },\n    },\n  },\n};\n\n\n\nFUNCTION TYPE\n\nWhen the value is a Function, the default config is passed in as the first\nparameter. You can modify the config object directly, or return an object as the\nfinal config. For example:\n\nexport default {\n  tools: {\n    styleLoader: config => {\n      config.loaderOptions.insert = 'head';\n      return config;\n    },\n  },\n};\n",frontmatter:{}},{id:100,title:"",routePath:"/builder/en/config/tools/styledComponents",toc:[],content:" * Type: Object | Function\n * Default\n\n{\n  pure: true,\n  displayName: true,\n  // `isSSR` is true in SSR build\n  ssr: isSSR,\n  transpileTemplateLiterals: true,\n}\n\n\ntools.styledComponents config is corresponding to\nbabel-plugin-styled-components.\n\nWhen the value is an Object, use the Object.assign function to merge with the\ndefault config. For example:\n\nexport default {\n  tools: {\n    styledComponents: {\n      pure: false,\n    },\n  },\n};\n\n\nWhen the config is a Function, the first parameter is the default configuration,\nand the second parameter provides some utility functions that can be called\ndirectly:\n\nexport default {\n  tools: {\n    styledComponents(config) {\n      config.pure = false;\n    },\n  },\n};\n",frontmatter:{}},{id:101,title:"",routePath:"/builder/en/config/tools/terser",toc:[{id:"object-type-15",text:"Object Type",depth:3},{id:"function-type-14",text:"Function Type",depth:3}],content:" * Type: Object | Function | undefined\n * Default:\n\nconst defaultTerserOptions = {\n  terserOptions: {\n    mangle: {\n      safari10: true,\n    },\n  },\n};\n\n\nWhen building for production, Builder will minimize the JavaScript code through\nterser-webpack-plugin. The config of terser-webpack-plugin can be modified via\ntools.terser.\n\n\nOBJECT TYPE\n\nWhen tools.terser is Object type, it will be merged with the default config via\nObject.assign.\n\nFor example, to exclude some files from minification:\n\nexport default {\n  tools: {\n    terser: {\n      exclude: /\\/excludes/,\n    },\n  },\n};\n\n\n\nFUNCTION TYPE\n\nWhen tools.terser is Function type, the default config is passed in as the first\nparameter, the config object can be modified directly, or a value can be\nreturned as the final result.\n\nexport default {\n  tools: {\n    terser: opts => {\n      opts.exclude = /\\/excludes/;\n    },\n  },\n};\n",frontmatter:{}},{id:102,title:"",routePath:"/builder/en/config/tools/tsChecker",toc:[{id:"object-type-17",text:"Object Type",depth:3},{id:"function-type-16",text:"Function Type",depth:3}],content:" * Type: Object | Function\n * Default:\n\nconst defaultOptions = {\n  typescript: {\n    // avoid OOM issue\n    memoryLimit: 8192,\n    // use tsconfig of user project\n    configFile: tsconfigPath,\n    // use typescript of user project\n    typescriptPath: require.resolve('typescript'),\n  },\n  issue: {\n    exclude: [\n      { file: '**/*.(spec|test).ts' },\n      { file: '**/node_modules/**/*' },\n    ],\n  },\n  logger: {\n    log() {\n      // do nothing\n      // we only want to display error messages\n    },\n    error(message: string) {\n      console.error(message.replace(/ERROR/g, 'Type Error'));\n    },\n  },\n},\n\n\nBy default, the fork-ts-checker-webpack-plugin is enabled for type checking. You\ncan use output.disableTsChecker config to disable it.\n\n\nOBJECT TYPE\n\nWhen this value is an Object, it is merged with the default config via\nObject.assign.\n\n\nFUNCTION TYPE\n\nWhen the value is a Function, the default config is passed in as the first\nparameter. You can modify the config object directly, or return an object as the\nfinal config.",frontmatter:{}},{id:103,title:"",routePath:"/builder/en/config/tools/tsLoader",toc:[{id:"object-type-16",text:"Object Type",depth:3},{id:"function-type-15",text:"Function Type",depth:3},{id:"util-functions-2",text:"Util Functions",depth:3},{id:"addincludes-1",text:"addIncludes",depth:4},{id:"addexcludes-3",text:"addExcludes",depth:4}],content:' * Type\uff1a Object | Function | undefined\n * Default:undefined\n\nts-loader is not enabled by default in the project. When tools.tsLoader is not\nundefined, builder will use ts-loader instead of babel-loader to compile\nTypeScript code.\n\n\nOBJECT TYPE\n\nWhen this value is an Object, it is merged with the default configuration via\nObject.assign.\n\nThe default configuration is as follows:\n\n{\n  "compilerOptions": {\n    "target": "es5",\n    "module": "ESNext"\n  },\n  "transpileOnly": true,\n  "allowTsInNodeModules": true\n}\n\n\nYou can override the default configuration via the tools.tsLoader configuration\nitem:\n\nexport default {\n  tools: {\n    tsLoader: {\n      allowTsInNodeModules: false,\n    },\n  },\n};\n\n\n\nFUNCTION TYPE\n\nWhen this value is a Function, the default configuration is passed in as the\nfirst parameter, the configuration object can be modified directly, or an object\ncan be returned as the final configuration.The second parameter is the util\nfunctions to modify the ts-loader configuration. For example:\n\nexport default {\n  tools: {\n    tsLoader: opts => {\n      opts.allowTsInNodeModules = false;\n    },\n  },\n};\n\n\n\nUTIL FUNCTIONS\n\nWhen the value of tools.tsLoader is a Function, the utils functions available\nfor the second parameter are as follows:\n\nADDINCLUDES\n\nType: (includes: string | RegExp | Array<string | RegExp>) => void\n\nBy default, only the application code in the src directory will be compiled. Use\naddIncludes to specify ts-loader to compile some files under node_modules. For\nexample:\n\nexport default {\n  tools: {\n    tsLoader: (config, { addIncludes }) => {\n      addIncludes([/node_modules\\/react/]);\n    },\n  },\n};\n\n\nADDEXCLUDES\n\nType: (excludes: string | RegExp | Array<string | RegExp>) => void\n\nContrary to addIncludes, specify ts-loader to exclude certain files when\ncompiling.\n\nFor example, without compiling files in the src/example directory:\n\nexport default {\n  tools: {\n    tsLoader: (config, { addExcludes }) => {\n      addExcludes([/src\\/example\\//]);\n    },\n  },\n};\n',frontmatter:{}},{id:104,title:"",routePath:"/builder/en/config/tools/webpack",toc:[{id:"object-type-18",text:"Object Type",depth:3},{id:"function-type-17",text:"Function Type",depth:3},{id:"utils",text:"Utils",depth:3},{id:"env",text:"env",depth:4},{id:"isprod",text:"isProd",depth:4},{id:"target",text:"target",depth:4},{id:"isserver",text:"isServer",depth:4},{id:"iswebworker",text:"isWebWorker",depth:4},{id:"webpack-1",text:"webpack",depth:4},{id:"htmlwebpackplugin-1",text:"HtmlWebpackPlugin",depth:3},{id:"addrules",text:"addRules",depth:3},{id:"prependplugins",text:"prependPlugins",depth:3},{id:"appendplugins",text:"appendPlugins",depth:3},{id:"removeplugin",text:"removePlugin",depth:3}],content:" * Type: Object | Function | undefined\n * Default: undefined\n\ntools.webpack is used to configure webpack\u3002\n\n> tools.webpackChain is also used to modify the webpack configuration, and the\n> function is more powerful. It is recommended to use tools.webpackChain first.\n\n\nOBJECT TYPE\n\nYou can configure it as an object, which will be merged with the original\nwebpack configuration through webpack-merge. For example:\n\nexport default {\n  tools: {\n    webpack: {\n      resolve: {\n        alias: {\n          '@util': 'src/util',\n        },\n      },\n    },\n  },\n};\n\n\n\nFUNCTION TYPE\n\nYou can also configure it as a function, which accepts one parameter, the\noriginal webpack configuration, you can modify this configuration, and then\nreturn a new configuration. For example:\n\nexport default {\n  tools: {\n    webpack: config => {\n      config.resolve.alias['@util'] = 'src/util';\n      return config;\n    },\n  },\n};\n\n\nThe second parameter of this function is an object that contains some\ninformation about the tool collection. Details are as follows:\n\n\nUTILS\n\nENV\n\n * Type: 'development' | 'production' | 'test'\n\nThe env parameter can be used to determine whether the current environment is\ndevelopment, production or test. For example:\n\nexport default {\n  tools: {\n    webpack: (config, { env }) => {\n      if (env === 'development') {\n        config.devtool = 'cheap-module-eval-source-map';\n      }\n      return config;\n    },\n  },\n};\n\n\nISPROD\n\n * Type: boolean\n\nThe isProd parameter can be used to determine whether the current environment is\nproduction. For example:\n\nexport default {\n  tools: {\n    webpack: (config, { isProd }) => {\n      if (isProd) {\n        config.devtool = 'source-map';\n      }\n      return config;\n    },\n  },\n};\n\n\nTARGET\n\n * Type: 'web' | 'node' | 'modern-web' | 'web-worker'\n\nThe target parameter can be used to determine the current target. For example:\n\nexport default {\n  tools: {\n    webpack: (config, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n\n\nISSERVER\n\n * Type: boolean\n\nDetermines whether the target environment is node, equivalent to target ===\n'node'.\n\nexport default {\n  tools: {\n    webpack: (config, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n\n\nISWEBWORKER\n\n * Type: boolean\n\nDetermines whether the target environment is web-worker, equivalent to target\n=== 'web-worker'.\n\nexport default {\n  tools: {\n    webpack: (config, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n\n\nWEBPACK\n\n * Type: typeof import('webpack')\n\nThe webpack instance. For example:\n\nexport default {\n  tools: {\n    webpack: (config, { webpack }) => {\n      config.plugins.push(new webpack.ProgressPlugin());\n      return config;\n    },\n  },\n};\n\n\n\nHTMLWEBPACKPLUGIN\n\n * Type: typeof import('html-webpack-plugin')\n\nThe HtmlWebpackPlugin instance:\n\nexport default {\n  tools: {\n    webpackChain: (chain, { HtmlWebpackPlugin }) => {\n      console.log(HtmlWebpackPlugin);\n    },\n  },\n};\n\n\n\nADDRULES\n\n * Type: (rules: RuleSetRule | RuleSetRule[]) => void\n\nAdd additional webpack rules.\n\nFor example:\n\nexport default {\n  tools: {\n    webpack: (config, { addRules }) => {\n      // add a single rule\n      addRules({\n        test: /\\.foo/,\n        loader: require.resolve('foo-loader'),\n      });\n\n      // Add multiple rules as an array\n      addRules([\n        {\n          test: /\\.foo/,\n          loader: require.resolve('foo-loader'),\n        },\n        {\n          test: /\\.bar/,\n          loader: require.resolve('bar-loader'),\n        },\n      ]);\n    },\n  },\n};\n\n\n\nPREPENDPLUGINS\n\n * Type: (plugins: WebpackPluginInstance | WebpackPluginInstance[]) => void\n\nAdd additional plugins to the head of the internal webpack plugins array, and\nthe plugin will be executed first.\n\nexport default {\n  tools: {\n    webpack: (config, { prependPlugins, webpack }) => {\n      // add a single plugin\n      prependPlugins(\n        new webpack.BannerPlugin({\n          banner: 'hello world!',\n        }),\n      );\n\n      // Add multiple plugins\n      prependPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n\n\n\nAPPENDPLUGINS\n\n * Type: (plugins: WebpackPluginInstance | WebpackPluginInstance[]) => void\n\nAdd additional plugins at the end of the internal webpack plugins array, the\nplugin will be executed last.\n\nexport default {\n  tools: {\n    webpack: (config, { appendPlugins, webpack }) => {\n      // add a single plugin\n      appendPlugins([\n        new webpack.BannerPlugin({\n          banner: 'hello world!',\n        }),\n      ]);\n\n      // Add multiple plugins\n      appendPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n\n\n\nREMOVEPLUGIN\n\n * Type: (name: string) => void\n\nRemove the internal webpack plugin, the parameter is the constructor.name of the\nplugin.\n\nFor example, remove the internal fork-ts-checker-webpack-plugin:\n\nexport default {\n  tools: {\n    webpack: (config, { removePlugin }) => {\n      removePlugin('ForkTsCheckerWebpackPlugin');\n    },\n  },\n};\n",frontmatter:{}},{id:105,title:"",routePath:"/builder/en/config/tools/webpackChain",toc:[{id:"utils-1",text:"Utils",depth:3},{id:"env-1",text:"env",depth:4},{id:"isprod-1",text:"isProd",depth:4},{id:"target-1",text:"target",depth:4},{id:"isserver-1",text:"isServer",depth:4},{id:"iswebworker-1",text:"isWebWorker",depth:4},{id:"webpack-2",text:"webpack",depth:4},{id:"htmlwebpackplugin-2",text:"HtmlWebpackPlugin",depth:3},{id:"chain_id",text:"CHAIN_ID",depth:4},{id:"chain_idone_of",text:"CHAIN_ID.ONE_OF",depth:3},{id:"chain_iduse",text:"CHAIN_ID.USE",depth:3},{id:"chain_idplugin",text:"CHAIN_ID.PLUGIN",depth:3},{id:"chain_idminimizer",text:"CHAIN_ID.MINIMIZER",depth:3},{id:"examples",text:"Examples",depth:3},{id:"addmodifydelete-loader",text:"Add/Modify/Delete loader",depth:4},{id:"addmodifydelete-plugin",text:"Add/Modify/Delete plugin",depth:4}],content:" * Type: Function | undefined\n * Default: undefined\n\nYou can modify the webpack configuration by configuring tools.webpackChain which\nis type of Function. The function receives two parameters, the first is the\noriginal webpack chain object, and the second is an object containing some\nutils.\n\nCompared with tools.webpack, webpack-chain not only supports chained calls, but\nalso can locate built-in Rule or Plugin based on aliases, so as to achieve\nprecise config modification. We recommend using tools.webpackChain instead of\ntools.webpack.\n\n> tools.webpackChain is executed earlier than tools.webpack and thus will be\n> overridden by changes in tools.webpack.\n\n\nUTILS\n\nENV\n\n * Type: 'development' | 'production' | 'test'\n\nThe env parameter can be used to determine whether the current environment is\ndevelopment, production or test. For example:\n\nexport default {\n  tools: {\n    webpackChain: (chain, { env }) => {\n      if (env === 'development') {\n        chain.devtool('cheap-module-eval-source-map');\n      }\n    },\n  },\n};\n\n\nISPROD\n\n * Type: boolean\n\nThe isProd parameter can be used to determine whether the current environment is\nproduction. For example:\n\nexport default {\n  tools: {\n    webpackChain: (chain, { isProd }) => {\n      if (isProd) {\n        chain.devtool('source-map');\n      }\n    },\n  },\n};\n\n\nTARGET\n\n * Type: 'web' | 'node' | 'modern-web' | 'web-worker'\n\nThe target parameter can be used to determine the current environment. For\nexample:\n\nexport default {\n  tools: {\n    webpackChain: (chain, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n    },\n  },\n};\n\n\nISSERVER\n\n * Type: boolean\n\nDetermines whether the target environment is node, equivalent to target ===\n'node'.\n\nexport default {\n  tools: {\n    webpackChain: (chain, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n    },\n  },\n};\n\n\nISWEBWORKER\n\n * Type: boolean\n\nDetermines whether the target environment is web-worker, equivalent to target\n=== 'web-worker'.\n\nexport default {\n  tools: {\n    webpackChain: (chain, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n    },\n  },\n};\n\n\nWEBPACK\n\n * Type: typeof import('webpack')\n\nThe webpack instance. For example:\n\nexport default {\n  tools: {\n    webpackChain: (chain, { webpack }) => {\n      chain.plugin('my-progress').use(webpack.ProgressPlugin);\n    },\n  },\n};\n\n\n\nHTMLWEBPACKPLUGIN\n\n * Type: typeof import('html-webpack-plugin')\n\nThe HtmlWebpackPlugin instance:\n\nexport default {\n  tools: {\n    webpackChain: (chain, { HtmlWebpackPlugin }) => {\n      console.log(HtmlWebpackPlugin);\n    },\n  },\n};\n\n\nCHAIN_ID\n\nSome common Chain IDs are predefined in the Builder, and you can use these IDs\nto locate the built-in Rule or Plugin.\n\nCHAIN_ID.RULE\n\n| ID | Description | | ------------ | ---------------- | | RULE.MJS | Rule for\nmjs | | RULE.JS | Rule for js | | RULE.TS | Rule for ts | | RULE.CSS | Rule for\ncss | | RULE.LESS | Rule for less | | RULE.SASS | Rule for sass | | RULE.PUG |\nRule for pug | | RULE.TOML | Rule for toml | | RULE.YAML | Rule for yaml | |\nRULE.FONT | Rule for font | | RULE.IMAGE | Rule for image | | RULE.MEDIA | Rule\nfor media |\n\n\nCHAIN_ID.ONE_OF\n\nONE_OF.XXX can match a certain type of rule in the rule array.\n\n| ID | Description | | ------------------- |\n------------------------------------------------------------------ | |\nONE_OF.SVG | Rules for SVG, automatic choice between data URI and separate file\n| | ONE_OF.SVG_URL | Rules for SVG, output as a separate file | |\nONE_OF.SVG_INLINE | Rules for SVG, inlined into bundles as data URIs | |\nONE_OF.SVG_ASSETS | Rules for SVG, automatic choice between data URI and\nseparate file |\n\n\nCHAIN_ID.USE\n\nUSE.XXX can match a certain loader.\n\n| ID | Description | | ---------------------- |\n---------------------------------------------- | | USE.TS | correspond to\nts-loader | | USE.CSS | correspond to css-loader | | USE.LESS | correspond to\nless-loader | | USE.SASS | correspond to sass-loader | | USE.PUG | correspond to\npug-loader | | USE.TOML | correspond to toml-loader | | USE.YAML | correspond to\nyaml-loader | | USE.FILE | correspond to file-loader | | USE.URL | correspond to\nurl-loader | | USE.SVGR | correspond to @svgr/webpack | | USE.BABEL | correspond\nto babel-loader | | USE.STYLE | correspond to style-loader | | USE.POSTCSS |\ncorrespond to postcss-loader | | USE.MARKDOWN | correspond to markdown-loader |\n| USE.CSS_MODULES_TS | correspond to css-modules-typescript-loader | |\nUSE.MINI_CSS_EXTRACT | correspond to mini-css-extract-plugin.loader |\n\n\nCHAIN_ID.PLUGIN\n\nPLUGIN.XXX can match a certain webpack plugin.\n\n| ID | Description | | ------------------------------ |\n--------------------------------------------------------------------------------\n------------------------------ | | PLUGIN.HMR | correspond to\nHotModuleReplacementPlugin | | PLUGIN.COPY | correspond to CopyWebpackPlugin | |\nPLUGIN.HTML | correspond to HtmlWebpackPlugin, you need to splice the entry name\nwhen using: ${PLUGIN.HTML}-${entryName} | | PLUGIN.DEFINE | correspond to\nDefinePlugin | | PLUGIN.IGNORE | correspond to IgnorePlugin | | PLUGIN.BANNER |\ncorrespond to BannerPlugin | | PLUGIN.PROGRESS | correspond to Webpackbar | |\nPLUGIN.APP_ICON | correspond to AppIconPlugin | | PLUGIN.LOADABLE | correspond\nto LoadableWebpackPlugin | | PLUGIN.MANIFEST | correspond to\nWebpackManifestPlugin | | PLUGIN.TS_CHECKER | correspond to\nForkTsCheckerWebpackPlugin | | PLUGIN.INLINE_HTML | correspond to\nInlineChunkHtmlPlugin | | PLUGIN.BUNDLE_ANALYZER | correspond to\nWebpackBundleAnalyzer | | PLUGIN.BOTTOM_TEMPLATE | correspond to\nBottomTemplatePlugin | | PLUGIN.MINI_CSS_EXTRACT | correspond to\nMiniCssExtractPlugin | | PLUGIN.REACT_FAST_REFRESH | correspond to\nReactFastRefreshPlugin | | PLUGIN.NODE_POLYFILL_PROVIDE | correspond to\nProvidePlugin for node polyfills | | PLUGIN.INSPECTOR | correspond to\n@modern-js/inspector-webpack-plugin | | PLUGIN.SUBRESOURCE_INTEGRITY |\ncorrespond to webpack-subresource-integrity | | PLUGIN.ASSETS_RETRY | correspond\nto webpack static asset retry plugin in Builder | | PLUGIN.AUTO_SET_ROOT_SIZE |\ncorrespond to automatically set root font size plugin in Builder |\n\n\nCHAIN_ID.MINIMIZER\n\nMINIMIZER.XXX can match a certain minimizer.\n\n| ID | Description | | ------------------- |\n----------------------------------------- | | MINIMIZER.JS | correspond to\nTerserWebpackPlugin | | MINIMIZER.CSS | correspond to CssMinimizerWebpackPlugin\n| | MINIMIZER.ESBUILD | correspond to ESBuildPlugin | | MINIMIZER.SWC |\ncorrespond to SwcWebpackPlugin |\n\n\nEXAMPLES\n\nThe following are some common configuration examples, see the full webpack-chain\nAPI webpack-chain documentation.\n\nADD/MODIFY/DELETE LOADER\n\nexport default {\n  tools: {\n    webpackChain: (chain, { CHAIN_ID }) => {\n      // Add loader\n      chain.module\n        .rule('md')\n        .test(/\\.md$/)\n        .use('md-loader')\n        .loader('md-loader');\n\n      // Modify loader\n      chain.module\n        .rule(CHAIN_ID.RULE.JS)\n        .use(CHAIN_ID.USE.BABEL)\n        .tap(options => {\n          options.plugins.push('babel-plugin-xxx');\n          return options;\n        });\n\n      // Delete loader\n      chain.module.rule(CHAIN_ID.RULE.JS).uses.delete(CHAIN_ID.USE.BABEL);\n    },\n  },\n};\n\n\nADD/MODIFY/DELETE PLUGIN\n\nexport default {\n  tools: {\n    webpackChain: (chain, { webpack, CHAIN_ID }) => {\n      // Add plugin\n      chain.plugin('custom-define').use(webpack.DefinePlugin, [\n        {\n          'process.env': {\n            NODE_ENV: JSON.stringify(process.env.NODE_ENV),\n          },\n        },\n      ]);\n\n      // Modify plugin\n      chain.plugin(CHAIN_ID.PLUGIN.HMR).tap(options => {\n        options[0].fullBuildTimeout = 200;\n        return options;\n      });\n\n      // Delete plugin\n      chain.plugins.delete(CHAIN_ID.PLUGIN.HMR);\n    },\n  },\n};\n",frontmatter:{}},{id:106,title:"Alias",routePath:"/builder/en/guide/advanced/alias",toc:[{id:"using-sourcealias-config",text:"Using source.alias config",depth:2},{id:"using-paths-config-in-tsconfigjson",text:"Using paths config in tsconfig.json",depth:2}],content:"ALIAS\n\nAlias is a way to specify a short name for a module or a path to a directory or\nfile. This can be useful when you want to use a short, easy-to-remember name for\na module instead of a long, complex path.\n\nFor example, if you have a file at src/common/request.ts, you could create an\nalias called @request for it, so you could `. This makes it easier to reference\nthe file in your code, and also allows you to move the file to a different\nlocation without having to update all the import statements in your code.\n\nIn Builder, you can set aliases in two ways:\n\n * source.alias\n * paths in tsconfig.json\n\n\nUSING SOURCE.ALIAS CONFIG\n\nsource.alias corresponds to webpack's native resolve.alias config, you can\nconfigure it as an object or a function.\n\nFirst, you can configure it as an object, for example:\n\nexport default {\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n};\n\n\nThe relative path in it will be parsed as an absolute path in Builder.\n\nYou can also configure it as a function to get the preset alias object and\nmodify it, for example:\n\nexport default {\n  source: {\n    alias: alias => {\n      alias['@common'] = './src/common';\n      return alias;\n    },\n  },\n};\n\n\n\nUSING PATHS CONFIG IN TSCONFIG.JSON\n\nIn addition to source.alias, you can also configure it by paths in\ntsconfig.json. We recommend to use this way in TypeScript projects, because it\ncan solve type problem of alias path.\n\nFor example:\n\n{\n  \"compilerOptions\": {\n    \"paths\": {\n      \"@common/*\": [\"./src/common/*\"]\n    }\n  }\n}\n\n\n:::tip Priority The paths config has higher priority than source.alias. :::",frontmatter:{}},{id:107,title:"Browser Compatibility",routePath:"/builder/en/guide/advanced/browser-compatibility",toc:[{id:"set-browserslist",text:"Set browserslist",depth:2},{id:"background-knowledge",text:"Background knowledge",depth:2},{id:"syntax-downgrade-and-api-downgrade",text:"Syntax downgrade and API downgrade",depth:3},{id:"syntax-transpilation",text:"Syntax transpilation",depth:3},{id:"api-polyfill",text:"API Polyfill",depth:3},{id:"downgrade-method",text:"Downgrade method",depth:2},{id:"downgrade-the-current-project-code",text:"Downgrade the current project code",depth:3},{id:"downgrade-third-party-dependencies",text:"Downgrade third-party dependencies",depth:3},{id:"downgrade-the-code-out-of-the-current-project",text:"Downgrade the code out of the current project",depth:3},{id:"polyfill-mode",text:"Polyfill mode",depth:2},{id:"entry-mode",text:"entry mode",depth:3},{id:"usage-mode",text:"usage mode",depth:3},{id:"disable-polyfill",text:"Disable Polyfill",depth:3}],content:"BROWSER COMPATIBILITY\n\nThis chapter introduces how to use the capabilities provided by Builder to deal\nwith browser compatibility issues.\n\n\nSET BROWSERSLIST\n\nBefore dealing with compatibility issues, you first need to clarify which\nbrowsers your project needs to support, and add the corresponding browserslist\nconfig.\n\n * If you haven't set browserslist yet, please read the Browserslist chapter\n   first.\n\n * If you have set a browserslist, Builder will automatically compile according\n   to that scope, downgrade JavaScript syntax and CSS syntax, and inject the\n   required polyfill. In most cases, you can safely use modern ECMAScript\n   features without worrying about compatibility issues.\n\nAfter setting the browserslist, if you still encountered some compatibility\nissues, please continue reading below contents to find some solutions.\n\n\nBACKGROUND KNOWLEDGE\n\nBefore dealing with compatibility issues, it is recommended that you understand\nthe following background knowledge to better handle related issues.\n\n\nSYNTAX DOWNGRADE AND API DOWNGRADE\n\nWhen you use higher-version syntax and API in your project, in order to make the\ncompiled code run stably in lower-version browsers, we need to downgrade two\nparts: syntax downgrade and API downgrade.\n\nBuilder downgrades syntax through syntax transpilation, and downgrades API\nthrough inject polyfill.\n\n> Grammar and API are not strongly bound. When browser manufacturers implement\n> the engine, they will support some syntax or implement some APIs in advance\n> according to the specification or their own needs. Therefore, browsers from\n> different manufacturers in the same period are not necessarily compatible with\n> syntax and API. So in general practice, syntax and API are handled in two\n> parts.\n\n\nSYNTAX TRANSPILATION\n\nSyntax is a series of rules for how a programming language organizes code, and\ncode that does not follow these rules cannot be correctly recognized by the\nprogramming language's engine and therefore cannot be run. In JavaScript, the\nfollowing examples are syntax rules:\n\n * In const foo = 1, const means to declare an immutable constant.\n * In foo?.bar?.baz, ?. indicates optional chaining of access properties.\n * In async function () {}, async means to declare an asynchronous function.\n\nBecause the parsers of different browsers can support different syntax,\nespecially the old version of the browser engine can support less grammar, so\nwhen some syntax are run in the lower version of the browser engine, an error\nwill be reported at the stage of parsing the AST .\n\nFor example, the following code will report an error in IE browser or a lower\nversion of Node.js:\n\nconst foo = {};\nfoo?.bar();\n\n\nWhen we run this code in a low version of Node.js, the following error message\nwill appear:\n\nSyntaxError: Unexpected token.\n   at Object.exports.runInThisContext (vm.js:73:16)\n   at Object.<anonymous> ([eval]-wrapper:6:22)\n   at Module._compile (module.js:460:26)\n   at evalScript (node.js:431:25)\n   at startup (node.js:90:7)\n   at node.js:814:3\n\n\nIt is obvious from the error message that this is a syntax error. This means\nthat this syntax is not supported in lower versions of the engine.\n\nSyntax can not be supported by polyfill or shim. If you want to run some syntax\nthat it does not originally support in a low-version browser, you need to\ntranspile the code into a syntax that the low-version engine can support.\n\nTranspile the above code into the following code to run in lower version\nengines:\n\nvar foo = {};\nfoo === null || foo === void 0 ? void 0 : foo.bar();\n\n\nAfter transpilation, the syntax of the code has changed, and some syntax that\nthe engine of the lower version cannot understand has been replaced with the\nsyntax it can understand, but the meaning of the code itself has not changed.\n\nIf the engine encounters an unrecognized syntax when converting to AST, it will\nreport a syntax error and abort the code execution process. In this case, if\nyour project does not use capabilities such as SSR or SSG, the page will be\nblank, making the page unavailable.\n\nIf the code is successfully converted to AST, the engine will convert the AST\ninto executable code and execute it normally inside the engine.\n\n\nAPI POLYFILL\n\nJavaScript is an interpreted scripting language, unlike compiled languages like\nRust. Rust will check the calls in the code during the compilation phase, and\nJavaScript does not know whether the function called by this line of code exists\nbefore it actually runs to a certain line of code, so some errors will only\nappear at runtime.\n\nFor example:\n\nvar str = 'Hello world!';\nconsole.log(str.notExistedMethod());\n\n\nThe above code has correct syntax and can be converted to AST correctly in the\nfirst stage of the engine runtime, but when it is actually running, because the\nmethod notExistedMethod does not exist on String.prototype, an error will be\nreported:\n\nUncaught TypeError: str.notExistedMethod is not a function\n   at <anonymous>:2:17\n\n\nWith the iteration of ECMAScript, some new methods will be added to be built-in\nobjects. For example, String.prototype.replaceAll was introduced in ES2021, then\nthe replaceAll method does not exist in the built-in object String.prototype of\nmost browser engines before 2021, so the following code works in the latest\nChrome, but not in earlier versions:\n\n'abc'.replaceAll('abc', 'xyz');\n\n\nIn order to solve the problem that String.prototype lacks replaceAll in older\nbrowsers, we can extend the String.prototype object in older browsers and add\nthe replaceAll method to it, for example:\n\n// The implementation of this polyfill does not necessarily conform to the standard, it is only used as an example.\nif (!String.prototype.replaceAll) {\n  String.prototype.replaceAll = function (str, newStr) {\n    // If a regex pattern\n    if (\n      Object.prototype.toString.call(str).toLowerCase() === '[object regexp]'\n    ) {\n      return this.replace(str, newStr);\n    }\n    // If a string\n    return this.replace(new RegExp(str, 'g'), newStr);\n  };\n}\n\n\n> This technique of providing implementations for legacy environments to align\n> new APIs is called polyfill.\n\n\nDOWNGRADE METHOD\n\nIn Builder, we divide code into three categories:\n\n * The first category is the source code in the current project.\n * The second category is third-party dependencies installed through npm.\n * The third category is the code out of the current project, such as the code\n   in other directories in the monorepo.\n\nBy default, Builder will only compile and downgrade the first category, other\ncategories will not be downgraded by default.\n\nThere are several considerations for this approach:\n\n * Downgrading all third-party party dependencies will significantly reduce\n   build performance.\n * Most third-party dependencies have been downgraded before release, and the\n   second downgrade may introduce new problems.\n * The code out of the current project may have been compiled, or the\n   compilation config may be different.\n\n\nDOWNGRADE THE CURRENT PROJECT CODE\n\nThe code of the current project will be downgraded by default, so you don't need\nto add additional config, just make sure that the browserslist config is set\ncorrectly.\n\n\nDOWNGRADE THIRD-PARTY DEPENDENCIES\n\nWhen you find that a third-party dependencies causes compatibility issues, you\ncan add this dependency to Builder's source.include config, Make Builder do\nextra compilation for this dependency.\n\nTaking the npm package query-string as an example, you can add the following\nconfig:\n\n\n\nexport default {\n  source: {\n    include: [\n      // Method 1:\n      // First get the path of the module by require.resolve\n      // Then pass path.dirname to point to the corresponding directory\n      path.dirname(require.resolve('query-string')),\n      // Method 2:\n      // Match by regular expression\n      // All paths containing `/query-string/` will be matched\n      /\\/query-string\\//,\n    ],\n  },\n};\n\n\nNote that this config will only compile the code of query-string itself, not the\nsub-dependencies of query-string. If you need to compile a sub-dependency of\nquery-string, you need to add the corresponding npm package to source.include.\n\n\nDOWNGRADE THE CODE OUT OF THE CURRENT PROJECT\n\nWhen you import the code out of the current project, if the code has not been\ncompiled, then you also need to configure source.include to it to compile.\n\nFor example, if you need to reference a module under the packages directory in\nthe monorepo, you can add the following config:\n\n\n\nexport default {\n  source: {\n    include: [\n      // method one:\n      // Compile all files in the package directory of Monorepo\n      path.resolve(__dirname, '../../packages'),\n\n      // Method Two:\n      // Compile the source code of a package in the Monorepo's package directory\n      // The matching range of this writing method is more precise, and has less impact on the overall compilation performance\n      path.resolve(__dirname, '../../packages/xxx/src'),\n    ],\n  },\n};\n\n\n\nPOLYFILL MODE\n\nBuilder compiles JavaScript code through babel or SWC, and injects polyfill\nlibraries like core-js, @babel/runtime and @swc/helpers.\n\nIn different usage scenarios, you may need different polyfill solutions. Builder\nprovides output.polyfill config to switch between different polyfill modes.\n\n\nENTRY MODE\n\nentry is the default mode and does not need to be set manually.\n\nWhen using the entry mode, Builder will analyze which core-js methods need to be\ninjected according to the browserslist set by the current project, and inject\nthem to the entry file of each page. The polyfill injected in this way is more\ncomprehensive, and there is no need to worry about the project source code and\nthird-party dependencies polyfill issues. However, because some unused polyfill\ncodes are included, the bundle size may increase.\n\nThe config of entry mode is:\n\nexport default {\n  output: {\n    polyfill: 'entry',\n  },\n};\n\n\n\nUSAGE MODE\n\nThe usage mode allows more precise control over which core-js polyfills need to\nbe injected.\n\nWhen you enable the usage mode, Builder will analyze the source code in the\nproject and determine which polyfills need to be injected.\n\nFor example, the code uses the Map object:\n\nvar b = new Map();\n\n\nAfter compilation, only the polyfills for Map will be injected into this file:\n\nimport 'core-js/modules/es.map';\nvar b = new Map();\n\n\nThe advantage of this method is that the size of the injected polyfill is\nsmaller, which is suitable for projects with higher requirements on bundle size.\nThe disadvantage is that polyfill may not be fully injected, because third-party\ndependencies will not be compiled and downgraded by default, so the polyfill\nrequired by third-party dependencies will not be analyzed. If you need to\nanalyze a third-party dependency, you also need to add it to source.include\nconfig.\n\nThe config of usage mode is:\n\nexport default {\n  output: {\n    polyfill: 'usage',\n  },\n};\n\n\n\nDISABLE POLYFILL\n\nYou can disable polyfill injection behavior by setting output.polyfill to 'off'.\n\nexport default {\n  output: {\n    polyfill: 'off',\n  },\n};\n\n\nWhen using this config, you need to ensure compatibility by yourself, such as\nmanually import the required polyfill code through source.preEntry.",frontmatter:{}},{id:108,title:"Browserslist",routePath:"/builder/en/guide/advanced/browserslist",toc:[{id:"what-is-browserslist",text:"What is Browserslist",depth:2},{id:"set-browserslist-1",text:"Set Browserslist",depth:2},{id:"example-49",text:"Example",depth:3},{id:"use-outputoverridebrowserslist-config",text:"Use output.overrideBrowserslist config",depth:3},{id:"commonly-used-browserslist",text:"Commonly used Browserslist",depth:2},{id:"mobile-h5-scene",text:"Mobile H5 scene",depth:3},{id:"desktop-pc-scene",text:"Desktop PC scene",depth:3},{id:"default-browserslist",text:"Default Browserslist",depth:2},{id:"web-target",text:"Web Target",depth:3},{id:"node-target-1",text:"Node Target",depth:3},{id:"web-worker-target-1",text:"Web Worker Target",depth:3},{id:"modern-web-target-1",text:"Modern Web Target",depth:3},{id:"query-browser-support",text:"Query browser support",depth:2}],content:"BROWSERSLIST\n\nBuilder supports using Browserslist to specify which browsers should be\nsupported in your Web application.\n\n\nWHAT IS BROWSERSLIST\n\nSince different browsers support ECMAScript and CSS differently, developers need\nto set the correct browser range for web applications.\n\nBrowserslist can specify which browsers your web application can run in, it\nprovides a configuration for specifying browsers range. Browserslist has become\na standard in the industry, it is used by libraries such as Autoprefixer, Babel,\nESLint, PostCSS, SWC and Webpack.\n\nWhen you specify a browser range through Browserslist, Builder will compile\nJavaScript and CSS code to the specified syntax, and inject the corresponding\npolyfill code. When you only need to be compatible with modern browsers, the\ncompilation process will introduce less compatible code and polyfills, and the\nperformance of the page will be better.\n\nFor example, when you need to be compatible with IE11 browser, Builder will\ncompile the code to ES5 and inject the polyfill required by IE11 through\ncore-js.\n\n:::tip What is polyfill A polyfill is a piece of code that provides the\nfunctionality of a newer feature to older browsers that do not support that\nfeature natively. It is used to fill in the gaps in older browsers'\nimplementations of web standards, allowing developers to use newer features\nsafely without having to worry about whether or not they will work in older\nbrowsers. For example, if a browser does not support the Array.map() method, a\npolyfill can be used to provide that functionality, allowing code that uses\nArray.prototype.flat() to work in that browser. Polyfills are commonly used to\nensure that web applications can work on a wide range of browsers, including\nolder ones. :::\n\n\nSET BROWSERSLIST\n\nYou can set the Browserslist value in the package.json or .browserslistrc file\nin the root directory of the current project.\n\n\nEXAMPLE\n\nSet via browserslist in package.json:\n\n{\n  \"browserslist\": [\n    \"iOS 9\",\n    \"Android 4.4\",\n    \"last 2 versions\",\n    \"> 0.2%\",\n    \"not dead\"\n  ]\n}\n\n\nSet via a separate .browserslistrc file:\n\niOS 9\nAndroid 4.4\nlast 2 versions\n> 0.2%\nnot dead\n\n\n\nUSE OUTPUT.OVERRIDEBROWSERSLIST CONFIG\n\nIn addition to the above standard usage, Builder also provides\noutput.overrideBrowserslist config, which can also set the value of\nBrowserslist.\n\nexport default {\n  output: {\n    overrideBrowserslist: [\n      'iOS 9',\n      'Android 4.4',\n      'last 2 versions',\n      '> 0.2%',\n      'not dead',\n    ],\n  },\n};\n\n\nWhen you build multiple targets at the same time, you can set different browser\nranges for different targets. At this point, you need to set\noverrideBrowserslist to an object whose key is the corresponding build target.\n\nFor example to set different ranges for web and node:\n\nexport default {\n  output: {\n    overrideBrowserslist: {\n      web: ['iOS 9', 'Android 4.4', 'last 2 versions', '> 0.2%', 'not dead'],\n      node: ['node >= 14'],\n    },\n  },\n};\n\n\nIn most cases, it is recommended to use the .browserslistrc file rather than the\noverrideBrowserslist config. Because the .browserslistrc file is the official\nconfig file, it is more general and can be recognized by other libraries in the\ncommunity.\n\n\nCOMMONLY USED BROWSERSLIST\n\nThe following are some commonly used Browserslist, you can choose according to\nyour project type.\n\n\nMOBILE H5 SCENE\n\nThe mobile H5 scene is mainly compatible with iOS and Android systems, usually\nwe set Browserslist as:\n\niOS 9\nAndroid 4.4\nlast 2 versions\n0.2%\nnot dead\n\n\nThe above Browserslist will compile the code to the ES5 specification, which is\ncompatible with most mobile scenarios on the market. For the detailed browsers\nlist, please check browserslist.dev.\n\n\n\nYou can also choose to use the ES6 specification in the H5 scene, which will\nmake the performance of the page better. The corresponding Browserslist is as\nfollows:\n\niOS 10\nChrome 51\n> 0.2%\nnot dead\nnot op_mini all\n\n\n\nDESKTOP PC SCENE\n\nIn the desktop PC scenario, if you need to be compatible with IE 11 browsers,\nyou can set Browserslist to:\n\n> 0.5%\nnot dead\nInternet Explorer 11\n\n\nThe above Browserslist will compile the code to the ES5 specification. For the\nspecific browser list, please check browserslist.dev.\n\nIf you don't need to be compatible with IE 11 browsers, you can adjust\nBrowserslist to get a more performant output, such as setting it to browsers\nthat supports native ES Modules:\n\nchrome > 61\nedge > 16\nfirefox > 60\nsafari > 11\nios_saf > 11\n\n\n\nDEFAULT BROWSERSLIST\n\nBuilder will set different default values of Browserslist according to build\ntarget, but we recommend that you explicitly set Browserslist in your project,\nwhich will make the compatible scope of the project more clear.\n\n\nWEB TARGET\n\nThe default values of web target are as follows:\n\n> 0.01%\nnot dead\nnot op_mini all\n\n\nUnder this browser range, JavaScript code will be compiled to ES5 syntax.\n\n\nNODE TARGET\n\nNode target will be compatible with Node.js 14.0 by default.\n\nnode >= 14\n\n\n\nWEB WORKER TARGET\n\nThe default Browserslist of the Web Worker target is consistent with the Web\ntarget.\n\n> 0.01%\nnot dead\nnot op_mini all\n\n\n\nMODERN WEB TARGET\n\nModern Web target will be compatible with browsers that support native ES\nModules by default.\n\nchrome > 61\nedge > 16\nfirefox > 60\nsafari > 11\nios_saf > 11\n\n\n\nQUERY BROWSER SUPPORT\n\nWhen developing, we need to know the browser support of certain features or\nAPIs. At this time, we can check on the caniuse website.\n\nFor example, we need to know the browser support of Promise, just enter Promise\nin caniuse, and you can see the following results:\n\n\n\nAs can be seen from the above table, Promise is natively supported in Chrome 33\nand iOS 8, but not in IE 11.",frontmatter:{}},{id:109,title:"Custom webpack config",routePath:"/builder/en/guide/advanced/custom-webpack-config",toc:[{id:"modify-the-webpack-configuration-object",text:"Modify the webpack configuration object",depth:2},{id:"using-webpack-chain",text:"Using webpack-chain",depth:2},{id:"toolswebpackchain-config",text:"tools.webpackChain config",depth:3},{id:"webpack-chain-basics",text:"webpack-chain Basics",depth:2},{id:"how-does-webpack-chain-locate",text:"How does webpack-chain locate",depth:3},{id:"webpack-chain-id-type",text:"webpack-chain id type",depth:3},{id:"webpack-chain-demo",text:"webpack-chain Demo",depth:2},{id:"addmodifydelete-loader-1",text:"Add/Modify/Delete loader",depth:3},{id:"addmodifydelete-plugin-1",text:"Add/Modify/Delete plugin",depth:3},{id:"modify-the-config-according-to-environment",text:"Modify the config according to environment",depth:3}],content:"CUSTOM WEBPACK CONFIG\n\nBuilder supports directly modifying webpack configuration objects, and also\nsupports deep customization of webpack configuration through webpack-chain.\n\n\nMODIFY THE WEBPACK CONFIGURATION OBJECT\n\nYou can use tools.webpack to modify the webpack configuration object.\n\nexport default {\n  tools: {\n    webpack: (config, { env }) => {\n      if (env === 'development') {\n        config.devtool = 'cheap-module-eval-source-map';\n      }\n      return config;\n    },\n  },\n};\n\n\n:::tip When to use When you only need to modify a small amount of webpack\nconfiguration, you can use tools.webpack. But if you need to modify the built-in\nwebpack plugins or loaders of Builder, please use tools.webpackChain to modify.\n:::\n\n\nUSING WEBPACK-CHAIN\n\nwebpack-chain is a configuration modification tools that is different from\nmodifying webpack configuration objects. Compared with modifying webpack\nconfiguration objects, webpack-chain not only supports chain calls, but also can\nmodify built-in Rule or Plugin based on id.\n\n\nTOOLS.WEBPACKCHAIN CONFIG\n\nBuilder provides tools.webpackChain config to modify webpack-chain.\n\nThe value of tools.webpackChain is Function type, which receives two parameters:\n\n * The first parameter is the webpack-chain instance, you can use this instance\n   to modify the default webpack config.\n * The second parameter is a utils collection, including env, isProd, CHAIN_ID,\n   etc.\n\nHere's a basic example:\n\nexport default {\n  tools: {\n    webpackChain: (chain, { env }) => {\n      if (env === 'development') {\n        chain.devtool('cheap-module-eval-source-map');\n      }\n    },\n  },\n};\n\n\n\nWEBPACK-CHAIN BASICS\n\nBefore you start using webpack-chain to modify your webpack configuration, it is\nrecommended that you understand some basics.\n\n\nHOW DOES WEBPACK-CHAIN LOCATE\n\nSimply put, webpack-chain requires users to set a unique id for each Rule,\nLoader, Plugin, and Minimizer. Through these ids, you can easily find the\ndesired object from deeply nested webpack configuration object.\n\nBuilder exports all internally defined ids through the CHAIN_ID object, so you\ncan use these exported ids to locate the Loader or Plugin you want to modify,\nwithout having to search through complex traversal in the webpack configuration\nobject.\n\nFor example, to delete the built-in HTML plugin via CHAIN_ID.PLUGIN.HTML:\n\nexport default {\n  tools: {\n    webpackChain: (chain, { webpack, CHAIN_ID }) => {\n      //\n      chain.plugins.delete(CHAIN_ID.PLUGIN.HTML);\n    },\n  },\n};\n\n\n\nWEBPACK-CHAIN ID TYPE\n\nThe CHAIN_ID object contains some ids, which have different meanings:\n\n| CHAIN_ID field | Corresponding configuration | Description | |\n------------------------- | --------------------------- |\n------------------------------------------------------------ | | CHAIN_ID.PLUGIN\n| plugins[i] | corresponds to a plugin in the webpack configuration | |\nCHAIN_ID.RULE | module.rules[i] | corresponds to a Rule in the webpack\nconfiguration | | CHAIN_ID.USE | module.rules[i].loader | corresponds to a\nLoader in the webpack configuration | | CHAIN_ID.MINIMIZER |\noptimization.minimizer | corresponds to a compression tool in webpack\nconfiguration | | CHAIN_ID.RESOLVE_PLUGIN | resolve.plugins[i] | corresponds to\na Resolve plugin in the webpack configuration |\n\n\nWEBPACK-CHAIN DEMO\n\n\nADD/MODIFY/DELETE LOADER\n\nexport default {\n  tools: {\n    webpackChain: (chain, { CHAIN_ID }) => {\n      // Add loader\n      chain.module\n        .rule('md')\n        .test(/\\.md$/)\n        .use('md-loader')\n        .loader('md-loader');\n\n      // Modify loader\n      chain.module\n        .rule(CHAIN_ID.RULE.JS)\n        .use(CHAIN_ID.USE.BABEL)\n        .tap(options => {\n          options.plugins.push('babel-plugin-xxx');\n          return options;\n        });\n\n      // Delete loader\n      chain.module.rule(CHAIN_ID.RULE.JS).uses.delete(CHAIN_ID.USE.BABEL);\n    },\n  },\n};\n\n\n\nADD/MODIFY/DELETE PLUGIN\n\nexport default {\n  tools: {\n    webpackChain: (chain, { webpack, CHAIN_ID }) => {\n      // Add plugin\n      chain.plugin('custom-define').use(webpack.DefinePlugin, [\n        {\n          'process.env': {\n            NODE_ENV: JSON.stringify(process.env.NODE_ENV),\n          },\n        },\n      ]);\n\n      // Modify plugin\n      chain.plugin(CHAIN_ID.PLUGIN.HMR).tap(options => {\n        options[0].fullBuildTimeout = 200;\n        return options;\n      });\n\n      // Delete plugin\n      chain.plugins.delete(CHAIN_ID.PLUGIN.HMR);\n    },\n  },\n};\n\n\n\nMODIFY THE CONFIG ACCORDING TO ENVIRONMENT\n\nIn the tool collection, you can get the flag of various environments, such as\ndevelopment/production/test environment, SSR build, and Web Worker build, so as\nto modify the config in different environments.\n\nexport default {\n  tools: {\n    webpackChain: (chain, { env, isProd, target, isServer, isWebWorker }) => {\n      if (utils.env === 'development' || utils.env === 'test') {\n        // ...\n      }\n      if (utils.isProd) {\n        // ...\n      }\n      if (utils.target === 'node') {\n        // ...\n      }\n      if (utils.isServer) {\n        // ...\n      }\n      if (utils.isWebWorker) {\n        // ...\n      }\n    },\n  },\n};\n\n\nThe above are some common config examples. For the complete webpack-chain API,\nplease refer to webpack-chain documentation.",frontmatter:{}},{id:110,title:"Using define config",routePath:"/builder/en/guide/advanced/define",toc:[{id:"default-environment-variables",text:"Default environment variables",depth:2},{id:"replace-expressions",text:"Replace Expressions",depth:3},{id:"setup-environment-variables",text:"Setup Environment Variables",depth:2},{id:"declare-type-of-environment-variable",text:"Declare type of environment variable",depth:2},{id:"tree-shaking",text:"Tree Shaking",depth:2},{id:"in-source-testing",text:"In-source testing",depth:2}],content:"ENVIRONMENT VARIABLES\n\nBuilder supports injecting environment variables or expressions into the code\nduring compilation, which is helpful for distinguishing the running environment\nor injecting constant values. This chapter introduces how to use environment\nvariables.\n\n\nDEFAULT ENVIRONMENT VARIABLES\n\nBy default, Builder will automatically set the process.env.NODE_ENV environment\nvariable to 'development' in development mode and 'production' in production\nmode.\n\nYou can use process.env.NODE_ENV directly in configuration files and in\nfront-end code.\n\nif (process.env.NODE_ENV === 'development') {\n  console.log('this is a development log');\n}\n\n\nIn the development environment, the above code will be compiled as:\n\nif (true) {\n  console.log('this is a development log');\n}\n\n\nIn the production environment, the above code will be compiled as:\n\nif (false) {\n  console.log('this is a development log');\n}\n\n\nAfter code minification, if (false) { ... } will be recognized as invalid code\nand removed automatically.\n\n\nUSING DEFINE CONFIG\n\nBy configuring the source.define, you can replace expressions with other\nexpressions or values in compile time.\n\nDefine looks like macro definitions in other programming languages. But\nJavaScript has powerful runtime capabilities, so you don't need to use it as a\ncomplicated code generator. You can use it to pass simple data, such as\nenvironment variables, from compile time to runtime. Almost there, it can be\nused to work with Builder to shake trees.\n\n\nREPLACE EXPRESSIONS\n\nThe most basic use case for Define is to replace expressions in compile time.\n\nThe value of the environment variable NODE_ENV will change the behavior of many\nvendor packages. Usually, we need to set it to production.\n\nexport default {\n  source: {\n    define: {\n      'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV),\n    },\n  },\n};\n\n\nNote that the value provided here must be a JSON string, e.g.\nprocess.env.NODE_ENV with a value of \"production\" should be passed in as\n\"\\\"production\\\"\" to be processed correctly.\n\nSimilarly { foo: \"bar\" } should be converted to \"{\\\"foo\\\":\\\"bar\\\"}\", which if\npassed directly into the original object would mean replacing the expression\nprocess.env.NODE_ENV.foo with the identifier bar.\n\nFor more about source.define, just refer to API References\u3002\n\nThe environment variable NODE_ENV shown in the example above is already injected\nby the Builder, and you usually do not need to configure it manually.\n\n\nSETUP ENVIRONMENT VARIABLES\n\nYou may often need to set environment variables, in which case you can instead\nuse the source.globalVars configuration to simplify configuration. It is a\nsyntax sugar of source.define, the only difference is that source.globalVars\nwill automatically stringify the value, which makes it easier to set the value\nof global variables and avoid writing a lot of JSON.stringify(...) stuffs.\n\nexport default {\n  source: {\n    globalVars: {\n      'process.env.NODE_ENV': 'production',\n      'import.meta.foo': { bar: 42 },\n      'import.meta.baz': false,\n    },\n  },\n};\n\n\nNote that either of these methods will only match the full expression;\ndestructing the expression will prevent the Builder from correctly recognizing\nit.\n\nconsole.log(process.env.NODE_ENV);\n// => production\n\nconst { NODE_ENV } = process.env;\nconsole.log(NODE_ENV);\n// => undefined\n\nconst vars = process.env;\nconsole.log(vars.NODE_ENV);\n// => undefined\n\n\n\nDECLARE TYPE OF ENVIRONMENT VARIABLE\n\nWhen you read an environment variable in a TypeScript file, TypeScript may\nprompt that the variable lacks a type definition, and you need to add the\ncorresponding type declaration.\n\nFor example, if you reference a CUSTOM_VAR variable, the following prompt will\nappear in the TypeScript file:\n\nTS2304: Cannot find name 'CUSTOM_VAR'.\n\n\nTo fix this, you can create a src/env.d.ts file in your project and add the\nfollowing content:\n\n// src/env.d.ts\ndeclare const CUSTOM_VAR: string;\n\n\n\nTREE SHAKING\n\nDefine can also be used to mark dead code to assist the Builder with Tree\nShaking optimization.\n\nBuilding products for different regions is achieved by replacing\nprocess.env.REGION with a specific value, for example.\n\nexport default {\n  source: {\n    define: {\n      'process.env.REGION': JSON.stringify(process.env.REGION),\n    },\n    // or...\n    globalVars: {\n      'process.env.REGION': process.env.REGION,\n    },\n  },\n};\n\n\nFor an internationalized app:\n\nconst App = () => {\n  if (process.env.REGION === 'cn') {\n    return <EntryFoo />;\n  } else if (process.env.REGION === 'sg') {\n    return <EntryBar />;\n  } else {\n    return <EntryBaz />;\n  }\n};\n\n\nSpecifying the environment variable REGION=sg and then executing build will\neliminate any dead code.\n\nconst App = () => {\n  if (false) {\n  } else if (true) {\n    return <EntryBar />;\n  } else {\n  }\n};\n\n\nUnused components are not packaged into the product, and their external\ndependencies can be optimized accordingly, resulting in a destination with\nbetter size and performance.\n\n\nIN-SOURCE TESTING\n\nVitest supports writing tests inside source files to test the behavior of\nprivate features without exporting them. Set up Define to remove the test code\nfrom the production build. Please refer to the Vitest's documentation for\ndetailed guidelines\n\n// the implementation\nfunction add(...args) {\n  return args.reduce((a, b) => a + b, 0);\n}\n\n// in-source test suites\nif (import.meta.vitest) {\n  const { it, expect } = import.meta.vitest;\n  it('add', () => {\n    expect(add()).toBe(0);\n    expect(add(1)).toBe(1);\n    expect(add(1, 2, 3)).toBe(6);\n  });\n}\n",frontmatter:{}},{id:111,title:"Hot Module Replacement",routePath:"/builder/en/guide/advanced/hmr",toc:[{id:"enabling-hmr",text:"Enabling HMR",depth:2},{id:"specify-hmr-url",text:"Specify HMR URL",depth:2},{id:"live-reloading-vs-hot-reloading",text:"Live reloading vs Hot reloading",depth:2},{id:"faq",text:"FAQ",depth:2},{id:"hmr-not-work-when-external-reactreactdom",text:"HMR not work when external react/reactDom?",depth:3},{id:"hmr-not-work-when-use-https",text:"HMR not work when use https?",depth:3},{id:"react-component-state-lost-after-hmr",text:"React component state lost after HMR?",depth:3}],content:"HOT MODULE REPLACEMENT\n\nHot Module Replacement (HMR) exchanges, adds, or removes modules while an\napplication is running, without a full reload. This can significantly speed up\ndevelopment in a few ways:\n\n * Retain application state which is lost during a full reload.\n * Save valuable development time by only updating what's changed.\n * Instantly update the browser when modifications are made to CSS/JS in the\n   source code, which is almost comparable to changing styles directly in the\n   browser's dev tools.\n\n\nENABLING HMR\n\nBuilder has built-in support for HMR. By default, HMR is enabled in development.\n\nBy setting dev.hmr to false, HMR can be disabled, which the HMR and\nreact-refresh will no longer work.\n\nexport default {\n  dev: {\n    hmr: false,\n  },\n};\n\n\n\nSPECIFY HMR URL\n\nBy default, builder get HMR client URL by local-ip and current port.\n\nIn the event of a connection failure you can specify an available URL by custom\nconfiguration.\n\nFor example, set HMR client and port empty to auto derived from browser:\n\nexport default {\n  tools: {\n    devServer: {\n      client: {\n        host: '',\n        port: '',\n      },\n    },\n  },\n};\n\n\n\nLIVE RELOADING VS HOT RELOADING\n\n * Live reloading: After modifying the file, webpack recompiles and forces a\n   browser refresh, which is a global (application-wide) refresh, equivalent to\n   window.location.reload().\n * Hot reloading: After modifying the file, webpack recompiles the corresponding\n   module and remembers the state of the application when it is refreshed, thus\n   enabling a partial refresh, i.e. hot update.\n\nDevServer provides two configuration items, hot and liveReload, to control how\nupdates are made. When both hot and liveReload are open, DevServer will attempt\nto use hot mode (HMR) first, and will degrade to reloading the page if the HMR\nupdate fails.\n\n\nFAQ\n\n\nHMR NOT WORK WHEN EXTERNAL REACT/REACTDOM?\n\nHMR work requires the development mode of react & react-dom. The cdn version of\nreact normally used the production mode. You need to switch to development mode\nor make it not external when development.\n\nIf you're not sure which React mode you're using, you can see: Check React Mode\n\n\nHMR NOT WORK WHEN USE HTTPS?\n\nWhen https is enabled, the HMR perhaps connection fail due to a certificate\nissue, and if you open the console, you will get an HMR connect failed error.\n\n\n\nThe solution to this problem is to click on \"Advanced\" -> \"Proceed to xxx\n(unsafe)\" on the Chrome problem page.\n\n\n\n> Tips: When accessing the page through Localhost, the words \"Your connection is\n> not private\" may not appear and can be handled by visiting the Network domain.\n\n\nREACT COMPONENT STATE LOST AFTER HMR?\n\nBuilder uses React's official Fast Refresh capability for component hot update.\n\nWhen using Fast Refresh, it is required that the component cannot be an\nanonymous function, otherwise the state of the React component cannot be\npreserved after hot update.\n\nThe following spellings are incorrect:\n\n// wrong spelling 1\nexport default function () {\n  return <div>Hello World</div>;\n}\n\n// wrong spelling 2\nexport default () => <div>Hello World</div>;\n\n\nThe correct spelling is:\n\n// Correct spelling 1\nexport default function MyComponent() {\n  return <div>Hello World</div>;\n}\n\n// Correct spelling 2\nconst MyComponent = () => <div>Hello World</div>\n\nexport default MyComponent;\n",frontmatter:{}},{id:112,title:"REM adaptation",routePath:"/builder/en/guide/advanced/rem",toc:[{id:"enabling-rem-adaptability",text:"Enabling REM adaptability",depth:2},{id:"css-conversion-properties",text:"CSS conversion properties",depth:2},{id:"setting-the-page-rootfontsize",text:"Setting the page rootFontSize",depth:2},{id:"customize-maxrootfontsize",text:"Customize maxRootFontSize",depth:2},{id:"how-to-determine-if-rem-is-in-effect",text:"How to determine if REM is in effect\uff1f",depth:2},{id:"how-to-get-the-rootfontsize-value-that-is-actually-in-effect-on-the-page",text:"How to get the rootFontSize value that is actually in effect on the page?",depth:2}],content:"REM ADAPTATION\n\nBuilder supports REM adaptation via output.convertToRem, which can dynamically\nadjusts the font size according to the screen size, so that the page will be\ndisplayed correctly on different screen sizes.\n\n\nENABLING REM ADAPTABILITY\n\nBy setting output.convertToRem, the Builder can do the following things:\n\n * Convert px to rem in CSS.\n * Dynamic setting the fontSize of the root element.\n\nexport default {\n  output: {\n    convertToRem: true,\n  },\n};\n\n\n\nCSS CONVERSION PROPERTIES\n\nBy default, rootFontSize is 50. So the CSS styles value are converted according\nto the ratio of 1rem : 50px.\n\n/* input */\nh1 {\n  margin: 0 0 16px;\n  font-size: 32px;\n  line-height: 1.2;\n  letter-spacing: 1px;\n}\n\n/* output */\nh1 {\n  margin: 0 0 0.32rem;\n  font-size: 0.64rem;\n  line-height: 1.2;\n  letter-spacing: 0.02rem;\n}\n\n\nBy default, builder converts all CSS properties from px to rem. If you want to\nconvert only the font-size property, you can setting pxtorem.propList is\n['font-size'].\n\nexport default {\n  output: {\n    convertToRem: {\n      pxtorem: {\n        propList: ['font-size'],\n      },\n    },\n  },\n};\n\n\n\nSETTING THE PAGE ROOTFONTSIZE\n\nThe formula for calculating the font size of the page root element is:\n\npageRootFontSize = clientWidth * rootFontSize / screenWidth\n\n\nIn a mobile browser with a screen width of 390, the default value for\nrootFontSize is 50 and the screenWidth of the UI design is 375.\n\nThe calculated font size for the root element of the page is 52 (390 * 50 /\n375).\n\nAt this point, 1 rem is 52px, 32px\uff080.64 rem\uff09 in the CSS style, the actual size\nin page is 33.28 px.\n\nexport default {\n  output: {\n    convertToRem: {\n      rootFontSize: 50,\n      screenWidth: 375,\n    },\n  },\n};\n\n\n\nCUSTOMIZE MAXROOTFONTSIZE\n\nIn the desktop browser, the page rootFontSize obtained from the calculation\nformula is often too large. When the calculated result large than the\nmaxRootFontSize, the maxRootFontSize will used as the page rootFontSize.\n\nIn the desktop browser with a screen width of 1920, the calculated rootFontSize\nis 349, which exceeds the default maxRootFontSize of 64. 64 is used as the\ncurrent root element font value.\n\nexport default {\n  output: {\n    convertToRem: {\n      maxRootFontSize: 64,\n    },\n  },\n};\n\n\n\nHOW TO DETERMINE IF REM IS IN EFFECT\uff1f\n\n 1. CSS\uff1aCheck the generated .css file to see if the value of the corresponding\n    property is converted from px to rem.\n 2. HTML\uff1aOpen the Page Console to see if a valid value exists for\n    document.documentElement.style.fontSize.\n\n\nHOW TO GET THE ROOTFONTSIZE VALUE THAT IS ACTUALLY IN EFFECT ON THE PAGE?\n\nThe actual rootFontSize in effect for the page is calculated dynamically based\non the current page. It can be seen by printing\ndocument.documentElement.style.fontSize or obtained by window.ROOT_FONT_SIZE.",frontmatter:{}},{id:113,title:"Build Target",routePath:"/builder/en/guide/basic/build-target",toc:[{id:"default-target",text:"Default Target",depth:2},{id:"optional-targets",text:"Optional Targets",depth:2},{id:"multiple-targets",text:"Multiple Targets",depth:2},{id:"node-target",text:"Node Target",depth:2},{id:"web-worker-target",text:"Web Worker Target",depth:2},{id:"modern-web-target",text:"Modern Web Target",depth:2}],content:"BUILD TARGET\n\nBuilder supports build multiple target types for running in different target\nenvironments. After setting the correct target type, Builder will optimize the\nbuild results for the environment, and enable some plugins or configs for the\ntarget environment during the build process.\n\nYou can set the type through the target parameter of the createBuilder method.\n\n\nDEFAULT TARGET\n\nBy default, the build target is 'web', and the build result can run in a browser\nenvironment.\n\nthe Builder will read the Browserslist config in the project to determine the\nrange of browsers.\n\n\nOPTIONAL TARGETS\n\ntarget can also be set to the following values:\n\n * 'node': Build for Node.js environment, usually used in SSR and other\n   scenarios.\n * 'web-worker': Build for Web Worker environment.\n * 'modern-web': Build for modern browsers.\n\nFor example, to build for the Node.js environment:\n\nconst builder = await createBuilder(provider, {\n  target: 'node',\n});\n\n\n\nMULTIPLE TARGETS\n\nWhen target is an array containing multiple values, Builder will perform\nmultiple builds at the same time.\n\nFor example, we can build a browser target and an node target at the same time:\n\nconst builder = await createBuilder(provider, {\n  target: ['web', 'node'],\n});\n\n\n\nNODE TARGET\n\nRefers to the build target running in the Node.js environment, usually used in\nscenarios such as SSR.\n\nWhen target is set to 'node', Builder will:\n\n * No HTML files will be generated, and HTML-related logic will not be executed,\n   since HTML is not required by the Node.js environment.\n * CSS code will not be bundled or extracted, but the id information of CSS\n   Modules will be included in the bundle.\n * The default code split strategy will be disabled, but dynamic import can\n   still work.\n * Disable the HMR.\n * Adjust the default value of Browserslist to ['node >= 14']\u3002\n\nIf target is an array, such as building web and node targets at the same time,\nthen the above processing will not affect the web target, The HTML, CSS and\nother files required for the web target will still be generated correctly.\n\n\nWEB WORKER TARGET\n\nRefers to the build target running in the Web Worker environment.\n\n:::tip Web Worker A web worker is a type of JavaScript program that runs in the\nbackground, independently of other scripts, without affecting the performance of\nthe page. This makes it possible to run long-running scripts, such as ones that\nhandle complex calculations or access remote resources, without blocking the\nuser interface or other scripts. Web workers provide an easy way to run tasks in\nthe background and improve the overall performance of web applications. :::\n\nWhen target is set to 'web-worker', Builder will:\n\n * No HTML files will be generated, and HTML-related logic will not be executed,\n   since HTML is not required by the Web Worker environment.\n * CSS code will not be bundled or extracted, but the id information of CSS\n   Modules will be included in the bundle.\n * The default code split strategy will be disabled, and dynamic import can not\n   work, because the Web Worker only runs a single JavaScript file.\n * Disable the HMR.\n\n\nMODERN WEB TARGET\n\nRefers to the build target running in the modern browsers.\n\n:::tip What are modern browsers? Modern browsers are one of our conventions to\nrefer to browsers that support native ES Modules. :::\n\nWhen target is set to 'modern-web', Builder will:\n\n * Adjust the default value of Browserslist to\uff1a\n\nconst browserslist = [\n  'chrome > 61',\n  'edge > 16',\n  'firefox > 60',\n  'safari > 11',\n  'ios_saf > 11',\n];\n",frontmatter:{}},{id:114,title:"Builder Config",routePath:"/builder/en/guide/basic/builder-config",toc:[{id:"config-categories",text:"Config Categories",depth:2},{id:"default-values",text:"Default Values",depth:2},{id:"use-config",text:"Use Config",depth:2},{id:"in-the-upper-framework",text:"In the Upper Framework",depth:3},{id:"using-the-node-api",text:"Using the Node API",depth:3},{id:"relationship-with-framework-config",text:"Relationship with Framework Config",depth:2},{id:"debug-the-config",text:"Debug the config",depth:2}],content:"BUILDER CONFIG\n\nBuilder provides a wealth of configs to help users customize the build behavior.\n\n\nCONFIG CATEGORIES\n\nBuilder Configs are divided into the following categories:\n\n * Dev Config: Config related to local development.\n * Html Config: Config related to HTML.\n * Tools Config: Config related to the low-level tools.\n * Source Config: Config related to source code parsing and compilation.\n * Output Config: Config related to output.\n * Security Config: Config related to security.\n * Performance Config: Config related to performance.\n\nYou can find detailed descriptions of all configs on the API Reference page.\n\n\nDEFAULT VALUES\n\nThe Builder presets a default value for each config, and the default value is\nsuitable for most scenarios. At the same time, the upper-level framework will\nalso override some of the default values based on the requirements of the\nvertical scene.\n\nIn most cases, you don't need to define any Builder config, just use it right\nout of the box.\n\n\nUSE CONFIG\n\n\nIN THE UPPER FRAMEWORK\n\nWhen you use a Builder-based upper-level framework, you can define the Builder\nconfig directly through the framework's config file, and the upper-level\nframework will pass the config to the Builder.\n\nFor example, in the {MODERN_JS} framework, you can define the Builder's\nsource.alias config in modern.config.ts file.\n\n// modern.config.ts\nexport default {\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n};\n\n\nCommonly used framework config files include:\n\n| Framework | Config File | | --------- | ------------------ | | Modern.js |\nmodern.config.ts | | EdenX | edenx.config.ts | | PIA | pia.config.ts |\n\n\nUSING THE NODE API\n\nWhen you call the Builder through the Node API, you can pass in the Builder\nconfig through the Provider's builderConfig option:\n\n\n\nconst provider = builderWebpackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n\n\nPlease refer to API - createBuilder for details.\n\n\nRELATIONSHIP WITH FRAMEWORK CONFIG\n\nGenerally speaking, the Builder config is a subset of the framework config.\n\nBuilder config only deals with build-related behaviors, while framework config\ncovers a wider range, including runtime, server, deployment, etc., so framework\nconfig is extended from Builder config.\n\n\nDEBUG THE CONFIG\n\nYou can enable Builder's debug mode by adding the DEBUG=builder environment\nvariable when executing a build.\n\nDEBUG=builder pnpm dev\n\n\nIn debug mode, Builder will write the Builder config to the dist directory,\nwhich is convenient for developers to view and debug.\n\nInspect config succeed, open the following files to view the content:\n\n   - Builder Config: /Project/demo/dist/builder.config.js\n   - Webpack Config (web): /Project/demo/dist/webpack.config.web.js\n\n\nOpen the generated /dist/builder.config.js file to see the complete content of\nthe Builder config.\n\nFor a complete introduction to debug mode, see the Debug Mode chapter.",frontmatter:{}},{id:115,title:"Use CSS Modules",routePath:"/builder/en/guide/basic/css-modules",toc:[{id:"example-42",text:"Example",depth:2},{id:"enable-css-modules-for-all-css-files",text:"Enable CSS Modules for all CSS files",depth:2},{id:"custom-class-names",text:"Custom Class Names",depth:2},{id:"add-type-declaration",text:"Add Type Declaration",depth:2},{id:"generate-exact-type-definitions",text:"Generate exact type definitions",depth:2},{id:"example-43",text:"Example",depth:3},{id:"related-configuration",text:"Related configuration",depth:3}],content:"USE CSS MODULES\n\nCSS Modules allows us to write CSS code in a modular way, and these styles can\nbe imported and used in JavaScript files. Using CSS Modules can automatically\ngenerate unique class names, isolate styles between different modules, and avoid\nclass name conflicts.\n\nBuilder supports CSS Modules by default, you don't need to add additional\nconfiguration. Our convention is to use the [name].module.css filename to enable\nCSS Modules.\n\nThe following style files are considered CSS Modules:\n\n * *.module.scss\n * *.module.less\n * *.module.css\n\n\nEXAMPLE\n\n * Write style:\n\n/* button.module.css */\n.error {\n  background: red;\n}\n\n\n * Using styles:\n\n// Button.tsx\n\n// import style file\n\n\nexport default () => {\n  return <button className={styles.error}>Error Button</button>;\n};\n\n\n\nENABLE CSS MODULES FOR ALL CSS FILES\n\nBy default, only files ending in *.module.css are treated CSS Modules.\n\nIf you want to treat all CSS files in the source directory as CSS Modules, you\ncan enable the output.disableCssModuleExtension config, for example:\n\nexport default {\n  output: {\n    disableCssModuleExtension: true,\n  },\n};\n\n\nWhen set, the following two files are treated as CSS Modules:\n\n\n\n\n\nWe do not recommend enabling this config, because after enabling\ndisableCssModuleExtension, CSS Modules files and ordinary CSS files cannot be\nclearly distinguished, which is not conducive to long-term maintenance.\n\n\nCUSTOM CLASS NAMES\n\nCustomizing the class names generated by CSS Modules is also a commonly used\nfunction, you can use output.cssModuleLocalIdentName to configure it.\n\nexport default {\n  output: {\n    cssModuleLocalIdentName: '[hash:base64:4]',\n  },\n};\n\n\nIf you need to customize other configs of CSS Modules, you can set them via\ntools.cssLoader.\n\n\nADD TYPE DECLARATION\n\nWhen you import CSS Modules in TypeScript code, TypeScript may prompt that the\nmodule is missing a type definition:\n\nTS2307: Cannot find module './index.module.css' or its corresponding type declarations.\n\n\nTo fix this, you need to add a type declaration file for the CSS Modules, please\ncreate a src/global.d.ts file, and add the corresponding type declaration:\n\n// src/global.d.ts\ndeclare module '*.module.css' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.scss' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.sass' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.less' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.styl' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\n\nIf you enabled the disableCssModuleExtension config, you also need to add the\nfollowing types:\n\n// src/global.d.ts\ndeclare module '*.css' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.scss' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.sass' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.less' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.styl' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\n\nAfter adding the type declaration, if the type error still exists, you can try\nto restart the current IDE, or adjust the directory where global.d.ts is\nlocated, making sure the TypeScript can correctly identify the type definition.\n\n\nGENERATE EXACT TYPE DEFINITIONS\n\nAlthough the above method can provide the type of CSS Modules, it cannot\naccurately prompt which classNames are exported by a certain CSS file.\n\nBuilder supports generating accurate type declarations for CSS Modules, you only\nneed to enable the output.enableCssModuleTSDeclaration config, and then execute\nthe build, Builder will generate type declaration files for all CSS Modules.\n\nexport default {\n  output: {\n    enableCssModuleTSDeclaration: true,\n  },\n};\n\n\n\nEXAMPLE\n\nFor example, there are two files src/index.ts and src/index.module.scss under a\ncertain folder:\n\n// src/index.ts\n\n\nexport default () => {\n  <div>\n    <div className={styles.pageHeader}>Page Header</div>\n  </div>;\n};\n\n\n// src/index.module.scss\n.page-header {\n  color: black;\n}\n\n\nAfter executing the build, the src/index.module.scss.d.ts type declaration file\nwill be automatically generated:\n\n// src/index.module.scss.d.ts\n// This file is automatically generated.\n// Please do not change this file!\ninterface CssExports {\n  'page-header': string;\n  pageHeader: string;\n}\nexport const cssExports: CssExports;\nexport default cssExports;\n\n\nThen open the src/index.ts file again, you will see that the styles object\nalready has a exact type.\n\n\nRELATED CONFIGURATION\n\nIn the above example, src/index.module.scss.d.ts is generated by compilation,\nyou can choose to commit them to the Git repository, or you can choose to ignore\nthem in the .gitignore file:\n\n# Ignore auto generated CSS declarations\n*.module.css.d.ts\n*.module.sass.d.ts\n*.module.scss.d.ts\n*.module.less.d.ts\n*.module.styl.d.ts\n\n\nIn addition, if the generated code causes ESLint to report errors, you can also\nadd the above configuration to the .eslintignore file.",frontmatter:{}},{id:116,title:"CSS Usage",routePath:"/builder/en/guide/basic/css-usage",toc:[{id:"using-less-sass-and-stylus",text:"Using Less, Sass and Stylus",depth:2},{id:"using-postcss",text:"Using PostCSS",depth:2},{id:"using-css-modules",text:"Using CSS Modules",depth:2},{id:"css-minify",text:"CSS Minify",depth:2},{id:"inline-css-files",text:"Inline CSS Files",depth:2},{id:"import-css-in-node_modules",text:"Import CSS in node_modules",depth:2}],content:"CSS USAGE\n\nBuilder has built-in multiple style resource processing capabilities, including\nLess / Sass preprocessor, PostCSS, CSS Modules, CSS inline and CSS compression.\n\nIn addition, Builder also provides multiple configs to customize the compile\nrules of style resources.\n\n\nUSING LESS, SASS AND STYLUS\n\nThe Builder has built-in community popular CSS preprocessors such as Less, Sass.\n\nBy default, you don't need to configure anything for Less and Sass. If you need\nto customize loader config, you can configure tools.less, tools.sass to set it\nup.\n\nYou can also use Stylus in Builder, just install the Stylus plugin provided by\nBuilder, please refer to Stylus Plugin for usage.\n\n\nUSING POSTCSS\n\nBuilder has built-in PostCSS to transform the CSS code. You can configure the\npostcss-loader via tools.postcss.\n\nexport default {\n  tools: {\n    postcss: opts => {\n      const viewportPlugin = require('postcss-px-to-viewport')({\n        viewportWidth: 375,\n      });\n      opts.postcssOptions.plugins.push(viewportPlugin);\n    },\n  },\n};\n\n\nBy default, we have enabled autoprefixer to add vendor prefixes to CSS rules. If\nyou want to configure the target browser, you can use\noutput.overrideBrowserslist config.\n\n\nUSING CSS MODULES\n\nPlease read the Using CSS Modules chapter for a complete usage of CSS Modules.\n\n\nCSS MINIFY\n\nUsually, in production environments we compress static resources such as CSS,\nJS, etc. to achieve better transfer efficiency.\n\nBuilder automatically compresses CSS code at production build time with\ncss-minimizer-webpack-plugin (The compression tool used at the bottom is\ncssnano).\n\nYou can configure tools.minifyCss to make it more customizable.\n\n:::tip About cssnano cssnano is a tool for optimizing and minifying CSS files.\nIt reduces the size of CSS files by removing unused rules, merging similar\nrules, removing comments and whitespace, and converting length units, among\nother techniques, to improve the loading speed of websites. :::\n\n\nINLINE CSS FILES\n\nBy default, Builder will extract CSS into a separate .css file and output it to\nthe dist directory.\n\nIf you want to inline styles into your JS file, you can set\noutput.disableCssExtract to true to disable CSS extraction logic.When the JS\nfile is requested by the browser, JS dynamically inserts the <style> tag into\nthe Html to load the CSS styles.\n\nexport default {\n  output: {\n    disableCssExtract: true,\n  },\n};\n\n\nThis will increase the size of your JS Bundle, so it is usually not recommended\nto disable the CSS extraction.\n\n\nIMPORT CSS IN NODE_MODULES\n\nYou can directly import CSS files in node_modules.\n\n * Import in a component:\n\n// src/App.tsx\n// Import the Arco Design style:\nimport '@arco-design/web-react/dist/css/arco.css';\n\n\n * Import in a style file:\n\n/* src/App.css */\n/* reference normalize.css */\n/* https://github.com/necolas/normalize.css */\n@import 'normalize.css';\n\nbody {\n  /* */\n}\n",frontmatter:{}},{id:117,title:"HTML Template",routePath:"/builder/en/guide/basic/html-template",toc:[{id:"set-template",text:"Set Template",depth:2},{id:"set-page-title",text:"Set Page Title",depth:2},{id:"set-page-icon",text:"Set Page Icon",depth:2},{id:"set-meta-tags",text:"Set Meta Tags",depth:2},{id:"set-template-parameters",text:"Set Template Parameters",depth:2},{id:"template-engine",text:"Template Engine",depth:2},{id:"lodash-template",text:"Lodash Template",depth:3},{id:"ejs",text:"EJS",depth:3},{id:"pug",text:"Pug",depth:3},{id:"injecting-tags",text:"Injecting Tags",depth:2},{id:"tag-object-1",text:"Tag Object",depth:3},{id:"tags-handler-1",text:"Tags Handler",depth:3}],content:"HTML TEMPLATE\n\nDuring the build process, Builder will compile based on the HTML template and\ntemplate parameters to generate several HTML files.\n\nBuilder provides some configs to set the HTML template. Through this chapter,\nyou can learn the basic usage of these configs.\n\n\nSET TEMPLATE\n\nHTML templates are usually predefined by the upper framework.\n\nFor example, in the Modern.js framework, the HTML template is preset by default,\nand users can also customize the content of the template. You can read the\n\"Modern.js - HTML Templates\" chapter to learn about it.\n\nIn Builder, you can use html.template and html.templateByEntries configs to\ndefine the path to the custom HTML template.\n\nexport default {\n  html: {\n    template: './static/index.html',\n  },\n};\n\n\n\nSET PAGE TITLE\n\nYou can set the HTML <title> tag through the html.title and html.titleByEntries\nconfigs.\n\nWhen there is only one page in your project, just use the html.title setting\ndirectly:\n\nexport default {\n  html: {\n    title: 'example',\n  },\n};\n\n\nWhen there are multiple pages in your project, please use html.titleByEntries to\nset corresponding titles for different pages. html.titleByEntries uses the\npage's \"entry name\" as the key.\n\nexport default {\n  html: {\n    titleByEntries: {\n      foo: 'Foo',\n      bar: 'Bar',\n    },\n  },\n};\n\n\n\nSET PAGE ICON\n\nBuilder supports setting favicon icon and apple-touch-icon icon.\n\nYou can set the favicon through the html.favicon and html.faviconByEntries\nconfigs.\n\nexport default {\n  html: {\n    favicon: './src/assets/icon.png',\n  },\n};\n\n\nYou can also set the apple-touch-icon under iOS through the html.appIcon config.\n\nexport default {\n  html: {\n    appIcon: './src/assets/icon.png',\n  },\n};\n\n\n\nSET META TAGS\n\nYou can set the meta tags through the html.meta and html.metaByEntries configs.\n\nFor example to setting description:\n\nexport default {\n  html: {\n    meta: {\n      description: 'a description of the page',\n    },\n  },\n};\n\n\nThe generated meta tag in HTML is:\n\n<meta name=\"description\" content=\"a description of the page\" />\n\n\n\nSET TEMPLATE PARAMETERS\n\nIn HTML templates, you can use a variety of template parameters. The template\nparameters injected by Builder by default include:\n\ntype DefaultParameters = {\n  meta: string; // corresponding to html.meta config\n  title: string; // corresponding to html.title config\n  mountId: string; // corresponding to html.mountId config\n  entryName: string; // entry name\n  assetPrefix: string; // corresponding to output.assetPrefix config\n  compilation: webpack.Compilation; // Compilation object corresponding to webpack\n  webpackConfig: config; // webpack config\n  // htmlWebpackPlugin built-in parameters\n  // See https://github.com/jantimon/html-webpack-plugin for details\n  htmlWebpackPlugin: {\n    tags: object;\n    files: object;\n    options: object;\n  };\n};\n\n\nYou can also use the html.templateParameters and\nhtml.templateParametersByEntries configs to pass in custom template parameters.\n\nFor example:\n\nexport default {\n  html: {\n    templateParameters: {\n      text: 'World',\n    },\n  },\n};\n\n\nThen you can read parameters in the HTML template with <%= text %>:\n\n<div>hello <%= text %>!</div>\n\n\nThe generated HTML code is as follows:\n\n<div>hello world!</div>\n\n\n\nTEMPLATE ENGINE\n\nBuilder supports using Lodash Template, EJS, Pug as template engines, the most\nbasic Lodash Template is used as the default template engine.\n\n\nLODASH TEMPLATE\n\nWhen the suffix of the template is .html, Builder will use Lodash Template to\ncompile it.\n\nFor example, if you define a text parameter in a template with a value of\n'world', Builder will automatically replace <%= text %> with the value.\n\n\x3c!-- input --\x3e\n<div>hello <%= text %>!</div>\n\n\x3c!-- output --\x3e\n<div>hello world!</div>\n\n\nPlease read the Lodash Template documentation for details.\n\n\nEJS\n\nWhen the suffix of the template is .ejs, Builder will use the EJS template\nengine to compile it. EJS is a simple templating language that lets you generate\nHTML markup with plain JavaScript.\n\nFor example, you can first refer to a .ejs template through the html.template\nconfig:\n\nexport default {\n  html: {\n    template: './static/index.ejs',\n  },\n};\n\n\nThen define a user parameter in the template with a value of { name: 'Jack' }.\nBuilder will automatically replace <%= user.name %> with the value.\n\n\x3c!-- input --\x3e\n<% if (user) { %>\n<h2><%= user.name %></h2>\n<% } %>\n\n\x3c!-- output --\x3e\n<h2>Jack</h2>\n\n\nPlease read the EJS documentation for details.\n\n\nPUG\n\nWhen the suffix of the template is .pug, Builder will use the Pug template\nengine to compile it. Pug is a robust, elegant, feature rich template engine for\nNode.js.\n\nBefore using the Pug template, you need to enable the tools.pug config, and\ndefine the html.template config to reference a .pug template:\n\nexport default {\n  html: {\n    template: './static/index.pug',\n  },\n  tools: {\n    pug: true,\n  },\n};\n\n\nThen you can use Pug syntax in .pug templates:\n\n\x3c!-- input --\x3e\np Hello #{text}!\n\n\x3c!-- output --\x3e\n<p>Hello World!</p>\n\n\nPlease read the Pug documentation for details.\n\n\nINJECTING TAGS\n\nThe html.tags option can be configured to insert any tags into the final\ngenerated HTML product.\n\n:::warning Usage Cases The products of the web application will eventually be\nreferenced directly or indirectly by HTML entries, but most of the time\ninjecting tags directly into HTML is not preferred. :::\n\nAll tags that need to be injected into HTML can be accessed in the template file\nvia the variable htmlWebpackPlugin.tags.\n\n<html>\n  <head>\n    <%= htmlWebpackPlugin.tags.headTags %>\n  </head>\n  <body>\n    <%= htmlWebpackPlugin.tags.bodyTags %>\n  </body>\n</html>\n\n\nThe purpose of html.tags is to adjust these template variables and thus modify\nthe HTML, as defined in API References.\n\n\nTAG OBJECT\n\nexport default {\n  output: {\n    assetPrefix: '//example.com/'\n  },\n  html: {\n    tags: [\n      { tag: 'script', attrs: { src: 'a.js' } },\n      { tag: 'script', attrs: { src: 'b.js' }, append: false },\n      { tag: 'link', attrs: { href: 'style.css', rel: 'stylesheet' }, append: true }\n      { tag: 'link', attrs: { href: 'page.css', rel: 'stylesheet' }, publicPath: false }\n      { tag: 'script', attrs: { src: 'c.js' }, head: false },\n      { tag: 'meta', attrs: { name: 'referrer', content: 'origin' } },\n    ],\n  },\n};\n\n\nThe final insertion position of the tag is determined by the head and append\noptions, and two elements with the same configuration will be inserted into the\nsame area and hold their relative positions to each other.\n\nThe publicPath configuration is enabled by default for tags, the value of\noutput.assetPrefix will be stitched to the src property of the script tag that\nrepresents the path.\n\nSo the HTML output built with the above configuration will look like this.\n\n<html>\n  <head>\n    <script src=\"//example.com/b.js\"><\/script>\n    <link href=\"//example.com/style.css\" rel=\"stylesheet\">\n    <link href=\"page.css\" rel=\"stylesheet\">\n    \x3c!-- some other headTags... --\x3e\n    <script src=\"//example.com/a.js\"><\/script>\n    <meta name=\"referrer\" content=\"origin\">\n  </head>\n  <body>\n    \x3c!-- some other bodyTags... --\x3e\n    <script src=\"//example.com/c.js\"><\/script>\n  </body>\n</html>\n\n\n\nTAGS HANDLER\n\nhtml.tags also accepts a callback function, which is often used to modify the\nlist of tags or to ensure their relative position while inserting them.\n\nexport default {\n  html: {\n    tags: [\n      tags => { tags.splice(0, 1); },\n      { tag: 'script', attrs: { src: 'a.js' }, head: false },\n      { tag: 'script', attrs: { src: 'b.js' }, append: false },\n      { tag: 'script', attrs: { src: 'c.js' } },\n      tags => [...tags, { tag: 'script', attrs: { src: 'd.js' } }],\n    ],\n  },\n};\n\n\nAnd you will get:\n\n<html>\n  <head>\n    \x3c!-- some other headTags... --\x3e\n    <script src=\"//example.com/c.js\"><\/script>\n    <script src=\"//example.com/d.js\"><\/script>\n  </head>\n  <body>\n    \x3c!-- some other bodyTags... --\x3e\n    <script src=\"//example.com/a.js\"><\/script>\n  </body>\n</html>\n",frontmatter:{}},{id:118,title:"Import JSON Files",routePath:"/builder/en/guide/basic/json-files",toc:[{id:"json-file",text:"JSON file",depth:2},{id:"example-44",text:"Example",depth:3},{id:"named-import",text:"Named Import",depth:3},{id:"yaml-file",text:"YAML file",depth:2},{id:"example-45",text:"Example",depth:3},{id:"add-type-declaration-1",text:"Add type declaration",depth:3},{id:"toml-file",text:"Toml file",depth:2},{id:"example-46",text:"Example",depth:3},{id:"add-type-declaration-2",text:"Add type declaration",depth:3}],content:"IMPORT JSON FILES\n\nBuilder supports import JSON files in code, and also supports import YAML and\nToml files and converting them to JSON format.\n\n\nJSON FILE\n\nYou can import JSON files directly in JavaScript files.\n\n\nEXAMPLE\n\n// example.json\n{\n  \"name\": \"foo\",\n  \"items\": [1, 2]\n}\n\n\n\n\nconsole.log(example.name); // 'foo';\nconsole.log(example.items); // [1, 2];\n\n\n\nNAMED IMPORT\n\nBuilder does not support importing JSON files via named import yet:\n\n\n\n\nYAML FILE\n\nYAML is a data serialization language commonly used for writing configuration\nfiles.\n\nYou can directly import .yaml or .yml files in JavaScript and they will be\nautomatically converted to JSON format.\n\n\nEXAMPLE\n\n# example.yaml\n---\nhello: world\nfoo:\n  bar: baz\n\n\n\n\nconsole.log(example.hello); // 'world';\nconsole.log(example.foo); // { bar: 'baz' };\n\n\n\nADD TYPE DECLARATION\n\nWhen you import a YAML file in your TypeScript code, please create a\nsrc/global.d.ts file in your project and add the corresponding type declaration:\n\n// src/global.d.ts\ndeclare module '*.yaml' {\n  const content: Record<string, any>;\n  export default content;\n}\n\ndeclare module '*.yml' {\n  const content: Record<string, any>;\n  export default content;\n}\n\n\n\nTOML FILE\n\nToml is a semantically explicit, easy-to-read configuration file format.\n\nYou can directly import .toml files in JavaScript and it will be automatically\nconverted to JSON format.\n\n\nEXAMPLE\n\n# example.toml\nhello = \"world\"\n\n[foo]\nbar = \"baz\"\n\n\n\n\nconsole.log(example.hello); // 'world';\nconsole.log(example.foo); // { bar: 'baz' };\n\n\n\nADD TYPE DECLARATION\n\nWhen you import Toml files in TypeScript code, please create a src/global.d.ts\nfile in your project and add the corresponding type declarations:\n\n// src/global.d.ts\ndeclare module '*.toml' {\n  const content: Record<string, any>;\n  export default content;\n}\n",frontmatter:{}},{id:119,title:"Output Files",routePath:"/builder/en/guide/basic/output-files",toc:[{id:"default-directory-structure",text:"Default Directory Structure",depth:2},{id:"modify-the-directory",text:"Modify the Directory",depth:2},{id:"static-assets",text:"Static Assets",depth:2},{id:"nodejs-output-directory",text:"Node.js Output Directory",depth:2},{id:"flatten-the-directory",text:"Flatten the Directory",depth:2},{id:"not-written-to-disk",text:"Not Written to Disk",depth:2}],content:"OUTPUT FILES\n\nThis chapter will introduces the directory structure of output files and how to\ncontrol the output directory of different types of files.\n\n\nDEFAULT DIRECTORY STRUCTURE\n\nThe following is a basic directory for output files. By default, the compiled\nfiles will be output in the dist directory of current project.\n\ndist\n\u251c\u2500\u2500 static\n\u2502   \u251c\u2500\u2500 css\n\u2502   \u2502   \u251c\u2500\u2500 [name].[hash].css\n\u2502   \u2502   \u2514\u2500\u2500 [name].[hash].css.map\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 js\n\u2502       \u251c\u2500\u2500 [name].[hash].js\n\u2502       \u251c\u2500\u2500 [name].[hash].js.LICENSE.txt\n\u2502       \u2514\u2500\u2500 [name].[hash].js.map\n\u2502\n\u2514\u2500\u2500 html\n    \u2514\u2500\u2500 [name]\n        \u2514\u2500\u2500 index.html\n\n\nThe most common output files are HTML files, JS files, and CSS files:\n\n * HTML files: default output to the html directory.\n * JS files: default output to static/js directory,\n * CSS files: default output to the static/css directory.\n\nIn addition, JS files and CSS files sometimes generate some related files:\n\n * License files: contains open source license, which is output to the same\n   level directory of the JS file, and adds .LICENSE.txt suffix.\n * Source Map files: contains the source code mappings, which is output to the\n   same level directory of JS files and CSS files, and adds a .map suffix.\n\nIn the filename, [name] represents the entry name corresponding to this file,\nsuch as index, main. [hash] is the hash value generated based on the content of\nthe file.\n\n\nMODIFY THE DIRECTORY\n\nBuilder provides some configs to modify the directory or filename, you can:\n\n * Modify the filename through output.filename.\n * Modify the output path of through output.distPath.\n * Modify the license file through output.legalComments.\n * Remove Source Map file through output.disableSourceMap.\n * Remove the folder corresponding to the HTML files through\n   html.disableHtmlFolder.\n\n\nSTATIC ASSETS\n\nWhen you import static assets such as images, SVG, fonts, media, etc. in the\ncode, they will also be output to the dist/static directory, and automatically\nassigned to the corresponding subdirectories according to the file type:\n\ndist\n\u2514\u2500\u2500 static\n    \u251c\u2500\u2500 image\n    \u2502   \u2514\u2500\u2500 foo.[hash].png\n    \u2502\n    \u251c\u2500\u2500 svg\n    \u2502   \u2514\u2500\u2500 bar.[hash].svg\n    \u2502\n    \u251c\u2500\u2500 font\n    \u2502   \u2514\u2500\u2500 baz.[hash].woff2\n    \u2502\n    \u2514\u2500\u2500 media\n        \u2514\u2500\u2500 qux.[hash].mp4\n\n\nYou can use the output.distPath config to uniformly input these static assets\ninto a directory, for example, output to the assets directory:\n\nexport default {\n  output: {\n    distPath: {\n      image: 'assets',\n      svg: 'assets',\n      font: 'assets',\n      media: 'assets',\n    },\n  },\n};\n\n\nThe above config produces the following directory structure:\n\ndist\n\u2514\u2500\u2500 assets\n    \u251c\u2500\u2500 foo.[hash].png\n    \u251c\u2500\u2500 bar.[hash].svg\n    \u251c\u2500\u2500 baz.[hash].woff2\n    \u2514\u2500\u2500 qux.[hash].mp4\n\n\n\nNODE.JS OUTPUT DIRECTORY\n\nWhen the Build Target of Builder contains 'node', or you have enabled\nserver-side features such as SSR in the upper framework, Builder will generate\nsome output files for Node.js and output them to the bundles directory:\n\ndist\n\u251c\u2500\u2500 bundles\n\u2502   \u2514\u2500\u2500 [name].js\n\u251c\u2500\u2500 static\n\u2514\u2500\u2500 html\n\n\nNode.js files usually only contain JS files, no HTML or CSS. Also, JS file names\nwill not contain hash.\n\nYou can modify the output path of Node.js files through the\noutput.distPath.server config.\n\nFor example, output Node.js files to the server directory:\n\nexport default {\n  output: {\n    distPath: {\n      server: 'server',\n    },\n  },\n};\n\n\n\nFLATTEN THE DIRECTORY\n\nSometimes you don't want the dist directory to have too many levels, you can set\nthe directory to an empty string to flatten the generated directory.\n\nSee the example below:\n\nexport default {\n  output: {\n    distPath: {\n      js: '',\n      css: '',\n      html: '',\n    },\n    disableHtmlFolder: true,\n  },\n};\n\n\nThe above config produces the following directory structure:\n\ndist\n\u251c\u2500\u2500 [name].[hash].css\n\u251c\u2500\u2500 [name].[hash].css.map\n\u251c\u2500\u2500 [name].[hash].js\n\u251c\u2500\u2500 [name].[hash].js.map\n\u2514\u2500\u2500 [name].html\n\n\n\nNOT WRITTEN TO DISK\n\nBy default, Builder will write the generated files to disk, so developers can\nview the file content or configure proxy rules for static assets.\n\nIn development, you can choose to keep the generated files in the Dev Server's\nmemory to reduce the overhead of file operations.\n\nJust set the dev.writeToDisk config to false:\n\nexport default {\n  dev: {\n    writeToDisk: false,\n  },\n};\n",frontmatter:{}},{id:120,title:"Import Static Assets",routePath:"/builder/en/guide/basic/static-assets",toc:[{id:"assets-format",text:"Assets Format",depth:2},{id:"import-assets-in-js-file",text:"Import Assets in JS file",depth:2},{id:"import-assets-in-css-file",text:"Import Assets in CSS file",depth:2},{id:"import-results",text:"Import Results",depth:2},{id:"output-files",text:"Output Files",depth:2},{id:"url-prefix",text:"URL Prefix",depth:2},{id:"add-type-declaration-4",text:"Add Type Declaration",depth:2},{id:"image-format",text:"Image Format",depth:2}],content:"IMPORT STATIC ASSETS\n\nBuilder supports import static assets, including images, fonts, and medias.\n\n:::tip What is Static Assets Static assets are files that are part of a web\napplication and do not change, even when the application is being used. Examples\nof static assets include images, fonts, medias, stylesheets, and JavaScript\nfiles. These assets are typically stored on a web server or CDN, and delivered\nto the user's web browser when the Web application is accessed. Because they do\nnot change, static assets can be cached by the browser, which helps to improve\nthe performance of the Web application. :::\n\n\nASSETS FORMAT\n\nThe following are the formats supported by Builder by default:\n\n * Image: png, jpg, jpeg, gif, svg, bmp, webp, ico, apng, avif, tiff.\n * Fonts: woff, woff2, eot, ttf, otf, ttc.\n * Media: mp4, webm, ogg, mp3, wav, flac, aac, mov.\n\nIf you need to import static resources in other formats, please provide feedback\nthrough GitHub Issues.\n\n:::tip SVG images SVG image is a special case. Builder support convert SVG to\nReact components, so SVG is processed separately. For details, see Import SVG\nAssets. :::\n\n\nIMPORT ASSETS IN JS FILE\n\nIn JS files, you can directly import static assets in relative paths:\n\n// Import the logo.png image in the static directory\n\n\nexport default = () => <img src={logo} />;\n\n\nImport with alias are also supported:\n\n\n\nexport default = () => <img src={logo} />;\n\n\n\nIMPORT ASSETS IN CSS FILE\n\nIn CSS files, you can reference static assets in relative paths:\n\n.logo {\n  background-image: url('../static/logo.png');\n}\n\n\nImport with alias are also supported:\n\n.logo {\n  background-image: url('@/static/logo.png');\n}\n\n\n\nIMPORT RESULTS\n\nThe result of importing static assets depends on the file size:\n\n * When the file size is greater than 10KB, a URL will be returned, and the file\n   will be output to the dist directory.\n * When the file size is less than 10KB, it will be automatically inlined to\n   Base64 format.\n\n\n\n\nconsole.log(largeImage); // \"/static/largeImage.6c12aba3.png\"\nconsole.log(smallImage); // \"data:image/png;base64,iVBORw0KGgo...\"\n\n\nFor a more detailed introduction to asset inlining, please refer to the Static\nAsset Inlining chapter.\n\n\nOUTPUT FILES\n\nWhen static assets are imported, they will be output to the dist directory. You\ncan:\n\n * Modify the output filename through output.filename.\n * Modify the output path through output.distPath.\n\nPlease read Output Files for details.\n\n\nURL PREFIX\n\nThe URL returned after importing a asset will automatically include the path\nprefix:\n\n * In development, using dev.assetPrefix to set the path prefix.\n * In production, using output.assetPrefix to set the path prefix.\n\nFor example, you can set output.assetPrefix to https://modern.com:\n\n\n\nconsole.log(logo); // \"https://modern.com/static/logo.6c12aba3.png\"\n\n\n\nADD TYPE DECLARATION\n\nWhen you import static assets in TypeScript code, TypeScript may prompt that the\nmodule is missing a type definition:\n\nTS2307: Cannot find module './logo.png' or its corresponding type declarations.\n\n\nTo fix this, you need to add a type declaration file for the static assets,\nplease create a src/global.d.ts file, and add the corresponding type\ndeclaration. Taking png images as an example, you need to add the following\ndeclarations:\n\n// src/global.d.ts\ndeclare module '*.png' {\n  const content: string;\n  export default content;\n}\n\n\nAfter adding the type declaration, if the type error still exists, you can try\nto restart the current IDE, or adjust the directory where global.d.ts is\nlocated, making sure the TypeScript can correctly identify the type definition.\n\n\nIMAGE FORMAT\n\nWhen using image assets, you can choose a appropriate image format according to\nthe pros and cons in the table below.\n\n| Format | Pros | Cons | Scenarios | | ------ |\n--------------------------------------------------------------------------------\n------------------------- |\n--------------------------------------------------------------------------------\n--- |\n--------------------------------------------------------------------------------\n---------------------------------------------------------------------- | | PNG |\nLossless compression, no loss of picture details, no distortion, support for\ntranslucency | Not suitable for pictures with complex color tables | Suitable\nfor pictures with few colors and well-defined borders, suitable for logos,\nicons, transparent images and other scenes | | JPG | Rich colors | Lossy\ncompression, which will cause image distortion, does not support transparency |\nSuitable for pictures with a large number of colors, gradients, and overly\ncomplex pictures, suitable for portrait photos, landscapes and other scenes | |\nWebP | Supports both lossy and lossless compression, supports transparency, and\nis much smaller than PNG and JPG | iOS compatibility is not good | Pixel images\nof almost any scene, and the hosting environment that supports WebP, should\nprefer WebP image format | | SVG | Lossless format, no distortion, supports\ntransparency | Not suitable for complex graphics | Suitable for vector graphics,\nsuitable for icons |",frontmatter:{}},{id:121,title:"Import SVG Assets",routePath:"/builder/en/guide/basic/svg-assets",toc:[{id:"import-svg-in-js-file",text:"Import SVG in JS file",depth:2},{id:"modify-the-default-export",text:"Modify the Default Export",depth:2},{id:"import-svg-in-css-file",text:"Import SVG in CSS file",depth:2},{id:"assets-processing",text:"Assets Processing",depth:2},{id:"add-type-declaration-3",text:"Add type declaration",depth:2}],content:"IMPORT SVG ASSETS\n\nBuilder supports import SVG assets and transform SVG into React components or\nURLs.\n\n:::tip What is SVG SVG stands for Scalable Vector Graphics. It is a type of\nimage format that uses vector graphics to represent images. Vector graphics are\ndifferent from raster graphics, which are made up of pixels. Instead, vector\ngraphics use geometric shapes, lines, and curves to represent images. Because\nvector graphics are not made up of pixels, they can be scaled to any size\nwithout losing resolution or quality. :::\n\n\nIMPORT SVG IN JS FILE\n\nWhen import an SVG in a JS file, if you import ReactComponent, Builder will call\nSVGR to convert the SVG into a React component.\n\n// src/component/Logo.tsx\n\n\nexport default () => <Logo />;\n\n\nIf you use the default import, then the SVG will be treated as a normal static\nasset and you will get a URL:\n\n\n\nconsole.log(logoURL); // => \"/static/logo.6c12aba3.png\"\n\n\n\nMODIFY THE DEFAULT EXPORT\n\nYou can modify the default export of SVG files through the\noutput.svgDefaultExport config. For example, set the default export as a React\ncomponent:\n\nexport default {\n  output: {\n    svgDefaultExport: 'component',\n  },\n};\n\n\nThen import the SVG, you'll get a React component instead of a URL:\n\n// src/component/Logo.tsx\n\n\nexport default () => <Logo />;\n\n\n\nIMPORT SVG IN CSS FILE\n\nWhen import an SVG in a CSS file, the SVG is treated as a normal static resource\nand you will get a URL:\n\n.logo {\n  background-image: url('../static/logo.svg');\n}\n\n\n\nASSETS PROCESSING\n\nWhen SVG is imported not as a React component but as a normal static resource,\nit is processed exactly the same as other static assets, and it is also affected\nby rules such as assets inlining and URL prefixing.\n\nPlease read the Import Static Assets section to understand the processing rules\nfor static assets.\n\n\nADD TYPE DECLARATION\n\nWhen you reference an SVG asset in TypeScript code, TypeScript may prompt that\nthe module is missing a type definition:\n\nTS2307: Cannot find module './logo.svg' or its corresponding type declarations.\n\n\nTo fix this, you need to add a type declaration file for the SVG asset, please\ncreate a src/global.d.ts file, and add the following type declaration:\n\ndeclare module '*.svg' {\n  export const ReactComponent: React.FunctionComponent<\n    React.SVGProps<SVGSVGElement>\n  >;\n\n  const content: string;\n  export default content;\n}\n\n\nIf you set svgDefaultExport to 'component', then change the type declaration to:\n\ndeclare module '*.svg' {\n  export const ReactComponent: React.FunctionComponent<\n    React.SVGProps<SVGSVGElement>\n  >;\n\n  export default ReactComponent;\n}\n\n\nAfter adding the type declaration, if the type error still exists, you can try\nto restart the current IDE, or adjust the directory where global.d.ts is\nlocated, making sure the TypeScript can correctly identify the type definition.",frontmatter:{}},{id:122,title:"Use TypeScript",routePath:"/builder/en/guide/basic/typescript",toc:[{id:"typescript-compilation",text:"TypeScript compilation",depth:2},{id:"why-babel-is-the-default-option",text:"Why Babel is the default option",depth:3},{id:"type-checking",text:"Type checking",depth:2}],content:"USE TYPESCRIPT\n\nBuilder supports TypeScript compilation and type checking by default, you can\nuse . ts and `. tsx' files in the project without any configuration.\n\n\nTYPESCRIPT COMPILATION\n\nBuilder has three ways to compile TypeScript files.\n\nBabel\n\nBy default, all TypeScript files are compiled by Babel.\n\nYou may find some old articles pointing out that Babel cannot handle const enum\nand namespace alias syntax, however since version 7.15 Babel has supported them.\nBabel compile is enabled by default.\n\nIf you want more Babel plugins\n\nts-loader\n\nThe ts-loader uses TypeScript's official compiler-TSC under the hood. When\nts-loader is enabled, TypeScript files will no longer be compiled by Babel, but\nBabel will still inject polyfill into the TSC output and transform it to the\nlower version of JavaScript.\n\nEnable ts-loader(with default options):\n\nexport default {\n  tools: {\n    tsLoader: {},\n  },\n};\n\n\nMore configuration can be found at tools.tsLoader.\n\nIf ts-loader is enabled with default configuration, it does not have type\nchecking, we do type checking by fork-ts-checker-webpack-plugin.\n\nSWC\n\nIf you want a super fast compiler, and you don't need some custom Babel plugins,\nthen you can use SWC for compilation and minification.\n\nSWC plugin in Builder supports TypeScript, TSX and legacy decorator, you can\ncheck SWC plugin.\n\n\nWHY BABEL IS THE DEFAULT OPTION\n\nBabel supports TypeScript well. It cannot check types, but we can check types in\nanother process. Babel follows standards more when compiled to lower versions of\nJavaScript in certain situations. For example, Babel will initialize class\nmembers as undefined, and mark class methods as non-enumerable. If TSC is\nenabled, for better syntax downgrading and Polyfill, the TSC output will still\nbe compiled by Babel, causing unnecessary performance costs.\n\n\nTYPE CHECKING\n\nCurrently, the only stable TypeScript type checking tool is TSC, and it usually\ntakes a while to check types in a large project, so Builder by default using\ntsChecker(fork-ts-checker-webpack-plugin) for asynchronous type checking, it\nwon't block project setup.\n\nSet tsChecker(with default options):\n\nexport default {\n  tools: {\n    tsChecker: {},\n  },\n};\n\n\nMore configurations can be seen at tsChecker configuration\u3002\n\nNote that if ts-loader is enabled and compileOnly: false is set, please disable\ntsChecker to avoid duplicate type-checking.\n\n:::tip STC The author of SWC has announced a new open-source type-checking tool\nbased on Rust, which is called STC, it's super fast but it cannot used for\nproduction now, really don't recommend you use that for now, when it's stabled\nwe will use that in Builder SWC plugin as experimental ability. :::",frontmatter:{}},{id:123,title:"Debug Mode",routePath:"/builder/en/guide/debug/debug-mode",toc:[{id:"log-information",text:"Log information",depth:2},{id:"builder-config-file",text:"Builder config file",depth:2},{id:"webpack-config-file",text:"webpack config file",depth:2}],content:"DEBUG MODE\n\nBuilder provides a debug mode to troubleshoot problems, you can add the\nDEBUG=builder environment variable when executing a build to enable Builder's\ndebug mode.\n\n# Debug development environment\nDEBUG=builder pnpm dev\n\n# Debug production environment\nDEBUG=builder pnpm build\n\n\nIn debug mode, Builder will output some additional log information, and write\nthe Builder config and webpack config to the dist directory, which is convenient\nfor developers to view and debug.\n\n\nLOG INFORMATION\n\nIn debug mode, you will see some additional information output from the shell,\namong which are some process logs starting with debug, indicating what\noperations are performed inside the Builder.\n\n$ DEBUG=builder pnpm dev\n\ndebug create context [1842.90 ms]\ndebug add default plugins [1874.45 ms]\ndebug add default plugins done [1938.57 ms]\ndebug init plugins [2388.29 ms]\ndebug init plugins done [2389.48 ms]\n...\n\n\nIn addition, the following logs will be output in the Shell, indicating that the\nBuilder has written the internally generated build configs to disk, and you can\nopen these config files to view the corresponding content.\n\nInspect config succeeds, open following files to view the content:\n\n   - Builder Config: /Project/demo/dist/builder.config.js\n   - Webpack Config (web): /Project/demo/dist/webpack.config.web.js\n\n\n\nBUILDER CONFIG FILE\n\nIn debug mode, Builder will automatically generate dist/builder.config.js file,\nwhich contains the final generated Builder config. In this file, you can know\nthe final result of the Builder config you passed in after being processed by\nthe framework and Builder.\n\nThe structure of the file is as follows:\n\nmodule.exports = {\n  dev: {\n    // some configs...\n  },\n  source: {\n    // some configs...\n  },\n  // other configs...\n};\n\n\nFor a complete introduction to Builder config, please see the Builder Config\nchapter.\n\n\nWEBPACK CONFIG FILE\n\nIn debug mode, Builder will also automatically generate\ndist/webpack.config.web.js file, which contains the final generated webpack\nconfig. In this file, you can see what is included in the config that Builder\nfinally passes to webpack.\n\nThe structure of the file is as follows:\n\nmodule.exports = {\n  resolve: {\n    // some resolve configs...\n  },\n  module: {\n    // some webpack loaders...\n  },\n  plugins: [\n    // some webpack plugins...\n  ],\n  // other configs...\n};\n\n\nIn addition, if the project configures additional build targets, such as\nenabling the SSR capability of the framework (corresponding to additional\nNode.js build target), an additional webpack.config.node.js file will be\ngenerated in the dist directory, corresponding to the webpack config for SSR\nbundles.\n\nFor a complete introduction to webpack configs, please see webpack official\ndocumentation.",frontmatter:{}},{id:124,title:"Using Webpack Inspector",routePath:"/builder/en/guide/debug/inspector",toc:[{id:"introduce",text:"Introduce",depth:2},{id:"enable",text:"Enable",depth:2},{id:"debug-panel",text:"Debug Panel",depth:2},{id:"config-preview-mode",text:"Config Preview Mode",depth:3},{id:"list-mode",text:"List Mode",depth:3},{id:"loader-statistics",text:"Loader Statistics",depth:3},{id:"dependency-graph-mode",text:"Dependency Graph Mode",depth:3}],content:"USING WEBPACK INSPECTOR\n\nBuilder has a built-in webpack inspector to debug webpack.\n\n\nINTRODUCE\n\nThe internal workflow of webpack is relatively black box, when using webpack, we\noften encounter the following problems:\n\n * When using some upper-level frameworks, I don't know what the final generated\n   webpack config contains.\n * Each module will be processed by different loaders, and the compilation\n   results of each loader are difficult to perceive.\n * It is difficult to analyze the time cost of each webpack loader (such as\n   babel-loader, ts-loader).\n\nIn order to make performance analysis, error investigation and loader\ndevelopment more convenient, we provide the webpack inspector tool in the\nBuilder.\n\n\nENABLE\n\nYou can enable webpack inspector through tools.inspector config:\n\nexport default {\n  tools: {\n    inspector: {},\n  },\n};\n\n\nIn order to prevent the inspector from affecting normal development, it is\nrecommended to enable the inspector only in DEBUG mode:\n\nexport default {\n  tools: {\n    inspector: process.env.DEBUG ? {} : undefined,\n  },\n};\n\n\nAfter adding the above config, when you execute DEBUG=true pnpm dev, Builder\nwill start the inspector after the compilation is complete. At this time, you\ncan see the following information in the Shell:\n\ninfo    Starting dev server...\n\n\u3010Webpack Inspector\u3011\ud83d\udd25 started at http://localhost:3333\n\n\nOpen the http://localhost:3333 address to access the debug panel of the\ninspector.\n\n\nDEBUG PANEL\n\nThe Inspector's debugging panel provides multiple modes, which you can switch\nthrough the buttons in the upper right corner.\n\n\nCONFIG PREVIEW MODE\n\nThe default mode of the panel is config preview mode. In this mode, you can view\nall config information inside webpack, and the config object can be expanded or\ncollapsed:\n\n\n\n\nLIST MODE\n\nIn this mode, all module information will be displayed:\n\n\n\nClicking on the list item will display the compilation details of the module:\n\n\n\n\nLOADER STATISTICS\n\nClick the following switch to view loader statistics:\n\n\n\n\nDEPENDENCY GRAPH MODE\n\nIn this mode, the dependencies of all modules will be displayed:\n\n\n\nClicking on a node in the graph will also display the compilation details of the\nspecific module:\n\n\n\nFor performance reasons, the dependency graph is not displayed when the number\nof modules is > 100.",frontmatter:{}},{id:125,title:"Exceptions",routePath:"/builder/en/guide/faq/exceptions",toc:[{id:"compilation-argument-error-when-webpack-compiling",text:"'compilation' argument error when webpack compiling?",depth:2},{id:"find-es6-code-in-the-compiled-files",text:"Find ES6+ code in the compiled files?",depth:2},{id:"failed-import-other-modules-in-monorepo",text:"Failed import other modules in Monorepo?",depth:2},{id:"compile-error-you-may-need-additional-loader",text:"Compile error You may need additional loader?",depth:2},{id:"find-exports-is-not-defined-runtime-error",text:"Find exports is not defined runtime error?",depth:2},{id:"compile-error-error-es-modules-may-not-assign-moduleexports-or-exports-use-esm-export-syntax",text:'Compile error "Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax"?',depth:2},{id:"the-compilation-progress-bar-is-stuck-but-there-is-no-error-log-in-the-terminal",text:"The compilation progress bar is stuck, but there is no Error log in the terminal?",depth:2},{id:"the-webpack-cache-does-not-work",text:"The webpack cache does not work?",depth:2},{id:"tree-shaking-does-not-take-effect",text:"Tree Shaking does not take effect?",depth:2},{id:"javascript-heap-out-of-memory-when-compiling",text:"JavaScript heap out of memory when compiling?",depth:2},{id:"division-in-less-file-doesnt-work",text:"Division in Less file doesn't work?",depth:2},{id:"compile-error-typeerror-cannot-delete-property-xxx-of-object",text:"Compile error \u2018TypeError: Cannot delete property 'xxx' of #<Object>\u2019",depth:2}],content:"EXCEPTIONS\n\n\n'COMPILATION' ARGUMENT ERROR WHEN WEBPACK COMPILING?\n\nIf the following error occurs when compiling, it is usually caused by installing\nthe wrong version of webpack in the project, or installing multiple versions of\nwebpack:\n\nTypeError: The 'compilation' argument must be an instance of Compilation\n\n\nThe webpack version problem has the following situations:\n\n 1. The webpack dependency is directly declared in the project's package.json,\n    and the version range of the webpack that the Builder depends on is\n    different and cannot match the same version.\n 2. Multiple npm packages installed in the project all depend on webpack, and\n    the webpack version ranges they depend on are different and cannot match the\n    same version.\n 3. Due to the lock mechanism of the package manager, multiple webpack versions\n    are generated in the lock file.\n\nIn the first case, it is recommended to remove the webpack dependency from the\nproject's package.json. Because Builder encapsulates webpack-related\ncapabilities by default, and will pass in the webpack object in the\ntools.webpack configuration item. Therefore, in most cases, it is not\nrecommended to install additional webpack dependencies in the project.\n\nIn the second case, it is recommended to see if you can upgrade an npm package\nso that its dependent webpack version range is consistent with the Builder. It\nis also possible to manually unify versions through the ability of the package\nmanager, e.g. using yarn resolutions or [pnpm overrides](https\n://pnpm.io/package_json#pnpmoverrides).\n\nIf it is the third case, you can use the two methods mentioned in the second\ncase, or you can try to delete the lock file and reinstall it to solve it.\n\nDeleting the lock file will automatically upgrade the dependency version in the\nproject to the latest version under the specified scope, please test it\nthoroughly.\n\n\nFIND ES6+ CODE IN THE COMPILED FILES?\n\nBy default, Builder will not compile files under node_modules through\nbabel-loader or ts-loader. If the npm package introduced by the project contains\nES6+ syntax, it will be packaged into the product.\n\nWhen this happens, you can specify directories or modules that need to be\ncompiled additionally through the source.include configuration item.\n\n\nFAILED IMPORT OTHER MODULES IN MONOREPO?\n\nFor the sake of compilation performance, by default, Builder will not compile\nfiles under node_modules through babel-loader or ts-loader, nor will it compile\nfiles outside the current project directory.\n\nThrough the source.include configuration item, you can specify directories or\nmodules that require additional compilation.\n\nFor details, see source.include usage introduction.\n\n\nCOMPILE ERROR YOU MAY NEED ADDITIONAL LOADER?\n\nIf the following error message is encountered during the compilation process, it\nmeans that there are individual files that cannot be compiled correctly.\n\nModule parse failed: Unexpected token\nFile was processed with these loaders:\n * some-loader/index.js\n\nYou may need an additional loader to handle the result of these loaders.\n\n\nSolution:\n\n * If the .ts file outside the current project is referenced, or the .ts file\n   under node_modules, please add the source.include configuration Items that\n   specify files that require additional compilation.\n * If you refer to a file format that is not supported by Builder, please\n   configure the corresponding webpack loader for compilation.\n\n\nFIND EXPORTS IS NOT DEFINED RUNTIME ERROR?\n\nIf the compilation is succeed, but the exports is not defined error appears\nafter opening the page, it is usually because a CommonJS module is compiled by\nbabel.\n\nUnder normal circumstances, Builder will not use babel to compile CommonJS\nmodules. If the source.include configuration item is used in the project, or the\n[tools.babel](/en/api/config-tools.html#tools -babel) addIncludes method, some\nCommonJS modules may be added to the babel compilation.\n\nThere are two workarounds for this problem:\n\n 1. Avoid adding CommonJS modules to babel compilation.\n 2. Set babel's sourceType configuration item to unambiguous, for example:\n\nexport default {\n  tools: {\n    babel(config) {\n      config.sourceType = 'unambiguous';\n    },\n  },\n};\n\n\nSetting sourceType to unambiguous may have some other effects, please refer to\nbabel official documentation.\n\n\nCOMPILE ERROR \"ERROR: ES MODULES MAY NOT ASSIGN MODULE.EXPORTS OR EXPORTS.*, USE\nESM EXPORT SYNTAX\"?\n\nIf the following error occurs during compilation, it is usually because a\nCommonJS module is compiled with babel in the project, and the solution is same\nas the above exports is not defined problem.\n\nError: ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: 581\n\n\nFor more information, please refer to issue: babel#12731.\n\n\nTHE COMPILATION PROGRESS BAR IS STUCK, BUT THERE IS NO ERROR LOG IN THE\nTERMINAL?\n\nWhen the compilation progress bar is stuck, but there is no Error log on the\nterminal, it is usually because an exception occurred during the compilation. In\nsome cases, when Error is caught by webpack or other modules, the error log can\nnot be output correctly. The most common scenario is that there is an exception\nin the Babel config, which is caught by webpack, and webpack swallows the Error\nin some cases.\n\nSolution:\n\nIf this problem occurs after you modify the Babel config, it is recommended to\ncheck for the following incorrect usages:\n\n 1. You have configured a plugin or preset that does not exist, maybe the name\n    is misspelled, or it is not installed correctly.\n\n// wrong example\nexport default {\n  tools: {\n    babel(config, { addPlugins }) {\n      // The plugin has the wrong name or is not installed\n      addPlugins('babel-plugin-not-exists');\n    },\n  },\n};\n\n\n 2. Whether multiple babel-plugin-imports are configured, but the name of each\n    babel-plugin-import is not declared in the third item of the array.\n\n// wrong example\nexport default {\n  tools: {\n    babel(config, { addPlugins }) {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd', libraryDirectory: 'es' },\n        ],\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd-mobile', libraryDirectory: 'es' },\n        ],\n      ]);\n    },\n  },\n};\n\n\n// correct example\nexport default {\n  tools: {\n    babel(config, { addPlugins }) {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd', libraryDirectory: 'es' },\n          'antd',\n        ],\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd-mobile', libraryDirectory: 'es' },\n          'antd-mobile',\n        ],\n      ]);\n    },\n  },\n};\n\n\n\nTHE WEBPACK CACHE DOES NOT WORK?\n\nBuilder enables webpack's persistent cache by default.\n\nAfter the first compilation is completed, the cache file will be automatically\ngenerated and output to the ./node_modules/.cache/webpack directory. When the\nsecond compilation is performed, the cache is hit and the compilation speed is\ngreatly improved.\n\nWhen configuration files such as package.json are modified, the cache is\nautomatically invalidated.\n\nIf the webpack compilation cache in the project has not taken effect, you can\nadd the following configuration for troubleshooting:\n\nexport default {\n  tools: {\n    webpack(config) {\n      config.infrastructureLogging = {\n        ...config.infrastructureLogging,\n        debug: /webpack\\.cache/,\n      };\n    },\n  },\n};\n\n\nAfter adding the above configuration, webpack will output logs for debugging.\nPlease refer to the logs related to PackFileCacheStrategy to understand the\ncause of cache invalidation.\n\n\nTREE SHAKING DOES NOT TAKE EFFECT?\n\nBuilder will enable the Tree Shaking function of webpack by default during\nproduction construction. Whether Tree Shaking can take effect depends on whether\nthe business code can meet the Tree Shaking conditions of webpack.\n\nIf you encounter the problem that Tree Shaking does not take effect, you can\ncheck whether the sideEffects configuration of the relevant npm package is\ncorrect. If you don't know what sideEffects is, you can read the following two\ndocuments:\n\n * webpack official documentation - Tree Shaking\n * Tree Shaking Troubleshooting Guide\n\n\nJAVASCRIPT HEAP OUT OF MEMORY WHEN COMPILING?\n\nThis error indicates that there is a memory overflow problem during the\npackaging process. In most cases, it is because the packaged content exceeds the\ndefault memory limit of Node.js.\n\nIn case of OOM issues, the easiest way to fix this is by increasing the memory\ncap, Node.js provides the --max-old-space-size option to set this. You can set\nthis parameter by adding NODE_OPTIONS before the CLI command:\n\nNODE_OPTIONS=--max_old_space_size=16384 modern build\n\n\nThe value of the parameter represents the upper limit of the memory size (MB).\nGenerally, it can be set to 16384 (16GB).\n\nThe following parameters are explained in more detail in the official Node.js\ndocumentation:\n\n * NODE_OPTIONS\n * --max-old-space-size\n\nIn addition to increasing the memory limit, it is also a solution to improve\nefficiency by enabling some compilation strategies.\n\n\nDIVISION IN LESS FILE DOESN'T WORK?\n\nCompared with the v3 version, the Less v4 version has some differences in the\nway of writing division:\n\n// Less v3\n.math {\n  width: 2px / 2; // 1px\n  width: 2px ./ 2; // 1px\n  width: (2px / 2); // 1px\n}\n\n// Less v4\n.math {\n  width: 2px / 2; // 2px / 2\n  width: 2px ./ 2; // 1px\n  width: (2px / 2); // 1px\n}\n\n\nThe built-in Less version of Builder is v4, and the writing method of the lower\nversion will not take effect. Please pay attention to the distinction.\n\nThe writing of division in Less can also be modified through configuration\nitems, see Less - Math.\n\n\nCOMPILE ERROR \u2018TYPEERROR: CANNOT DELETE PROPERTY 'XXX' OF #<OBJECT>\u2019\n\nThis error indicates that a read-only configuration item was deleted during the\ncompilation process. Normally, we do not want any operation to directly modify\nthe incoming configuration when compiling, but it is difficult to restrict the\nbehavior of underlying plugins (such as postcss-loader, etc). If this error\noccurs, please contact the builder developer and we will need to do something\nspecial with that configuration.\n\nThe same type of error is also reported:\n\n * 'TypeError: Cannot add property xxx, object is not extensible'\n * 'TypeError: Cannot assign to read only property 'xxx' of object '#<Object>'",frontmatter:{}},{id:126,title:"Features",routePath:"/builder/en/guide/faq/features",toc:[{id:"how-to-import-ui-component-library-on-demand",text:"How to import UI Component library on demand?",depth:2},{id:"how-to-run-eslint-during-compilation",text:"How to run ESLint during compilation?",depth:2},{id:"how-to-configure-cdn-path-for-static-assets",text:"How to configure CDN path for static assets?",depth:2},{id:"how-to-clear-the-webpack-cache",text:"How to clear the webpack cache?",depth:2},{id:"how-to-remove-console-after-production-build",text:"How to remove console after production build?",depth:2}],content:"FEATURES\n\n\nHOW TO IMPORT UI COMPONENT LIBRARY ON DEMAND?\n\nIf you need to configure the on-demand import of component libraries, you can\nconfigure [babel-plugin-import](https://github.com/ through tools.babel\numijs/babel-plugin-import) plugin.\n\nexport default {\n  tools: {\n    babel: (config, { addPlugins }) => {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          {\n            libraryName: 'xxx-components',\n            libraryDirectory: 'es',\n            style: true,\n          },\n        ],\n      ]);\n    },\n  },\n};\n\n\n\nHOW TO RUN ESLINT DURING COMPILATION?\n\nFor the sake of compilation performance, Builder will not perform ESLint\nverification during the compilation process by default. If you need this\nfunction, you can manually install and register the eslint-webpack-plugin in the\ncommunity -contrib/eslint-webpack-plugin).\n\nThe sample code to register the plugin is as follows:\n\n\n\nexport default {\n  tools: {\n    webpackChain(chain) {\n      chain.plugin('eslint-plugin').use(ESLintPlugin, [\n        {\n          extensions: ['.js', '.ts', '.jsx', 'tsx', '.mjs'],\n        },\n      ]);\n    },\n  },\n};\n\n\n> For more detailed usage, please refer to the eslint-webpack-plugin\n> documentation.\n\n\nHOW TO CONFIGURE CDN PATH FOR STATIC ASSETS?\n\nIf you need to upload static assets such as JS and CSS to CDN for use, you can\nset the URL prefix of static assets through the output.assetPrefix\nconfiguration.\n\nexport default {\n  output: {\n    assetPrefix: 'https://cdn.example.com/assets/',\n  },\n};\n\n\n\nHOW TO CLEAR THE WEBPACK CACHE?\n\nBy default, Builder's webpack cache is generated in the\n./node_modules/.cache/webpack directory.\n\nIf you need to clear the local webpack cache, you can execute the following\ncommand:\n\nrm -rf ./node_modules/.cache\n\n\n\nHOW TO REMOVE CONSOLE AFTER PRODUCTION BUILD?\n\nWhen the production environment is built, we can remove the console from the\ncode, so as to avoid the log of the development environment being output to the\nproduction environment.\n\nBuilder provides a configuration item to remove console by default, please see\nperformance.removeConsole.",frontmatter:{}},{id:127,title:"General",routePath:"/builder/en/guide/faq/general",toc:[{id:"the-relationship-between-modernjs-builder-and-modernjs",text:"The relationship between Modern.js Builder and Modern.js?",depth:2},{id:"can-builder-be-used-to-build-libraries-or-ui-components",text:"Can Builder be used to build libraries or UI components?",depth:2},{id:"will-builder-support-turbopack",text:"Will Builder support Turbopack?",depth:2},{id:"will-builder-support-vite",text:"Will Builder support Vite?",depth:2}],content:"GENERAL\n\n\nTHE RELATIONSHIP BETWEEN MODERN.JS BUILDER AND MODERN.JS?\n\nThe building abilities of Modern.js are based on Modern.js Builder.\n\nWhen developing Modern.js, we designed Builder as an independent module, and\nclearly divided the responsibilities of Builder and Modern.js. Therefore,\nBuilder can be used independently of the Modern.js framework and be applied to\nother frameworks or scenarios.\n\n\nCAN BUILDER BE USED TO BUILD LIBRARIES OR UI COMPONENTS?\n\nBuilder focuses on solving web application building scenarios. We do not\nrecommend that you use Builder to build libraries or UI components.\n\nIf you need to build a library or UI components, it is recommended to use the\nModern.js Module Tools.\n\n\nWILL BUILDER SUPPORT TURBOPACK?\n\nTurbopack is the rust-powered successor to webpack, we will continue to pay\nattention to it.\n\nAt present, Turbopack only supports use in Next.js. When Turbopack can be used\nindependently, and the completion and community ecology reach a certain level,\nwe will consider supporting it for sure.\n\n\nWILL BUILDER SUPPORT VITE?\n\nVite is a great tool, but the goal of Builder is to replace webpack with Rust\nBundler, Rust Builder can provide fast compilation speed, while maintaining the\nconsistent behavior between development and production.\n\nBuilder will focus on the evolution from webpack to Rust Builder, so it will not\nbe support Vite.",frontmatter:{}},{id:128,title:"All Features",routePath:"/builder/en/guide/features",toc:[{id:"javascript",text:"JavaScript",depth:2},{id:"css",text:"CSS",depth:2},{id:"html",text:"HTML",depth:2},{id:"development-and-debugging",text:"Development and Debugging",depth:2},{id:"react",text:"React",depth:2},{id:"static-assets-1",text:"Static Assets",depth:2},{id:"performance",text:"Performance",depth:2}],content:"ALL FEATURES\n\nHere are all the main features supported by Modern.js Builder.\n\n\nJAVASCRIPT\n\n| Features | Description | Links | | ------------------------ |\n--------------------------------------------------------------------------------\n----------------------------------------------- |\n--------------------------------------------------------------------------------\n--------------------------------------------------------------------------------\n------------------------------------------------------------------ | | Babel\ncompilation | Babel compilation is enabled by default, which converts JavaScript\nand TypeScript code to backward compatible JavaScript syntax | tools.babel | |\nTS compilation | TS files are compiled by Babel by default, you can also use\nts-loader | TypeScript compilationtools.babeltools.tsLoader | | Type Checker |\nRuns TypeScript type checker by default | Type checkingtools.tsChecker | | JS\nminification | JS minification is enabled by default in production build |\ntools.terser | | Polyfill injection | core-js and other polyfills are injected\nby default | Browser Compatibilityoutput.polyfill | | SourceMap generation |\nHigh-quality SourceMap is generated by default in production build |\noutput.disableSourceMap | | Alias | Optional feature, set import alias |\nsource.alias | | Restrict importing paths | Optional feature, restrict source\ncode import paths | source.moduleScopes | | esbuild compilation | Optional\nfeature, transform and minify JavaScript and TypeScript code with esbuild |\nesbuild plugin | | SWC Compilation | Optional feature, transform and minify\nJavaScript and TypeScript code with SWC | SWC plugin | | Node artifacts |\nOptional feature, support building bundles that run in Node.js environment |\nNode Target | | Web Worker artifacts | Optional feature, support building\nbundles that run in a Web Worker environment | Web Worker Target | |\nBrowserslist | Optional feature, using browserslist (opens new window)to specify\nwhich browsers should be supported in your Web application. | Browserslist |\n\n\nCSS\n\n| Features | Description | Links | | ----------------------- |\n--------------------------------------------------------------------------------\n-- |\n--------------------------------------------------------------------------------\n--------------------------------------------------------------------------------\n--------------------------------------- | | PostCSS compilation | PostCSS\ncompilation is enabled by default, built-in autoprefixer and other plugins | CSS\nUsagetools.postcss tools.autoprefixer | | Sass preprocessing | Support compile\nSass files by default | CSS Usagetools.sass | | Less preprocessing | Support\ncompile Less files by default | CSS Usagetools.less | | Stylus preprocessing |\nOptional feature, compile Stylus files | Stylus Plugin | | CSS Modules\nCompilation | Support compiling *.module.* files by default | Use CSS\nModulestools.cssLoader | | CSS Modules Type | Optional feature, automatically\ngenerate type definition for CSS Modules | Use CSS\nModulesenableCssModuleTSDeclaration | | CSS minification | CSS minification is\nenabled by default in production build | CSS Usagetools.minifyCss | | Extract\nCSS files | CSS will be extracted as separate files by default |\ntools.cssExtract | | Styled Components | Support styled components compilation\nby default | tools.styledComponents | | Inline CSS into JS | Optional feature,\ninline CSS files to JavaScript files | CSS Usagetools.styleLoader |\n\n\nHTML\n\n| Features | Description | Links | | ----------------------- |\n-------------------------------------------- |\n--------------------------------------------------------------------------------\n--------------------------------------------------------------------------------\n----------------------------------------------------------------- | | Set title\n| Set HTML title tag | Set Page Titlehtml.titlehtml.titleByEntries | | Set meta\n| Set HTML meta tag | Set Meta Tagshtml.metahtml.metaByEntries | | Set favicon |\nSet favicon for page | Set Page Iconhtml.faviconhtml.faviconByEntries | | Set\napp icon | Set apple icon for iOS | Set Page Iconhtml.appIcon | | Use EJS\ntemplate engine | Optional feature, use EJS template engine | tools.pug | | Use\nPug template engine | Optional feature, use pug template engine | tools.pug | |\nInline JS files | Optional feature, inline JS files into HTML | Inline Static\nAssetsoutput.enableInlineScripts | | Inline CSS files | Optional feature, inline\nCSS files into HTML | Inline Static Assetsoutput.enableInlineStyles |\n\n\nDEVELOPMENT AND DEBUGGING\n\n| Features | Description | Links | | ----------------------- |\n--------------------------------------------------------------------------------\n- | ----------------------------------------------------------------------- | |\nAutomatically open page | Optional feature, automatically open page URL in\nbrowser when starting Dev Server | dev.startUrl | | HTTPS Dev Server | Optional\nfeature, enable HTTPS Dev Server | dev.https |\n\n\nREACT\n\n| Features | Description | Links | | ---------------------- |\n--------------------------------------------- |\n--------------------------------------------------------------------------------\n------------------------------------------------------------------------------ |\n| React Refresh | Support React Refresh by default | Hot Module\nReplacementdev.hmr | | SVG to React component | Support to import SVG as\ncomponent by default | Import SVG Assetsoutput.svgDefaultExport |\n\n\nSTATIC ASSETS\n\n| Features | Description | Links | | ---------------------- |\n---------------------------------------------------------------------------- |\n--------------------------------------------------------------------------------\n------------------------------------------------------------------------------ |\n| Import image assets | Support for import image assets in code | Import Static\nAssets | | Import font assets | Support for import font assets in code | Import\nStatic Assets | | Import video assets | Support for import video assets in code\n| Import Static Assets | | Inline static assets | Small assets are inlined into\nJS by default | Inline Static Assetsoutput.dataUriLimit | | Clean up static\nassets | Automatically clean up static assets in the dist directory before each\nbuild | output.cleanDistPath | | Copy static assets | Optional feature, copy\nstatic assets to the dist directory | output.copy | | Generate manifest file |\nOptional feature, generate manifest file containing static asset information |\noutput.enableAssetManifest |\n\n\nPERFORMANCE\n\n| Features | Description | Links | | ------------------------------ |\n--------------------------------------------------------------------------------\n-------------------------------------------- |\n--------------------------------------------------------------------------------\n--------------------------------------------------------------------------------\n----------- | | Chunk Splitting | A variety of chunk splitting strategies are\nbuilt into Builder to automatically split the bundle into files of moderate size\n| Chunk Splitting Practiceperformance.chunkSplit | | Print File Size | After the\nproduction build, All bundle sizes is displayed by default |\nperformance.printFileSize | | Analyze bundle size | Optional feature, analyze\nbundle size through Bundle Analyzer | performance.bundleAnalyze | | Remove\nconsole | Optional feature, remove console.xx in code |\nperformance.removeConsole | | Optimize the size of moment.js | Optional feature,\nremove the redundant locale files of moment.js | performance.removeMomentLocale\n|",frontmatter:{}},{id:129,title:"Glossary",routePath:"/builder/en/guide/glossary",toc:[{id:"bundler",text:"Bundler",depth:2},{id:"rspack",text:"Rspack",depth:2},{id:"builder",text:"Builder",depth:2},{id:"builder-provider",text:"Builder Provider",depth:2},{id:"modern_js",text:"{MODERN_JS}",depth:2},{id:"edenx",text:"EdenX",depth:2}],content:'GLOSSARY\n\n\nBUNDLER\n\nRefers to module bundlers such as webpack, turbopack and rspack.\n\nThe main goal of bundlers is to bundle JavaScript, CSS and other files together,\nand the bundled files can be used in the browser, Node.js or other environments.\nWhen bundler processes the Web application, it builds a dependency graph and\nthen combines every module into one or more bundles.\n\n\nRSPACK\n\nA Rust Bundler developed by the ByteDance Web Infra team. The core architecture\nof rspack is aligned with the implementation of webpack, and provides\nout-of-the-box support for commonly used build features. In the long run, rspack\nwill align the main APIs of webpack and be compatible with the mainstream\nwebpack loaders and plugins to ensure that developers can smoothly migrate from\nwebpack to rspack.\n\nRspack optimizes compilation performance by:\n\n * Highly LTO optimized Native code.\n * Take full advantage of multi-core, and the entire compilation process is\n   fully optimized for multi-threading.\n * On-demand compilation based on request (Lazy Compilation), reducing the\n   number of modules per compilation to improve the speed of cold start.\n\nRspack is still in development and has not been open sourced yet.\n\n\nBUILDER\n\nBuild Engine. The goal of Builder is to "reuse the best practices of build\ntools".\n\nBundlers are low-level, if we build a project based on webpack, we need to fully\nunderstand the webpack config and many webpack plugins and loaders, then spend a\nlot of time to combine them.\n\nBuilder is a out-of-box build tools. By using Builder, you can quickly gain the\nability to build a modern web application.\n\nThe layers inside the Builder are as follows:\n\n\n\n\nBUILDER PROVIDER\n\nBuilder Provider is a part of Builder. Providers implements corresponding build\nfeature based on specific bundlers.\n\nCurrently there are two Providers:\n\n * @modern-js/builder-webpack-provider: Based on webpack.\n * @modern-js/builder-rspack-provider: Based on rspack.\n\n\n{MODERN_JS}\n\nWeb engineering system.\n\n{MODERN_JS} is open sourced by the ByteDance Web Infra team, provides a series\nof best practices for modern web development, such as integrated development of\nfrontend and backend, conventional routing, building solutions, style solutions,\netc.\n\n{MODERN_JS} Repository.\n\n\nEDENX\n\nByteDance\'s internal web engineering system, implemented based on {MODERN_JS}.',frontmatter:{}},{id:130,title:"Introduction",routePath:"/builder/en/guide/introduction",toc:[{id:"rust-tools",text:"Rust Tools",depth:2},{id:"position",text:"Position",depth:2},{id:"features",text:"Features",depth:2},{id:"support-multiple-bundlers",text:"Support Multiple Bundlers",depth:3},{id:"deep-optimization",text:"Deep optimization",depth:3},{id:"extensible-plugin-system",text:"Extensible Plugin System",depth:3},{id:"npm-packages",text:"npm packages",depth:2},{id:"next-step",text:"Next Step",depth:2}],content:"INTRODUCTION\n\nModern.js Builder is a Build Engine for Web Development.\n\nWith the growing of the front-end ecosystem, more and more build tools and\nplugins are created. For most developers, the configuration and dependencies\nrequired to build a web application have become complex; the cost of finding\nbest practices for developers has also risen.\n\nIn order to reduce the complexity and make it easier to build a project, we\nabstracted the build abilities based on the practical experience of Modern.js,\nand created the open source tool Modern.js Builder.\n\n\nRUST TOOLS\n\nIn recent years, the trend in front-end toolchain has been to re-implement them\nwith native programming languages like Rust for better performance. Some\nhigh-performance tools have created, such as SWC, esbuild, Turbopack, etc., and\ntheir use is gradually expanding. However, there are many differences between\nthese Rust tools and JavaScript tools, including functional differences,\nconfiguration inconsistencies, which make it difficult for users to migrate.\n\nThe Rust process of the front-end toolchain will continue for a long time,\nModern.js Builder is expected to help developers better transition to Rust\ntools. Whether it's JavaScript tools, Rust tools, or even low-level bundlers\nlike webpack, they're all replaceable components in Modern.js Builder. You can\nincrementally replace these components by turning on configuration or enabling\nplugins, and Modern.js Builder will smooth out the major differences and help\nusers migrate.\n\n\nPOSITION\n\nModern.js Builder is a build engine serving the upper-level front-end\nframeworks. It focuses on solving problems in web application building, and\nexpects to provide out-of-box building abilities for front-end frameworks.\n\n<img\nsrc=\"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp\n/builder-layers-1117.png\" style={{ maxWidth: '80%', marginLeft: '10%' }} />\n\nIf you are developing a front-end framework, or developing a scaffolding for a\nfront-end application, Builder can provide most of the build logics for you,\nwhich allowing you to focus on implementing other features of the framework.\n\nIf you are a business developer, in most cases, you do not need to manually\ninstall Builder in your projects. We recommend that you use the upper-level\nframeworks based on Builder.\n\nCurrently, the following front-end frameworks are already using Builder:\n\n * {MODERN_JS} Framework (Open source).\n * EdenX Framework and PIA Framework inside ByteDance.\n\n\nFEATURES\n\n\nSUPPORT MULTIPLE BUNDLERS\n\nBuilder supports using multiple bundlers, users can use different bundlers\naccording the your needs.\n\nBy default, Builder uses webpack 5 as the bundler. Although the compilation\nspeed of webpack is not ideal, it is still the most mature and ecological\nbundler in the community. Based on webpack, Builder integrates babel, postcss,\nterser and other tools to transform or minify codes. Builder also supports\nreplacing some compile tools with native tools to improve compilation speed,\nsuch as replacing babel/terser with swc or esbuild.\n\nAt the same time, We are integrating rspack to improve compilation speed, rspack\nis a Rust Bundler developed by ByteDance.\n\nAt present, the webpack provider is stable for production, and the rspack\nprovider is still under development.\n\n:::tip About Turbopack Turbopack is the rust-powered successor to webpack, we\nwill continue to pay attention to it. At present, Turbopack only supports use in\nNext.js. When Turbopack can be used independently, and the completion and\ncommunity ecology reach a certain level, we will consider supporting it for\nsure. :::\n\n\nDEEP OPTIMIZATION\n\nBuilder makes full use of various optimization strategies in the webpack\necosystem to ensure the product performance in the production environment.\n\nTaking the chunk splitting scenario as an example, the webpack's splitChunks\nconfig is complex, and Builder makes it as an out-of-the-box\nperformance.chunkSplit config, it will split common third-party libraries into\nchunks to make page loading faster.\n\n\nEXTENSIBLE PLUGIN SYSTEM\n\nProvides rich configuration items and a flexible plugin system to support\nin-depth customization of all features.\n\nFor Builder, all building abilities are achieved through plugins:\n\n * Most of the plugins are lightweight, built in Builder, and developers can\n   enable or disable them through configs.\n * Some plugins are more complex and developed as independent npm packages,\n   developers can install and use them as needed.\n\nBuilder also supports custom plugins, so framework developers can develop custom\nplugins to meet customized requirements.\n\n\nNPM PACKAGES\n\nBelow is the npm package published by Builder.\n\n| Package | Version | Description | |\n--------------------------------------------------------------------------------\n---------------------------------- |\n--------------------------------------------------------------------------------\n------------ | --------------------------------- | | @modern-js/builder | | Core\npackage of Builder | | @modern-js/builder-webpack-provider | | Provides webpack\nbuild ability | | @modern-js/builder-rspack-provider | | Provides rspack build\nability | | @modern-js/builder-plugin-swc | | SWC Plugin | |\n@modern-js/builder-plugin-stylus | | Stylus Plugin | |\n@modern-js/builder-plugin-esbuild | | Esbuild Plugin | |\n@modern-js/builder-plugin-node-polyfill | | Node Polyfill Plugin | |\n@modern-js/builder-plugin-image-compress | | Image Compress Plugin | |\n@modern-js/builder-shared | | Shared modules of Builder | |\n@modern-js/builder-doc | | Documentation snippets of Builder |\n\nYou can view the source code of these packages in the packages/builder directory\nof the modern.js repository.\n\n\nNEXT STEP\n\nYou may want:",frontmatter:{}},{id:131,title:"Improve Build Performance",routePath:"/builder/en/guide/optimization/build-performance",toc:[{id:"general-optimization-strategy",text:"General optimization strategy",depth:2},{id:"upgrade-nodejs-version",text:"Upgrade Node.js version",depth:3},{id:"using-swc-or-esbuild",text:"Using SWC or esbuild",depth:3},{id:"avoid-using-ts-loader",text:"Avoid using ts-loader",depth:3},{id:"development-optimization-strategies",text:"Development optimization strategies",depth:2},{id:"enable-lazy-compilation",text:"Enable Lazy Compilation",depth:3},{id:"adjust-source-map-format",text:"Adjust Source Map format",depth:3},{id:"adjust-browserslist-for-development",text:"Adjust Browserslist for development",depth:3},{id:"production-optimization-strategies",text:"Production optimization strategies",depth:2},{id:"disable-source-map",text:"Disable Source Map",depth:3}],content:'IMPROVE BUILD PERFORMANCE\n\nModern.js Builder optimizes build performance by default, but as the project\nbecomes larger, you may encounter some build performance problems.\n\nThis document provides some optional speed-up strategies, developers can choose\nsome of them to improve the build performance.\n\n:::tip \ud83d\udce2 Notice The strategies in Bundle Size Optimization can also be used to\nimprove build performance, so we won\'t repeat them here. :::\n\n\nGENERAL OPTIMIZATION STRATEGY\n\nThe following are some general optimization strategies, which can speed up the\ndevelopment build and production build, and some of them also optimize the\nbundle size.\n\n\nUPGRADE NODE.JS VERSION\n\nIn general, updating Node.js to the latest LTS release will help improve build\nperformance.\n\nEspecially for devices with Apple M1/M2 chips, it is recommended to use Node 16\nor Node 18.\n\nNode 16 provides Apple Silicon binaries by default, so the performance on M1/M2\nmodels will be greatly improved than Node 14. According to our tests, After\nswitching from Node 14 to Node 16, the compilation speed can be improved by more\nthan 100%.\n\nYou can switch to Node 16 by following steps:\n\n# Install Node.js v16\nnvm install 16\n\n# switch to Node 16\nnvm use 16\n\n# Set Node 16 as the default version\nnvm default 16\n\n# View Node version\nnode -v\n\n\n\nUSING SWC OR ESBUILD\n\nSWC (Speedy Web Compiler) is a transformer and minimizer for JavaScript and\nTypeScript based on Rust. SWC can provide the same abilities with Babel, and\nit\'s more than 10x faster than Babel.\n\nesbuild is a front-end build tool based on Golang. It has the functions of\nbundling, compiling and minimizing JavaScript code. Compared with traditional\ntools, the performance is significantly improved. When minimizing code, compared\nto webpack\'s built-in terser minimizer, esbuild has dozens of times better\nperformance.\n\nBuilder provides SWC plugin and esbuild plugin that allow you to use SWC or\nesbuild instead of babel-loader, ts-loader and terser for transformation and\nminification process. See:\n\n * SWC plugin document\n * esbuild plugin document\n\n:::tip SWC vs esbuild The SWC compiled outputs has better compatibility,\nsupports polyfills such as core-js, and has more complete features, so it is\nrecommended to use the SWC plugin first. :::\n\n\nAVOID USING TS-LOADER\n\nBy default, Builder uses Babel to compile TS files. After enabling the\ntools.tsLoader option, ts-loader will be used to compile TS files.\n\nPlease avoid using ts-loader because it requires additional parsing and type\nchecking, which will slow down the build.\n\nexport default {\n  tools: {\n    // remove this config\n    tsLoader: {},\n  },\n};\n\n\nSee the tools.tsLoader documentation for details.\n\n\nDEVELOPMENT OPTIMIZATION STRATEGIES\n\nThe following are strategies for improve build performance in development\nenvironment.\n\n\nENABLE LAZY COMPILATION\n\nYou can enable the lazy compilation (i.e. on-demand compilation) to improve the\ncompilation startup speed.\n\nexport default {\n  experiments: {\n    lazyCompilation: {\n      imports: true,\n      entries: false,\n    },\n  },\n};\n\n\nThis is an experimental feature and may not work correctly in some scenarios,\nsee experiments.lazyCompilation for details.\n\n\nADJUST SOURCE MAP FORMAT\n\nIn order to provide a good debugging experience, Builder uses the\ncheap-module-source-map format Source Map by default in the development\nenvironment, which is a high-quality Source Map format and will bring certain\nperformance overhead.\n\nYou can improve build speed by adjusting the source map format of your\ndevelopment environment.\n\nFor example to disable Source Map:\n\nexport default {\n  tools: {\n    webpackChain(chain, { env }) {\n      if (env === \'development\') {\n        chain.devtool(false);\n      }\n    },\n  },\n};\n\n\nOr set the source map format of the development environment to the cheapest eval\nformat:\n\nexport default {\n  tools: {\n    webpackChain(chain, { env }) {\n      if (env === \'development\') {\n        chain.devtool(\'eval\');\n      }\n    },\n  },\n};\n\n\n> For detailed differences between different Source Map formats, see webpack -\n> devtool.\n\n\nADJUST BROWSERSLIST FOR DEVELOPMENT\n\nThis strategy is similar to "Adjust Browserslist", the difference is that we can\nset different browserslist for development and production environment, thereby\nreducing the compilation overhead in the development environment.\n\nFor example, you can add the following config to package.json, which means that\nonly the latest browsers are compatible in the development environment, and the\nactual browsers are compatible in the production environment:\n\n{\n  "browserslist": {\n    "production": [">0.2%", "not dead", "not op_mini all"],\n    "development": [\n      "last 1 chrome version",\n      "last 1 firefox version",\n      "last 1 safari version"\n    ]\n  }\n}\n\n\nNote that this strategy can lead to some differences in the build result of\ndevelopment production environment.\n\n\nPRODUCTION OPTIMIZATION STRATEGIES\n\nThe following are strategies for improve build performance in production\nenvironment.\n\n\nDISABLE SOURCE MAP\n\nIf your project does not need Source Map in the production, you can turn it off\nthrough the disableSourceMap config to improve the build speed.\n\nexport default {\n  output: {\n    disableSourceMap: true,\n  },\n};\n\n\nSee output.disableSourceMap for details.',frontmatter:{}},{id:132,title:"Inline Static Assets",routePath:"/builder/en/guide/optimization/inline-assets",toc:[{id:"automatic-inlining",text:"Automatic Inlining",depth:2},{id:"force-inlining",text:"Force Inlining",depth:2},{id:"referenced-from-css-file",text:"Referenced from CSS file",depth:3},{id:"force-no-inlining",text:"Force no inlining",depth:2},{id:"referenced-from-css-file-1",text:"Referenced from CSS file",depth:3},{id:"inline-js-files",text:"Inline JS files",depth:2},{id:"inline-css-files-1",text:"Inline CSS files",depth:2},{id:"add-type-declaration-5",text:"Add Type Declaration",depth:2}],content:"INLINE STATIC ASSETS\n\nInline static assets refer to the practice of including the content of a static\nasset directly in a HTML or JS file, instead of linking to an external file.\nThis can improve the performance of a website by reducing the number of HTTP\nrequests that the browser has to make to load the page.\n\nHowever, static resource inlining also has some disadvantages, such as\nincreasing the size of a single file, which may lead to slower loading.\nTherefore, in the actual scenario, it is necessary to decide whether to use\nstatic resource inlining according to the specific situation.\n\nBuilder will automatically inline static assets that are less than 10KB, but\nsometimes you may need to manually control assets to force them to be inlined or\nnot, and this document explains how to precisely control the inlining behavior\nof static assets.\n\n\nAUTOMATIC INLINING\n\nBy default, Builder will inline assets when the file size of is less than a\nthreshold (the default is 10KB). When inlined, the asset will be converted to a\nBase64 encoded string and will no longer send a separate HTTP request. When the\nfile size is greater than this threshold, it is loaded as a separate file with a\nseparate HTTP request.\n\nThe threshold can be modified with the output.dataUriLimit config. For example,\nset the threshold of images to 5000 Bytes, and set media assets not to be\ninlined:\n\nexport default {\n  output: {\n    dataUriLimit: {\n      image: 5000,\n      media: 0,\n    },\n  },\n};\n\n\n\nFORCE INLINING\n\nYou can force an asset to be inlined by adding the inline query when importing\nthe asset, regardless of whether the asset's size is smaller than the size\nthreshold.\n\n\n\n\nexport default function Foo() {\n  return <img src={img} />;\n}\n\n\nIn the above example, the foo.png image will always be inlined, regardless of\nwhether the size of the image is larger than the threshold.\n\nIn addition to the inline query, you can also use the __inline query to force\ninlining of the asset:\n\n\n\n\nREFERENCED FROM CSS FILE\n\nWhen you reference a static asset in your CSS file, you can also force inline\nthe asset with the inline or __inline queries.\n\n.foo {\n  background-image: url('. /icon.png?inline');\n}\n\n\n:::tip Do you really need to force inlining? Inline large assets will\nsignificantly increase the first paint time or first contentful paint time of a\npage, which will hurt user experience. And when you inline a static asset\nmultiple times into a CSS file, the base64 content will be repeatedly injected,\ncausing the bundle size to grow . Please use forced inlining with caution. :::\n\n\nFORCE NO INLINING\n\nWhen you want to always treat some assets as separate files, no matter how small\nthe asset is, you can add the url query to force the asset not to be inlined.\n\n\n\n\nexport default function Foo() {\n  return <img src={img} />;\n}\n\n\nIn the above example, the foo.png image will always be loaded as a separate\nfile, even if the size of the image is smaller than the threshold.\n\nIn addition to the url query, you can also use the __inline=false query to force\nthe asset not to be inlined:\n\n\n\n\nREFERENCED FROM CSS FILE\n\nWhen you reference a static asset in your CSS file, you can also force the asset\nnot to be inlined with url or __inline=false queries.\n\n.foo {\n  background-image: url('. /icon.png?url');\n}\n\n\n:::tip Do you really need to exclude assets from inlining? Excluding assets from\ninlining will increase the number of assets that the Web App needs to load. This\nwill reduce the efficiency of loading assets in a weak network environment or in\nscenarios where HTTP2 is not enabled. Please use force no Inline with caution.\n\n\nINLINE JS FILES\n\nIn addition to inlining static resource files into JS files, Builder also\nsupports inlining JS files into HTML files.\n\nJust enable the output.enableInlineScripts config, and the generated JS files\nwill not be written into the output directory, but will be directly inlined to\nthe corresponding in the HTML file.\n\nexport default {\n  output: {\n    enableInlineScripts: true,\n  },\n};\n\n\nInline JS files may cause the single HTML file to be too large, and it will\nbreak the HTTP caching. Please use it with caution.\n\n\nINLINE CSS FILES\n\nYou can also inline CSS files into HTML files.\n\nJust enable the output.enableInlineStyles config, the generated CSS file will\nnot be written into the output directory, but will be directly inlined to the\ncorresponding in the HTML file.\n\nexport default {\n  output: {\n    enableInlineStyles: true,\n  },\n};\n\n\n\nADD TYPE DECLARATION\n\nWhen you use URL queries such as ?inline and ?url in TypeScript code, TypeScript\nmay prompt that the module is missing a type definition:\n\nTS2307: Cannot find module './logo.png?inline' or its corresponding type declarations.\n\n\nTo fix this, you can add type declarations for these URL queries, please create\nsrc/global.d.ts file and add the following type declarations:\n\ndeclare module '*?inline' {\n  const content: string;\n  export default content;\n}\n\ndeclare module '*?inline' {\n  const content: string;\n  export default content;\n}\n\ndeclare module '*?__inline' {\n  const content: string;\n  export default content;\n}\n\ndeclare module '*?inline=false' {\n  const content: string;\n  export default content;\n}\n",frontmatter:{}},{id:133,title:"Bundle Size Optimization",routePath:"/builder/en/guide/optimization/optimize-bundle",toc:[{id:"reduce-duplicate-dependencies",text:"Reduce duplicate dependencies",depth:2},{id:"use-lightweight-libraries",text:"Use lightweight libraries",depth:2},{id:"adjust-browserslist",text:"Adjust Browserslist",depth:2},{id:"usage-polyfill",text:"Usage polyfill",depth:2},{id:"image-compression",text:"Image Compression",depth:2},{id:"split-chunk",text:"Split Chunk",depth:2}],content:"BUNDLE SIZE OPTIMIZATION\n\nBundle size optimization is an important part in production environment because\nit directly affects the user experience of online users. In this document, we\nwill introduce some common bundle size optimization methods in Builder.\n\n\nREDUCE DUPLICATE DEPENDENCIES\n\nIn real projects, there will be some third-party dependencies installed with\nmultiple versions. Duplicate dependencies can lead to larger bundles and slower\nbuilds.\n\nWe can detect or eliminate duplicate dependencies with some community tools.\n\nIf you are using pnpm, you can use pnpm-deduplicate to analyze all duplicate\ndependencies, then update dependencies or declare pnpm overrides to merge\nduplicated dependencies.\n\nnpx pnpm-deduplicate --list\n\n\nIf you are using yarn, you can use yarn-deduplicate to automatically merge\nduplicated dependencies:\n\nnpx yarn-deduplicate && yarn\n\n\n\nUSE LIGHTWEIGHT LIBRARIES\n\nIt is recommended to using lightweight libraries in your project, such as\nreplacing moment with day.js.\n\nIf you want to find out the large libraries in the project, you can add the\nBUNDLE_ANALYZE=true environment variable when building:\n\nBUNDLE_ANALYZE=true pnpm build\n\n\nAfter adding this parameter, Builder will generate a HTML file that analyzes the\nbundle size, you can manually open the file in the browser and view the detail\nof the bundle size. When an area is larger, it indicates that its corresponding\nbundle size is larger.\n\n\n\n\nADJUST BROWSERSLIST\n\nThe Builder will compile the code according to the project's Browserslist\nconfig, and inject some Polyfills. If the project does not need to be compatible\nwith legacy browsers, you can adjust the Browserslist and drop some legacy\nbrowsers, thereby reducing the compilation overhead on syntax and polyfill.\n\nBuilder's default Browserslist config is:\n\n['> 0.01%', 'not dead', 'not op_mini all'];\n\n\nFor example, if you only need to be compatible with browsers above Chrome 61,\nyou can change it to:\n\n['Chrome >= 61'];\n\n\nPlease read the Browserslist chapter to know more about the usage of\nBrowserslist.\n\n\nUSAGE POLYFILL\n\nWhen it is clear that third-party dependencies do not require additional\npolyfill, you can set output.polyfill to usage.\n\nIn usage mode, Builder analyzes the syntax used in the source code and injects\nthe required polyfill code on demand to reduce the size of polyfill.\n\nexport default {\n  output: {\n    polyfill: 'usage',\n  },\n};\n\n\nPlease read the Browser Compatibility chapter to know more about the usage of\nBrowserslist.\n\n\nIMAGE COMPRESSION\n\nIn general front-end projects, the size of image often accounts for a large\nproportion of the total bundle size of the project.So if the image size can be\nreduced as much as possible, it will have a significant optimization effect on\nthe project bundle size. You can enable image compression by registering a\nplugin in the Builder:\n\n\n\n// Add the plugin to the Builder\nbuilder.addPlugins([PluginImageCompress()]);\n\n\nSee details in plugin-image-compress\u3002\n\n\nSPLIT CHUNK\n\nA great chunk splitting strategy is very important to improve the loading\nperformance of the application. It can make full use of the browser's caching\nmechanism to reduce the number of requests and improve the loading speed of the\napplication.\n\nA variety of chunk splitting strategies are built into Builder, which can meet\nthe needs of most applications. You can also customize the chunk splitting\nconfig according to your own business scenarios. For example:\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      forceSplitting: {\n        // For example, split the `react-query` into a Chunk\n        react_query: [/node_modules\\/react-query/],\n      },\n    },\n  },\n};\n",frontmatter:{}},{id:134,title:"Chunk Splitting Practice",routePath:"/builder/en/guide/optimization/split-chunk",toc:[{id:"splitting-strategies",text:"Splitting Strategies",depth:2},{id:"split-by-experience",text:"split-by-experience",depth:3},{id:"behaviour",text:"behaviour",depth:4},{id:"config-1",text:"config",depth:4},{id:"split-by-module",text:"split-by-module",depth:3},{id:"behaviour-1",text:"behaviour",depth:4},{id:"config-2",text:"config",depth:4},{id:"all-in-one",text:"all-in-one",depth:3},{id:"behaviour-2",text:"behaviour",depth:4},{id:"config-3",text:"config",depth:4},{id:"single-vendor",text:"single-vendor",depth:3},{id:"behaviour-3",text:"behaviour",depth:4},{id:"config-4",text:"config",depth:4},{id:"split-by-size",text:"split-by-size",depth:3},{id:"behaviour-4",text:"behaviour",depth:4},{id:"config-5",text:"config",depth:4},{id:"custom-splitting-strategy",text:"Custom Splitting Strategy",depth:2},{id:"custom-group",text:"Custom Group",depth:3},{id:"custom-webpack-splitchunks-config",text:"Custom Webpack splitChunks Config",depth:3}],content:"CHUNK SPLITTING PRACTICE\n\nA great chunk splitting strategy is very important to improve the loading\nperformance of the application. It can make full use of the browser's caching\nmechanism to reduce the number of requests and improve the loading speed of the\napplication.\n\nA variety of chunk splitting strategies are built into Builder, which can meet\nthe needs of most applications. You can also customize the chunk splitting\nconfig according to your own business scenarios.\n\n\nSPLITTING STRATEGIES\n\n> The chunk splitting config of Builder is in performance.chunkSplit.\n\nThe Builder includes the following chunk splitting strategies:\n\n * split-by-experience: Built-in splitting strategies (experienced splitting\n   strategies by Builder).\n * split-by-module: Split according to modules, each NPM package is a chunk.\n * all-in-one: Both business code and third-party code are in one chunk.\n * single-vendor: Third-party code is in a vendor chunk.\n * split-by-size: Split according to chunk size.\n\n\nSPLIT-BY-EXPERIENCE\n\nBEHAVIOUR\n\nBased on past experience, built-in split groups include:\n\n * React (react, react-dom)\n * Router (react-router, react-router-dom, history)\n * Polyfill (core-js, @babel/runtime)\n * Semi (@ies/semi, @douyinfe/semi-ui)\n * Arco (@arco-design/web-react)\n * Lodash (lodash, lodash-es)\n\nThis strategy groups commonly used packages and then splits them into separate\nchunks. Generally, the number of chunks is not large, which is suitable for most\napplications and is also our recommended strategy.\n\nCONFIG\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n    },\n  },\n};\n\n\n\nSPLIT-BY-MODULE\n\nBEHAVIOUR\n\nSplit each NPM package into a Chunk.\n\n::: warning warning This strategy will split the node_modules in the most\ngranular way, and at the same time, under HTTP/2, multiplexing will speed up the\nloading time of resources.However, in non-HTTP/2 environments, it needs to be\nused with caution because of HTTP head-of-line blocking problem. :::\n\nCONFIG\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-module',\n    },\n  },\n};\n\n\n\nALL-IN-ONE\n\nBEHAVIOUR\n\nThis strategy puts business code and third-party dependencies in the same Chunk.\n\nCONFIG\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'all-in-one',\n    },\n  },\n};\n\n\n\nSINGLE-VENDOR\n\nBEHAVIOUR\n\nThis strategy puts third-party dependencies in one Chunk, and business code in\nanother Chunk.\n\nCONFIG\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'single-vendor',\n    },\n  },\n};\n\n\n\nSPLIT-BY-SIZE\n\nBEHAVIOUR\n\nUnder this strategy, after setting minSize, maxSize to a fixed value, webpack\nwill automatically split them without extra config.\n\nCONFIG\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-size',\n      minSize: 30000,\n      maxSize: 50000,\n    },\n  },\n};\n\n\n\nCUSTOM SPLITTING STRATEGY\n\nIn addition to using the built-in strategies, you can also customize the\nsplitting strategy to meet more customization needs. Custom strategy is divided\ninto two parts:\n\n * Custom group\n * Custom webpack splitChunks config\n\nIt is worth noting that these two custom capabilities can be used together with\nthe built-in strategy, that is, you can use the built-in strategy to split\ncommonly used packages, and then use the custom function to split other\npackages.\n\n\nCUSTOM GROUP\n\nBuilder supports custom group, which is more flexible than the built-in\nstrategies, and simpler than writing webpack config. For example:\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      forceSplitting: {\n        // Split lodash into a Chunk\n        lodash: [/node_modules\\/lodash/, /node_modules\\/lodash-es/],\n      },\n    }\n  }\n}\n\n\nThrough forceSplitting config, you can easily split some packages into a Chunk.\n\n\nCUSTOM WEBPACK SPLITCHUNKS CONFIG\n\nIn addition to using custom grouping, you can also customize the native webpack\nconfig through override, such as:\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      override: {\n        chunks: 'all',\n        minSize: 30000,\n      }\n    }\n  }\n}\n\n\nThe config in override will be merged with the webpack config. For specific\nconfig details, please refer to webpack official documentation.",frontmatter:{}},{id:135,title:"Quick Start",routePath:"/builder/en/guide/quick-start",toc:[{id:"environment-preparation",text:"Environment preparation",depth:2},{id:"using-modernjs-framework",text:"Using Modern.js Framework",depth:2},{id:"use-builder-in-a-front-end-framework",text:"Use Builder in a front-end framework",depth:2},{id:"1-install-builder",text:"1. Install Builder",depth:3},{id:"2-create-builder-instance",text:"2. Create Builder Instance",depth:3},{id:"3-call-builder-instance-method",text:"3. Call Builder Instance Method",depth:3},{id:"next-step-1",text:"Next Step",depth:2}],content:"QUICK START\n\n\nENVIRONMENT PREPARATION\n\nBefore using Modern.js Builder, you need to install Node.js, and ensure that the\nNode.js version is greater than 14.17.6. We recommend using the LTS version of\nNode.js 16.\n\nYou can check the currently used Node.js version with the following command:\n\nnode -v\n#v14.20.0\n\n\nIf you have not installed Node.js in your current environment, or the installed\nversion is lower than 14.17.6, you can use nvm or fnm to install the required\nversion.\n\nHere is an example of installing Node.js 16 LTS version via nvm:\n\n# Install the long-term support version of Node.js 16\nnvm install 16 --lts\n\n# Set the newly installed Node.js 16 as the default version\nnvm alias default 16\n\n# Switch to the newly installed Node.js 16\nnvm use 16\n\n\n:::tip nvm and fnm Both nvm and fnm are Node.js version management tools.\nRelatively speaking, nvm is more mature and stable, while fnm is implemented\nusing Rust, which provides better performance than nvm. :::\n\n\nUSING MODERN.JS FRAMEWORK\n\nModern.js Framework use Modern.js Builder as the build engine by default. If you\nare a business developer, you do not need to manually install Builder, just\ncreate a Modern.js project and use all the features provided by Builder.\n\nPlease check the Modern.js framework documentation to learn how to use Modern.js\nframework.\n\n:::tip About the documentation Modern.js framework documentation and Modern.js\nBuilder documentation are deployed under two separate sites. If you encounter\nany build-related problems while using the Modern.js framework, you can always\nrefer to the documentation of Modern.js Builder to find solutions. :::\n\n\nUSE BUILDER IN A FRONT-END FRAMEWORK\n\nIf you are developing a front-end framework, you can use Builder by following\nthese steps:\n\n\n1. INSTALL BUILDER\n\nYou need to install two packages:\n\n * @modern-js/builder is the core package of Builder and exports the core API.\n * @modern-js/builder-webpack-provider is a provider for Builder, providing\n   webpack-based building abilities.\n\npnpm add @modern-js/builder @modern-js/builder-webpack-provider -D\n\n\n> When upgrading the version, please make sure that Builder and Provider you\n> installed have the same version.\n\n\n2. CREATE BUILDER INSTANCE\n\nThere are two steps to creating a Builder instance:\n\nFirst you need to initialize the Builder Provider and pass in the builderConfig\nconfig object. Builder provides a lot of configs that allow you to customize the\nbuild behavior. At this point, you don't need to know the specific content of\nthe config, just pass in an empty object. You can find all available configs in\nAPI - config.\n\n\n\n\nconst provider = builderWebpackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n\n\nAfter getting the provider object, you can call the createBuilder method to\ncreate a Builder instance object:\n\nconst builder = await createBuilder(provider, {\n  entry: {\n    index: './src/index.ts',\n  },\n});\n\n\nExcept the entry option, the createBuilder method also provides some other\noptions, which you can learn more about in API - createBuilder.\n\n\n3. CALL BUILDER INSTANCE METHOD\n\nThe Builder instance provides some methods, which you can use it according to\nthe usage scenarios.\n\nTo start local development, it is recommended to use the builder.startDevServer\nmethod, which will start a local Dev Server.\n\nawait builder.startDevServer();\n\n\nAfter successfully starting Dev Server, you can see the following logs:\n\ninfo    Starting dev server...\ninfo    Dev server running at:\n\n  > Local:    http://localhost:8081\n  > Network:  http://192.168.0.1:8081\n\n\nTo deploy the App to production environment, it is recommended to use the\nbuilder.build method, which will build the production outputs.\n\nawait builder.build();\n\n\n> For more introduction of Builder instance methods, please read the Builder\n> Instance chapter.\n\nAfter completing the above three steps, you have learned the basic usage of\nBuilder. Next, you can customize the build process through the Builder plugin\nand Builder configs.\n\n\nNEXT STEP\n\nYou may want:",frontmatter:{}},{id:136,title:"",routePath:"/builder/en/",toc:[],content:"",frontmatter:{pageType:"home",hero:{name:"Modern.js Builder",tagline:"A Build Engine for Web Development",actions:[{theme:"brand",text:"Introduction",link:"/en/guide/introduction.html"},{theme:"alt",text:"Quick Start",link:"/en/guide/quick-start.html"}]},features:[{title:"Out of the box",details:"Based on the practical experience of ByteDance, provide useful features for web development by default.",icon:"\ud83d\udce6"},{title:"Deep optimization",details:"Built-in multiple split chunk strategies, automatically optimize static assets, ensure performance of production app.",icon:"\ud83d\ude80"},{title:"Extensible",details:"Provides rich configuration items and a flexible plugin system to support in-depth customization of all features.",icon:"\u2728"}]}},{id:137,title:"Integrate to Framework",routePath:"/builder/en/plugins/integration",toc:[],content:"INTEGRATE TO FRAMEWORK\n\nTODO",frontmatter:{}},{id:138,title:"Introduce to Plugin",routePath:"/builder/en/plugins/introduction",toc:[{id:"write-a-plugin",text:"Write a plugin",depth:2},{id:"lifetime-hooks",text:"Lifetime Hooks",depth:2},{id:"use-builder-config",text:"Use Builder Config",depth:2},{id:"modify-webpack-config",text:"Modify webpack Config",depth:2},{id:"examples-1",text:"Examples",depth:2},{id:"modify-loaders",text:"Modify Loaders",depth:3},{id:"add-entry-points",text:"Add Entry Points",depth:3},{id:"integrate-webpack-plugins",text:"Integrate webpack Plugins",depth:3}],content:"INTRODUCE TO PLUGIN\n\nBuilder provides developers with a lightweight but powerful plugin system to\nbuild itself and any other plugins. Developing plugins to change the Builder's\nbehavior and introduce extra features. such as:\n\n * Modify config of bundlers.\n * Resolve and handle new file types.\n * Modify and compile file modules.\n * Deploy your application.\n\nBuilder can use webpack or rspack as bundler, expose unified Node.js API, and\nintegrate into different frameworks. Users can painlessly switch between\nbundlers.\n\nBut users can't use Builder plugins directly in frameworks. Because these\nframeworks (e.g. modern.js) not only reuse the compiling features provided by\nthe Builder, but can also be built with lots of other parts.\n\n\nWRITE A PLUGIN\n\nPlugin module should export an entry function just like (options?:\nPluginOptions) => BuilderPlugin:\n\n\n\nexport interface PluginFooOptions {\n  message?: string;\n}\n\nexport const PluginFoo = (options?: PluginFooOptions): BuilderPlugin => ({\n  name: 'plugin-foo',\n  setup(api) {\n    api.onExit(() => {\n      const msg = options.message || 'finish.';\n      console.log(msg)\n    });\n  }\n});\n\nbuilder.addPlugins([PluginFoo('some other message.')]);\n\n\nThe function usually takes an options object and returns the plugin instance,\nwhich manages state through closures.\n\nLet's look at each part:\n\n * name is used to label the plugin\n * setup as the main entry point of plugins\n * api provides context object, lifetime hooks and utils.\n\nThe package name of the plugin needs to contain the conventional builder-plugin\nprefix for identification, just like builder-plugin-foo,\n@scope/builder-plugin-bar, etc.\n\n\nLIFETIME HOOKS\n\nBuilder uses lifetime planning work internally, and plugins can also register\nhooks to take part in any stage of the workflow and implement their own\nfeatures.\n\nThe full list of Builder's lifetime hooks can be found in the API References.\n\nThe Builder does not take over the hooks of the underlying bundlers, whose\ndocuments can be found here: webpack hooks\n\n\nUSE BUILDER CONFIG\n\nCustom plugins can usually get config from function parameters, just define and\nuse it at your pleasure.\n\nBut sometimes you may need to read and change the public config of the Builder.\nTo begin with, you should understand how the Builder generates and uses its\nconfig:\n\n * Read, parse config and merge with default values.\n * Plugins modify the config by api.modifyBuilderConfig(...).\n * Normalize the config and provide it to consume, then the config can no longer\n   be modified.\n\nRefer to this tiny example:\n\nexport const PluginUploadDist = (): BuilderPlugin => ({\n  name: 'plugin-upload-dist',\n  setup(api) {\n    api.modifyBuilderConfig(config => {\n      // try to disable minimize.\n      // should deal with optional value by self.\n      config.output ||= {};\n      config.output.disableMinimize = true;\n      // but also can be enable by other plugins...\n    });\n    api.onBeforeBuild(() => {\n      // use the normalized config.\n      const config = api.getNormalizedConfig();\n      if (!config.output.disableMinimize) {\n        // let it crash when enable minimize.\n        throw new Error('You must disable minimize to upload readable dist files.');\n      }\n    });\n    api.onAfterBuild(() => {\n      const config = api.getNormalizedConfig();\n      const distRoot = config.output.distPath.root;\n      // TODO: upload all files in `distRoot`.\n    });\n  }\n});\n\n\nThere are 3 ways to use Builder config:\n\n * register callback with api.modifyBuilderConfig(config => {}) to modify\n   config.\n * use api.getBuilderConfig() to get Builder config.\n * use api.getNormalizedConfig() to get finally normalized config.\n\nWhen normalized, it will again merge the config object with the default values\nand make sure the optional properties exist. So for PluginUploadDist, part of\nits type looks like:\n\napi.modifyBuilderConfig((config: BuilderConfig) => {});\napi.getBuilderConfig() as BuilderConfig;\ntype BuilderConfig = {\n  output?: {\n    disableMinimize?: boolean;\n    distPath?: { root?: string };\n  };\n};\n\napi.getNormalizedConfig() as NormalizedConfig;\ntype NormalizedConfig = {\n  output: {\n    disableMinimize: boolean;\n    distPath: { root: string };\n  };\n};\n\n\nThe return value type of getNormalizedConfig() is slightly different from that\nof BuilderConfig and is narrowed compared to the types described elsewhere in\nthe documentation. You don't need to fill in the defaults when you use it.\n\nTherefore, the best way to use configuration items is to\n\n * Modify the config with api.modifyBuilderConfig(config => {})\n * Read api.getNormalizedConfig() as the actual config used by the plugin in the\n   further lifetime.\n\n\nMODIFY WEBPACK CONFIG\n\nPlugins can handle webpack's config by:\n\n * use api.modifyWebpackChain(chain => {}) to modify webpack-chain.\n * use api.modifyWebpackConfig(config => {}) to modify raw webpack config.\n * use api.onAfterCreateCompiler(compiler => {}) to handle webpack instance\n   directly.\n\nWe recommend that you use neutrinojs/webpack-chain's chained api to handle the\nconfig of webpack whenever possible.\n\nBuilder integrated a webpack5-compatible version, which can be found in\nsorrycc/webpack-chain.\n\n\nEXAMPLES\n\n\nMODIFY LOADERS\n\nThe webpack loaders can be used to load and transform various file types. For\nmore information, see concepts and loaders.\n\n\n\nexport const PluginTypeScriptExt = (): BuilderPlugin => ({\n  name: 'builder-typescript-ext',\n  setup(api) {\n    api.modifyWebpackChain(async chain => {\n      // set ts-loader to recognize more files as typescript modules.\n      chain.module\n        .rule(CHAIN_ID.RULE.TS)\n        .test(/\\.(ts|mts|cts|tsx|tss|tsm)$/);\n    });\n  },\n});\n\n\n\nADD ENTRY POINTS\n\n\n\nexport const PluginAdminPanel = (): BuilderPlugin => ({\n  name: 'builder-admin-panel',\n  setup(api) {\n    api.modifyWebpackChain(async chain => {\n      config\n        .entry('admin-panel')\n        .add('src/admin/panel.js');\n    });\n  },\n});\n\n\n\nINTEGRATE WEBPACK PLUGINS\n\nIntegrate existing webpack plugins to migrate your applications:\n\n\n\n\nexport const PluginInspector = (options?: Options): BuilderPlugin => ({\n  name: 'builder-plugin-inspector',\n  setup(api) {\n    api.modifyWebpackChain(async chain => {\n      // load modules dynamically only when needed\n      // to avoid unnecessary performance cost.\n      const { InspectorWebpackPlugin } = await import(\n        '@modern-js/inspector-webpack-plugin'\n      );\n      // modify webpack-chain to setup webpack plugin.\n      chain\n        .plugin('inspector-webpack-plugin')\n        .use(InspectorWebpackPlugin, [inspectorOptions]);\n    });\n  },\n});\n",frontmatter:{}},{id:139,title:"Overview",routePath:"/builder/en/plugins/list",toc:[{id:"official-plugins",text:"Official Plugins",depth:2}],content:"OVERVIEW\n\n\nOFFICIAL PLUGINS\n\n * @modern-js/builder-plugin-swc: Use SWC as the transformer and minimizer to\n   improve build performance.\n * @modern-js/builder-plugin-stylus: Use Stylus add CSS preprocessor.\n * @modern-js/builder-plugin-esbuild: Use esbuild as the transformer and\n   minimizer to improve build performance.\n * @modern-js/builder-plugin-node-polyfill: Inject Polyfills of Node core\n   modules in the browser side.\n * @modern-js/builder-plugin-image-compress\uff1aCompress the image resources used in\n   the project.\n\nYou can find the source code of these plugins in modern.js/packages/builder\ndirectory.",frontmatter:{}},{id:140,title:"Esbuild Plugin",routePath:"/builder/en/plugins/plugin-esbuild",toc:[{id:"quick-start",text:"Quick Start",depth:2},{id:"install",text:"Install",depth:3},{id:"register",text:"Register",depth:3},{id:"config-6",text:"Config",depth:2},{id:"loader",text:"loader",depth:3},{id:"set-the-target-environment",text:"Set the target environment",depth:4},{id:"disable-transformation",text:"Disable transformation",depth:4},{id:"minimize",text:"minimize",depth:3},{id:"set-the-target-environment-1",text:"Set the target environment",depth:4},{id:"disable-minification",text:"Disable minification",depth:4},{id:"limitations-1",text:"Limitations",depth:2},{id:"compatibility",text:"Compatibility",depth:3},{id:"not-support-babel-plugins",text:"Not support Babel plugins",depth:3},{id:"bundle-size",text:"Bundle Size",depth:3}],content:"ESBUILD PLUGIN\n\n:::tip About esbuild esbuild is a front-end build tool based on Golang. It has\nthe functions of bundling, compiling and minimizing JavaScript code. Compared\nwith traditional tools, the performance is significantly improved. When\nminimizing code, compared to webpack's built-in terser minimizer, esbuild has\ndozens of times better performance. :::\n\nBuilder provides esbuild plugin that allow you to use esbuild instead of\nbabel-loader, ts-loader and terser for transformation and minification process.\nWhen you enable esbuild in a large project, it can greatly reduce the time\nrequired for code compilation and compression, while effectively avoiding OOM\n(heap out of memory) problems.\n\n\nQUICK START\n\n\nINSTALL\n\nYou can install the plugin with the following command:\n\n# npm\nnpm install @modern-js/builder-plugin-esbuild -D\n\n# yarn\nyarn add @modern-js/builder-plugin-esbuild -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-esbuild -D\n\n\n\nREGISTER\n\nIn upper-level frameworks such as {MODERN_JS} or EdenX, you can register esbuild\nplugins through the builderPlugins config:\n\n\n\nexport default {\n  builderPlugins: [PluginEsbuild()],\n};\n\n\nIf you are using the Builder's Node API, you can register esbuild plugins\nthrough the addPlugins method:\n\n\n\n// add the plugin to the builder instance\nbuilder.addPlugins([PluginEsbuild()]);\n\n\n\nCONFIG\n\nThe plugin will enable code transformation and minification by default. You can\nalso customize the behavior of the plugin through configuration.\n\n\nLOADER\n\n * Type:\n\ntype LoaderOptions = EsbuildLoaderOptions | false | undefined;\n\n\n * Default:\n\nconst defaultOptions = {\n  target: 'es2015',\n  charset: builderConfig.output.charset,\n};\n\n\nThis config is used to enable JavaScript/TypeScript transformation, which will\nreplace babel-loader and ts-loader with esbuild-loader.\n\nIf you want to modify the options, you can check the esbuild-loader\ndocumentation.\n\nSET THE TARGET ENVIRONMENT\n\nUse the target option to set the target environment for transformation. target\ncan be set directly to the JavaScript language version, such as es6, es2020; it\ncan also be set to several target environments, each target environment is an\nenvironment name followed by a version number, such as ['chrome58', 'edge16'\n,'firefox57']. For a detailed introduction of the target option, please refer to\nesbuild - target.\n\ntarget supports setting to the following environments:\n\n * chrome\n * edge\n * firefox\n * ie\n * ios\n * node\n * opera\n * safari\n\nPluginEsbuild({\n  loader: {\n    target: 'chrome61',\n  },\n});\n\n\nDISABLE TRANSFORMATION\n\nSet loader to false to disable esbuild transformation, and Builder will continue\nto use Babel to transform the code.\n\nPluginEsbuild({\n  loader: false,\n});\n\n\n\nMINIMIZE\n\n * Type:\n\ntype MinimizeOptions = EsbuildMinifyOptions | false | undefined;\n\n\n * Default:\n\nconst defaultOptions = {\n  css: true,\n  target: 'es2015',\n};\n\n\nThis option is used to enable minification for JavaScript and CSS.\n\nIf you want to modify the options, you can check the esbuild-loader\ndocumentation.\n\nSET THE TARGET ENVIRONMENT\n\nUse the target option to set the target environment for minification.\n\nPluginEsbuild({\n  minimize: {\n    target: 'chrome61',\n  },\n});\n\n\nDISABLE MINIFICATION\n\nSet minimize to false to disable esbuild minification, and Builder will continue\nto use Terser to minify the code.\n\nPluginEsbuild({\n  minimize: false,\n});\n\n\n\nLIMITATIONS\n\nAlthough esbuild can significantly improve the build performance of existing\nwebpack projects, it still has certain limitations that require special\nattention.\n\n\nCOMPATIBILITY\n\nAs a compiler (i.e. loader capability), esbuild usually supports at least ES2015\n(that is, ES6) syntax, and does not have the ability to automatically inject\nPolyfill.. If the production environment needs to downgrade to ES5 and below\nsyntax, it is recommended to use SWC compilation.\n\nYou can specify the target syntax version by following config:\n\nPluginEsbuild({\n  loader: {\n    target: 'es2015',\n  },\n});\n\n\nAs a code minify tool (i.e. minimize capability), esbuild can minify the code in\nproduction environment, and usually supports ES2015 syntax at least.\n\nIf you set the compressed target to es5, you need to ensure that all codes have\nbeen compiled to ES5 codes, otherwise it will cause esbuild compilation error:\nTransforming 'xxx' to the configured target environment (\"es5\") is not supported\nyet .\n\nTherefore, for projects that need to be compatible with ES5 and below syntax in\nthe production environment, please be careful to enable the minimize capability,\nand it is recommended to use SWC compression.\n\nYou can specify the target syntax version by following config:\n\nPluginEsbuild({\n  minimize: {\n    target: 'es2015',\n  },\n});\n\n\n:::danger Caution Projects that need to be compatible with ES5 and below syntax\nin the production environment need to be careful to turn on the minimize config.\n:::\n\n\nNOT SUPPORT BABEL PLUGINS\n\nAs a compiler, the syntax transformation function of the original Babel plugins\nsuch as babel-plugin-import is not available after esbuild is turned on. And\nsince the bottom layer of the plugin uses esbuild's Transform API, it does not\nsupport esbuild plugins to customize the compilation process.\n\nIf you have requirements related to Babel plugins such as babel-plugin-import,\nyou can use the SWC plugin.\n\n\nBUNDLE SIZE\n\nAlthough the compression speed of esbuild is faster, the compression ratio of\nesbuild is lower than that of terser, so the bundle size will increase, please\nuse it according to the scenes. Generally speaking, esbuild is more suitable for\nscenes that are not sensitive to bundle size.\n\nYou can refer to minification-benchmarks for a detailed comparison between\nminimizers.",frontmatter:{}},{id:141,title:"Image Compress Plugin",routePath:"/builder/en/plugins/plugin-image-compress",toc:[{id:"quick-start-1",text:"Quick Start",depth:2},{id:"install-1",text:"Install",depth:3},{id:"register-1",text:"Register",depth:3},{id:"config-7",text:"Config",depth:2}],content:"IMAGE COMPRESS PLUGIN\n\nWith the image compression plugin, image resources used in the project can be\ncompressed to reduce the size of the product without affecting the visual\nappearance of the image.\n\n\nQUICK START\n\n\nINSTALL\n\nYou can install the plugin with the following command:\n\n# npm\nnpm install @modern-js/builder-plugin-image-compress -D\n\n# yarn\nyarn add @modern-js/builder-plugin-image-compress -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-image-compress -D\n\n\n\nREGISTER\n\nIn upper-level frameworks such as {MODERN_JS} or EdenX, you can register image\ncompress plugins through the builderPlugins config:\n\n\n\nexport default {\n  builderPlugins: [PluginImageCompress()],\n};\n\n\nIf you are using the Builder's Node API, you can register image compress plugins\nthrough the addPlugins method:\n\n\n\n// add the plugin to the builder instance\nbuilder.addPlugins([PluginImageCompress()]);\n\n\n\nCONFIG\n\nThe plugin accepts an array of compressor configuration items, each of which can\nbe either a string or an object. The string can be the name of a built-in\ncompressor and its default configuration enabled. Or use the object format\nconfiguration and specify the compressor in the use field. The remaining fields\nof the object will be used as compressor configuration items.\n\nBy default, the plugin will enable jpeg, png, ico image compressors, which are\nequivalent to the following two examples:\n\nPluginImageCompress(['jpeg', 'png', 'ico']);\n\n\nPluginImageCompress([{ use: 'jpeg' }, { use: 'png' }, { use: 'ico' }]);\n\n\nThe default configuration can be overridden by specifying a configuration item.\nFor example, to allow the jpeg compressor to recognize new extension name and to\nset the quality of the png compressor.\n\nPluginImageCompress([\n  { use: 'jpeg', test: /\\.(jpg|jpeg|jpe)$/ },\n  { use: 'png', minQuality: 50 },\n  'ico',\n]);\n\n\nThe default png compressor is lossy. If you want to replace it with a lossless\ncompressor, you can use the following configuration.\n\nPluginImageCompress(['jpeg', 'pngLossless', 'ico']);\n\n\nThe list of configuration items will eventually be converted to the\ncorresponding bundler loader configuration, so compressors follow the same\nbottom-to-top matching rule.\n\nFor example, the png compressor will take precedence over the pngLossless\ncompressor for the following configuration:\n\nPluginImageCompress(['jpeg', 'pngLossless', 'ico', 'png']);\n\n\nFor more information on compressors, please visit @napi-rs/image.",frontmatter:{}},{id:142,title:"Node Polyfill Plugin",routePath:"/builder/en/plugins/plugin-node-polyfill",toc:[{id:"quick-start-2",text:"Quick Start",depth:2},{id:"install-2",text:"Install",depth:3},{id:"register-2",text:"Register",depth:3},{id:"node-polyfills",text:"Node Polyfills",depth:2},{id:"globals",text:"Globals",depth:3},{id:"modules",text:"Modules",depth:3}],content:"NODE POLYFILL PLUGIN\n\n:::tip About Node Polyfill Normally, we don't need to use Node libs on the\nbrowser side. However, it is possible to use some Node libs when the code will\nrun on both the Node side and the browser side, and Node Polyfill provides\nbrowser versions of polyfills for these Node libs. :::\n\nBy using the Node Polyfill plugin, Node core libs polyfills are automatically\ninjected into the browser-side, allowing you to use these modules on the browser\nside with confidence.\n\n\nQUICK START\n\n\nINSTALL\n\nYou can install the plugin with the following command:\n\n# npm\nnpm install @modern-js/builder-plugin-node-polyfill -D\n\n# yarn\nyarn add @modern-js/builder-plugin-node-polyfill -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-node-polyfill -D\n\n\n\nREGISTER\n\nIn upper-level frameworks such as {MODERN_JS} or EdenX, you can register node\npolyfill plugins through the builderPlugins config:\n\n\n\nexport default {\n  builderPlugins: [PluginNodePolyfill()],\n};\n\n\nIf you are using the Builder's Node API, you can register node polyfill plugins\nthrough the addPlugins method:\n\n\n\n// add the plugin to the builder instance\nbuilder.addPlugins([PluginNodePolyfill()]);\n\n\n\nNODE POLYFILLS\n\n\nGLOBALS\n\n * Buffer\n * process\n\nWhen the above module is used directly in code, the corresponding polyfill will\nbe injected.\n\nconst bufferData = Buffer.from('xxxx');\n\n\n\nMODULES\n\n * assert\n * buffer\n * console\n * constants\n * crypto\n * domain\n * events\n * http\n * https\n * os\n * path\n * punycode\n * process\n * querystring\n * stream\n * _stream_duplex\n * _stream_passthrough\n * _stream_readable\n * _stream_transform\n * _stream_writable\n * string_decoder\n * sys\n * timers\n * tty\n * url\n * util\n * vm\n * zlib\n\nWhen the above module is referenced in code via import / require syntax, the\ncorresponding polyfill will be injected.\n\n\n\nconst bufferData = Buffer.from('xxxx');\n",frontmatter:{}},{id:143,title:"Stylus Plugin",routePath:"/builder/en/plugins/plugin-stylus",toc:[{id:"quick-start-3",text:"Quick start",depth:2},{id:"install-3",text:"Install",depth:3},{id:"register-3",text:"Register",depth:3},{id:"example-47",text:"Example",depth:2},{id:"config-8",text:"Config",depth:2},{id:"stylusoptions",text:"stylusOptions",depth:3},{id:"sourcemap",text:"sourceMap",depth:3}],content:"STYLUS PLUGIN\n\nStylus is an Expressive, dynamic and robust CSS preprocessor. This chapter\nintroduces how to use Stylus in Builder.\n\n\nQUICK START\n\n\nINSTALL\n\nYou can install the plugin with the following command:\n\n# npm\nnpm install @modern-js/builder-plugin-stylus -D\n\n#yarn\nyarn add @modern-js/builder-plugin-stylus -D\n\n#pnpm\npnpm install @modern-js/builder-plugin-stylus -D\n\n\n\nREGISTER\n\nIn upper-level frameworks such as {MODERN_JS} or EdenX, you can register Stylus\nplugins through the builderPlugins config:\n\n\n\nexport default {\n  builderPlugins: [PluginStylus()],\n};\n\n\nWhen you call the Builder's Node API directly, you can register Stylus plugins\nwith the addPlugins method:\n\n\n\n// add the plugin to the builder instance\nbuilder.addPlugins([PluginStylus()]);\n\n\n\nEXAMPLE\n\nAfter installing the plugin, you can directly import *.styl or *.module.styl\nfiles into the code without adding other configs.\n\n * normalize.styl:\n\nthe body\n   color#000\n   font 14px Arial, sans-serif\n\n\n * title.module.styl:\n\n.title\n   font-size: 14px;\n\n\n * index.js:\n\nimport './normalize.styl';\n\n\nconsole.log(style.title);\n\n\n\nCONFIG\n\nIf you need to customize the compilation behavior of Stylus, you can use the\nfollowing configs.\n\n\nSTYLUSOPTIONS\n\n-Type:\n\ntype StylusOptions = {\n  use?: string[];\n  include?: string;\n  import?: string;\n  resolveURL?: boolean;\n  lineNumbers?: boolean;\n  hoistAtrules?: boolean;\n};\n\n\n * Default: undefined\n\nOptions passed to Stylus, please refer to the Stylus documentation for specific\nusage.\n\nPluginStylus({\n  stylusOptions: {\n    lineNumbers: false,\n  },\n});\n\n\n\nSOURCEMAP\n\n * Type: boolean\n * Default: isDev\n\nWhether to generate Source Map, enabled by default in the development\nenvironment.\n\nPluginStylus({\n  sourceMap: false,\n});\n",frontmatter:{}},{id:144,title:"SWC plugin",routePath:"/builder/en/plugins/plugin-swc",toc:[{id:"quick-start-4",text:"Quick Start",depth:2},{id:"install-4",text:"Install",depth:3},{id:"register-4",text:"Register",depth:3},{id:"config-9",text:"Config",depth:2},{id:"presetreact",text:"presetReact",depth:3},{id:"presetenv",text:"presetEnv",depth:3},{id:"jsminify",text:"jsMinify",depth:3},{id:"extensions",text:"extensions",depth:3},{id:"extensionspluginimport",text:"extensions.pluginImport",depth:4},{id:"extensionsreactutils",text:"extensions.reactUtils",depth:4},{id:"extensionslodash",text:"extensions.lodash",depth:4},{id:"limitation",text:"Limitation",depth:2}],content:"SWC PLUGIN\n\nSWC (Speedy Web Compiler) is a transformer and minimizer for JavaScript and\nTypeScript based on Rust. SWC can provide the same abilities with Babel, and\nit's more than 10x faster than Babel.\n\nModern.js Builder has a out-of-box plugin for SWC, power your Web application\nwith Polyfill and minification, we also port some common used Babel plugins to\nSWC.\n\n\nQUICK START\n\n\nINSTALL\n\nYou can install the plugin with the following command:\n\n# npm\nnpm install @modern-js/builder-plugin-swc -D\n\n# yarn\nyarn add @modern-js/builder-plugin-swc -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-swc -D\n\n\n\nREGISTER\n\nIn upper-level frameworks such as {MODERN_JS} or EdenX, you can register SWC\nplugin through the builderPlugins config:\n\n\n\nexport default {\n  builderPlugins: [PluginSwc()],\n};\n\n\nIf you are using the Builder's Node API, you can register SWC plugin through the\naddPlugins method:\n\n\n\n// add the plugin to the builder instance\nbuilder.addPlugins([PluginSwc()]);\n\n\nThat's it !\n\nNow you can use SWC transformation and minification in your project.\n\n\nCONFIG\n\n * Type: PluginConfig\n\ntype PluginConfig = {\n  presetReact?: ReactConfig;\n  presetEnv?: EnvConfig;\n  jsMinify?: boolean | JsMinifyOptions;\n  extensions?: Extensions;\n};\n\n\n\nPRESETREACT\n\n * Type: presetReact in SWC.\n\nPorted from @babel/preset-react. The value you passed will be merged with\ndefault option.\n\nBy default, the plugin will set runtime field based on your react version, if\nreact version is newer than 17.0.0, it will be set to automatic, otherwish\nclassic.\n\n\nPRESETENV\n\n * Type: presetEnv in SWC.\n\nPorted from @babel/preset-env. The value you passed will be merged with default\noption.\n\nDefault option is:\n\n{\n  targets: '', // automatic get browserslist from your project, so you don't have to set this field\n  mode: 'usage',\n}\n\n\n\nJSMINIFY\n\n * Type: boolean or compress configuration.\n\nDefault option is: { compress: {}, mangle: true }.\n\nIf set it to false, then SWC minification will be disabled, if set it to true\nthen will it applies default option. If you pass an object, then this object\nwill be merged with default option.\n\n\nEXTENSIONS\n\n * Type: Object\n\nSome plugins ported from Babel.\n\nEXTENSIONS.PLUGINIMPORT\n\nPorted from babel-plugin-import, configurations are the same.\n\nSome configurations can be passed in functions, such as customName,\ncustomStyleName. These JavaScript functions will be called by Rust through\nNode-API, which will cause some performance overhead.\n\nSome simple function logic can be replaced by template language. Therefore, the\nconfiguration of function items such as customName, customStyleName can also be\npassed in strings as templates to replace functions and improve performance.\n\nFor example:\n\n\n\nApply following configurations:\n\nPluginSWC({\n  extensions: {\n    pluginImport: [\n      {\n        libraryName: 'foo',\n        customName: 'foo/es/{{ member }}'\n      },\n    ],\n  },\n});\n\n\n{{ member }} will be replaced by the imported specifier:\n\n\n\nTemplate customName: 'foo/es/{{ member }}' is the same as customName: (member)\n=> `foo/es/${member}` , but template value has no performance overhead of\nNode-API.\n\nThe template used here is handlebars. There are some useful builtin tools, Take\nthe above import statement as an example:\n\nPluginSWC({\n  extensions: {\n    pluginImport: [\n      {\n        libraryName: 'foo',\n        customName: 'foo/es/{{ kebabCase member }}',\n      },\n    ],\n  },\n});\n\n\nTransformed to:\n\n\n\nIn addition to kebabCase, there are cameraCase, snakeCase, upperCase and\nlowerCase can be used as well.\n\nEXTENSIONS.REACTUTILS\n\n * Type: Object\n\ntype ReactUtilsOptions = {\n  autoImportReact?: boolean;\n  removeEffect?: boolean;\n  removePropTypes?: {\n    mode?: 'remove' | 'unwrap' | 'unsafe-wrap';\n    removeImport?: boolean;\n    ignoreFilenames?: string[];\n    additionalLibraries?: string[];\n    classNameMatchers?: string[];\n  };\n};\n\n\nSome little help utils for React.\n\nreactUtils.autoImportReact\n\n * Type: boolean\n\nAutomatically . Mostly used for generated React.createElement`.\n\nreactUtils.removeEffect\n\n * Type: boolean\n\nRemove useEffect call.\n\nreactUtils.removePropTypes\n\n * Type:\n\ntype RemovePropTypesOptions = {\n  mode?: 'remove' | 'unwrap' | 'unsafe-wrap';\n  removeImport?: boolean;\n  ignoreFilenames?: string[];\n  additionalLibraries?: string[];\n  classNameMatchers?: string[];\n};\n\n\nRemove React runtime type checking. This is ported from\n@babel/plugin-react-transform-remove-prop-types, All the configurations remain\nthe same.\n\nEXTENSIONS.LODASH\n\n * Type: { cwd?: string; ids?: string;}\n * Default: { cwd: process.cwd(), ids: [] }\n\nPorted from @babel/plugin-lodash.\n\n\nLIMITATION\n\nDo not support @babel/plugin-transform-runtime and other custom Babel plugins.",frontmatter:{}},{id:145,title:"Writing tests",routePath:"/builder/en/plugins/testing",toc:[],content:"WRITING TESTS",frontmatter:{}},{id:146,title:"",routePath:"/builder/en/shared/getBuilderConfig",toc:[],content:"Get the Builder config, this method must be called after the modifyBuilderConfig\nhook is executed.\n\n * Type\n\nfunction GetBuilderConfig(): Readonly<BuilderConfig>;\n",frontmatter:{}},{id:147,title:"",routePath:"/builder/en/shared/getHTMLPaths",toc:[],content:"Get path information for all HTML assets.\n\nThis method will return an object, the key is the entry name and the value is\nthe relative path of the HTML file in the dist directory.\n\n * Type\n\nfunction GetHTMLPaths(): Record<string, string>;\n",frontmatter:{}},{id:148,title:"",routePath:"/builder/en/shared/getNormalizedConfig",toc:[],content:"Get the normalized Builder config, this method must be called after the\nmodifyBuilderConfig hook is executed.\n\nCompared with the api.getBuilderConfig method, the config returned by this\nmethod has been normalized, and the type definition of the config will be\nnarrowed. For example, the undefined type of config.html will be removed.\n\nIt is recommended to use this method to get the Builder config.\n\n * Type\n\nfunction GetNormalizedConfig(): Readonly<NormalizedConfig>;\n",frontmatter:{}},{id:149,title:"",routePath:"/builder/en/shared/isPluginExists",toc:[],content:"Determines whether a plugin has been registered.\n\n * Type\n\nfunction IsPluginExists(pluginName: string): boolean;\n",frontmatter:{}},{id:150,title:"",routePath:"/builder/en/shared/onAfterBuild",toc:[],content:"Called after executing the production build, you can get the build result\ninformation through the stats parameter.\n\n * Type\n\nfunction OnAfterBuild(\n  callback: (params: { stats?: Stats | MultiStats }) => Promise<void> | void,\n): void;\n",frontmatter:{}},{id:151,title:"",routePath:"/builder/en/shared/onAfterCreateCompiler",toc:[],content:"Called after creating a compiler instance, before executing a build, when you\nexecute builder.startDevServer, builder.build or builder.createCompiler, this\nhook will be called. You can get the compiler instance through the compiler\nparameter.\n\n * Type\n\nfunction OnAfterCreateCompiler(callback: (params: {\n  compiler: Compiler | MultiCompiler;\n}) => Promise<void> | void;): void;\n",frontmatter:{}},{id:152,title:"",routePath:"/builder/en/shared/onAfterStartDevServer",toc:[],content:"Called after starting the development server, you can get the port number\nthrough the port parameter.\n\n * Type\n\nfunction OnAfterStartDevServer(\n  callback: (params: { port: number }) => Promise<void> | void,\n): void;\n",frontmatter:{}},{id:153,title:"",routePath:"/builder/en/shared/onBeforeBuild",toc:[],content:"Called before executing the production environment build, you can get the final\nconfig object of the bundler through the bundlerConfigs parameter.\n\n * Type\n\nfunction OnBeforeBuild(\n  callback: (params: {\n    bundlerConfigs?: WebpackConfig[] | RspackConfig[];\n  }) => Promise<void> | void,\n): void;\n",frontmatter:{}},{id:154,title:"",routePath:"/builder/en/shared/onBeforeCreateCompiler",toc:[],content:"Called before creating the compiler instance, when you execute\nbuilder.startDevServer, builder.build or builder.createCompiler, this hook will\nbe called. You can get the final config object of the bundler through the\nbundlerConfigs parameter.\n\n * Type\n\nfunction OnBeforeCreateCompiler(\n  callback: (params: {\n    bundlerConfigs: WebpackConfig[] | RspackConfig[];\n  }) => Promise<void> | void,\n): void;\n",frontmatter:{}},{id:155,title:"",routePath:"/builder/en/shared/onBeforeStartDevServer",toc:[],content:"Called before starting the development server.\n\n * Type\n\nfunction OnBeforeStartDevServer(callback: () => Promise<void> | void): void;\n",frontmatter:{}},{id:156,title:"",routePath:"/builder/en/shared/onDevCompileDone",toc:[],content:"Called after each development environment build, you can use isFirstCompile to\ndetermine whether it is the first build.\n\n * Type\n\nfunction OnDevCompileDone(\n  callback: (params: { isFirstCompile: boolean }) => Promise<void> | void,\n): void;\n",frontmatter:{}},{id:157,title:"",routePath:"/builder/en/shared/onExit",toc:[],content:"Called when the process is going to exit, this hook can only execute synchronous\ncode.\n\n * Type\n\nfunction OnExit(callback: () => void): void;\n",frontmatter:{}},{id:158,title:"",routePath:"/builder/global.d",toc:[],content:"declare module '*.module.scss' { const classes: { readonly [key: string]: string\n}; export default classes; }",frontmatter:{}},{id:159,title:"Builder Core",routePath:"/builder/api/builder-core",toc:[{id:"createbuilder-1",text:"createBuilder",depth:2},{id:"webpack-provider-1",text:"Webpack Provider",depth:3},{id:"rspack-provider-1",text:"Rspack Provider",depth:3},{id:"options-2",text:"options",depth:3},{id:"mergebuilderconfig-1",text:"mergeBuilderConfig",depth:2},{id:"webpack-3",text:"webpack",depth:2},{id:"htmlwebpackplugin-3",text:"HtmlWebpackPlugin",depth:2}],content:"BUILDER CORE\n\n\u672c\u7ae0\u8282\u63cf\u8ff0\u4e86 Builder \u63d0\u4f9b\u7684\u4e00\u4e9b\u6838\u5fc3\u65b9\u6cd5\u3002\n\n\nCREATEBUILDER\n\n\u521b\u5efa\u4e00\u4e2a Builder \u5b9e\u4f8b\u5bf9\u8c61\u3002\n\n\u4f7f\u7528\u8be5\u65b9\u6cd5\u65f6\uff0c\u9700\u8981\u642d\u914d @modern-js/builder-webpack-provider \u6216\n@modern-js/builder-rspack-provider \u4f7f\u7528\uff0cProvider \u57fa\u4e8e\u7279\u5b9a bundler \u5b9e\u73b0\u4e86\u5bf9\u5e94\u7684\u6784\u5efa\u80fd\u529b\u3002\n\n\nWEBPACK PROVIDER\n\n\u5f53\u4f20\u5165 builderWebpackProvider \u65f6\uff0cBuilder \u4f1a\u4f7f\u7528 webpack \u4f5c\u4e3a bundler \u8fdb\u884c\u6784\u5efa\u3002\n\n\n\n\nconst provider = builderWebpackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n\nconst builder = await createBuilder(provider, {\n  // some options\n});\n\n\n\nRSPACK PROVIDER\n\n\u5f53\u4f20\u5165 builderRspackProvider \u65f6\uff0cBuilder \u4f1a\u4f7f\u7528 rspack \u4f5c\u4e3a bundler \u8fdb\u884c\u6784\u5efa\u3002\n\n\n\n\nconst provider = builderRspackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n\nconst builder = await createBuilder(provider, {\n  // some options\n});\n\n\n> Tips: @modern-js/builder-rspack-provider \u5c1a\u672a\u5f00\u53d1\u5b8c\u6210\u3002\n\n\nOPTIONS\n\ncreateBuilder \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165\u4ee5\u4e0b\u9009\u9879\uff1a\n\ntype BuilderEntry = Record<string, string | string[]>;\n\ntype BuilderTarget = 'web' | 'node' | 'modern-web' | 'web-worker';\n\ntype CreateBuilderOptions = {\n  cwd?: string;\n  entry?: BuilderEntry;\n  target?: BuilderTarget | BuilderTarget[];\n  framework?: string;\n  configPath?: string | null;\n};\n\n\n\u5404\u4e2a\u9009\u9879\u7684\u4f5c\u7528\uff1a\n\n * cwd: \u5f53\u524d\u6267\u884c\u6784\u5efa\u7684\u6839\u8def\u5f84\uff0c\u9ed8\u8ba4\u503c\u4e3a process.cwd()\n * entry: \u6784\u5efa\u5165\u53e3\u5bf9\u8c61\n * target: \u6784\u5efa\u4ea7\u7269\u7c7b\u578b\uff0c\u9ed8\u8ba4\u503c\u4e3a ['web']\uff0c\u8be6\u89c1 \u6784\u5efa\u4ea7\u7269\u7c7b\u578b \u7ae0\u8282\u3002\n * framework: \u6846\u67b6\u7684\u82f1\u6587\u540d\u79f0\uff0c\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u9ed8\u8ba4\u503c\u4e3a 'modern.js'\n * configPath: \u6846\u67b6\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\uff08\u7edd\u5bf9\u8def\u5f84\uff09\uff0c\u8be5\u53c2\u6570\u5f71\u54cd\u6784\u5efa\u7f13\u5b58\u66f4\u65b0\n\n\nMERGEBUILDERCONFIG\n\n\u5408\u5e76\u591a\u4efd Builder \u914d\u7f6e\u5bf9\u8c61\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u5408\u5e76\u540e\u7684\u65b0\u5bf9\u8c61\u3002\n\n * Type\n\nfunction mergeBuilderConfig(...configs: BuilderConfig[]): BuilderConfig;\n\n\n * Example\n\n\n\nconst config1 = {\n  dev: {\n    https: false,\n  },\n};\nconst config2 = {\n  dev: {\n    https: true,\n  },\n};\n\nconst mergedConfig = mergeBuilderConfig(config1, config2);\n\nconsole.log(mergedConfig); // { dev: { https: true } }\n\n\n> \u8be5\u65b9\u6cd5\u4e0d\u4f1a\u4fee\u6539\u4f20\u5165\u7684 config \u5bf9\u8c61\u3002\n\n\nWEBPACK\n\nwebpack \u5bf9\u8c61\uff0c\u7528\u4e8e\u6d88\u8d39 webpack \u5185\u7f6e\u63d2\u4ef6\u6216\u7c7b\u578b\u5b9a\u4e49\u3002\n\n * Example\n\n\n\nnew webpack.DefinePlugin();\n\n\n> \u5927\u90e8\u5206\u573a\u666f\u4e0b\uff0c\u63a8\u8350\u4ece Builder \u4e2d\u5f15\u7528 webpack \u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u624b\u52a8\u5b89\u88c5\u4e00\u4efd \"webpack\" \u4f9d\u8d56\uff0c\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u51fa\u73b0\u591a\u5b9e\u4f8b\u95ee\u9898\u3002\n\n\nHTMLWEBPACKPLUGIN\n\nHtmlWebpackPlugin \u5bf9\u8c61\uff0c\u901a\u5e38\u7528\u4e8e\u5b9e\u73b0 HtmlWebpackPlugin \u7684\u81ea\u5b9a\u4e49\u63d2\u4ef6\u3002\n\n * Example\n\n\n\n> \u5927\u90e8\u5206\u573a\u666f\u4e0b\uff0c\u63a8\u8350\u4ece Builder \u4e2d\u5f15\u7528 HtmlWebpackPlugin \u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u624b\u52a8\u5b89\u88c5\u4e00\u4efd \"html-webpack-plugin\"\n> \u4f9d\u8d56\uff0c\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u51fa\u73b0\u591a\u5b9e\u4f8b\u95ee\u9898\u3002",frontmatter:{extractApiHeaders:[2]}},{id:160,title:"Builder Instance",routePath:"/builder/api/builder-instance",toc:[{id:"buildercontext-2",text:"builder.context",depth:2},{id:"buildercontextentry-1",text:"builder.context.entry",depth:3},{id:"buildercontexttarget-1",text:"builder.context.target",depth:3},{id:"buildercontextrootpath-1",text:"builder.context.rootPath",depth:3},{id:"buildercontextsrcpath-1",text:"builder.context.srcPath",depth:3},{id:"buildercontextdistpath-1",text:"builder.context.distPath",depth:3},{id:"buildercontextcachepath-1",text:"builder.context.cachePath",depth:3},{id:"buildercontextconfigpath-1",text:"builder.context.configPath",depth:3},{id:"buildercontexttsconfigpath-1",text:"builder.context.tsconfigPath",depth:3},{id:"buildercontextframework-1",text:"builder.context.framework",depth:3},{id:"buildercontextdevserver-1",text:"builder.context.devServer",depth:3},{id:"builderbuild-1",text:"builder.build",depth:2},{id:"\u5f00\u53d1\u73af\u5883\u6784\u5efa",text:"\u5f00\u53d1\u73af\u5883\u6784\u5efa",depth:3},{id:"\u76d1\u542c\u6587\u4ef6\u53d8\u5316",text:"\u76d1\u542c\u6587\u4ef6\u53d8\u5316",depth:3},{id:"\u81ea\u5b9a\u4e49-compiler",text:"\u81ea\u5b9a\u4e49 Compiler",depth:3},{id:"builderstartdevserver-1",text:"builder.startDevServer",depth:2},{id:"\u81ea\u5b9a\u4e49-url-\u8f93\u51fa",text:"\u81ea\u5b9a\u4e49 URL \u8f93\u51fa",depth:3},{id:"\u4e25\u683c\u9650\u5236\u7aef\u53e3",text:"\u4e25\u683c\u9650\u5236\u7aef\u53e3",depth:3},{id:"\u81ea\u5b9a\u4e49-compiler-1",text:"\u81ea\u5b9a\u4e49 Compiler",depth:3},{id:"buildercreatecompiler-1",text:"builder.createCompiler",depth:2},{id:"builderaddplugins-1",text:"builder.addPlugins",depth:2},{id:"builderremoveplugins-1",text:"builder.removePlugins",depth:2},{id:"builderispluginexists-1",text:"builder.isPluginExists",depth:2},{id:"builderinspectconfig-1",text:"builder.inspectConfig",depth:2},{id:"builderonbeforecreatecompiler-1",text:"builder.onBeforeCreateCompiler",depth:2},{id:"builderonaftercreatecompiler-1",text:"builder.onAfterCreateCompiler",depth:2},{id:"builderonbeforebuild-1",text:"builder.onBeforeBuild",depth:2},{id:"builderonafterbuild-1",text:"builder.onAfterBuild",depth:2},{id:"builderonbeforestartdevserver-1",text:"builder.onBeforeStartDevServer",depth:2},{id:"builderonafterstartdevserver-1",text:"builder.onAfterStartDevServer",depth:2},{id:"builderondevcompiledone-1",text:"builder.onDevCompileDone",depth:2},{id:"builderonexit-1",text:"builder.onExit",depth:2},{id:"buildergetbuilderconfig-1",text:"builder.getBuilderConfig",depth:2},{id:"buildergetnormalizedconfig-1",text:"builder.getNormalizedConfig",depth:2},{id:"buildergethtmlpaths-1",text:"builder.getHTMLPaths",depth:2}],content:"BUILDER INSTANCE\n\n\u672c\u7ae0\u8282\u63cf\u8ff0\u4e86 Builder \u5b9e\u4f8b\u5bf9\u8c61\u4e0a\u6240\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\n\n\nBUILDER.CONTEXT\n\nbuilder.context \u662f\u4e00\u4e2a\u53ea\u8bfb\u5bf9\u8c61\uff0c\u63d0\u4f9b\u4e00\u4e9b\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002\n\n\nBUILDER.CONTEXT.ENTRY\n\n\u6784\u5efa\u5165\u53e3\u5bf9\u8c61\uff0c\u5bf9\u5e94\u8c03\u7528 createBuilder \u65f6\u4f20\u5165\u7684 entry \u9009\u9879\u3002\n\n * Type\n\ntype BuilderEntry = Record<string, string | string[]>;\n\n\n\nBUILDER.CONTEXT.TARGET\n\n\u6784\u5efa\u4ea7\u7269\u7c7b\u578b\uff0c\u5bf9\u5e94\u8c03\u7528 createBuilder \u65f6\u4f20\u5165\u7684 target \u9009\u9879\u3002\n\n * Type\n\ntype BuilderTarget = 'web' | 'node' | 'modern-web' | 'web-worker';\n\ntype Context = {\n  target: BuilderTarget | BuilderTarget[];\n};\n\n\n\nBUILDER.CONTEXT.ROOTPATH\n\n\u5f53\u524d\u6267\u884c\u6784\u5efa\u7684\u6839\u8def\u5f84\uff0c\u5bf9\u5e94\u8c03\u7528 createBuilder \u65f6\u4f20\u5165\u7684 cwd \u9009\u9879\u3002\n\n * Type\n\ntype RootPath = string;\n\n\n\nBUILDER.CONTEXT.SRCPATH\n\nsrc \u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84\u3002\n\n * Type\n\ntype SrcPath = string;\n\n\n\nBUILDER.CONTEXT.DISTPATH\n\n\u6784\u5efa\u4ea7\u7269\u8f93\u51fa\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u5bf9\u5e94 BuilderConfig \u4e2d\u7684 output.distPath.root \u914d\u7f6e\u9879\u3002\n\n * Type\n\ntype DistPath = string;\n\n\n\nBUILDER.CONTEXT.CACHEPATH\n\n\u6784\u5efa\u8fc7\u7a0b\u4e2d\u751f\u6210\u7684\u7f13\u5b58\u6587\u4ef6\u6240\u5728\u7684\u7edd\u5bf9\u8def\u5f84\u3002\n\n * Type\n\ntype CachePath = string;\n\n\n\nBUILDER.CONTEXT.CONFIGPATH\n\n\u6846\u67b6\u914d\u7f6e\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u5bf9\u5e94\u8c03\u7528 createBuilder \u65f6\u4f20\u5165\u7684 configPath \u9009\u9879\u3002\n\n * Type\n\ntype ConfigPath = string | undefined;\n\n\n\nBUILDER.CONTEXT.TSCONFIGPATH\n\ntsconfig.json \u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u82e5\u9879\u76ee\u4e2d\u4e0d\u5b58\u5728 tsconfig.json \u6587\u4ef6\uff0c\u5219\u4e3a undefined\u3002\n\n * Type\n\ntype TsconfigPath = string | undefined;\n\n\n\nBUILDER.CONTEXT.FRAMEWORK\n\n\u6846\u67b6\u7684\u82f1\u6587\u540d\u79f0\uff0c\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u9ed8\u8ba4\u503c\u4e3a 'modern.js'\u3002\n\n * Type\n\ntype Framework = string | undefined;\n\n\n\nBUILDER.CONTEXT.DEVSERVER\n\nDev Server \u76f8\u5173\u4fe1\u606f\uff0c\u5305\u542b\u4e86\u5f53\u524d Dev Server \u7684 hostname \u548c\u7aef\u53e3\u53f7\u3002\n\n * Type\n\ntype DevServer = {\n  hostname: string;\n  port: number;\n};\n\n\n\nBUILDER.BUILD\n\n\u8c03\u7528 build \u65b9\u6cd5\u65f6\uff0c\u4f1a\u6267\u884c\u4e00\u6b21\u751f\u4ea7\u73af\u5883\u6784\u5efa\u3002\n\n * Type\n\ntype BuildOptions = {\n  mode?: 'development' | 'production';\n  watch?: boolean;\n  // \u81ea\u5b9a\u4e49 Compiler \u5bf9\u8c61\n  compiler?: Compiler | MultiCompiler;\n};\n\nfunction Build(options?: BuildOptions): Promise<void>;\n\n\n * Example\n\nawait builder.build();\n\n\n\n\u5f00\u53d1\u73af\u5883\u6784\u5efa\n\n\u5982\u679c\u9700\u8981\u6267\u884c\u4e00\u6b21\u5f00\u53d1\u73af\u5883\u6784\u5efa\uff0c\u53ef\u4ee5\u5c06 mode \u53c2\u6570\u8bbe\u7f6e\u4e3a 'development'\u3002\n\nawait builder.build({\n  mode: 'development',\n});\n\n\n\n\u76d1\u542c\u6587\u4ef6\u53d8\u5316\n\n\u5982\u679c\u9700\u8981\u81ea\u52a8\u76d1\u542c\u6587\u4ef6\u53d8\u5316\u5e76\u91cd\u65b0\u6267\u884c\u6784\u5efa\uff0c\u53ef\u4ee5\u5c06 watch \u53c2\u6570\u8bbe\u7f6e\u4e3a true\u3002\n\nawait builder.build({\n  watch: true,\n});\n\n\n\n\u81ea\u5b9a\u4e49 COMPILER\n\n\u4e2a\u522b\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684 compiler\uff1a\n\nconst compiler = webpack({\n  // ...\n});\nawait builder.build({\n  compiler,\n});\n\n\n\nBUILDER.STARTDEVSERVER\n\n\u542f\u52a8\u672c\u5730 Dev Server\uff0c\u57fa\u4e8e Modern.js Dev Server \u5b9e\u73b0\u3002\n\n * Type\n\ntype StartDevServerOptions = {\n  // \u662f\u5426\u8f93\u51fa URL \u4fe1\u606f\uff0c\u9ed8\u8ba4\u4e3a true\n  printURLs?: boolean;\n  // \u662f\u5426\u5728\u7aef\u53e3\u88ab\u5360\u7528\u65f6\u629b\u51fa\u5f02\u5e38\uff0c\u9ed8\u8ba4\u4e3a false\n  strictPort?: boolean;\n  // \u81ea\u5b9a\u4e49 Compiler \u5bf9\u8c61\n  compiler?: Compiler | MultiCompiler;\n  // \u900f\u4f20\u4e0e\u6784\u5efa\u65e0\u5173\u7684 dev server \u914d\u7f6e\n  serverOptions?: Partial<ModernDevServerOptions>;\n};\n\ntype StartDevServerResult = {\n  urls: string[];\n  port: number;\n  server: Server;\n};\n\nfunction StartDevServer(\n  options?: StartDevServerOptions,\n): Promise<StartDevServerResult>;\n\n\n * Example\n\n\u542f\u52a8 Dev Server\uff1a\n\nawait builder.startDevServer();\n\n\n\u6210\u529f\u542f\u52a8 Dev Server \u540e\uff0c\u53ef\u4ee5\u770b\u5230\u4ee5\u4e0b\u65e5\u5fd7\u4fe1\u606f\uff1a\n\ninfo    Starting dev server...\ninfo    Dev server running at:\n\n  > Local:    http://localhost:8080\n  > Network:  http://192.168.0.1:8080\n\n\nstartDevServer \u4f1a\u8fd4\u56de\u4ee5\u4e0b\u53c2\u6570\uff1a\n\n * urls\uff1a\u8bbf\u95ee Dev Server \u7684 URLs\n * port \u5b9e\u9645\u76d1\u542c\u7684\u7aef\u53e3\u53f7\n * server\uff1aServer \u5b9e\u4f8b\u5bf9\u8c61\n\nconst { urls, port, server } = await builder.startDevServer();\nconsole.log(urls); // ['http://localhost:8080', 'http://192.168.0.1:8080']\nconsole.log(port); // 8080\n\n// \u5173\u95ed Dev Server\nawait server.close();\n\n\n\n\u81ea\u5b9a\u4e49 URL \u8f93\u51fa\n\n\u5c06 printURLs \u8bbe\u7f6e\u4e3a false \u53ef\u4ee5\u7981\u7528\u9ed8\u8ba4\u7684 URL \u8f93\u51fa\uff0c\u6b64\u65f6\u4f60\u53ef\u4ee5\u8f93\u51fa\u81ea\u5b9a\u4e49\u7684\u65e5\u5fd7\u5185\u5bb9\u3002\n\nawait builder.startDevServer({\n  printURLs: false,\n});\n\n\n\n\u4e25\u683c\u9650\u5236\u7aef\u53e3\n\n\u5f53\u7aef\u53e3\u88ab\u5360\u7528\u65f6\uff0cBuilder \u4f1a\u81ea\u52a8\u9012\u589e\u7aef\u53e3\u53f7\uff0c\u76f4\u81f3\u627e\u5230\u4e00\u4e2a\u53ef\u7528\u7aef\u53e3\u3002\n\n\u5982\u679c\u4f60\u5e0c\u671b\u5728\u7aef\u53e3\u88ab\u5360\u7528\u65f6\u629b\u51fa\u5f02\u5e38\uff0c\u53ef\u4ee5\u5c06 strictPort \u8bbe\u7f6e\u4e3a true\u3002\n\nawait builder.startDevServer({\n  strictPort: true,\n});\n\n\n\n\u81ea\u5b9a\u4e49 COMPILER\n\n\u4e2a\u522b\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684 compiler\uff1a\n\nconst compiler = webpack({\n  // ...\n});\nawait builder.startDevServer({\n  compiler,\n});\n\n\n\nBUILDER.CREATECOMPILER\n\n\u521b\u5efa\u4e00\u4e2a compiler \u5bf9\u8c61\u3002\n\n\u5f53 createBuilder \u7684 target \u9009\u9879\u5305\u542b\u4e00\u4e2a\u503c\u65f6\uff0c\u8fd4\u56de\u503c\u4e3a Compiler\uff1b\u5f53 target \u5305\u542b\u591a\u4e2a\u503c\u65f6\uff0c\u8fd4\u56de\u503c\u4e3a\nMultiCompiler\u3002\n\n * Type\n\nfunction CreateCompiler(): Promise<Compiler | MultiCompiler>;\n\n\n * Example\n\nconst compiler = await builder.createCompiler();\n\n\n> \u5927\u90e8\u5206\u573a\u666f\u4e0b\uff0c\u4e0d\u9700\u8981\u4f7f\u7528\u8be5 API\uff0c\u9664\u975e\u9700\u8981\u8fdb\u884c\u81ea\u5b9a\u4e49 Dev Server \u7b49\u9ad8\u7ea7\u64cd\u4f5c\u3002\n\n\nBUILDER.ADDPLUGINS\n\n\u6ce8\u518c\u4e00\u4e2a\u6216\u591a\u4e2a builder \u63d2\u4ef6\uff0c\u53ef\u4ee5\u88ab\u591a\u6b21\u8c03\u7528\u3002\n\n\u8be5\u65b9\u6cd5\u9700\u8981\u5728\u5f00\u59cb\u7f16\u8bd1\u524d\u8c03\u7528\uff0c\u5982\u679c\u5728\u5f00\u59cb\u7f16\u8bd1\u4e4b\u540e\u8c03\u7528\uff0c\u5219\u4e0d\u4f1a\u5f71\u54cd\u7f16\u8bd1\u7ed3\u679c\u3002\n\n * Type\n\ntype AddPluginsOptions = { before?: string } | { after?: string };\n\nfunction AddPlugins(\n  plugins: BuilderPlugins[],\n  options?: AddPluginsOptions,\n): Promise<void>;\n\n\n * Example\n\nbuilder.addPlugins([PluginFoo(), PluginBar()]);\n\n// \u5728 bar \u63d2\u4ef6\u4e4b\u524d\u63d2\u5165\nbuilder.addPlugins([PluginFoo()], { before: 'bar' });\n\n// \u5728 bar \u63d2\u4ef6\u4e4b\u540e\u63d2\u5165\nbuilder.addPlugins([PluginFoo()], { after: 'bar' });\n\n\n\nBUILDER.REMOVEPLUGINS\n\n\u79fb\u9664\u4e00\u4e2a\u6216\u591a\u4e2a builder \u63d2\u4ef6\uff0c\u53ef\u4ee5\u88ab\u591a\u6b21\u8c03\u7528\u3002\n\n\u8be5\u65b9\u6cd5\u9700\u8981\u5728\u5f00\u59cb\u7f16\u8bd1\u524d\u8c03\u7528\uff0c\u5982\u679c\u5728\u5f00\u59cb\u7f16\u8bd1\u4e4b\u540e\u8c03\u7528\uff0c\u5219\u4e0d\u4f1a\u5f71\u54cd\u7f16\u8bd1\u7ed3\u679c\u3002\n\n * Type\n\nfunction RemovePlugins(pluginNames: string[]): void;\n\n\n * Example\n\n// \u6dfb\u52a0\u63d2\u4ef6\nconst pluginFoo = PluginFoo();\nbuilder.addPlugins(pluginFoo);\n\n// \u79fb\u9664\u63d2\u4ef6\nbuilder.removePlugins([pluginFoo.name]);\n\n\n\nBUILDER.ISPLUGINEXISTS\n\n * Example\n\nbuilder.addPlugins([PluginFoo()]);\n\nbuilder.isPluginExists(PluginFoo().name); // true\n\n\n\nBUILDER.INSPECTCONFIG\n\n\u67e5\u770b Builder \u5185\u90e8\u6700\u7ec8\u751f\u6210\u7684 builder \u914d\u7f6e\u548c bundler \u914d\u7f6e\u3002\n\n * Type\n\ntype InspectConfigOptions = {\n  // \u67e5\u770b\u6307\u5b9a\u73af\u5883\u4e0b\u7684\u914d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a \"development\"\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a \"production\"\n  env?: BuilderMode;\n  // \u662f\u5426\u5f00\u542f\u5197\u4f59\u6a21\u5f0f\uff0c\u5c55\u793a\u914d\u7f6e\u4e2d\u51fd\u6570\u7684\u5b8c\u6574\u5185\u5bb9\uff0c\u9ed8\u8ba4\u4e3a `false`\n  verbose?: boolean;\n  // \u6307\u5b9a\u8f93\u51fa\u8def\u5f84\uff0c\u9ed8\u8ba4\u4e3a `output.distPath.root` \u914d\u7f6e\u7684\u503c\n  outputPath?: string;\n  // \u662f\u5426\u5c06\u7ed3\u679c\u5199\u5165\u5230\u78c1\u76d8\u4e2d\uff0c\u9ed8\u8ba4\u4e3a `false`\n  writeToDisk?: boolean;\n};\n\nasync function InspectConfig(options?: InspectConfigOptions): Promise<{\n  builderConfig: string;\n  bundlerConfigs: string[];\n  origin: {\n    builderConfig: BuilderConfig;\n    bundlerConfigs: BundlerConfigs[];\n  };\n}>;\n\n\n * Example\n\n\u62ff\u5230\u5b57\u7b26\u4e32\u683c\u5f0f\u7684 Config \u5185\u5bb9\uff1a\n\nconst { builderConfig, bundlerConfigs } = await builder.inspectConfig();\n\nconsole.log(builderConfig, bundlerConfigs);\n\n\n\u76f4\u63a5\u5c06\u914d\u7f6e\u5185\u5bb9\u5199\u5165\u5230\u78c1\u76d8\u4e0a\uff1a\n\nawait builder.inspectConfig({\n  writeToDisk: true,\n});\n\n\n\nBUILDER.ONBEFORECREATECOMPILER\n\n * Example\n\nbuilder.onBeforeCreateCompiler(({ bundlerConfigs }) => {\n  console.log('the bundler config is ', bundlerConfigs);\n});\n\n\n\nBUILDER.ONAFTERCREATECOMPILER\n\n * Example\n\nbuilder.onAfterCreateCompiler(({ compiler }) => {\n  console.log('the compiler is ', compiler);\n});\n\n\n\nBUILDER.ONBEFOREBUILD\n\n * Example\n\nbuilder.onBeforeBuild(({ bundlerConfigs }) => {\n  console.log('the bundler config is ', bundlerConfigs);\n});\n\n\n\nBUILDER.ONAFTERBUILD\n\n * Example\n\nbuilder.onAfterBuild(({ stats }) => {\n  console.log(stats?.toJson());\n});\n\n\n\nBUILDER.ONBEFORESTARTDEVSERVER\n\n * Example\n\nbuilder.onBeforeStartDevServer(() => {\n  console.log('before start!');\n});\n\n\n\nBUILDER.ONAFTERSTARTDEVSERVER\n\n * Example\n\nbuilder.onAfterStartDevServer(({ port }) => {\n  console.log('this port is: ', port);\n});\n\n\n\nBUILDER.ONDEVCOMPILEDONE\n\n * Example\n\nbuilder.onDevCompileDone(({ isFirstCompile }) => {\n  if (isFirstCompile) {\n    console.log('first compile!');\n  } else {\n    console.log('re-compile!');\n  }\n});\n\n\n\nBUILDER.ONEXIT\n\n * Example\n\nbuilder.onExit(() => {\n  console.log('exit!');\n});\n\n\n\nBUILDER.GETBUILDERCONFIG\n\n * Example\n\nbuilder.onBeforeBuild(() => {\n  const config = api.getBuilderConfig();\n  console.log(config.html?.title);\n});\n\n\n\nBUILDER.GETNORMALIZEDCONFIG\n\n * Example\n\nbuilder.onBeforeBuild(() => {\n  const config = api.getNormalizedConfig();\n  console.log(config.html.title);\n});\n\n\n\nBUILDER.GETHTMLPATHS\n\n * Example\n\nbuilder.onBeforeBuild(() => {\n  const htmlPaths = api.getHTMLPaths();\n  console.log(htmlPaths); // { main: 'html/main/index.html' };\n});\n",frontmatter:{extractApiHeaders:[2]}},{id:161,title:"Builder Types",routePath:"/builder/api/builder-types",toc:[{id:"builderinstance-1",text:"BuilderInstance",depth:2},{id:"buildercontext-3",text:"BuilderContext",depth:2},{id:"builderplugin-2",text:"BuilderPlugin",depth:2},{id:"buildertarget-1",text:"BuilderTarget",depth:2},{id:"builderentry-1",text:"BuilderEntry",depth:2},{id:"createbuilderoptions-1",text:"CreateBuilderOptions",depth:2}],content:"BUILDER TYPES\n\n\u672c\u7ae0\u8282\u63cf\u8ff0\u4e86 Builder \u63d0\u4f9b\u7684\u4e00\u4e9b\u7c7b\u578b\u5b9a\u4e49\u3002\n\n\nBUILDERINSTANCE\n\nBuilder \u5b9e\u4f8b\u7684\u7c7b\u578b\u3002\n\n\n\nlet builder: BuilderInstance;\n\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u6cdb\u578b\u6765\u4f20\u5165 Provider \u7684\u7c7b\u578b\uff0c\u4f7f Builder \u5b9e\u4f8b\u83b7\u5f97\u66f4\u51c6\u786e\u7684\u7c7b\u578b\u5b9a\u4e49\uff1a\n\n\n\n\nlet builder: BuilderInstance<BuilderWebpackProvider>;\n\n\n\nBUILDERCONTEXT\n\nBuilder \u5b9e\u4f8b\u4e2d context \u5c5e\u6027\u7684\u7c7b\u578b\u5b9a\u4e49\u3002\n\n\n\nconst context: BuilderContext = builder.context;\n\n\n\nBUILDERPLUGIN\n\nBuilder \u63d2\u4ef6\u7684\u7c7b\u578b\uff0c\u9700\u8981\u914d\u5408 provider \u4e2d\u63d0\u4f9b\u7684 BuilderPluginAPI \u7c7b\u578b\u6765\u4f7f\u7528\u3002\n\n\n\n\nconst myPlugin: BuilderPlugin<BuilderPluginAPI> = {\n  name: 'my-plugin',\n  setup() {},\n};\n\n\n\nBUILDERTARGET\n\nBuilder \u6784\u5efa\u4ea7\u7269\u7684\u7c7b\u578b\u3002\n\n\n\n\nBUILDERENTRY\n\n\u5bf9\u5e94 createBuilder \u65b9\u6cd5\u7684 entry \u9009\u9879\u7684\u7c7b\u578b\u3002\n\n\n\n\nCREATEBUILDEROPTIONS\n\n\u5bf9\u5e94 createBuilder \u65b9\u6cd5\u7684\u5165\u53c2\u7c7b\u578b\u3002\n\n",frontmatter:{extractApiHeaders:[2]}},{id:162,title:"Dev Config",routePath:"/builder/api/config-dev",toc:[{id:"devassetprefix-1",text:"dev.assetPrefix",depth:2},{id:"devhmr-1",text:"dev.hmr",depth:2},{id:"devhttps-1",text:"dev.https",depth:2},{id:"devport-1",text:"dev.port",depth:2},{id:"devprogressbar-1",text:"dev.progressBar",depth:2},{id:"devstarturl-1",text:"dev.startUrl",depth:2}],content:"DEV CONFIG\n\n\u672c\u7ae0\u8282\u63cf\u8ff0\u4e86 Builder \u4e2d\u4e0e\u672c\u5730\u5f00\u53d1\u6709\u5173\u7684\u914d\u7f6e\u3002\n\n\nDEV.ASSETPREFIX\n\n\nDEV.HMR\n\n\nDEV.HTTPS\n\n\nDEV.PORT\n\n\nDEV.PROGRESSBAR\n\n\nDEV.STARTURL",frontmatter:{extractApiHeaders:[2]}},{id:163,title:"Experiments Config",routePath:"/builder/api/config-experiments",toc:[{id:"experimentslazycompilation-1",text:"experiments.lazyCompilation",depth:2}],content:"EXPERIMENTS CONFIG\n\n\u672c\u7ae0\u8282\u63cf\u8ff0\u4e86 Builder \u4e2d\u7684\u4e00\u4e9b\u5b9e\u9a8c\u6027\u914d\u7f6e\uff0c\u5b9e\u9a8c\u6027\u914d\u7f6e\u53ef\u4ee5\u5f00\u542f Builder \u4e2d\u5c1a\u672a\u7a33\u5b9a\u7684\u529f\u80fd\u3002\n\n\u5982\u679c\u4f60\u5728\u4f7f\u7528\u5b9e\u9a8c\u6027\u529f\u80fd\u65f6\u9047\u5230\u95ee\u9898\uff0c\u8bf7\u5148\u5173\u95ed\u5bf9\u5e94\u7684\u914d\u7f6e\uff0c\u5e76\u901a\u8fc7 GitHub Issues \u8fdb\u884c\u53cd\u9988\u3002\n\n\nEXPERIMENTS.LAZYCOMPILATION",frontmatter:{extractApiHeaders:[2]}},{id:164,title:"Html Config",routePath:"/builder/api/config-html",toc:[{id:"htmlappicon-1",text:"html.appIcon",depth:2},{id:"htmlcrossorigin-1",text:"html.crossorigin",depth:2},{id:"htmldisablehtmlfolder-1",text:"html.disableHtmlFolder",depth:2},{id:"htmlfavicon-1",text:"html.favicon",depth:2},{id:"htmlfaviconbyentries-1",text:"html.faviconByEntries",depth:2},{id:"htmlinject-1",text:"html.inject",depth:2},{id:"htmlinjectbyentries-1",text:"html.injectByEntries",depth:2},{id:"htmlmeta-1",text:"html.meta",depth:2},{id:"htmlmetabyentries-1",text:"html.metaByEntries",depth:2},{id:"htmltags-1",text:"html.tags",depth:2},{id:"htmltagsbyentries-1",text:"html.tagsByEntries",depth:2},{id:"htmlmountid-1",text:"html.mountId",depth:2},{id:"htmltemplate-1",text:"html.template",depth:2},{id:"htmltemplatebyentries-1",text:"html.templateByEntries",depth:2},{id:"htmltemplateparameters-1",text:"html.templateParameters",depth:2},{id:"htmltemplateparametersbyentries-1",text:"html.templateParametersByEntries",depth:2},{id:"htmltitle-1",text:"html.title",depth:2},{id:"htmltitlebyentries-1",text:"html.titleByEntries",depth:2}],content:"HTML CONFIG\n\n\u672c\u7ae0\u8282\u63cf\u8ff0\u4e86 Builder \u4e2d\u4e0e HTML \u6709\u5173\u7684\u914d\u7f6e\u3002\n\n\nHTML.APPICON\n\n\nHTML.CROSSORIGIN\n\n\nHTML.DISABLEHTMLFOLDER\n\n\nHTML.FAVICON\n\n\nHTML.FAVICONBYENTRIES\n\n\nHTML.INJECT\n\n\nHTML.INJECTBYENTRIES\n\n\nHTML.META\n\n\nHTML.METABYENTRIES\n\n\nHTML.TAGS\n\n\nHTML.TAGSBYENTRIES\n\n\nHTML.MOUNTID\n\n\nHTML.TEMPLATE\n\n\nHTML.TEMPLATEBYENTRIES\n\n\nHTML.TEMPLATEPARAMETERS\n\n\nHTML.TEMPLATEPARAMETERSBYENTRIES\n\n\nHTML.TITLE\n\n\nHTML.TITLEBYENTRIES",frontmatter:{extractApiHeaders:[2]}},{id:165,title:"Output Config",routePath:"/builder/api/config-output",toc:[{id:"outputassetprefix-1",text:"output.assetPrefix",depth:2},{id:"outputassetsretry-1",text:"output.assetsRetry",depth:2},{id:"outputcharset-1",text:"output.charset",depth:2},{id:"outputcleandistpath-1",text:"output.cleanDistPath",depth:2},{id:"outputconverttorem-1",text:"output.convertToRem",depth:2},{id:"outputcopy-1",text:"output.copy",depth:2},{id:"outputcssmodulelocalidentname-1",text:"output.cssModuleLocalIdentName",depth:2},{id:"outputdataurilimit-1",text:"output.dataUriLimit",depth:2},{id:"outputdisablecssextract-1",text:"output.disableCssExtract",depth:2},{id:"outputdisablecssmoduleextension-1",text:"output.disableCssModuleExtension",depth:2},{id:"outputdistpath-1",text:"output.distPath",depth:2},{id:"outputdisableminimize-1",text:"output.disableMinimize",depth:2},{id:"outputdisablesourcemap-1",text:"output.disableSourceMap",depth:2},{id:"outputdisabletschecker-1",text:"output.disableTsChecker",depth:2},{id:"outputdisablefilenamehash-1",text:"output.disableFilenameHash",depth:2},{id:"outputdisableinlineruntimechunk-1",text:"output.disableInlineRuntimeChunk",depth:2},{id:"outputenableassetmanifest-1",text:"output.enableAssetManifest",depth:2},{id:"outputenableassetfallback-1",text:"output.enableAssetFallback",depth:2},{id:"outputenablelatestdecorators-1",text:"output.enableLatestDecorators",depth:2},{id:"outputenablecssmoduletsdeclaration-1",text:"output.enableCssModuleTSDeclaration",depth:2},{id:"outputenableinlinescripts-1",text:"output.enableInlineScripts",depth:2},{id:"outputenableinlinestyles-1",text:"output.enableInlineStyles",depth:2},{id:"outputexternals-1",text:"output.externals",depth:2},{id:"outputfilename-1",text:"output.filename",depth:2},{id:"outputlegalcomments-1",text:"output.legalComments",depth:2},{id:"outputoverridebrowserslist-1",text:"output.overrideBrowserslist",depth:2},{id:"outputpolyfill-1",text:"output.polyfill",depth:2},{id:"outputsvgdefaultexport-1",text:"output.svgDefaultExport",depth:2}],content:"OUTPUT CONFIG\n\n\u672c\u7ae0\u8282\u63cf\u8ff0\u4e86 Builder \u4e2d\u4e0e\u6784\u5efa\u4ea7\u7269\u6709\u5173\u7684\u914d\u7f6e\u3002\n\n\nOUTPUT.ASSETPREFIX\n\n\nOUTPUT.ASSETSRETRY\n\n\nOUTPUT.CHARSET\n\n\nOUTPUT.CLEANDISTPATH\n\n\nOUTPUT.CONVERTTOREM\n\n\nOUTPUT.COPY\n\n\nOUTPUT.CSSMODULELOCALIDENTNAME\n\n\nOUTPUT.DATAURILIMIT\n\n\nOUTPUT.DISABLECSSEXTRACT\n\n\nOUTPUT.DISABLECSSMODULEEXTENSION\n\n\nOUTPUT.DISTPATH\n\n\nOUTPUT.DISABLEMINIMIZE\n\n\nOUTPUT.DISABLESOURCEMAP\n\n\nOUTPUT.DISABLETSCHECKER\n\n\nOUTPUT.DISABLEFILENAMEHASH\n\n\nOUTPUT.DISABLEINLINERUNTIMECHUNK\n\n\nOUTPUT.ENABLEASSETMANIFEST\n\n\nOUTPUT.ENABLEASSETFALLBACK\n\n\nOUTPUT.ENABLELATESTDECORATORS\n\n\nOUTPUT.ENABLECSSMODULETSDECLARATION\n\n\nOUTPUT.ENABLEINLINESCRIPTS\n\n\nOUTPUT.ENABLEINLINESTYLES\n\n\nOUTPUT.EXTERNALS\n\n\nOUTPUT.FILENAME\n\n\nOUTPUT.LEGALCOMMENTS\n\n\nOUTPUT.OVERRIDEBROWSERSLIST\n\n\nOUTPUT.POLYFILL\n\n\nOUTPUT.SVGDEFAULTEXPORT",frontmatter:{extractApiHeaders:[2]}},{id:166,title:"Performance Config",routePath:"/builder/api/config-performance",toc:[{id:"performancebuildcache-1",text:"performance.buildCache",depth:2},{id:"performancebundleanalyze-1",text:"performance.bundleAnalyze",depth:2},{id:"performancechunksplit-1",text:"performance.chunkSplit",depth:2},{id:"performanceprintfilesize-1",text:"performance.printFileSize",depth:2},{id:"performanceprofile-1",text:"performance.profile",depth:2},{id:"performanceremoveconsole-1",text:"performance.removeConsole",depth:2},{id:"performanceremovemomentlocale-1",text:"performance.removeMomentLocale",depth:2}],content:"PERFORMANCE CONFIG\n\n\u672c\u7ae0\u8282\u63cf\u8ff0\u4e86 Builder \u4e2d\u4e0e\u6027\u80fd\u6709\u5173\u7684\u914d\u7f6e\u3002\n\n\nPERFORMANCE.BUILDCACHE\n\n\nPERFORMANCE.BUNDLEANALYZE\n\n\nPERFORMANCE.CHUNKSPLIT\n\n\nPERFORMANCE.PRINTFILESIZE\n\n\nPERFORMANCE.PROFILE\n\n\nPERFORMANCE.REMOVECONSOLE\n\n\nPERFORMANCE.REMOVEMOMENTLOCALE",frontmatter:{extractApiHeaders:[2]}},{id:167,title:"Security Config",routePath:"/builder/api/config-security",toc:[{id:"securitysri-1",text:"security.sri",depth:2}],content:"SECURITY CONFIG\n\n\u672c\u7ae0\u8282\u63cf\u8ff0\u4e86 Builder \u4e2d\u4e0e\u5b89\u5168\u6709\u5173\u7684\u914d\u7f6e\u3002\n\n\nSECURITY.SRI",frontmatter:{extractApiHeaders:[2]}},{id:168,title:"Source Config",routePath:"/builder/api/config-source",toc:[{id:"sourcealias-1",text:"source.alias",depth:2},{id:"sourceinclude-1",text:"source.include",depth:2},{id:"sourceexclude-1",text:"source.exclude",depth:2},{id:"sourcecompilejsdatauri-1",text:"source.compileJsDataURI",depth:2},{id:"sourcedefine-1",text:"source.define",depth:2},{id:"sourceglobalvars-1",text:"source.globalVars",depth:2},{id:"sourcemodulescopes-1",text:"source.moduleScopes",depth:2},{id:"sourcepreentry-1",text:"source.preEntry",depth:2},{id:"sourceresolveextensionprefix-1",text:"source.resolveExtensionPrefix",depth:2},{id:"sourceresolvemainfields-1",text:"source.resolveMainFields",depth:2}],content:"SOURCE CONFIG\n\n\u672c\u7ae0\u8282\u63cf\u8ff0\u4e86 Builder \u4e2d\u4e0e\u6e90\u4ee3\u7801\u89e3\u6790\u3001\u7f16\u8bd1\u65b9\u5f0f\u76f8\u5173\u7684\u914d\u7f6e\u3002\n\n\nSOURCE.ALIAS\n\n\nSOURCE.INCLUDE\n\n\nSOURCE.EXCLUDE\n\n\nSOURCE.COMPILEJSDATAURI\n\n\nSOURCE.DEFINE\n\n\nSOURCE.GLOBALVARS\n\n\nSOURCE.MODULESCOPES\n\n\nSOURCE.PREENTRY\n\n\nSOURCE.RESOLVEEXTENSIONPREFIX\n\n\nSOURCE.RESOLVEMAINFIELDS",frontmatter:{extractApiHeaders:[2]}},{id:169,title:"Tools Config",routePath:"/builder/api/config-tools",toc:[{id:"toolsautoprefixer-1",text:"tools.autoprefixer",depth:2},{id:"toolsbabel-1",text:"tools.babel",depth:2},{id:"toolscssextract-1",text:"tools.cssExtract",depth:2},{id:"toolscssloader-1",text:"tools.cssLoader",depth:2},{id:"toolsdevserver-1",text:"tools.devServer",depth:2},{id:"toolshtmlplugin-1",text:"tools.htmlPlugin",depth:2},{id:"toolsinspector-1",text:"tools.inspector",depth:2},{id:"toolsless-1",text:"tools.less",depth:2},{id:"toolsminifycss-1",text:"tools.minifyCss",depth:2},{id:"toolspostcss-1",text:"tools.postcss",depth:2},{id:"toolspug-1",text:"tools.pug",depth:2},{id:"toolssass-1",text:"tools.sass",depth:2},{id:"toolsstyleloader-1",text:"tools.styleLoader",depth:2},{id:"toolsstyledcomponents-1",text:"tools.styledComponents",depth:2},{id:"toolsterser-1",text:"tools.terser",depth:2},{id:"toolstsloader-1",text:"tools.tsLoader",depth:2},{id:"toolstschecker-1",text:"tools.tsChecker",depth:2},{id:"toolswebpack-1",text:"tools.webpack",depth:2},{id:"toolswebpackchain-1",text:"tools.webpackChain",depth:2}],content:"TOOLS CONFIG\n\n\u672c\u7ae0\u8282\u63cf\u8ff0\u4e86 Builder \u4e2d\u4e0e\u5e95\u5c42\u5de5\u5177\u6709\u5173\u7684\u914d\u7f6e\u3002\n\n\nTOOLS.AUTOPREFIXER\n\n\nTOOLS.BABEL\n\n\nTOOLS.CSSEXTRACT\n\n\nTOOLS.CSSLOADER\n\n\nTOOLS.DEVSERVER\n\n\nTOOLS.HTMLPLUGIN\n\n\nTOOLS.INSPECTOR\n\n\nTOOLS.LESS\n\n\nTOOLS.MINIFYCSS\n\n\nTOOLS.POSTCSS\n\n\nTOOLS.PUG\n\n\nTOOLS.SASS\n\n\nTOOLS.STYLELOADER\n\n\nTOOLS.STYLEDCOMPONENTS\n\n\nTOOLS.TERSER\n\n\nTOOLS.TSLOADER\n\n\nTOOLS.TSCHECKER\n\n\nTOOLS.WEBPACK\n\n\nTOOLS.WEBPACKCHAIN",frontmatter:{extractApiHeaders:[2]}},{id:170,title:"API",routePath:"/builder/api/",toc:[],content:"API",frontmatter:{overview:!0}},{id:171,title:"Plugin Core",routePath:"/builder/api/plugin-core",toc:[{id:"builderplugin-3",text:"BuilderPlugin",depth:2},{id:"builderpluginapi-1",text:"BuilderPluginAPI",depth:2},{id:"\u9002\u7528\u4e8e-webpack-provider-\u7684\u63d2\u4ef6",text:"\u9002\u7528\u4e8e webpack provider \u7684\u63d2\u4ef6",depth:3},{id:"\u9002\u7528\u4e8e-rspack-provider-\u7684\u63d2\u4ef6",text:"\u9002\u7528\u4e8e rspack provider \u7684\u63d2\u4ef6",depth:3},{id:"apicontext-1",text:"api.context",depth:2},{id:"apigetbuilderconfig-1",text:"api.getBuilderConfig",depth:2},{id:"apigetnormalizedconfig-1",text:"api.getNormalizedConfig",depth:2},{id:"apiispluginexists-1",text:"api.isPluginExists",depth:2},{id:"apigethtmlpaths-1",text:"api.getHTMLPaths",depth:2}],content:"PLUGIN CORE\n\n\u672c\u7ae0\u8282\u63cf\u8ff0\u4e86 Builder \u63d2\u4ef6\u6838\u5fc3\u7684\u7c7b\u578b\u5b9a\u4e49\u548c API\u3002\n\n\nBUILDERPLUGIN\n\n\u63d2\u4ef6\u5bf9\u8c61\u7684\u7c7b\u578b\uff0c\u63d2\u4ef6\u5bf9\u8c61\u5305\u542b\u4ee5\u4e0b\u5c5e\u6027\uff1a\n\n * name\uff1a\u63d2\u4ef6\u7684\u540d\u79f0\uff0c\u552f\u4e00\u6807\u8bc6\u7b26\u3002\n * setup\uff1a\u63d2\u4ef6\u903b\u8f91\u7684\u4e3b\u5165\u53e3\u51fd\u6570\uff0c\u53ef\u4ee5\u662f\u4e00\u4e2a\u5f02\u6b65\u51fd\u6570\u3002\u8be5\u51fd\u6570\u4ec5\u4f1a\u5728\u521d\u59cb\u5316\u63d2\u4ef6\u65f6\u6267\u884c\u4e00\u6b21\u3002\n\ntype BuilderPlugin<API = BuilderPluginAPI> = {\n  name: string;\n  setup: (api: API) => Promise<void> | void;\n};\n\n\n\u4f60\u53ef\u4ee5\u4ece @modern-js/builder \u4e2d\u5bfc\u5165\u8be5\u7c7b\u578b\uff1a\n\n\n\nexport default (): BuilderPlugin => ({\n  name: 'builder-plugin-foo',\n\n  setup: api => {\n    api.onAfterBuild(() => {\n      console.log('after build!');\n    });\n  },\n});\n\n\n\nBUILDERPLUGINAPI\n\n\u63d2\u4ef6 API \u5bf9\u8c61\u7684\u7c7b\u578b\u3002\u63d2\u4ef6 API \u5bf9\u8c61\u4e0a\u6302\u8f7d\u4e86\u63d0\u4f9b\u7ed9\u63d2\u4ef6\u4f7f\u7528\u7684\u4e0a\u4e0b\u6587\u6570\u636e\u3001\u5de5\u5177\u51fd\u6570\u548c\u6ce8\u518c\u751f\u547d\u5468\u671f\u94a9\u5b50\u7684\u51fd\u6570\u3002\n\n\u5173\u4e8e\u751f\u547d\u5468\u671f\u94a9\u5b50\u7684\u5b8c\u6574\u4ecb\u7ecd\uff0c\u8bf7\u9605\u8bfb Plugin Hooks \u7ae0\u8282\u3002\n\n\u5728\u4f7f\u7528 webpack provider \u6216 rspack provider \u65f6\uff0cBuilderPluginAPI\n\u7684\u7c7b\u578b\u5b9a\u4e49\u6709\u4e00\u5b9a\u4e0d\u540c\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u63d2\u4ef6\u7684\u4f7f\u7528\u573a\u666f\u6765\u5f15\u5165\u5bf9\u5e94\u7684\u7c7b\u578b\u3002\n\n\n\u9002\u7528\u4e8e WEBPACK PROVIDER \u7684\u63d2\u4ef6\n\n\u5f00\u53d1\u9002\u7528\u4e8e webpack provider \u7684\u63d2\u4ef6\u65f6\uff0c\u8bf7\u4ece @modern-js/builder-webpack-provider \u4e2d\u5f15\u5165\nBuilderPluginAPI\u3002\n\n\n\n\nexport default (): BuilderPlugin<BuilderPluginAPI> => ({\n  name: 'builder-plugin-foo',\n\n  setup: api => {\n    api.modifyWebpackConfig(config => {\n      config.devtool = false;\n    });\n  },\n});\n\n\n\n\u9002\u7528\u4e8e RSPACK PROVIDER \u7684\u63d2\u4ef6\n\n\u5f00\u53d1\u9002\u7528\u4e8e rspack provider \u7684\u63d2\u4ef6\u65f6\uff0c\u8bf7\u4ece @modern-js/builder-rspack-provider \u4e2d\u5f15\u5165\nBuilderPluginAPI\u3002\n\n\n\n\nexport default (): BuilderPlugin<BuilderPluginAPI> => ({\n  name: 'builder-plugin-foo',\n\n  setup: api => {\n    api.modifyRspackConfig(config => {\n      config.devtool = false;\n    });\n  },\n});\n\n\n\nAPI.CONTEXT\n\napi.context \u662f\u4e00\u4e2a\u53ea\u8bfb\u5bf9\u8c61\uff0c\u63d0\u4f9b\u4e00\u4e9b\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002\n\napi.context \u7684\u5185\u5bb9\u4e0e builder.context \u5b8c\u5168\u4e00\u81f4\uff0c\u8bf7\u53c2\u8003 builder.context\u3002\n\n * Example\n\nconst PluginFoo = () => ({\n  setup(api) {\n    console.log(api.context.distPath);\n  }\n);\n\n\n\nAPI.GETBUILDERCONFIG\n\n * Example\n\nconst PluginFoo = () => ({\n  setup(api) {\n    const config = api.getBuilderConfig();\n    console.log(config.html?.title);\n  }\n);\n\n\n\nAPI.GETNORMALIZEDCONFIG\n\n * Example\n\nconst PluginFoo = () => ({\n  setup(api) {\n    const config = api.getNormalizedConfig();\n    console.log(config.html.title);\n  }\n);\n\n\n\nAPI.ISPLUGINEXISTS\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    console.log(api.isPluginExists('builder-plugin-foo'));\n  },\n});\n\n\n\nAPI.GETHTMLPATHS\n\n * Example\n\nconst PluginFoo = () => ({\n  setup(api) {\n    api.modifyWebpackChain(() => {\n      const htmlPaths = api.getHTMLPaths();\n      console.log(htmlPaths); // { main: 'html/main/index.html' };\n    });\n  }\n);\n",frontmatter:{extractApiHeaders:[2]}},{id:172,title:"Plugin Hooks",routePath:"/builder/api/plugin-hooks",toc:[{id:"\u6982\u89c8",text:"\u6982\u89c8",depth:2},{id:"\u901a\u7528\u94a9\u5b50",text:"\u901a\u7528\u94a9\u5b50",depth:2},{id:"modifybuilderconfig-1",text:"modifyBuilderConfig",depth:3},{id:"modifywebpackchain-1",text:"modifyWebpackChain",depth:3},{id:"modifywebpackconfig-1",text:"modifyWebpackConfig",depth:3},{id:"modifyrspackconfig-1",text:"modifyRspackConfig",depth:3},{id:"onbeforecreatecompiler-1",text:"onBeforeCreateCompiler",depth:3},{id:"onaftercreatecompiler-1",text:"onAfterCreateCompiler",depth:3},{id:"\u6784\u5efa\u94a9\u5b50",text:"\u6784\u5efa\u94a9\u5b50",depth:2},{id:"onbeforebuild-1",text:"onBeforeBuild",depth:3},{id:"onafterbuild-1",text:"onAfterBuild",depth:3},{id:"\u5f00\u53d1\u670d\u52a1\u94a9\u5b50",text:"\u5f00\u53d1\u670d\u52a1\u94a9\u5b50",depth:2},{id:"onbeforestartdevserver-1",text:"onBeforeStartDevServer",depth:3},{id:"onafterstartdevserver-1",text:"onAfterStartDevServer",depth:3},{id:"ondevcompiledone-1",text:"onDevCompileDone",depth:3},{id:"\u5176\u4ed6\u94a9\u5b50",text:"\u5176\u4ed6\u94a9\u5b50",depth:2},{id:"onexit-1",text:"onExit",depth:3}],content:"PLUGIN HOOKS\n\n\u672c\u7ae0\u8282\u63cf\u8ff0\u4e86 Builder \u63d2\u4ef6\u63d0\u4f9b\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50\u3002\n\n\n\u6982\u89c8\n\n\u901a\u7528\u94a9\u5b50\n\n * modifyBuilderConfig\uff1a\u4fee\u6539\u4f20\u9012\u7ed9 Builder \u7684\u914d\u7f6e\u9879\u3002\n * modifyWebpackChain\uff1a\u4fee\u6539 webpack chain \u914d\u7f6e\u3002\n * modifyWebpackConfig\uff1a\u4fee\u6539\u6700\u7ec8\u7684 webpack \u914d\u7f6e\u5bf9\u8c61\u3002\n * modifyRspackConfig\uff1a\u4fee\u6539\u6700\u7ec8\u7684 rspack \u914d\u7f6e\u5bf9\u8c61\u3002\n * onBeforeCreateCompiler\uff1a\u5728\u521b\u5efa compiler \u5b9e\u4f8b\u524d\u8c03\u7528\u3002\n * onAfterCreateCompiler\uff1a\u5728\u521b\u5efa compiler \u5b9e\u4f8b\u540e\u3001\u6267\u884c\u6784\u5efa\u524d\u8c03\u7528\u3002\n\n\u6784\u5efa\u94a9\u5b50\uff1a\u4ec5\u5728\u6267\u884c build \u65b9\u6cd5\u6784\u5efa\u751f\u4ea7\u73af\u5883\u4ea7\u7269\u65f6\u8c03\u7528\u3002\n\n * onBeforeBuild\uff1a\u5728\u6267\u884c\u751f\u4ea7\u73af\u5883\u6784\u5efa\u524d\u8c03\u7528\u3002\n * onAfterBuild\uff1a\u5728\u6267\u884c\u751f\u4ea7\u73af\u5883\u6784\u5efa\u540e\u8c03\u7528\uff0c\u53ef\u4ee5\u83b7\u53d6\u5230\u6784\u5efa\u7ed3\u679c\u4fe1\u606f\u3002\n\n\u5f00\u53d1\u670d\u52a1\u94a9\u5b50\uff1a\u4ec5\u5728\u6267\u884c startDevServer \u65b9\u6cd5\u8fd0\u884c\u5f00\u53d1\u670d\u52a1\u5668\u65f6\u8c03\u7528\u3002\n\n * onBeforeStartDevServer\uff1a\u5728\u542f\u52a8\u5f00\u53d1\u670d\u52a1\u5668\u524d\u8c03\u7528\u3002\n * onAfterStartDevServer\uff1a\u5728\u542f\u52a8\u5f00\u53d1\u670d\u52a1\u5668\u540e\u8c03\u7528\u3002\n * onDevCompileDone\uff1a\u5728\u6bcf\u6b21\u5f00\u53d1\u73af\u5883\u6784\u5efa\u7ed3\u675f\u540e\u8c03\u7528\u3002\n\n\u5176\u4ed6\u94a9\u5b50\n\n * onExit\uff1a\u5728\u8fdb\u7a0b\u5373\u5c06\u9000\u51fa\u65f6\u8c03\u7528\u3002\n\n\n\u901a\u7528\u94a9\u5b50\n\n\nMODIFYBUILDERCONFIG\n\n\u4fee\u6539\u4f20\u9012\u7ed9 Builder \u7684\u914d\u7f6e\u9879\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u4f20\u5165\u7684 config \u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u6765\u66ff\u6362\u4f20\u5165\u7684\u5bf9\u8c61\u3002\n\n * Type\n\ntype ModifyWebpackChainUtils = {\n  mergeBuilderConfig: typeof mergeBuilderConfig;\n};\n\nfunction ModifyBuilderConfig(\n  callback: (\n    config: BuilderConfig,\n    utils: ModifyWebpackChainUtils,\n  ) => PromiseOrNot<BuilderConfig | void>,\n): void;\n\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.modifyBuilderConfig((config, { mergeBuilderConfig }) => {\n      config.html = config.html || {};\n      config.html.title = 'Hello World!';\n      return mergeBuilderConfig(config, {\n        source: { preEntry: 'foo.js' }\n      });\n    });\n  },\n});\n\n\n\nMODIFYWEBPACKCHAIN\n\n\u901a\u8fc7 webpack chain \u6765\u4fee\u6539 webpack \u914d\u7f6e\u3002\u8be5\u65b9\u6cd5\u4ec5\u5728\u4f7f\u7528 webpack provider \u65f6\u8c03\u7528\u3002\n\n * Type\n\ntype ModifyWebpackChainUtils = {\n  env: NodeEnv;\n  isProd: boolean;\n  target: BuilderTarget;\n  webpack: typeof import('webpack');\n  isServer: boolean;\n  isWebWorker: boolean;\n  CHAIN_ID: ChainIdentifier;\n  getCompiledPath: (name: string) => string;\n  HtmlWebpackPlugin: typeof import('html-webpack-plugin');\n};\n\nfunction ModifyWebpackChain(\n  callback: (\n    chain: WebpackChain,\n    utils: ModifyWebpackChainUtils,\n  ) => Promise<void> | void,\n): void;\n\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.modifyWebpackChain((chain, utils) => {\n      if (utils.env === 'development') {\n        chain.devtool('eval');\n      }\n    });\n  },\n});\n\n\n\nMODIFYWEBPACKCONFIG\n\n\u4fee\u6539\u6700\u7ec8\u7684 webpack \u914d\u7f6e\u5bf9\u8c61\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u4f20\u5165\u7684 config \u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u6765\u66ff\u6362\u4f20\u5165\u7684\u5bf9\u8c61\u3002\u8be5\u65b9\u6cd5\u4ec5\u5728\u4f7f\u7528 webpack\nprovider \u65f6\u8c03\u7528\u3002\n\n\u8be5\u65b9\u6cd5\u7684\u8c03\u7528\u65f6\u673a\u665a\u4e8e modifyWebpackChain \u94a9\u5b50\u3002\n\n * Type\n\ntype ModifyWebpackConfigUtils = {\n  env: NodeEnv;\n  isProd: boolean;\n  target: BuilderTarget;\n  webpack: typeof import('webpack');\n  isServer: boolean;\n  isWebWorker: boolean;\n  CHAIN_ID: ChainIdentifier;\n  getCompiledPath: (name: string) => string;\n  HtmlWebpackPlugin: typeof import('html-webpack-plugin');\n  addRules: (rules: RuleSetRule | RuleSetRule[]) => void;\n  prependPlugins: (\n    plugins: WebpackPluginInstance | WebpackPluginInstance[],\n  ) => void;\n  appendPlugins: (\n    plugins: WebpackPluginInstance | WebpackPluginInstance[],\n  ) => void;\n  removePlugin: (pluginName: string) => void;\n};\n\nfunction ModifyWebpackConfig(\n  callback: (\n    config: WebpackConfig,\n    utils: ModifyWebpackConfigUtils,\n  ) => Promise<WebpackConfig | void> | WebpackConfig | void,\n): void;\n\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.modifyWebpackConfig((config, utils) => {\n      if (utils.env === 'development') {\n        config.devtool = 'eval';\n      }\n    });\n  },\n});\n\n\n\nMODIFYRSPACKCONFIG\n\n\u4fee\u6539\u6700\u7ec8\u7684 rspack \u914d\u7f6e\u5bf9\u8c61\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u4f20\u5165\u7684 config \u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u6765\u66ff\u6362\u4f20\u5165\u7684\u5bf9\u8c61\u3002\u8be5\u65b9\u6cd5\u4ec5\u5728\u4f7f\u7528 rspack\nprovider \u65f6\u8c03\u7528\u3002\n\n * Type\n\ntype ModifyRspackConfigUtils = {\n  env: NodeEnv;\n  isProd: boolean;\n  target: BuilderTarget;\n  isServer: boolean;\n  isWebWorker: boolean;\n  getCompiledPath: (name: string) => string;\n};\n\nfunction ModifyRspackConfig(\n  callback: (\n    config: RspackConfig,\n    utils: ModifyRspackConfigUtils,\n  ) => Promise<RspackConfig | void> | RspackConfig | void,\n): void;\n\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.modifyRspackConfig((config, utils) => {\n      if (utils.env === 'development') {\n        config.devtool = 'eval';\n      }\n    });\n  },\n});\n\n\n\nONBEFORECREATECOMPILER\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onBeforeCreateCompiler(({ bundlerConfigs }) => {\n      console.log('the bundler config is ', bundlerConfigs);\n    });\n  },\n});\n\n\n\nONAFTERCREATECOMPILER\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onAfterCreateCompiler(({ compiler }) => {\n      console.log('the compiler is ', compiler);\n    });\n  },\n});\n\n\n\n\u6784\u5efa\u94a9\u5b50\n\n\nONBEFOREBUILD\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onBeforeBuild(({ bundlerConfigs }) => {\n      console.log('the bundler config is ', bundlerConfigs);\n    });\n  },\n});\n\n\n\nONAFTERBUILD\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onAfterBuild(({ stats }) => {\n      console.log(stats?.toJson());\n    });\n  },\n});\n\n\n\n\u5f00\u53d1\u670d\u52a1\u94a9\u5b50\n\n\nONBEFORESTARTDEVSERVER\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onBeforeStartDevServer(() => {\n      console.log('before start!');\n    });\n  },\n});\n\n\n\nONAFTERSTARTDEVSERVER\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onAfterStartDevServer(({ port }) => {\n      console.log('this port is: ', port);\n    });\n  },\n});\n\n\n\nONDEVCOMPILEDONE\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onDevCompileDone(({ isFirstCompile }) => {\n      if (isFirstCompile) {\n        console.log('first compile!');\n      } else {\n        console.log('re-compile!');\n      }\n    });\n  },\n});\n\n\n\n\u5176\u4ed6\u94a9\u5b50\n\n\nONEXIT\n\n * Example\n\nexport default () => ({\n  setup: api => {\n    api.onExit(() => {\n      console.log('exit!');\n    });\n  },\n});\n",frontmatter:{extractApiHeaders:[2]}},{id:173,title:"",routePath:"/builder/config/dev/assetPrefix",toc:[{id:"boolean-\u7c7b\u578b",text:"Boolean \u7c7b\u578b",depth:4},{id:"string-\u7c7b\u578b",text:"String \u7c7b\u578b",depth:4}],content:" * Type: boolean | string\n * Default: '/'\n\n\u8bbe\u7f6e\u5f00\u53d1\u73af\u5883\u4e0b\u7684\u9759\u6001\u8d44\u6e90 URL \u524d\u7f00\uff0c\u5bf9\u5e94 webpack \u7684 output.publicPath \u914d\u7f6e\u3002\n\nassetPrefix \u4f1a\u5f71\u54cd\u6784\u5efa\u4ea7\u7269\u4e2d\u7edd\u5927\u90e8\u5206\u9759\u6001\u8d44\u6e90\u7684 URL\uff0c\u5305\u62ec JavaScript \u6587\u4ef6\u3001CSS\n\u6587\u4ef6\u3001\u56fe\u7247\u3001\u89c6\u9891\u7b49\u3002\u5982\u679c\u6307\u5b9a\u4e86\u4e00\u4e2a\u9519\u8bef\u7684\u503c\uff0c\u5219\u5728\u52a0\u8f7d\u8fd9\u4e9b\u8d44\u6e90\u65f6\u53ef\u80fd\u4f1a\u51fa\u73b0 404 \u9519\u8bef\u3002\n\n\u8be5\u914d\u7f6e\u9879\u4ec5\u7528\u4e8e\u5f00\u53d1\u73af\u5883\u3002\u5728\u751f\u4ea7\u73af\u5883\u4e0b\uff0c\u8bf7\u4f7f\u7528 output.assetPrefix \u914d\u7f6e\u9879\u8fdb\u884c\u8bbe\u7f6e\u3002\n\nBOOLEAN \u7c7b\u578b\n\n\u5982\u679c\u8bbe\u7f6e assetPrefix \u4e3a true\uff0cBuilder \u4f1a\u81ea\u52a8\u8ba1\u7b97\u51fa //ip:port/ \u4f5c\u4e3a URL \u524d\u7f00\uff1a\n\nexport default {\n  dev: {\n    assetPrefix: true,\n  },\n};\n\n\n\u5bf9\u5e94 JS \u6587\u4ef6\u5728\u6d4f\u89c8\u5668\u4e2d\u52a0\u8f7d\u7684\u5730\u5740\u5982\u4e0b\uff1a\n\n<script defer src=\"//${ip}:8080/static/js/main.js\"><\/script>\n\n\n\u5982\u679c\u8bbe\u7f6e assetPrefix \u4e3a false \u6216\u4e0d\u8bbe\u7f6e\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528 / \u4f5c\u4e3a\u8bbf\u95ee\u524d\u7f00\u3002\n\nSTRING \u7c7b\u578b\n\n\u5f53 assetPrefix \u7684\u503c\u4e3a string \u7c7b\u578b\u65f6\uff0c\u5b57\u7b26\u4e32\u4f1a\u4f5c\u4e3a\u524d\u7f00\uff0c\u81ea\u52a8\u62fc\u63a5\u5230\u9759\u6001\u8d44\u6e90\u8bbf\u95ee URL \u4e0a\uff1a\n\nexport default {\n  dev: {\n    assetPrefix: 'http://example.com/assets/',\n  },\n};\n\n\n\u5bf9\u5e94 JS \u6587\u4ef6\u5728\u6d4f\u89c8\u5668\u4e2d\u52a0\u8f7d\u7684\u5730\u5740\u5982\u4e0b\uff1a\n\n<script defer src=\"http://example.com/assets/static/js/main.js\"><\/script>\n",frontmatter:{}},{id:174,title:"",routePath:"/builder/config/dev/hmr",toc:[],content:" * Type: boolean\n * Default: true\n\n\u662f\u5426\u5f00\u542f Hot Module Replacement \u70ed\u66f4\u65b0\u80fd\u529b\u3002\n\n\u5f53 hmr \u8bbe\u7f6e\u4e3a false \u65f6\uff0c\u5c06\u4e0d\u518d\u63d0\u4f9b\u70ed\u66f4\u65b0\u548c react-refresh \u529f\u80fd\u3002\n\nexport default {\n  dev: {\n    hmr: false,\n  },\n};\n",frontmatter:{}},{id:175,title:"",routePath:"/builder/config/dev/https",toc:[{id:"\u81ea\u52a8\u751f\u6210\u8bc1\u4e66",text:"\u81ea\u52a8\u751f\u6210\u8bc1\u4e66",depth:4},{id:"\u624b\u52a8\u8bbe\u7f6e\u8bc1\u4e66",text:"\u624b\u52a8\u8bbe\u7f6e\u8bc1\u4e66",depth:4}],content:" * Type: boolean | { key: string; cert: string }\n * Default: false\n\n\u914d\u7f6e\u8be5\u9009\u9879\u540e\uff0c\u53ef\u4ee5\u5f00\u542f Dev Server \u5bf9 HTTPS \u7684\u652f\u6301\uff0c\u540c\u65f6\u4f1a\u7981\u7528 HTTP \u670d\u52a1\u5668\u3002\n\n\u5f00\u542f\u524d\uff1a\n\n  > Local:    http://localhost:8080/\n  > Network:  http://192.168.0.1:8080/\n\n\n\u5f00\u542f\u540e\uff1a\n\n  > Local:    https://localhost:8080/\n  > Network:  https://192.168.0.1:8080/\n\n\n\u81ea\u52a8\u751f\u6210\u8bc1\u4e66\n\n\u4f60\u53ef\u4ee5\u76f4\u63a5\u5c06 https \u8bbe\u7f6e\u4e3a true\uff0cBuilder \u4f1a\u57fa\u4e8e devcert \u6765\u81ea\u52a8\u751f\u6210 Dev Server \u6240\u9700\u7684 HTTPS \u8bc1\u4e66\u3002\n\n\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u65f6\uff0c\u4f60\u9700\u8981\u5728\u5f53\u524d\u9879\u76ee\u4e2d\u624b\u52a8\u5b89\u88c5 devcert \u4f9d\u8d56\uff1a\n\n# npm\nnpm install devcert@1.2.2 -D\n\n# yarn\nyarn add devcert@1.2.2 -D\n\n# pnpm\npnpm add devcert@1.2.2 -D\n\n\n\u7136\u540e\u914d\u7f6e dev.https \u4e3a true \u5373\u53ef\uff1a\n\nexport default {\n  dev: {\n    https: true,\n  },\n};\n\n\n\u8be5\u65b9\u5f0f\u6709\u4e00\u5b9a\u5c40\u9650\u6027\uff0c\u7531\u4e8e devcert \u76ee\u524d\u4e0d\u652f\u6301 IP addresses\uff0c\u56e0\u6b64\u8bbf\u95ee Network \u57df\u540d\u65f6\uff0c\u4f1a\u9047\u5230\u300c\u60a8\u7684\u8fde\u63a5\u4e0d\u662f\u79c1\u5bc6\u8fde\u63a5\u300d\u7684\u95ee\u9898\u3002\n\n\u6b64\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6cd5\u4e3a\uff1a\u70b9\u51fb Chrome \u6d4f\u89c8\u5668\u95ee\u9898\u9875\u9762\u7684\u300c\u9ad8\u7ea7\u300d->\u300c\u7ee7\u7eed\u524d\u5f80 192.168.0.1\uff08\u4e0d\u5b89\u5168\uff09\u300d\u3002\n\nhttps \u4ee3\u7406\u81ea\u52a8\u5b89\u88c5\u8bc1\u4e66\u9700\u8981\u83b7\u53d6 root \u6743\u9650, \u8bf7\u6839\u636e\u63d0\u793a\u8f93\u5165\u5bc6\u7801\u5373\u53ef\u3002 \u5bc6\u7801\u4ec5\u5728\u4fe1\u4efb\u8bc1\u4e66\u65f6\u4f7f\u7528\uff0c\u4e0d\u4f1a\u6cc4\u6f0f\u6216\u8005\u7528\u4e8e\u5176\u4ed6\u73af\u8282\u3002\n\n\u624b\u52a8\u8bbe\u7f6e\u8bc1\u4e66\n\n\u4f60\u4e5f\u53ef\u4ee5\u5728 dev.https \u9009\u9879\u4e2d\u624b\u52a8\u4f20\u5165 HTTPS \u670d\u52a1\u5668\u6240\u9700\u8981\u7684\u8bc1\u4e66\u548c\u5bf9\u5e94\u7684\u79c1\u94a5\uff0c\u8fd9\u4e2a\u53c2\u6570\u5c06\u76f4\u63a5\u4f20\u9012\u7ed9 Node.js \u4e2d https \u6a21\u5757\u7684\ncreateServer\u3002\n\n\u5177\u4f53\u53ef\u4ee5\u53c2\u8003 https.createServer\u3002\n\n\n\nexport default {\n  dev: {\n    https: {\n      key: fs.readFileSync('certificates/private.pem'),\n      cert: fs.readFileSync('certificates/public.pem'),\n    },\n  },\n};\n",frontmatter:{}},{id:176,title:"",routePath:"/builder/config/dev/port",toc:[{id:"\u793a\u4f8b",text:"\u793a\u4f8b",depth:4}],content:" * Type: number\n * Default: 8080\n\n\u8bbe\u7f6e Dev Server \u76d1\u542c\u7684\u7aef\u53e3\u53f7\u3002\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cDev Server \u4f1a\u76d1\u542c 8080 \u7aef\u53e3\uff0c\u5e76\u5728\u7aef\u53e3\u88ab\u5360\u7528\u65f6\u81ea\u52a8\u9012\u589e\u7aef\u53e3\u53f7\u3002\n\n\u793a\u4f8b\n\n\u5c06\u7aef\u53e3\u8bbe\u7f6e\u4e3a 3000\uff1a\n\nexport default {\n  dev: {\n    port: 3000,\n  },\n};\n",frontmatter:{}},{id:177,title:"",routePath:"/builder/config/dev/progressBar",toc:[],content:" * Type:\n\ntype ProgressBar =\n  | boolean\n  | {\n      id?: string;\n    };\n\n\n * Default: true\n\n\u662f\u5426\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u5c55\u793a\u8fdb\u5ea6\u6761\u3002\n\nexport default {\n  dev: {\n    progressBar: false,\n  },\n};\n\n\n\u5982\u679c\u9700\u8981\u4fee\u6539\u8fdb\u5ea6\u6761\u5de6\u4fa7\u663e\u793a\u7684\u6587\u672c\u5185\u5bb9\uff0c\u53ef\u4ee5\u8bbe\u7f6e id \u9009\u9879\uff1a\n\nexport default {\n  dev: {\n    progressBar: {\n      id: 'Some Text',\n    },\n  },\n};\n",frontmatter:{}},{id:178,title:"",routePath:"/builder/config/dev/startUrl",toc:[],content:" * Type: boolean | string | string[] | undefined\n * Default: undefined\n\ndev.startUrl \u7528\u4e8e\u8bbe\u7f6e Dev Server \u542f\u52a8\u65f6\u81ea\u52a8\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u7684\u9875\u9762 URL\u3002\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cDev Server \u542f\u52a8\u65f6\u4e0d\u4f1a\u6253\u5f00\u4efb\u4f55\u9875\u9762\u3002\n\n\u4f60\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u5982\u4e0b\u7684\u503c\uff1a\n\nexport default {\n  dev: {\n    // \u6253\u5f00\u9879\u76ee\u7684\u9ed8\u8ba4\u9875\u9762\n    startUrl: true,\n    // \u6253\u5f00\u6307\u5b9a\u7684\u9875\u9762\n    startUrl: 'http://localhost:8080',\n    // \u6253\u5f00\u591a\u4e2a\u9875\u9762\n    startUrl: ['http://localhost:8080', 'http://localhost:8080/about'],\n  },\n};\n",frontmatter:{}},{id:179,title:"",routePath:"/builder/config/experiments/lazyCompilation",toc:[{id:"\u5ef6\u8fdf\u7f16\u8bd1\u5f02\u6b65\u6a21\u5757",text:"\u5ef6\u8fdf\u7f16\u8bd1\u5f02\u6b65\u6a21\u5757",depth:3},{id:"\u5ef6\u8fdf\u7f16\u8bd1\u5165\u53e3\u6a21\u5757",text:"\u5ef6\u8fdf\u7f16\u8bd1\u5165\u53e3\u6a21\u5757",depth:3},{id:"\u5c40\u9650\u6027",text:"\u5c40\u9650\u6027",depth:3},{id:"\u7981\u7528\u62c6\u5305\u89c4\u5219",text:"\u7981\u7528\u62c6\u5305\u89c4\u5219",depth:4},{id:"\u4f7f\u7528\u4ee3\u7406",text:"\u4f7f\u7528\u4ee3\u7406",depth:4}],content:" * Type:\n\ntype LazyCompilationOptions =\n  | boolean\n  | {\n      // \u662f\u5426\u4e3a\u5f02\u6b65\u6a21\u5757\u5f00\u542f\u5ef6\u8fdf\u7f16\u8bd1\n      imports?: boolean;\n      // \u662f\u5426\u4e3a\u5165\u53e3\u6a21\u5757\u5f00\u542f\u5ef6\u8fdf\u7f16\u8bd1\n      entries?: boolean;\n    };\n\n\n * Default: false\n\n\u7528\u4e8e\u5f00\u542f\u5ef6\u8fdf\u7f16\u8bd1\uff08\u5373\u6309\u9700\u7f16\u8bd1\uff09\u7684\u80fd\u529b\u3002\u5f53\u5f00\u542f\u6b64\u914d\u7f6e\u9879\u65f6\uff0cBuilder \u4f1a\u8fdb\u884c\u5ef6\u8fdf\u7f16\u8bd1\uff0c\u63d0\u5347\u9879\u76ee\u7684\u7f16\u8bd1\u542f\u52a8\u901f\u5ea6\u3002\n\n\u5ef6\u8fdf\u7f16\u8bd1\u53ea\u5728\u5f00\u53d1\u73af\u5883\u4e0b\u751f\u6548\u3002\n\n\n\u5ef6\u8fdf\u7f16\u8bd1\u5f02\u6b65\u6a21\u5757\n\n\u5ef6\u8fdf\u7f16\u8bd1 Dynamic Import \u5f15\u5165\u7684\u5f02\u6b65\u6a21\u5757\uff1a\n\nexport default {\n  experiments: {\n    lazyCompilation: {\n      imports: true,\n      entries: false,\n    },\n  },\n};\n\n\n\u5f00\u542f imports \u9009\u9879\u540e\uff0c\u6240\u6709\u7684\u5f02\u6b65\u6a21\u5757\u53ea\u6709\u5728\u88ab\u8bf7\u6c42\u65f6\u624d\u89e6\u53d1\u7f16\u8bd1\u3002\u5982\u679c\u4f60\u7684\u9879\u76ee\u662f\u4e00\u4e2a\u5355\u9875\u5e94\u7528\uff08SPA\uff09\uff0c\u5e76\u901a\u8fc7 Dynamic Import\n\u8fdb\u884c\u4e86\u8def\u7531\u62c6\u5206\uff0c\u90a3\u4e48\u4f1a\u6709\u660e\u663e\u7684\u7f16\u8bd1\u63d0\u901f\u6548\u679c\u3002\n\n\n\u5ef6\u8fdf\u7f16\u8bd1\u5165\u53e3\u6a21\u5757\n\n\u9664\u4e86\u5ef6\u8fdf\u7f16\u8bd1\u5f02\u6b65\u6a21\u5757\uff0c\u4f60\u4e5f\u53ef\u4ee5\u9009\u62e9\u540c\u65f6\u5ef6\u8fdf\u7f16\u8bd1\u5165\u53e3\u6a21\u5757\u548c\u5f02\u6b65\u6a21\u5757\u3002\n\nexport default {\n  experiments: {\n    lazyCompilation: {\n      imports: true,\n      entries: true,\n    },\n  },\n};\n\n\n\u4ee5\u4e0a\u914d\u7f6e\u4e5f\u53ef\u4ee5\u7b80\u5316\u4e3a\uff1a\n\nexport default {\n  experiments: {\n    lazyCompilation: true,\n  },\n};\n\n\n\u5f00\u542f entries \u9009\u9879\u540e\uff0c\u5f53\u542f\u52a8\u7f16\u8bd1\u65f6\uff0c\u4e0d\u4f1a\u7f16\u8bd1\u6240\u6709\u7684\u9875\u9762\uff0c\u800c\u662f\u4ec5\u5728\u8def\u7531\u8df3\u8f6c\u5230\u5bf9\u5e94\u7684\u9875\u9762\u65f6\uff0c\u624d\u5bf9\u8be5\u9875\u9762\u8fdb\u884c\u7f16\u8bd1\u3002\n\n\u4f7f\u7528\u5ef6\u8fdf\u7f16\u8bd1\u5165\u53e3\u6a21\u5757\u65f6\uff0c\u6709\u4ee5\u4e0b\u6ce8\u610f\u4e8b\u9879\uff1a\n\n * \u53ea\u9002\u7528\u4e8e\u591a\u9875\u5e94\u7528\uff08MPA\uff09\uff0c\u5bf9\u5355\u9875\u5e94\u7528\uff08SPA\uff09\u6ca1\u6709\u4f18\u5316\u6548\u679c\u3002\n * \u5f53\u4f60\u8bbf\u95ee\u4e00\u4e2a\u9875\u9762\u65f6\uff0c\u7531\u4e8e\u8981\u7b49\u5f85\u9875\u9762\u7f16\u8bd1\u5b8c\u6210\uff0c\u4f1a\u6709\u4e00\u6bb5\u65f6\u95f4\u7684\u767d\u5c4f\u3002\n\n\n\u5c40\u9650\u6027\n\n\u7981\u7528\u62c6\u5305\u89c4\u5219\n\n\u5f53\u4f60\u5f00\u542f\u5ef6\u8fdf\u7f16\u8bd1\u65f6\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u7f16\u8bd1\u7ed3\u679c\u6b63\u5e38\uff0cBuilder\n\u4f1a\u5728\u5f00\u53d1\u73af\u5883\u4e0b\u7981\u7528\u62c6\u5305\u89c4\u5219\u3002\u8fd9\u4e0d\u4f1a\u5f71\u54cd\u751f\u4ea7\u73af\u5883\u7684\u6253\u5305\u4ea7\u7269\uff0c\u4f46\u4f1a\u5bfc\u81f4\u5f00\u53d1\u73af\u5883\u548c\u751f\u4ea7\u73af\u5883\u7684\u6253\u5305\u4ea7\u7269\u6709\u4e00\u5b9a\u5dee\u5f02\u3002\n\n\u4f7f\u7528\u4ee3\u7406\n\nLazy Compilation \u4f9d\u8d56 webpack \u5728\u672c\u5730\u542f\u52a8\u7684\u5f00\u53d1\u670d\u52a1\u5668\uff0c\u5f53\u4f60\u5c06\u67d0\u4e2a\u57df\u540d\u4ee3\u7406\u5230 localhost \u8fdb\u884c\u5f00\u53d1\u65f6\uff0cLazy\nCompilation \u5c06\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u9700\u8981\u4f7f\u7528\u4ee3\u7406\u65f6\uff0c\u8bf7\u7981\u7528 Lazy Compilation\u3002",frontmatter:{}},{id:180,title:"",routePath:"/builder/config/html/appIcon",toc:[{id:"\u793a\u4f8b-1",text:"\u793a\u4f8b",depth:4}],content:' * Type: string\n * Default: undefined\n\n\u8bbe\u7f6e app icon \u7684\u6587\u4ef6\u8def\u5f84\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u76f8\u5bf9\u4e8e\u9879\u76ee\u6839\u76ee\u5f55\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\u3002\u6682\u4e0d\u652f\u6301\u8bbe\u7f6e\u4e3a CDN URL\u3002\n\n\u914d\u7f6e\u8be5\u9009\u9879\u540e\uff0c\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u4f1a\u81ea\u52a8\u5c06\u56fe\u6807\u62f7\u8d1d\u81f3 dist \u76ee\u5f55\u4e0b\uff0c\u5e76\u5728 HTML \u4e2d\u6dfb\u52a0\u76f8\u5e94\u7684 link \u6807\u7b7e\u3002\n\n\u793a\u4f8b\n\n\u8bbe\u7f6e\u4e3a\u76f8\u5bf9\u8def\u5f84\uff1a\n\nexport default {\n  html: {\n    appIcon: \'./src/assets/icon.png\',\n  },\n};\n\n\n\u8bbe\u7f6e\u4e3a\u7edd\u5bf9\u8def\u5f84\uff1a\n\n\n\nexport default {\n  html: {\n    appIcon: path.resolve(__dirname, \'./src/assets/icon.png\'),\n  },\n};\n\n\n\u91cd\u65b0\u7f16\u8bd1\u540e\uff0cHTML \u4e2d\u81ea\u52a8\u751f\u6210\u4e86\u4ee5\u4e0b\u6807\u7b7e\uff1a\n\n<link rel="apple-touch-icon" sizes="180*180" href="/static/image/icon.png" />\n',frontmatter:{}},{id:181,title:"",routePath:"/builder/config/html/crossorigin",toc:[{id:"\u793a\u4f8b-2",text:"\u793a\u4f8b",depth:4}],content:" * Type: boolean | 'anonymous' | 'use-credentials'\n * Default: false\n\n\u7528\u4e8e\u8bbe\u7f6e <script> \u6807\u7b7e\u7684 crossorigin \u5c5e\u6027\u3002\n\n\u4f20\u5165 true \u65f6\uff0c\u4f1a\u81ea\u52a8\u8bbe\u7f6e\u4e3a crossorigin=\"anonymous\"\u3002\n\n\u793a\u4f8b\n\nexport default {\n  html: {\n    crossorigin: 'anonymous',\n  },\n};\n\n\n\u7f16\u8bd1\u540e\uff0cHTML \u4e2d\u7684 <script> \u6807\u7b7e\u53d8\u4e3a\uff1a\n\n<script defer src=\"/static/js/main.js\" crossorigin=\"anonymous\"><\/script>\n",frontmatter:{}},{id:182,title:"",routePath:"/builder/config/html/disableHtmlFolder",toc:[{id:"\u793a\u4f8b-3",text:"\u793a\u4f8b",depth:4}],content:" * Type: boolean\n * Default: false\n\n\u79fb\u9664 HTML \u4ea7\u7269\u5bf9\u5e94\u7684\u6587\u4ef6\u5939\u3002\u5f00\u542f\u8be5\u9009\u9879\u540e\uff0c\u751f\u6210\u7684 HTML \u6587\u4ef6\u76ee\u5f55\u4f1a\u4ece [name]/index.html \u53d8\u4e3a [name].html\u3002\n\n\u793a\u4f8b\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cHTML \u4ea7\u7269\u5728 dist \u76ee\u5f55\u4e0b\u7684\u7ed3\u6784\u4e3a\uff1a\n\n/dist\n\u2514\u2500\u2500 html\n \xa0  \u2514\u2500\u2500 main\n \xa0\xa0     \u2514\u2500\u2500 index.html\n\n\n\u5f00\u542f html.disableHtmlFolder \u914d\u7f6e:\n\nexport default {\n  html: {\n    disableHtmlFolder: true,\n  },\n};\n\n\n\u91cd\u65b0\u7f16\u8bd1\u540e\uff0cHTML \u4ea7\u7269\u5728 dist \u4e2d\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a\n\n/dist\n\u2514\u2500\u2500 html\n \xa0\xa0 \u2514\u2500\u2500 main.html\n\n\n> \u5982\u679c\u9700\u8981\u8bbe\u7f6e HTML \u6587\u4ef6\u5728 dist \u76ee\u5f55\u4e2d\u7684\u8def\u5f84\uff0c\u8bf7\u4f7f\u7528 output.distPath.html \u914d\u7f6e\u3002",frontmatter:{}},{id:183,title:"",routePath:"/builder/config/html/favicon",toc:[{id:"\u793a\u4f8b-4",text:"\u793a\u4f8b",depth:4}],content:" * Type: string\n * Default: undefined\n\n\u8bbe\u7f6e\u9875\u9762\u7684 favicon \u56fe\u6807\u8def\u5f84\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u76f8\u5bf9\u4e8e\u9879\u76ee\u6839\u76ee\u5f55\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\u3002\u6682\u4e0d\u652f\u6301\u8bbe\u7f6e\u4e3a CDN URL\u3002\n\n\u914d\u7f6e\u8be5\u9009\u9879\u540e\uff0c\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u4f1a\u81ea\u52a8\u5c06\u56fe\u6807\u62f7\u8d1d\u81f3 dist \u76ee\u5f55\u4e0b\uff0c\u5e76\u5728 HTML \u4e2d\u6dfb\u52a0\u76f8\u5e94\u7684 link \u6807\u7b7e\u3002\n\n\u793a\u4f8b\n\n\u8bbe\u7f6e\u4e3a\u76f8\u5bf9\u8def\u5f84\uff1a\n\nexport default {\n  html: {\n    favicon: './src/assets/icon.png',\n  },\n};\n\n\n\u8bbe\u7f6e\u4e3a\u7edd\u5bf9\u8def\u5f84\uff1a\n\n\n\nexport default {\n  html: {\n    favicon: path.resolve(__dirname, './src/assets/icon.png'),\n  },\n};\n\n\n\u91cd\u65b0\u7f16\u8bd1\u540e\uff0cHTML \u4e2d\u81ea\u52a8\u751f\u6210\u4e86\u4ee5\u4e0b\u6807\u7b7e\uff1a\n\n<link rel=\"icon\" href=\"/favicon.ico\" />\n",frontmatter:{}},{id:184,title:"",routePath:"/builder/config/html/faviconByEntries",toc:[{id:"\u793a\u4f8b-5",text:"\u793a\u4f8b",depth:4}],content:" * Type: Record<string, string>\n * Default: undefined\n\n\u7528\u4e8e\u5728\u591a\u9875\u9762\u7684\u573a\u666f\u4e0b\uff0c\u4e3a\u4e0d\u540c\u7684\u9875\u9762\u8bbe\u7f6e\u4e0d\u540c\u7684 favicon\u3002\n\n\u6574\u4f53\u7528\u6cd5\u4e0e favicon \u4e00\u81f4\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528\u300c\u5165\u53e3\u540d\u79f0\u300d\u4f5c\u4e3a key \uff0c\u5bf9\u5404\u4e2a\u9875\u9762\u8fdb\u884c\u5355\u72ec\u8bbe\u7f6e\u3002\n\nfaviconByEntries \u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e favicon\uff0c\u56e0\u6b64\u4f1a\u8986\u76d6 favicon \u4e2d\u8bbe\u7f6e\u7684\u503c\u3002\n\n\u793a\u4f8b\n\nexport default {\n  html: {\n    favicon: './src/assets/default.png',\n    faviconByEntries: {\n      foo: './src/assets/foo.png',\n    },\n  },\n};\n\n\n\u91cd\u65b0\u7f16\u8bd1\u540e\uff0c\u53ef\u4ee5\u770b\u5230:\n\n * \u9875\u9762 foo \u7684 favicon \u4e3a ./src/assets/foo.png\u3002\n * \u5176\u4ed6\u9875\u9762\u7684 favicon \u4e3a ./src/assets/default.png\u3002",frontmatter:{}},{id:185,title:"",routePath:"/builder/config/html/inject",toc:[{id:"\u9ed8\u8ba4\u63d2\u5165\u4f4d\u7f6e",text:"\u9ed8\u8ba4\u63d2\u5165\u4f4d\u7f6e",depth:4},{id:"\u63d2\u5165\u81f3-body-\u6807\u7b7e",text:"\u63d2\u5165\u81f3 body \u6807\u7b7e",depth:4}],content:' * Type: \'head\' | \'body\'| \'true\' | false\n * Default: \'head\'\n\n\u4fee\u6539\u6784\u5efa\u4ea7\u7269\u4e2d <script> \u6807\u7b7e\u5728 HTML \u4e2d\u7684\u63d2\u5165\u4f4d\u7f6e\u3002\n\n\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u4ee5\u4e0b\u503c\uff1a\n\n * \'head\': script \u6807\u7b7e\u4f1a\u63d2\u5165\u5728 HTML \u7684 head \u6807\u7b7e\u5185\u3002\n * \'body\': script \u6807\u7b7e\u4f1a\u63d2\u5165\u5728 HTML \u7684 body \u6807\u7b7e\u5c3e\u90e8\u3002\n * true: \u6700\u7ec8\u8868\u73b0\u53d6\u51b3\u4e8e html-webpack-plugin \u7684 scriptLoading \u914d\u7f6e\u9879\u3002\n * false: script \u6807\u7b7e\u4e0d\u63d2\u5165 HTML \u4e2d\u3002\n\n\u9ed8\u8ba4\u63d2\u5165\u4f4d\u7f6e\n\nscript \u6807\u7b7e\u9ed8\u8ba4\u5728 head \u6807\u7b7e\u5185\uff1a\n\n<html>\n  <head>\n    <title></title>\n    <script defer src="/static/js/runtime-main.js"><\/script>\n    <script defer src="/static/js/main.js"><\/script>\n    <link href="/static/css/main.css" rel="stylesheet" />\n  </head>\n  <body>\n    <div id="root"></div>\n  </body>\n</html>\n\n\n\u63d2\u5165\u81f3 BODY \u6807\u7b7e\n\n\u6dfb\u52a0\u5982\u4e0b\u914d\u7f6e\uff0c\u53ef\u4ee5\u5c06 script \u63d2\u5165\u81f3 body \u6807\u7b7e\uff1a\n\nexport default {\n  html: {\n    inject: \'body\',\n  },\n};\n\n\n\u53ef\u4ee5\u770b\u5230 script \u6807\u7b7e\u751f\u6210\u5728 body \u6807\u7b7e\u5c3e\u90e8\uff1a\n\n<html>\n  <head>\n    <title></title>\n    <link href="/static/css/main.css" rel="stylesheet" />\n  </head>\n  <body>\n    <div id="root"></div>\n    <script defer src="/static/js/runtime-main.js"><\/script>\n    <script defer src="/static/js/main.js"><\/script>\n  </body>\n</html>\n',frontmatter:{}},{id:186,title:"",routePath:"/builder/config/html/injectByEntries",toc:[{id:"\u793a\u4f8b-6",text:"\u793a\u4f8b",depth:4}],content:" * Type: Record<string, boolean | string>\n * Default: undefined\n\n\u7528\u4e8e\u5728\u591a\u9875\u9762\u7684\u573a\u666f\u4e0b\uff0c\u4e3a\u4e0d\u540c\u7684\u9875\u9762\u8bbe\u7f6e\u4e0d\u540c\u7684 script \u6807\u7b7e\u63d2\u5165\u4f4d\u7f6e\u3002\n\n\u6574\u4f53\u7528\u6cd5\u4e0e inject \u4e00\u81f4\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528\u300c\u5165\u53e3\u540d\u79f0\u300d\u4f5c\u4e3a key \uff0c\u5bf9\u5404\u4e2a\u9875\u9762\u8fdb\u884c\u5355\u72ec\u8bbe\u7f6e\u3002\n\ninjectByEntries \u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e inject\uff0c\u56e0\u6b64\u4f1a\u8986\u76d6 inject \u4e2d\u8bbe\u7f6e\u7684\u503c\u3002\n\n\u793a\u4f8b\n\nexport default {\n  html: {\n    inject: 'head',\n    injectByEntries: {\n      foo: 'body',\n    },\n  },\n};\n\n\n\u91cd\u65b0\u7f16\u8bd1\u540e\uff0c\u53ef\u4ee5\u770b\u5230:\n\n * \u9875\u9762 foo \u7684 script \u6807\u7b7e\u4f1a\u63d2\u5165\u5230 body \u6807\u7b7e\u5185\u3002\n * \u5176\u4ed6\u9875\u9762\u7684 script \u6807\u7b7e\u4f1a\u63d2\u5165\u5230 head \u6807\u7b7e\u5185\u3002",frontmatter:{}},{id:187,title:"",routePath:"/builder/config/html/meta",toc:[{id:"\u5b57\u7b26\u4e32\u7528\u6cd5",text:"\u5b57\u7b26\u4e32\u7528\u6cd5",depth:4},{id:"\u5bf9\u8c61\u7528\u6cd5",text:"\u5bf9\u8c61\u7528\u6cd5",depth:4},{id:"\u79fb\u9664\u9ed8\u8ba4\u503c",text:"\u79fb\u9664\u9ed8\u8ba4\u503c",depth:3}],content:" * Type: Record<string, false | string | Record<string, string | boolean>>\n * Default: undefined\n\n\u914d\u7f6e HTML \u9875\u9762\u7684 <meta> \u6807\u7b7e\u3002\n\n\u5b57\u7b26\u4e32\u7528\u6cd5\n\n\u5f53 meta \u5bf9\u8c61\u7684 value \u4e3a\u5b57\u7b26\u4e32\u65f6\uff0c\u4f1a\u81ea\u52a8\u5c06\u5bf9\u8c61\u7684 key \u6620\u5c04\u4e3a name\uff0cvalue \u6620\u5c04\u4e3a content\u3002\n\n\u6bd4\u5982\u8bbe\u7f6e description\uff1a\n\nexport default {\n  html: {\n    meta: {\n      description: 'a description of the page',\n    },\n  },\n};\n\n\n\u6700\u7ec8\u5728 HTML \u4e2d\u751f\u6210\u7684 meta \u6807\u7b7e\u4e3a\uff1a\n\n<meta name=\"description\" content=\"a description of the page\" />\n\n\n\u5bf9\u8c61\u7528\u6cd5\n\n\u5f53 meta \u5bf9\u8c61\u7684 value \u4e3a\u5bf9\u8c61\u65f6\uff0c\u4f1a\u5c06\u8be5\u5bf9\u8c61\u7684 key: value \u6620\u5c04\u4e3a meta \u6807\u7b7e\u7684\u5c5e\u6027\u3002\n\n\u8fd9\u79cd\u60c5\u51b5\u4e0b\u9ed8\u8ba4\u4e0d\u4f1a\u8bbe\u7f6e name \u548c content \u5c5e\u6027\u3002\n\n\u6bd4\u5982\u8bbe\u7f6e http-equiv\uff1a\n\nexport default {\n  html: {\n    meta: {\n      'http-equiv': {\n        'http-equiv': 'x-ua-compatible',\n        content: 'ie=edge',\n      },\n    },\n  },\n};\n\n\n\u6700\u7ec8\u5728 HTML \u4e2d\u751f\u6210\u7684 meta \u6807\u7b7e\u4e3a\uff1a\n\n<meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\" />\n\n\n\n\u79fb\u9664\u9ed8\u8ba4\u503c\n\n\u5c06 meta \u5bf9\u8c61\u7684 value \u8bbe\u7f6e\u4e3a false\uff0c\u5219\u8868\u793a\u4e0d\u751f\u6210\u5bf9\u5e94\u7684 meta \u6807\u7b7e\u3002\n\n\u6bd4\u5982\u79fb\u9664\u6846\u67b6\u9884\u8bbe\u7684 imagemode\uff1a\n\nexport default {\n  html: {\n    meta: {\n      imagemode: false,\n    },\n  },\n};\n",frontmatter:{}},{id:188,title:"",routePath:"/builder/config/html/metaByEntries",toc:[{id:"\u793a\u4f8b-8",text:"\u793a\u4f8b",depth:4}],content:' * Type: Record<string, Meta>\n * Default: undefined\n\n\u7528\u4e8e\u5728\u591a\u9875\u9762\u7684\u573a\u666f\u4e0b\uff0c\u4e3a\u4e0d\u540c\u7684\u9875\u9762\u8bbe\u7f6e\u4e0d\u540c\u7684 meta \u6807\u7b7e\u3002\n\n\u6574\u4f53\u7528\u6cd5\u4e0e meta \u4e00\u81f4\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528\u300c\u5165\u53e3\u540d\u79f0\u300d\u4f5c\u4e3a key \uff0c\u5bf9\u5404\u4e2a\u9875\u9762\u8fdb\u884c\u5355\u72ec\u8bbe\u7f6e\u3002\n\nmetaByEntries \u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e meta\uff0c\u56e0\u6b64\u4f1a\u8986\u76d6 meta \u4e2d\u8bbe\u7f6e\u7684\u503c\u3002\n\n\u793a\u4f8b\n\nexport default {\n  html: {\n    meta: {\n      description: \'ByteDance\',\n    },\n    metaByEntries: {\n      foo: {\n        description: \'TikTok\',\n      },\n    },\n  },\n};\n\n\n\u7f16\u8bd1\u540e\uff0c\u53ef\u4ee5\u770b\u5230\u9875\u9762 foo \u7684 meta \u4e3a\uff1a\n\n<meta name="description" content="TikTok" />\n\n\n\u5176\u4ed6\u9875\u9762\u7684 meta \u4e3a\uff1a\n\n<meta name="description" content="ByteDance" />\n',frontmatter:{}},{id:189,title:"",routePath:"/builder/config/html/mountId",toc:[{id:"\u793a\u4f8b-7",text:"\u793a\u4f8b",depth:4}],content:' * Type: string\n * Default: \'root\'\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cHTML \u6a21\u677f\u4e2d\u5305\u542b\u4e86 root \u8282\u70b9\u7528\u4e8e\u7ec4\u4ef6\u6302\u8f7d\uff0c\u901a\u8fc7 mountId \u53ef\u4ee5\u4fee\u6539\u8be5\u8282\u70b9\u7684 id\u3002\n\n<body>\n  <div id="root"></div>\n</body>\n\n\n\u793a\u4f8b\n\n\u4fee\u6539 DOM \u6302\u8f7d\u8282\u70b9 id \u4e3a app\uff1a\n\nexport default {\n  html: {\n    mountId: \'app\',\n  },\n};\n\n\n\u7f16\u8bd1\u540e\uff1a\n\n<body>\n  <div id="app"></div>\n</body>\n\n\n\u5982\u679c\u81ea\u5b9a\u4e49\u4e86 HTML \u6a21\u677f\uff0c\u8bf7\u786e\u4fdd\u6a21\u677f\u4e2d\u5305\u542b <div id="<%= mountId %>"></div>\uff0c\u5426\u5219\u8be5\u914d\u7f6e\u9879\u65e0\u6cd5\u751f\u6548\u3002',frontmatter:{}},{id:190,title:"",routePath:"/builder/config/html/tags",toc:[{id:"\u5bf9\u8c61\u5f62\u5f0f",text:"\u5bf9\u8c61\u5f62\u5f0f",depth:4},{id:"\u51fd\u6570\u5f62\u5f0f",text:"\u51fd\u6570\u5f62\u5f0f",depth:4}],content:" * Type: ArrayOrNot<HtmlInjectTag | HtmlInjectTagHandler>\n * Default: undefined\n\n\u6dfb\u52a0\u548c\u4fee\u6539\u6700\u7ec8\u6ce8\u5165\u5230 HTML \u9875\u9762\u7684\u6807\u7b7e\u3002\n\n\u5bf9\u8c61\u5f62\u5f0f\n\nexport interface HtmlInjectTag {\n  tag: string;\n  attrs?: Record<string, string | boolean | null | undefined>;\n  children?: string;\n  /** @default false */\n  hash?: boolean | string | ((url: string, hash: string) => string);\n  /** @default true */\n  publicPath?: boolean | string | ((url: string, publicPath: string) => string);\n  /** @default false */\n  append?: boolean;\n  /**\n   * \u4ec5\u5bf9\u4e8e\u5141\u8bb8\u5305\u542b\u5728 head \u4e2d\u7684\u5143\u7d20\u4f1a\u9ed8\u8ba4\u542f\u7528\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head#see_also}\n   */\n  head?: boolean;\n}\n\n\n\u5bf9\u8c61\u5f62\u5f0f\u7684\u914d\u7f6e\u9879\u53ef\u4ee5\u7528\u4e8e\u63cf\u8ff0\u9700\u8981\u6ce8\u5165\u7684\u6807\u7b7e\uff0c\u5e76\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570\u63a7\u5236\u6ce8\u5165\u7684\u4f4d\u7f6e\uff1a\n\nexport default {\n  output: {\n    assetPrefix: '//example.com/'\n  },\n  html: {\n    tags: [\n      {\n        tag: 'script',\n        attrs: { src: 'a.js' },\n        head: true,\n        append: true,\n        publicPath: true,\n        hash: true,\n      },\n    ],\n  },\n};\n\n\n\u8fd9\u6837\u7684\u914d\u7f6e\u5c06\u4f1a\u5728 HTML \u7684 head \u6700\u540e\u6dfb\u52a0\u4e00\u4e2a script \u6807\u7b7e\uff1a\n\n<html>\n  <head>\n    \x3c!-- some other headTags... --\x3e\n    <script src=\"//example.com/a.js?8327ec63\"><\/script>\n  </head>\n  <body>\n    \x3c!-- some other bodyTags... --\x3e\n  </body>\n</html>\n\n\n\u6807\u7b7e\u6700\u7ec8\u7684\u63d2\u5165\u4f4d\u7f6e\u7531 head \u548c append \u9009\u9879\u51b3\u5b9a\uff0c\u4e24\u4e2a\u914d\u7f6e\u76f8\u540c\u7684\u5143\u7d20\u5c06\u88ab\u63d2\u5165\u5230\u76f8\u540c\u533a\u57df\uff0c\u5e76\u4e14\u7ef4\u6301\u5f7c\u6b64\u4e4b\u95f4\u7684\u76f8\u5bf9\u4f4d\u7f6e\u3002\n\n\u6807\u7b7e\u4e2d\u8868\u793a\u5916\u90e8\u8d44\u6e90\u6587\u4ef6\u8def\u5f84\u7684\u5b57\u6bb5\u4f1a\u53d7\u5230 publicPath \u548c hash \u9009\u9879\u7684\u5f71\u54cd\uff0c \u8fd9\u4e9b\u5b57\u6bb5\u5305\u62ec script \u6807\u7b7e\u7684 src \u548c link \u6807\u7b7e\u7684\nhref\u3002\n\n\u542f\u7528 publicPath \u4f1a\u8ba9\u6807\u7b7e\u4e2d\u8868\u793a\u8def\u5f84\u7684\u5c5e\u6027\u88ab\u62fc\u63a5\u4e0a output.assetPrefix \u5b57\u6bb5\u3002 \u800c hash\n\u5b57\u6bb5\u4f1a\u8ba9\u6587\u4ef6\u540d\u540e\u591a\u51fa\u4e00\u4e2a\u54c8\u5e0c\u67e5\u8be2\u7528\u4e8e\u63a7\u5236\u6d4f\u89c8\u5668\u7f13\u5b58\uff0c\u54c8\u5e0c\u5b57\u7b26\u4e32\u4e0e HTML \u6587\u4ef6\u4ea7\u7269\u7684\u54c8\u5e0c\u503c\u76f8\u540c\u3002\n\n\u7528\u6237\u4e5f\u53ef\u4ee5\u5411\u8fd9\u4e24\u4e2a\u914d\u7f6e\u4f20\u5165\u51fd\u6570\uff0c\u4ee5\u81ea\u884c\u63a7\u5236\u8def\u5f84\u62fc\u63a5\u7684\u903b\u8f91\u3002\n\n\u51fd\u6570\u5f62\u5f0f\n\nexport type HtmlInjectTagUtils = {\n  outputName: string;\n  publicPath: string;\n  hash: string;\n};\n\nexport type HtmlInjectTagHandler = (\n  tags: HtmlInjectTag[],\n  utils: HtmlInjectTagUtils,\n) => HtmlInjectTag[] | void;\n\n\nhtml.tags \u4e5f\u652f\u6301\u4f20\u5165\u56de\u8c03\u51fd\u6570\uff0c\u901a\u8fc7\u5728\u56de\u8c03\u4e2d\u7f16\u5199\u903b\u8f91\u53ef\u4ee5\u4efb\u610f\u4fee\u6539\u6807\u7b7e\u5217\u8868\uff0c\u5e38\u7528\u4e8e\u4fee\u6539\u6807\u7b7e\u5217\u8868\u6216\u662f\u5728\u63d2\u5165\u6807\u7b7e\u7684\u540c\u65f6\u786e\u4fdd\u5176\u76f8\u5bf9\u4f4d\u7f6e\u3002\n\n\u56de\u8c03\u51fd\u6570\u63a5\u53d7 tags \u5217\u8868\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u9700\u8981\u4fee\u6539\u6216\u76f4\u63a5\u8fd4\u56de\u65b0\u7684 tags \u6570\u7ec4\uff1a\n\nexport default {\n  html: {\n    tags: [\n      tags => { tags.splice(0, 1); },\n      /* ^? \n       *   { tag: 'script', attrs: { src: 'b.js' } },\n       *   ... some other headTags\n       *   { tag: 'script', attrs: { src: 'c.js' } },\n       *   ... some other bodyTags\n       *   { tag: 'script', attrs: { src: 'a.js' }, head: false },\n       */\n      { tag: 'script', attrs: { src: 'a.js' }, head: false },\n      { tag: 'script', attrs: { src: 'b.js' }, append: false },\n      { tag: 'script', attrs: { src: 'c.js' } },\n      tags => [...tags, { tag: 'script', attrs: { src: 'd.js' } }],\n      /* ^? \n       *   ... some other headTags\n       *   { tag: 'script', attrs: { src: 'c.js' } },\n       *   ... some other bodyTags\n       *   { tag: 'script', attrs: { src: 'a.js' }, head: false },\n       */\n    ],\n  },\n};\n\n\n\u51fd\u6570\u5c06\u5728 HTML \u5904\u7406\u6d41\u7a0b\u7684\u6700\u540e\u88ab\u6267\u884c\uff0c\u5373\u5982\u4e0b\u7684\u4f8b\u5b50\u4e2d\u4e0d\u7ba1\u56de\u8c03\u51fd\u6570\u5728\u914d\u7f6e\u9879\u4e2d\u7684\u4f4d\u7f6e\u5982\u4f55\uff0c \u53c2\u6570 tags \u90fd\u4f1a\u5305\u542b\u914d\u7f6e\u9879\u4e2d\u6240\u6709\u7684\u5bf9\u8c61\u5f62\u5f0f\u914d\u7f6e\u3002\n\n\u4e5f\u56e0\u6b64\u5728\u56de\u8c03\u4e2d\u4fee\u6539 append publicPath hash \u7b49\u5c5e\u6027\u90fd\u4e0d\u4f1a\u751f\u6548\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u5c5e\u6027\u90fd\u5df2\u7ecf\u5206\u522b\u5e94\u7528\u5230\u4e86\u6807\u7b7e\u7684\u4f4d\u7f6e\u548c\u8def\u5f84\u5c5e\u6027\u3002\n\n\u4e8e\u662f\u6700\u7ec8\u4ea7\u7269\u5c06\u4f1a\u7c7b\u4f3c\uff1a\n\n<html>\n  <head>\n    \x3c!-- some other headTags... --\x3e\n    <script src=\"//example.com/c.js\"><\/script>\n    <script src=\"//example.com/d.js\"><\/script>\n  </head>\n  <body>\n    \x3c!-- some other bodyTags... --\x3e\n    <script src=\"//example.com/a.js\"><\/script>\n  </body>\n</html>\n",frontmatter:{}},{id:191,title:"",routePath:"/builder/config/html/tagsByEntries",toc:[{id:"\u793a\u4f8b-9",text:"\u793a\u4f8b",depth:4}],content:" * Type: Record<string, ArrayOrNot<HtmlInjectTag | HtmlInjectTagHandler>>\n * Default: undefined\n\n\u7528\u4e8e\u5728\u591a\u9875\u9762\u7684\u573a\u666f\u4e0b\uff0c\u4e3a\u4e0d\u540c\u7684\u9875\u9762\u6ce8\u5165\u4e0d\u540c\u7684\u6807\u7b7e\u3002\n\n\u6574\u4f53\u7528\u6cd5\u4e0e tags \u4e00\u81f4\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528\u300c\u5165\u53e3\u540d\u79f0\u300d\u4f5c\u4e3a key \uff0c\u5bf9\u5404\u4e2a\u9875\u9762\u8fdb\u884c\u5355\u72ec\u8bbe\u7f6e\u3002\n\ntagsByEntries \u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e tags\uff0c\u56e0\u6b64\u4f1a\u8986\u76d6 tags \u4e2d\u8bbe\u7f6e\u7684\u503c\u3002\n\n\u793a\u4f8b\n\nexport default {\n  html: {\n    tags: [\n      { tag: 'script', attrs: { src: 'a.js' } }\n    ],\n    tagsByEntries: {\n      foo: [\n        { tag: 'script', attrs: { src: 'b.js' } }\n      ],\n    },\n  },\n};\n\n\n\u7f16\u8bd1\u540e\uff0c\u53ef\u4ee5\u770b\u5230\u9875\u9762 foo \u6ce8\u5165\u6807\u7b7e\uff1a\n\n<script src=\"b.js\"><\/script>\n\n\n\u5176\u4ed6\u9875\u9762\u5219\u6ce8\u5165\u4e86\uff1a\n\n<script src=\"a.js\"><\/script>\n",frontmatter:{}},{id:192,title:"",routePath:"/builder/config/html/template",toc:[{id:"\u793a\u4f8b-11",text:"\u793a\u4f8b",depth:4}],content:" * Type: string\n * Default:\n\n\u5b9a\u4e49 HTML \u6a21\u677f\u7684\u6587\u4ef6\u8def\u5f84\uff0c\u5bf9\u5e94 html-webpack-plugin \u7684 template \u914d\u7f6e\u9879\u3002\n\n\u793a\u4f8b\n\n\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684 HTML \u6a21\u677f\u6587\u4ef6\u66ff\u4ee3\u9ed8\u8ba4\u6a21\u677f\uff0c\u53ef\u4ee5\u6dfb\u52a0\u5982\u4e0b\u8bbe\u7f6e\uff1a\n\nexport default {\n  html: {\n    template: './static/index.html',\n  },\n};\n",frontmatter:{}},{id:193,title:"",routePath:"/builder/config/html/templateByEntries",toc:[{id:"\u793a\u4f8b-10",text:"\u793a\u4f8b",depth:4}],content:" * Type: Object\n * Default: undefined\n\n\u7528\u4e8e\u5728\u591a\u9875\u9762\u7684\u573a\u666f\u4e0b\uff0c\u4e3a\u4e0d\u540c\u7684\u9875\u9762\u8bbe\u7f6e\u4e0d\u540c\u7684 HTML \u6a21\u677f\u3002\n\n\u6574\u4f53\u7528\u6cd5\u4e0e template \u4e00\u81f4\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528\u300c\u5165\u53e3\u540d\u79f0\u300d\u4f5c\u4e3a key \uff0c\u5bf9\u5404\u4e2a\u9875\u9762\u8fdb\u884c\u5355\u72ec\u8bbe\u7f6e\u3002\n\ntemplateByEntries \u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e template\uff0c\u56e0\u6b64\u4f1a\u8986\u76d6 template \u8bbe\u7f6e\u7684\u503c\u3002\n\n\u793a\u4f8b\n\nexport default {\n  output: {\n    template: './static/index.html',\n    templateByEntries: {\n      foo: './src/pages/foo/index.html',\n      bar: './src/pages/bar/index.html',\n    },\n  },\n};\n",frontmatter:{}},{id:194,title:"",routePath:"/builder/config/html/templateParameters",toc:[{id:"\u793a\u4f8b-12",text:"\u793a\u4f8b",depth:4}],content:" * Type: Object | Function\n * Default:\n\ntype DefaultParameters = {\n  meta: string; // \u5bf9\u5e94 html.meta \u914d\u7f6e\n  title: string; // \u5bf9\u5e94 html.title \u914d\u7f6e\n  mountId: string; // \u5bf9\u5e94 html.mountId \u914d\u7f6e\n  entryName: string; // \u5165\u53e3\u540d\u79f0\n  assetPrefix: string; // \u5bf9\u5e94 output.assetPrefix \u914d\u7f6e\n  compilation: webpack.Compilation; // \u5bf9\u5e94 webpack \u7684 compilation \u5bf9\u8c61\n  webpackConfig: Configuration; // webpack \u914d\u7f6e\n  // htmlWebpackPlugin \u5185\u7f6e\u7684\u53c2\u6570\n  // \u8be6\u89c1 https://github.com/jantimon/html-webpack-plugin\n  htmlWebpackPlugin: {\n    tags: object;\n    files: object;\n    options: object;\n  };\n};\n\n\n\u5b9a\u4e49 HTML \u6a21\u677f\u4e2d\u7684\u53c2\u6570\uff0c\u5bf9\u5e94 html-webpack-plugin \u7684 templateParameters \u914d\u7f6e\u9879\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u914d\u7f6e\u4e3a\u5bf9\u8c61\u6216\u8005\u51fd\u6570\u3002\n\n\u5982\u679c\u662f\u5bf9\u8c61\uff0c\u4f1a\u548c\u9ed8\u8ba4\u53c2\u6570\u5408\u5e76\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  html: {\n    templateParameters: {\n      title: 'My App',\n    },\n  },\n};\n\n\n\u5982\u679c\u662f\u51fd\u6570\uff0c\u4f1a\u4f20\u5165\u9ed8\u8ba4\u53c2\u6570\uff0c\u4f60\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u7528\u4e8e\u8986\u76d6\u9ed8\u8ba4\u53c2\u6570\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  html: {\n    templateParameters: defaultParameters => {\n      console.log(defaultParameters.compilation);\n      console.log(defaultParameters.title);\n      return {\n        title: 'My App',\n      };\n    },\n  },\n};\n\n\n\u793a\u4f8b\n\n\u5982\u679c\u9700\u8981\u5728 HTML \u6a21\u677f\u4e2d\u4f7f\u7528 foo \u53c2\u6570\uff0c\u53ef\u4ee5\u6dfb\u52a0\u5982\u4e0b\u8bbe\u7f6e\uff1a\n\nexport default {\n  html: {\n    templateParameters: {\n      foo: 'bar',\n    },\n  },\n};\n\n\n\u6216\u8005\u4f7f\u7528\u51fd\u6570\u914d\u7f6e\uff1a\n\nexport default {\n  html: {\n    templateParameters: defaultParameters => {\n      return {\n        foo: 'bar',\n      };\n    },\n  },\n};\n\n\n\u63a5\u4e0b\u6765\uff0c\u4f60\u53ef\u4ee5\u5728 HTML \u6a21\u677f\u4e2d\uff0c\u901a\u8fc7 <%= foo %> \u6765\u8bfb\u53d6\u53c2\u6570\uff1a\n\n<script>window.foo = '<%= foo %>'<\/script>\n\n\n\u7ecf\u8fc7\u7f16\u8bd1\u540e\u7684\u6700\u7ec8 HTML \u4ee3\u7801\u5982\u4e0b\uff1a\n\n<script>window.foo = 'bar'<\/script>\n",frontmatter:{}},{id:195,title:"",routePath:"/builder/config/html/templateParametersByEntries",toc:[{id:"\u793a\u4f8b-13",text:"\u793a\u4f8b",depth:4}],content:" * Type: Object\n * Default: undefined\n\n\u7528\u4e8e\u5728\u591a\u9875\u9762\u7684\u573a\u666f\u4e0b\uff0c\u4e3a\u4e0d\u540c\u7684\u9875\u9762\u8bbe\u7f6e\u4e0d\u540c\u7684\u6a21\u677f\u53c2\u6570\u3002\n\n\u6574\u4f53\u7528\u6cd5\u4e0e templateParameters \u4e00\u81f4\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528\u300c\u5165\u53e3\u540d\u79f0\u300d\u4f5c\u4e3a key \uff0c\u5bf9\u5404\u4e2a\u9875\u9762\u8fdb\u884c\u5355\u72ec\u8bbe\u7f6e\u3002\n\ntemplateParametersByEntries \u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e templateParameters\uff0c\u56e0\u6b64\u4f1a\u8986\u76d6 templateParameters\n\u4e2d\u8bbe\u7f6e\u7684\u503c\u3002\n\n\u793a\u4f8b\n\nexport default {\n  html: {\n    templateParametersByEntries: {\n      foo: {\n        type: 'a',\n      },\n      bar: {\n        type: 'b',\n      },\n    },\n  },\n};\n",frontmatter:{}},{id:196,title:"",routePath:"/builder/config/html/title",toc:[],content:" * Type: string\n * Default: undefined\n\n\u914d\u7f6e HTML \u9875\u9762\u7684 title \u6807\u7b7e\uff0c\u4f8b\u5982\uff1a\n\nexport default {\n  html: {\n    title: 'example',\n  },\n};\n",frontmatter:{}},{id:197,title:"",routePath:"/builder/config/html/titleByEntries",toc:[{id:"\u793a\u4f8b-14",text:"\u793a\u4f8b",depth:4}],content:" * Type: Record<string, string>\n * Default: undefined\n\n\u7528\u4e8e\u5728\u591a\u9875\u9762\u7684\u573a\u666f\u4e0b\uff0c\u4e3a\u4e0d\u540c\u7684\u9875\u9762\u8bbe\u7f6e\u4e0d\u540c\u7684 title\u3002\n\n\u6574\u4f53\u7528\u6cd5\u4e0e title \u4e00\u81f4\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528\u300c\u5165\u53e3\u540d\u79f0\u300d\u4f5c\u4e3a key \uff0c\u5bf9\u5404\u4e2a\u9875\u9762\u8fdb\u884c\u5355\u72ec\u8bbe\u7f6e\u3002\n\ntitleByEntries \u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e title\uff0c\u56e0\u6b64\u4f1a\u8986\u76d6 title \u4e2d\u8bbe\u7f6e\u7684\u503c\u3002\n\n\u793a\u4f8b\n\nexport default {\n  html: {\n    title: 'ByteDance',\n    titleByEntries: {\n      foo: 'TikTok',\n    },\n  },\n};\n\n\n\u91cd\u65b0\u7f16\u8bd1\u540e\uff0c\u53ef\u4ee5\u770b\u5230:\n\n * \u9875\u9762 foo \u7684 title \u4e3a TikTok\u3002\n * \u5176\u4ed6\u9875\u9762\u7684 title \u4e3a ByteDance\u3002",frontmatter:{}},{id:198,title:"",routePath:"/builder/config/output/assetPrefix",toc:[{id:"\u793a\u4f8b-15",text:"\u793a\u4f8b",depth:4}],content:" * Type: boolean | string\n * Default: '/'\n\n\u5728\u751f\u4ea7\u73af\u5883\u4f7f\u7528 CDN \u90e8\u7f72\u65f6\uff0c\u53ef\u4f7f\u7528\u8be5\u9009\u9879\u8bbe\u7f6e\u9759\u6001\u8d44\u6e90\u7684 URL \u524d\u7f00\uff0c\u5bf9\u5e94 webpack \u7684 output.publicPath \u914d\u7f6e\u3002\n\nassetPrefix \u4f1a\u5f71\u54cd\u6784\u5efa\u4ea7\u7269\u4e2d\u7edd\u5927\u90e8\u5206\u9759\u6001\u8d44\u6e90\u7684 URL\uff0c\u5305\u62ec JavaScript \u6587\u4ef6\u3001CSS\n\u6587\u4ef6\u3001\u56fe\u7247\u3001\u89c6\u9891\u7b49\u3002\u5982\u679c\u6307\u5b9a\u4e86\u4e00\u4e2a\u9519\u8bef\u7684\u503c\uff0c\u5219\u5728\u52a0\u8f7d\u8fd9\u4e9b\u8d44\u6e90\u65f6\u53ef\u80fd\u4f1a\u51fa\u73b0 404 \u9519\u8bef\u3002\n\n\u8be5\u914d\u7f6e\u9879\u4ec5\u7528\u4e8e\u751f\u4ea7\u73af\u5883\u3002\u5728\u5f00\u53d1\u73af\u5883\u4e0b\uff0c\u8bf7\u4f7f\u7528 dev.assetPrefix \u914d\u7f6e\u9879\u8fdb\u884c\u8bbe\u7f6e\u3002\n\n\u8bbe\u7f6e\u540e\uff0c\u9879\u76ee\u7684 JavaScript\u3001CSS\u3001\u56fe\u7247\u7b49\u9759\u6001\u8d44\u6e90\u7684 URL \u90fd\u4f1a\u52a0\u4e0a output.assetPrefix \u4f5c\u4e3a\u524d\u7f00\uff1a\n\n\u793a\u4f8b\n\nexport default {\n  output: {\n    assetPrefix: 'https://cdn.example.com/assets/',\n  },\n};\n\n\n\u6784\u5efa\u4e4b\u540e\uff0c\u53ef\u4ee5\u770b\u5230 JS \u6587\u4ef6\u4ece\u4ee5\u4e0b\u5730\u5740\u52a0\u8f7d\uff1a\n\n<script\n  defer\n  src=\"https://cdn.example.com/assets/static/js/main.ebc4ff4f.js\"\n><\/script>\n",frontmatter:{}},{id:199,title:"",routePath:"/builder/config/output/assetsRetry",toc:[{id:"assetsretrymax-1",text:"assetsRetry.max",depth:3},{id:"assetsretrydomain-1",text:"assetsRetry.domain",depth:3},{id:"assetsretrytype-1",text:"assetsRetry.type",depth:3},{id:"assetsretrytest-1",text:"assetsRetry.test",depth:3},{id:"assetsretrycrossorigin-1",text:"assetsRetry.crossOrigin",depth:3},{id:"assetsretryonretry-1",text:"assetsRetry.onRetry",depth:3},{id:"assetsretryonsuccess-1",text:"assetsRetry.onSuccess",depth:3},{id:"assetsretryonfail-1",text:"assetsRetry.onFail",depth:3}],content:" * Type: Object\n\noutput.assetsRetry \u7528\u4e8e\u914d\u7f6e\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\u65f6\u7684\u91cd\u8bd5\u903b\u8f91\u3002\u914d\u7f6e\u7c7b\u578b\u5982\u4e0b:\n\nexport type AssetsRetryHookContext = {\n  times: number;\n  domain: string;\n  url: string;\n  tagName: string;\n};\n\nexport type AssetsRetryOptions = {\n  type?: string[];\n  domain?: string[];\n  max?: number;\n  test?: string | ((url: string) => boolean);\n  crossOrigin?: boolean;\n  onRetry?: (options: AssetsRetryHookContext) => void;\n  onSuccess?: (options: AssetsRetryHookContext) => void;\n  onFail?: (options: AssetsRetryHookContext) => void;\n};\n\n\n\u9ed8\u8ba4\u503c\u5982\u4e0b:\n\nexport const defaultAssetsRetryOptions: AssetsRetryOptions = {\n  type: ['script', 'link', 'img'],\n  domain: [],\n  max: 3,\n  test: '',\n  crossOrigin: false,\n  onRetry: () => {},\n  onSuccess: () => {},\n  onFail: () => {},\n};\n\n\n\nASSETSRETRY.MAX\n\n * Type: number\n * Default: 3\n\n\u5355\u4e2a\u8d44\u6e90\u7684\u6700\u5927\u91cd\u8bd5\u6b21\u6570\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  output: {\n    assetsRetry: {\n      max: 3,\n    },\n  },\n};\n\n\n\nASSETSRETRY.DOMAIN\n\n * Type: string[]\n * Default: []\n\n\u6307\u5b9a\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\u65f6\u7684\u91cd\u8bd5\u57df\u540d\uff0c\u5982\u679c\u4e3a\u7a7a\u5219\u4f7f\u7528\u5f53\u524d\u9875\u9762\u7684\u57df\u540d\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  output: {\n    assetsRetry: {\n      domain: ['https://cdn1.example.com', 'https://cdn2.example.com'],\n    },\n  },\n};\n\n\n\nASSETSRETRY.TYPE\n\n * Type: string[]\n * Default: ['script', 'link', 'img']\n\n\u53ef\u91cd\u8bd5\u7684\u8d44\u6e90\u7c7b\u578b\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  output: {\n    assetsRetry: {\n      type: ['script', 'link'],\n    },\n  },\n};\n\n\n\nASSETSRETRY.TEST\n\n * Type: string | ((url: string) => boolean) | undefined\n * Default: undefined\n\n\u5339\u914d\u8d44\u6e90 URL \u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u6216\u51fd\u6570\uff0c\u9ed8\u8ba4\u5339\u914d\u6240\u6709\u8d44\u6e90\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  output: {\n    assetsRetry: {\n      test: /cdn\\.example\\.com/,\n    },\n  },\n};\n\n\n\nASSETSRETRY.CROSSORIGIN\n\n * Type: undefined | boolean\n * Default: false\n\n\u7528\u4e8e\u5411 <script> \u8d44\u6e90\u6807\u7b7e\u4e2d\u6ce8\u5165 crossorigin \u5c5e\u6027\uff0c\u4f20\u5165 true \u5219\u4f1a\u542f\u7528\u9ed8\u8ba4\u503c anonymous\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  output: {\n    assetsRetry: {\n      crossOrigin: true,\n    },\n  },\n};\n\n\n\nASSETSRETRY.ONRETRY\n\n * Type: undefined | (options: AssetsRetryHookContext) => void\n\n\u8d44\u6e90\u91cd\u8bd5\u65f6\u7684\u56de\u8c03\u51fd\u6570\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  output: {\n    assetsRetry: {\n      onRetry: ({ times, domain, url, tagName }) => {\n        console.log(\n          `Retry ${times} times, domain: ${domain}, url: ${url}, tagName: ${tagName}`,\n        );\n      },\n    },\n  },\n};\n\n\n\nASSETSRETRY.ONSUCCESS\n\n * Type: undefined | (options: AssetsRetryHookContext) => void\n\n\u8d44\u6e90\u91cd\u8bd5\u6210\u529f\u65f6\u7684\u56de\u8c03\u51fd\u6570\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  output: {\n    assetsRetry: {\n      onSuccess: ({ times, domain, url, tagName }) => {\n        console.log(\n          `Retry ${times} times, domain: ${domain}, url: ${url}, tagName: ${tagName}`,\n        );\n      },\n    },\n  },\n};\n\n\n\nASSETSRETRY.ONFAIL\n\n * Type: undefined | (options: AssetsRetryHookContext) => void\n\n\u8d44\u6e90\u91cd\u8bd5\u8d85\u8fc7\u6700\u5927\u91cd\u8bd5\u6b21\u6570\u65f6\u7684\u56de\u8c03\u51fd\u6570\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  output: {\n    assetsRetry: {\n      onFail: ({ times, domain, url, tagName }) => {\n        console.log(\n          `Retry ${times} times, domain: ${domain}, url: ${url}, tagName: ${tagName}`,\n        );\n      },\n    },\n  },\n};\n",frontmatter:{}},{id:200,title:"",routePath:"/builder/config/output/charset",toc:[],content:" * Type: 'ascii' | 'utf8'\n * Default: 'ascii'\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u7684\u4ea7\u7269\u5185\u5bb9\u662f\u7eaf ASCII \u7684\uff0c\u5e76\u4e14\u4f1a\u8f6c\u4e49\u6240\u6709\u975e ASCII \u5b57\u7b26\u3002\n\n\u5982\u679c\u4e0d\u5e0c\u671b\u8fdb\u884c\u8f6c\u4e49\uff0c\u800c\u662f\u8f93\u51fa\u6240\u6709\u539f\u59cb\u5b57\u7b26\uff0c\u53ef\u4ee5\u5c06 output.charset \u8bbe\u7f6e\u4e3a utf8\u3002\n\nexport default {\n  output: {\n    charset: 'utf8',\n  },\n};\n\n\n\u5f53 output.charset \u4e3a utf8 \u65f6\uff0cBuilder \u4f1a\u81ea\u52a8\u5c06 <meta charset=\"utf-8\"> \u6dfb\u52a0\u5230\u751f\u6210\u7684 HTML \u6587\u4ef6\u4e2d\u3002",frontmatter:{}},{id:201,title:"",routePath:"/builder/config/output/cleanDistPath",toc:[],content:" * Type: boolean\n * Default: true\n\n\u662f\u5426\u5728\u6784\u5efa\u5f00\u59cb\u524d\u6e05\u7406 dist \u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u3002\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4f1a\u81ea\u52a8\u6e05\u7406 dist \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u628a cleanDistPath \u8bbe\u7f6e\u4e3a false \u6765\u7981\u7528\u8be5\u884c\u4e3a\u3002\n\nexport default {\n  output: {\n    cleanDistPath: false,\n  },\n};\n",frontmatter:{}},{id:202,title:"",routePath:"/builder/config/output/convertToRem",toc:[{id:"boolean-\u7c7b\u578b-1",text:"Boolean \u7c7b\u578b",depth:4},{id:"object-\u7c7b\u578b",text:"Object \u7c7b\u578b",depth:4},{id:"\u793a\u4f8b-18",text:"\u793a\u4f8b",depth:4}],content:" * Type: boolean | object\n * Default: false\n\n\u901a\u8fc7\u8bbe\u7f6e output.convertToRem\uff0cBuilder \u53ef\u8fdb\u884c\u5982\u4e0b\u5904\u7406\uff1a\n\n * \u5c06 CSS \u4e2d\u7684 px \u8f6c\u6210 rem\n * \u5728 HTML \u6a21\u7248\u4e2d\u63d2\u5165\u8fd0\u884c\u65f6\u4ee3\u7801\uff0c\u5bf9\u6839\u5143\u7d20 fontSize \u8fdb\u884c\u8bbe\u7f6e\n\nBOOLEAN \u7c7b\u578b\n\n\u5f53\u8bbe\u7f6e output.convertToRem \u4e3a true\uff0c\u5c06\u5f00\u542f rem \u5904\u7406\u80fd\u529b\u3002\n\nexport default {\n  output: {\n    convertToRem: true,\n  },\n};\n\n\n\u6b64\u65f6\uff0crem \u914d\u7f6e\u9ed8\u8ba4\u5982\u4e0b\uff1a\n\n{\n  enableRuntime: true,\n  rootFontSize: 50,\n  screenWidth: 375,\n  rootFontSize: 50,\n  maxRootFontSize: 64,\n  widthQueryKey: '',\n  excludeEntries: [],\n  supportLandscape: false,\n  useRootFontSizeBeyondMax: false,\n  pxtorem: {\n    rootValue: 50,\n    unitPrecision: 5,\n    propList: ['*'],\n  }\n}\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53 output.convertToRem \u7684\u503c\u4e3a object \u7c7b\u578b\u65f6\uff0cBuilder \u4f1a\u6839\u636e\u5f53\u524d\u914d\u7f6e\u8fdb\u884c rem \u5904\u7406\u3002\n\n\u9009\u9879\uff1a\n\n| \u540d\u79f0 | \u7c7b\u578b | \u9ed8\u8ba4\u503c | \u63cf\u8ff0 | | ------------------------ | ---------- |\n--------------------------------------------------------------------------------\n------------------------------------------------------- |\n--------------------------------------------------------------------------------\n--------- | | enableRuntime | boolean | true | \u5f00\u542f HTML \u6a21\u7248\u63d2\u5165\u529f\u80fd\uff0c\u52a8\u6001\u8ba1\u7b97\u6839\u5143\u7d20\u5b57\u4f53\u5927\u5c0f | |\nrootFontSize | number | 50 | \u6839\u5143\u7d20\u5b57\u4f53\u503c | | maxRootFontSize | number | 64 | \u6700\u5927\u6839\u5143\u7d20\u5b57\u4f53\u503c\n| | widthQueryKey | string | '' | \u6839\u636e widthQueryKey \u7684\u503c\u53bb url query \u4e2d\u53d6 client width\n| | screenWidth | number | 375 | UI \u8bbe\u8ba1\u56fe\u5bbd\u5ea6 | | excludeEntries | string[] | [] |\n\u4e0d\u8fdb\u884c\u8c03\u6574\u7684\u9875\u9762\u5165\u53e3 | | supportLandscape | boolean | false | \u6a2a\u5c4f\u65f6\u4f7f\u7528 height \u8ba1\u7b97 rem | |\nuseRootFontSizeBeyondMax | boolean | false | \u8d85\u8fc7 maxRootFontSize \u65f6\uff0c\u662f\u5426\u4f7f\u7528\nrootFontSize | | pxtorem | object | rootValue\u3002\u9ed8\u8ba4\u4e0e rootFontSize \u76f8\u540c unitPrecision:\n5\u3002\u7cbe\u786e\u4f4d\u6570 propList: ['*']\u3002\u652f\u6301\u8f6c\u6362\u7684 CSS \u5c5e\u6027 | postcss-pxtorem \u63d2\u4ef6\u5c5e\u6027 |\n\n\u793a\u4f8b\n\nexport default {\n  output: {\n    convertToRem: {\n      rootFontSize: 30,\n      excludeEntries: ['404', 'page2'],\n      pxtorem: {\n        propList: ['font-size'],\n      },\n    },\n  },\n};\n",frontmatter:{}},{id:203,title:"",routePath:"/builder/config/output/copy",toc:[],content:" * Type: CopyPluginOptions | CopyPluginOptions['patterns']\n * Default: undefined\n\n\u5c06\u6307\u5b9a\u7684\u6587\u4ef6\u6216\u76ee\u5f55\u62f7\u8d1d\u5230\u6784\u5efa\u8f93\u51fa\u76ee\u5f55\u4e2d\u3002\n\n\u4f8b\u5982\uff0c\u5c06 src/assets \u4e0b\u7684\u6587\u4ef6\u76f4\u63a5\u62f7\u8d1d\u5230 dist \u76ee\u5f55\uff1a\n\nexport default {\n  output: {\n    copy: [{ from: './src/assets', to: '' }],\n  },\n};\n\n\n\u66f4\u8be6\u7ec6\u7684\u914d\u7f6e\u9879\u8bf7\u53c2\u8003\uff1acopy-webpack-plugin \u6587\u6863\u3002",frontmatter:{}},{id:204,title:"",routePath:"/builder/config/output/cssModuleLocalIdentName",toc:[{id:"\u9ed8\u8ba4\u503c",text:"\u9ed8\u8ba4\u503c",depth:3},{id:"\u6a21\u677f\u5b57\u7b26\u4e32",text:"\u6a21\u677f\u5b57\u7b26\u4e32",depth:3},{id:"\u793a\u4f8b-17",text:"\u793a\u4f8b",depth:3}],content:" * Type: string\n * Default:\n\n// isProd \u8868\u793a\u751f\u4ea7\u73af\u5883\u6784\u5efa\nconst localIdentName = isProd\n  ? '[hash:base64:5]'\n  : '[path][name]__[local]--[hash:base64:5]';\n\n\n\u8bbe\u7f6e CSS Modules \u7f16\u8bd1\u540e\u751f\u6210\u7684 className \u683c\u5f0f\u3002\n\n\n\u9ed8\u8ba4\u503c\n\ncssModuleLocalIdentName \u5728\u5f00\u53d1\u73af\u5883\u548c\u751f\u4ea7\u73af\u5883\u6709\u4e0d\u540c\u7684\u9ed8\u8ba4\u503c\u3002\n\n\u5728\u751f\u4ea7\u73af\u5883\uff0cBuilder \u4f1a\u751f\u6210\u66f4\u7b80\u77ed\u7684\u7c7b\u540d\uff0c\u4ece\u800c\u51cf\u5c11\u6784\u5efa\u4ea7\u7269\u7684\u4f53\u79ef\u3002\n\n\n\n// \u5728\u5f00\u53d1\u73af\u5883\u4e0b\uff0c\u503c\u4e3a `.src-index-module__header--xxxxx`\n// \u5728\u751f\u4ea7\u73af\u5883\u4e0b\uff0c\u503c\u4e3a `.xxxxx`\nconsole.log(styles.header);\n\n\n\n\u6a21\u677f\u5b57\u7b26\u4e32\n\n\u5728 cssModuleLocalIdentName \u4e2d\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u6a21\u677f\u5b57\u7b26\u4e32\uff1a\n\n * [name] - \u6e90\u6587\u4ef6\u540d\u79f0\u3002\n * [local] - \u539f\u59cb\u7c7b\u540d\u3002\n * [hash] - \u5b57\u7b26\u4e32\u7684\u54c8\u5e0c\u503c\u3002\n * [folder] - \u6587\u4ef6\u5939\u7684\u76f8\u5bf9\u8def\u5f84\u3002\n * [path] - \u6e90\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84\u3002\n * [file] - \u6587\u4ef6\u540d\u548c\u8def\u5f84\u3002\n * [ext] - \u6587\u4ef6\u540e\u7f00\u540d\uff0c\u5305\u542b\u70b9\u53f7\u3002\n * [hash:<hashDigest>:<hashDigestLength>] - \u5e26\u6709\u54c8\u5e0c\u8bbe\u7f6e\u7684\u54c8\u5e0c\u3002\n\n\n\u793a\u4f8b\n\n\u5c06 cssModuleLocalIdentName \u8bbe\u7f6e\u4e3a\u5176\u4ed6\u503c\uff1a\n\nexport default {\n  output: {\n    cssModuleLocalIdentName: '[hash:base64:4]',\n  },\n};\n",frontmatter:{}},{id:205,title:"",routePath:"/builder/config/output/dataUriLimit",toc:[{id:"\u793a\u4f8b-16",text:"\u793a\u4f8b",depth:4}],content:" * Type\n\ntype DataUriLimitConfig = {\n  svg?: number;\n  font?: number;\n  image?: number;\n  media?: number;\n};\n\n\n * Default\n\nconst defaultDatUriLimit = {\n  svg: 10000,\n  font: 10000,\n  image: 10000,\n  media: 10000,\n};\n\n\n\u8bbe\u7f6e\u56fe\u7247\u3001\u5b57\u4f53\u3001\u5a92\u4f53\u7b49\u9759\u6001\u8d44\u6e90\u88ab\u81ea\u52a8\u5185\u8054\u4e3a base64 \u7684\u4f53\u79ef\u9608\u503c\u3002\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4f53\u79ef\u5c0f\u4e8e 10KB \u7684\u56fe\u7247\u3001\u5b57\u4f53\u3001\u5a92\u4f53\u7b49\u6587\u4ef6\uff0c\u4f1a\u81ea\u52a8\u7ecf\u8fc7 Base64 \u7f16\u7801\uff0c\u5185\u8054\u5230\u9875\u9762\u4e2d\uff0c\u4e0d\u518d\u4f1a\u53d1\u9001\u72ec\u7acb\u7684 HTTP \u8bf7\u6c42\u3002\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539 dataUriLimit \u53c2\u6570\u6765\u8c03\u6574\u8fd9\u4e2a\u9608\u503c\u3002\n\n\u5176\u4e2d\uff1a\n\n * svg\uff1a\u8868\u793a SVG \u56fe\u7247\u7684\u4f53\u79ef\u9608\u503c\u3002\n * font\uff1a\u8868\u793a\u5b57\u4f53\u6587\u4ef6\u7684\u4f53\u79ef\u9608\u503c\u3002\n * image\uff1a\u8868\u793a\u975e SVG \u56fe\u7247\u7684\u4f53\u79ef\u9608\u503c\u3002\n * media\uff1a\u8868\u793a\u89c6\u9891\u7b49\u5a92\u4f53\u8d44\u6e90\u7684\u4f53\u79ef\u9608\u503c\u3002\n\n\u793a\u4f8b\n\n\u4fee\u6539\u56fe\u7247\u8d44\u6e90\u7684\u9608\u503c\u4e3a 5000 Bytes\uff0c\u8bbe\u7f6e\u89c6\u9891\u8d44\u6e90\u4e0d\u5185\u8054\uff1a\n\nexport default {\n  output: {\n    dataUriLimit: {\n      image: 5000,\n      media: 0,\n    },\n  },\n};\n",frontmatter:{}},{id:206,title:"",routePath:"/builder/config/output/disableCssExtract",toc:[{id:"\u793a\u4f8b-19",text:"\u793a\u4f8b",depth:3}],content:" * Type: boolean\n * Default: false\n\n\u662f\u5426\u7981\u7528 CSS \u63d0\u53d6\u903b\u8f91\uff0c\u5e76\u5c06 CSS \u6587\u4ef6\u5185\u8054\u5230 JS \u6587\u4ef6\u4e2d\u3002\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4f1a\u628a CSS \u63d0\u53d6\u4e3a\u72ec\u7acb\u7684 .css \u6587\u4ef6\uff0c\u5e76\u8f93\u51fa\u5230\u6784\u5efa\u4ea7\u7269\u76ee\u5f55\u3002\u8bbe\u7f6e\u8be5\u9009\u9879\u4e3a true \u540e\uff0cCSS \u6587\u4ef6\u4f1a\u88ab\u5185\u8054\u5230 JS\n\u6587\u4ef6\u4e2d\uff0c\u5e76\u5728\u8fd0\u884c\u65f6\u901a\u8fc7 <style> \u6807\u7b7e\u63d2\u5165\u5230\u9875\u9762\u4e0a\u3002\n\n\n\u793a\u4f8b\n\nexport default {\n  output: {\n    disableCssExtract: true,\n  },\n};\n",frontmatter:{}},{id:207,title:"",routePath:"/builder/config/output/disableCssModuleExtension",toc:[{id:"\u793a\u4f8b-21",text:"\u793a\u4f8b",depth:3},{id:"\u89c4\u5219",text:"\u89c4\u5219",depth:3},{id:"\u672a\u5f00\u542f-disablecssmoduleextension\u9ed8\u8ba4",text:"\u672a\u5f00\u542f disableCssModuleExtension\uff08\u9ed8\u8ba4\uff09",depth:4},{id:"\u5f00\u542f-disablecssmoduleextension",text:"\u5f00\u542f disableCssModuleExtension",depth:4}],content:" * Type: boolean\n * Default: false\n\n\u662f\u5426\u5c06\u6e90\u7801\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6837\u5f0f\u6587\u4ef6\u5f53\u505a CSS Modules \u6a21\u5757\u8fdb\u884c\u5904\u7406\u3002\n\n\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u53ea\u6709 *.module.css \u7ed3\u5c3e\u7684\u6587\u4ef6\u624d\u88ab\u89c6\u4e3a CSS Modules \u6a21\u5757\u3002\u5f00\u542f\u8be5\u914d\u7f6e\u9879\u4e4b\u540e\uff0c\u4f1a\u5c06\u6e90\u7801\u76ee\u5f55\u4e0b\u7684\u6240\u6709 *.css \u6837\u5f0f\u6587\u4ef6\u5f53\u505a\nCSS Modules \u6a21\u5757\u3002\n\n.sass\u3001.scss \u548c .less \u6587\u4ef6\u7684\u5904\u7406\u89c4\u5219\u4e0e .css \u6587\u4ef6\u4e00\u81f4\uff0c\u4e5f\u4f1a\u53d7\u5230 disableCssModuleExtension \u7684\u5f71\u54cd\u3002\n\n\u6211\u4eec\u4e0d\u63a8\u8350\u5f00\u542f\u6b64\u914d\u7f6e\u9879\uff0c\u56e0\u4e3a\u5f00\u542f disableCssModuleExtension \u540e\uff0cCSS Modules \u6587\u4ef6\u548c\u666e\u901a CSS\n\u6587\u4ef6\u65e0\u6cd5\u5f97\u5230\u660e\u786e\u7684\u533a\u5206\uff0c\u4e0d\u5229\u4e8e\u957f\u671f\u7ef4\u62a4\u3002\n\n\n\u793a\u4f8b\n\nexport default {\n  output: {\n    disableCssModuleExtension: true,\n  },\n};\n\n\n\n\u89c4\u5219\n\n\u4ee5\u4e0b\u662f\u5bf9 CSS Modules \u5224\u65ad\u89c4\u5219\u7684\u8be6\u7ec6\u89e3\u91ca\uff1a\n\n\u672a\u5f00\u542f DISABLECSSMODULEEXTENSION\uff08\u9ed8\u8ba4\uff09\n\n\u4ee5\u4e0b\u6587\u4ef6\u4f1a\u89c6\u4e3a CSS Modules\uff1a\n\n * \u6240\u6709 *.module.css \u6587\u4ef6\n\n\u4ee5\u4e0b\u6587\u4ef6\u4f1a\u89c6\u4e3a\u666e\u901a CSS\uff1a\n\n * \u6240\u6709 *.css \u6587\u4ef6\uff08\u4e0d\u542b .module\uff09\n * \u6240\u6709 *.global.css \u6587\u4ef6\n\n\u5f00\u542f DISABLECSSMODULEEXTENSION\n\n\u4ee5\u4e0b\u6587\u4ef6\u4f1a\u89c6\u4e3a CSS Modules\uff1a\n\n * \u6e90\u7801\u76ee\u5f55\u4e0b\u7684 *.css \u548c *.module.css \u6587\u4ef6\n * node_modules \u4e0b\u7684 *.module.css \u6587\u4ef6\n\n\u4ee5\u4e0b\u6587\u4ef6\u4f1a\u89c6\u4e3a\u666e\u901a CSS\uff1a\n\n * \u6240\u6709 *.global.css \u6587\u4ef6\n * node_modules \u4e0b\u7684 *.css \u6587\u4ef6\uff08\u4e0d\u542b .module\uff09\n\n\u5bf9\u4e8e node_modules \u4e2d\u7684 CSS Modules \u6587\u4ef6\uff0c\u8bf7\u59cb\u7ec8\u4f7f\u7528 *.module.css \u540e\u7f00\u3002",frontmatter:{}},{id:208,title:"",routePath:"/builder/config/output/disableFilenameHash",toc:[{id:"\u793a\u4f8b-20",text:"\u793a\u4f8b",depth:4}],content:" * Type: boolean\n * Default: false\n\n\u79fb\u9664\u751f\u4ea7\u73af\u5883\u7684\u6784\u5efa\u4ea7\u7269\u540d\u79f0\u4e2d\u7684 hash \u503c\u3002\n\n\u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u540e\uff0c\u4f1a\u81ea\u52a8\u5728\u6587\u4ef6\u540d\u4e2d\u95f4\u6dfb\u52a0 hash \u503c\uff0c\u5982\u679c\u4e0d\u9700\u8981\u6dfb\u52a0\uff0c\u53ef\u4ee5\u901a\u8fc7 output.disableFilenameHash \u914d\u7f6e\u6765\u7981\u7528\u8be5\u884c\u4e3a\u3002\n\n\u793a\u4f8b\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6784\u5efa\u540e\u7684\u4ea7\u7269\u540d\u79f0\u4e3a\uff1a\n\nFile                                     Size         Gzipped\ndist/static/css/187.7879e19d.css         126.99 KB    9.17 KB\ndist/static/js/main.18a568e5.js          2.24 KB      922 B\n\n\n\u6dfb\u52a0 output.disableFilenameHash \u914d\u7f6e\uff1a\n\nexport default {\n  output: {\n    disableFilenameHash: true,\n  },\n};\n\n\n\u91cd\u65b0\u6784\u5efa\uff0c\u4ea7\u7269\u7684\u540d\u79f0\u53d8\u4e3a\uff1a\n\nFile                            Size         Gzipped\ndist/static/css/187.css         126.99 KB    9.17 KB\ndist/static/js/main.js          2.24 KB      922 B\n",frontmatter:{}},{id:209,title:"",routePath:"/builder/config/output/disableInlineRuntimeChunk",toc:[],content:" * Type: boolean\n * Default: false\n\n\u7528\u4e8e\u63a7\u5236\u662f\u5426\u5185\u8054 runtimeChunk \u5230 HTML \u4e2d\u3002\n\n\u5728\u751f\u4ea7\u73af\u5883\u4e0b\uff0cruntime chunk \u6587\u4ef6\u5c06\u4f1a\u9ed8\u8ba4\u88ab\u5185\u8054\u5230 HTML \u6587\u4ef6\u4e2d\uff0c\u800c\u4e0d\u662f\u5199\u5230\u4ea7\u7269\u76ee\u5f55\u4e2d\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u6587\u4ef6\u8bf7\u6c42\u7684\u6570\u91cf\u3002\n\n\u8fd9\u4e2a\u9009\u9879\u7528\u6765\u5173\u95ed\u8fd9\u4e2a\u9ed8\u8ba4\u884c\u4e3a\u3002\n\nexport default {\n  output: {\n    disableInlineRuntimeChunk: true,\n  },\n};\n",frontmatter:{}},{id:210,title:"",routePath:"/builder/config/output/disableMinimize",toc:[],content:" * Type: boolean\n * Default: false\n\n\u662f\u5426\u7981\u7528\u751f\u4ea7\u73af\u5883\u4e0b\u7684\u4ee3\u7801\u538b\u7f29\u3002\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cJS \u4ee3\u7801\u548c CSS \u4ee3\u7801\u4f1a\u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u65f6\u88ab\u81ea\u52a8\u538b\u7f29\u3002\u5982\u679c\u4e0d\u5e0c\u671b\u6267\u884c\u4ee3\u7801\u538b\u7f29\uff0c\u53ef\u4ee5\u5c06 disableMinimize \u8bbe\u7f6e\u4e3a true\u3002\n\nexport default {\n  output: {\n    disableMinimize: true,\n  },\n};\n",frontmatter:{}},{id:211,title:"",routePath:"/builder/config/output/disableSourceMap",toc:[],content:" * Type:\n\ntype DisableSourceMap =\n  | boolean\n  | {\n      js?: boolean;\n      css?: boolean;\n    };\n\n\n * Default:\n\nconst defaultDisableSourceMap = {\n  js: false,\n  css: process.env.NODE_ENV === 'production',\n};\n\n\n\u662f\u5426\u7981\u7528 Source Map \u751f\u6210\u3002\n\n:::tip \u4ec0\u4e48\u662f Source Map Source Map\n\u662f\u4fdd\u5b58\u6e90\u4ee3\u7801\u6620\u5c04\u5173\u7cfb\u7684\u4fe1\u606f\u6587\u4ef6\uff0c\u5b83\u8bb0\u5f55\u4e86\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u7684\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u4ee5\u53ca\u6240\u5bf9\u5e94\u7684\u7f16\u8bd1\u524d\u7684\u4f4d\u7f6e\u3002\u901a\u8fc7 Source\nMap\uff0c\u53ef\u4ee5\u5728\u8c03\u8bd5\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u65f6\uff0c\u76f4\u63a5\u67e5\u770b\u5bf9\u5e94\u7684\u6e90\u4ee3\u7801\u3002 :::\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u7684 Source Map \u751f\u6210\u89c4\u5219\u5982\u4e0b\uff1a\n\n * \u5728\u5f00\u53d1\u73af\u5883\u6784\u5efa\u65f6\uff0c\u4f1a\u751f\u6210 JS \u6587\u4ef6\u548c CSS \u6587\u4ef6\u7684 SourceMap\uff0c\u4fbf\u4e8e\u8fdb\u884c\u5f00\u53d1\u8c03\u8bd5\u3002\n * \u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u65f6\uff0c\u4f1a\u751f\u6210 JS \u6587\u4ef6\u7684 Source Map\uff0c\u7528\u4e8e\u8c03\u8bd5\u548c\u6392\u67e5\u7ebf\u4e0a\u95ee\u9898\uff1b\u4e0d\u4f1a\u751f\u6210 CSS \u6587\u4ef6\u7684 Source Map\u3002\n\n\u5982\u679c\u9879\u76ee\u4e0d\u9700\u8981 Source Map\uff0c\u53ef\u4ee5\u5173\u95ed\u8be5\u529f\u80fd\uff0c\u4ece\u800c\u63d0\u5347\u6784\u5efa\u7684\u901f\u5ea6\u3002\n\nexport default {\n  output: {\n    disableSourceMap: true,\n  },\n};\n\n\n\u5982\u679c\u9700\u8981\u5f00\u542f\u5f00\u53d1\u73af\u5883\u7684 Source Map\uff0c\u5e76\u5728\u751f\u4ea7\u73af\u5883\u7981\u7528\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1a\n\nexport default {\n  output: {\n    disableSourceMap: process.env.NODE_ENV === 'production',\n  },\n};\n\n\n\u5982\u679c\u9700\u8981\u5355\u72ec\u63a7\u5236 JS \u6587\u4ef6\u6216 CSS \u6587\u4ef6\u7684 Source Map\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0b\u65b9\u8bbe\u7f6e\uff1a\n\nexport default {\n  output: {\n    disableSourceMap: {\n      js: false,\n      css: true,\n    },\n  },\n};\n",frontmatter:{}},{id:212,title:"",routePath:"/builder/config/output/disableTsChecker",toc:[{id:"\u963b\u585e\u7f16\u8bd1",text:"\u963b\u585e\u7f16\u8bd1",depth:3},{id:"\u793a\u4f8b-22",text:"\u793a\u4f8b",depth:3}],content:" * Type: boolean\n * Default: false\n\n\u662f\u5426\u7981\u7528\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u7684 TypeScript \u7c7b\u578b\u68c0\u67e5\u3002\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u6267\u884c\u6784\u5efa\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u5728\u4e00\u4e2a\u72ec\u7acb\u7684\u8fdb\u7a0b\u91cc\u8fd0\u884c TypeScript \u7c7b\u578b\u68c0\u67e5\u5de5\u5177\uff0c\u5b83\u7684\u68c0\u67e5\u903b\u8f91\u4e0e TypeScript \u539f\u751f\u7684 tsc\n\u547d\u4ee4\u4e00\u81f4\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 tsconfig.json \u6216\u662f Builder \u7684 tools.tsChecker \u914d\u7f6e\u9879\u6765\u81ea\u5b9a\u4e49\u68c0\u67e5\u884c\u4e3a\u3002\n\n\n\u963b\u585e\u7f16\u8bd1\n\n * \u5728\u5f00\u53d1\u73af\u5883\u6784\u5efa\u65f6\uff0c\u7c7b\u578b\u9519\u8bef\u4e0d\u4f1a\u963b\u585e\u7f16\u8bd1\u6d41\u7a0b\u3002\n * \u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u65f6\uff0c\u7c7b\u578b\u9519\u8bef\u4f1a\u5bfc\u81f4\u6784\u5efa\u5931\u8d25\uff0c\u4ee5\u4fdd\u8bc1\u751f\u4ea7\u73af\u5883\u4ee3\u7801\u7684\u7a33\u5b9a\u6027\u3002\n\n\n\u793a\u4f8b\n\n\u7981\u7528 TypeScript \u7c7b\u578b\u68c0\u67e5\uff1a\n\nexport default {\n  output: {\n    disableTsChecker: true,\n  },\n};\n\n\n\u7981\u7528\u5f00\u53d1\u73af\u5883\u6784\u5efa\u65f6\u7684\u7c7b\u578b\u68c0\u67e5\uff1a\n\nexport default {\n  output: {\n    disableTsChecker: process.env.NODE_ENV === 'development',\n  },\n};\n\n\n\u7981\u7528\u751f\u4ea7\u73af\u5883\u6784\u5efa\u65f6\u7684\u7c7b\u578b\u68c0\u67e5\uff1a\n\nexport default {\n  output: {\n    disableTsChecker: process.env.NODE_ENV === 'production',\n  },\n};\n\n\n\u4e0d\u5efa\u8bae\u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u65f6\u7981\u7528\u7c7b\u578b\u68c0\u67e5\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u7ebf\u4e0a\u4ee3\u7801\u7684\u7a33\u5b9a\u6027\u4e0b\u964d\uff0c\u8bf7\u8c28\u614e\u4f7f\u7528\u3002",frontmatter:{}},{id:213,title:"",routePath:"/builder/config/output/distPath",toc:[{id:"\u793a\u4f8b-23",text:"\u793a\u4f8b",depth:4}],content:" * Type\n\ntype DistPathConfig = {\n  root?: string;\n  js?: string;\n  css?: string;\n  svg?: string;\n  font?: string;\n  html?: string;\n  image?: string;\n  media?: string;\n  server?: string;\n};\n\n\n * Default\n\nconst defaultDistPath = {\n  root: 'dist',\n  html: 'html',\n  js: 'static/js',\n  css: 'static/css',\n  svg: 'static/svg',\n  font: 'static/font',\n  image: 'static/image',\n  media: 'static/media',\n  server: 'bundles',\n};\n\n\n\u8bbe\u7f6e\u6784\u5efa\u4ea7\u7269\u7684\u8f93\u51fa\u76ee\u5f55\uff0cBuilder \u4f1a\u6839\u636e\u4ea7\u7269\u7684\u7c7b\u578b\u8f93\u51fa\u5230\u5bf9\u5e94\u7684\u5b50\u76ee\u5f55\u4e0b\u3002\n\n\u5176\u4e2d\uff1a\n\n * root: \u8868\u793a\u6240\u6709\u6784\u5efa\u4ea7\u7269\u8f93\u51fa\u7684\u6839\u76ee\u5f55\u3002\n * html\uff1a\u8868\u793a HTML \u6587\u4ef6\u7684\u8f93\u51fa\u76ee\u5f55\u3002\n * js\uff1a\u8868\u793a JavaScript \u6587\u4ef6\u7684\u8f93\u51fa\u76ee\u5f55\u3002\n * css\uff1a\u8868\u793a CSS \u6837\u5f0f\u6587\u4ef6\u7684\u8f93\u51fa\u76ee\u5f55\u3002\n * svg\uff1a\u8868\u793a SVG \u56fe\u7247\u7684\u8f93\u51fa\u76ee\u5f55\u3002\n * font\uff1a\u8868\u793a\u5b57\u4f53\u6587\u4ef6\u7684\u8f93\u51fa\u76ee\u5f55\u3002\n * image\uff1a\u8868\u793a\u975e SVG \u56fe\u7247\u7684\u8f93\u51fa\u76ee\u5f55\u3002\n * media\uff1a\u8868\u793a\u89c6\u9891\u7b49\u5a92\u4f53\u8d44\u6e90\u7684\u8f93\u51fa\u76ee\u5f55\u3002\n * server: \u8868\u793a\u670d\u52a1\u7aef\u4ea7\u7269\u7684\u8f93\u51fa\u76ee\u5f55\uff0c\u4ec5\u5728 target \u4e3a node \u65f6\u6709\u6548\u3002\n\n\u793a\u4f8b\n\n\u4ee5 JavaScript \u6587\u4ef6\u4e3a\u4f8b\uff0c\u4f1a\u8f93\u51fa\u5230 distPath.root + distPath.js \u76ee\u5f55\uff0c\u5373\u4e3a dist/static/js\u3002\n\n\u5982\u679c\u9700\u8981\u5c06 JavaScript \u6587\u4ef6\u8f93\u51fa\u5230 build/resource/js \u76ee\u5f55\uff0c\u53ef\u4ee5\u8fd9\u6837\u8bbe\u7f6e\uff1a\n\nexport default {\n  output: {\n    distPath: {\n      root: 'build',\n      js: 'resource/js',\n    },\n  },\n};\n",frontmatter:{}},{id:214,title:"",routePath:"/builder/config/output/enableAssetFallback",toc:[{id:"\u793a\u4f8b-24",text:"\u793a\u4f8b",depth:4}],content:" * Type: boolean\n * Default: false\n\n\u5f00\u542f\u8be5\u9009\u9879\u540e\uff0c\u5f53\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u9047\u5230\u65e0\u6cd5\u8bc6\u522b\u7684\u6587\u4ef6\u7c7b\u578b\u65f6\uff0c\u4f1a\u76f4\u63a5\u5c06\u8be5\u6587\u4ef6\u76f4\u63a5\u8f93\u51fa\u5230\u4ea7\u7269\u76ee\u5f55\uff1b\u5426\u5219\u4f1a\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\u3002\n\n\u793a\u4f8b\n\n\u5f00\u542f\u914d\u7f6e\u9879\uff1a\n\nexport default {\n  output: {\n    enableAssetFallback: true,\n  },\n};\n\n\n\u5728\u4ee3\u7801\u4e2d\u5f15\u7528\u4e00\u4e2a\u672a\u77e5\u7c7b\u578b\u7684\u6a21\u5757\uff1a\n\nimport './foo.xxx';\n\n\n\u7f16\u8bd1\u540e\uff0cfoo.xxx \u4f1a\u88ab\u81ea\u52a8\u8f93\u51fa\u5230 dist/static/media \u76ee\u5f55\u4e0b\u3002\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 output.distPath.media \u548c output.filename.media \u914d\u7f6e\u9879\u6765\u63a7\u5236 fallback \u540e\u7684\u8f93\u51fa\u8def\u5f84\u548c\u6587\u4ef6\u540d\u79f0\u3002\n\n\u5f00\u542f\u8be5\u914d\u7f6e\u4f1a\u5bfc\u81f4 webpack \u914d\u7f6e\u4e2d\u7684 rules \u7ed3\u6784\u53d8\u5316\uff0c\u589e\u52a0\u4e00\u5c42\u989d\u5916\u7684 oneOf \u5d4c\u5957\u7ed3\u6784\u3002\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u63a8\u8350\u4f60\u4f7f\u7528\u6b64\u914d\u7f6e\u3002",frontmatter:{}},{id:215,title:"",routePath:"/builder/config/output/enableAssetManifest",toc:[{id:"\u793a\u4f8b-25",text:"\u793a\u4f8b",depth:4}],content:' * Type: boolean\n * Default: false\n\n\u662f\u5426\u751f\u6210 manifest \u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u5305\u542b\u6240\u6709\u6784\u5efa\u4ea7\u7269\u7684\u4fe1\u606f\u3002\n\n\u793a\u4f8b\n\n\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\u6765\u5f00\u542f\uff1a\n\nexport default {\n  output: {\n    enableAssetManifest: true,\n  },\n};\n\n\n\u5f00\u542f\u540e\uff0c\u5f53\u7f16\u8bd1\u5b8c\u6210\u65f6\uff0c\u4f1a\u81ea\u52a8\u751f\u6210 dist/manifest.json \u6587\u4ef6\uff1a\n\n{\n  "files": {\n    "main.css": "/static/css/main.45b01211.css",\n    "main.js": "/static/js/main.52fd298f.js",\n    "html/main/index.html": "/html/main/index.html"\n  },\n  "entrypoints": ["static/css/main.45b01211.css", "static/js/main.52fd298f.js"]\n}\n',frontmatter:{}},{id:216,title:"",routePath:"/builder/config/output/enableCssModuleTSDeclaration",toc:[{id:"example-48",text:"Example",depth:4}],content:" * Type: boolean\n * Default: false\n\n\u662f\u5426\u751f\u6210 CSS Modules \u7684 TypeScript \u58f0\u660e\u6587\u4ef6\u3002\n\nEXAMPLE\n\n\u542f\u7528 CSS Module TypeScript \u58f0\u660e\uff0c\u6bd4\u5982\uff1a\n\nexport default {\n  output: {\n    enableCssModuleTSDeclaration: true,\n  },\n};\n\n\n\u9879\u76ee\u6784\u5efa\u5b8c\u6210\u540e\uff0c\u6bcf\u4e2a CSS Module \u6587\u4ef6\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a .d.ts \u6587\u4ef6\u3002\u4f8b\u5982\uff1a\n\ninterface CssExports {\n  title: string;\n}\nexport const cssExports: CssExports;\nexport default cssExports;\n",frontmatter:{}},{id:217,title:"",routePath:"/builder/config/output/enableInlineScripts",toc:[{id:"\u793a\u4f8b-26",text:"\u793a\u4f8b",depth:4}],content:" * Type: boolean\n * Default: false\n\n\u7528\u6765\u63a7\u5236\u751f\u4ea7\u73af\u5883\u4e2d\u662f\u5426\u7528 <script> \u6807\u7b7e\u5c06\u4ea7\u7269\u4e2d\u7684 script \u6587\u4ef6\uff08.js \u6587\u4ef6\uff09inline \u5230 HTML \u4e2d\u3002\n\n\u6ce8\u610f\uff0c\u5982\u679c\u5f00\u542f\u4e86\u8fd9\u4e2a\u9009\u9879\uff0c\u90a3\u4e48 script \u6587\u4ef6\u5c06\u4e0d\u4f1a\u88ab\u5199\u5165\u4ea7\u7269\u76ee\u5f55\u4e2d\uff0c\u800c\u53ea\u4f1a\u4ee5 inline \u811a\u672c\u7684\u5f62\u5f0f\u5b58\u5728\u4e8e HTML \u6587\u4ef6\u4e2d\u3002\n\n\u793a\u4f8b\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u6709\u8fd9\u6837\u7684\u4ea7\u7269\u6587\u4ef6\uff1a\n\ndist/html/main/index.html\ndist/static/css/style.css\ndist/static/js/main.js\n\n\n\u5f00\u542f output.enableInlineScripts \u9009\u9879\u540e\uff1a\n\nexport default {\n  output: {\n    enableInlineScripts: true,\n  },\n};\n\n\n\u4ea7\u7269\u6587\u4ef6\u5c06\u53d8\u6210\uff1a\n\ndist/html/main/index.html\ndist/static/css/style.css\n\n\n\u540c\u65f6\uff0cdist/static/js/main.js \u6587\u4ef6\u5c06\u88ab inline \u5230 index.html \u4e2d\uff1a\n\n<html>\n  <body>\n    <script>\n      // content of dist/static/js/main.js\n    <\/script>\n  </body>\n</html>\n",frontmatter:{}},{id:218,title:"",routePath:"/builder/config/output/enableInlineStyles",toc:[{id:"\u793a\u4f8b-27",text:"\u793a\u4f8b",depth:4}],content:" * Type: boolean\n * Default: false\n\n\u7528\u6765\u63a7\u5236\u751f\u4ea7\u73af\u5883\u4e2d\u662f\u5426\u7528 <style> \u6807\u7b7e\u5c06\u4ea7\u7269\u4e2d\u7684 style \u6587\u4ef6\uff08.css \u6587\u4ef6\uff09inline \u5230 HTML \u4e2d\u3002\n\n\u6ce8\u610f\uff0c\u5982\u679c\u5f00\u542f\u4e86\u8fd9\u4e2a\u9009\u9879\uff0c\u90a3\u4e48 style \u6587\u4ef6\u5c06\u4e0d\u4f1a\u88ab\u5199\u5165\u4ea7\u7269\u76ee\u5f55\u4e2d\uff0c\u800c\u53ea\u4f1a\u4ee5 inline \u6837\u5f0f\u7684\u5f62\u5f0f\u5b58\u5728\u4e8e HTML \u6587\u4ef6\u4e2d\u3002\n\n\u793a\u4f8b\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u6709\u8fd9\u6837\u7684\u4ea7\u7269\u6587\u4ef6\uff1a\n\ndist/html/main/index.html\ndist/static/css/style.css\ndist/static/js/main.js\n\n\n\u5f00\u542f output.enableInlineStyles \u9009\u9879\u540e\uff1a\n\nexport default {\n  output: {\n    enableInlineStyles: true,\n  },\n};\n\n\n\u4ea7\u7269\u6587\u4ef6\u5c06\u53d8\u6210\uff1a\n\ndist/html/main/index.html\ndist/static/js/main.js\n\n\n\u540c\u65f6\uff0cdist/static/css/style.css \u6587\u4ef6\u5c06\u88ab inline \u5230 index.html \u4e2d\uff1a\n\n<html>\n  <head>\n    <style>\n      /* content of dist/static/css/style.css */\n    </style>\n  </head>\n  <body>\n  </body>\n</html>\n",frontmatter:{}},{id:219,title:"",routePath:"/builder/config/output/enableLatestDecorators",toc:[],content:" * Type: boolean\n * Default: false\n\n\u662f\u5426\u8981\u4f7f\u7528\u65b0\u7248 decorator \u63d0\u6848 \u8fdb\u884c\u7f16\u8bd1\u3002\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u5728\u7f16\u8bd1\u88c5\u9970\u5668\u65f6\u91c7\u7528\u65e7\u7248 decorator \u63d0\u6848\u3002\n\n\u5c06 output.enableLatestDecorators \u8bbe\u7f6e\u4e3a true \u65f6\uff0cBuilder \u4f1a\u91c7\u7528\u65b0\u7248 decorator \u63d0\u6848 (2018-09\n\u7248\u672c) \u8fdb\u884c\u7f16\u8bd1\u3002\n\nexport default {\n  output: {\n    enableLatestDecorators: true,\n  },\n};\n",frontmatter:{}},{id:220,title:"",routePath:"/builder/config/output/externals",toc:[{id:"\u793a\u4f8b-28",text:"\u793a\u4f8b",depth:4}],content:" * Type : string | object | function | RegExp\n * Default: undefined\n\n\u5728\u6784\u5efa\u65f6\uff0c\u9632\u6b62\u5c06\u4ee3\u7801\u4e2d\u67d0\u4e9b import \u7684\u4f9d\u8d56\u5305\u6253\u5305\u5230 bundle \u4e2d\uff0c\u800c\u662f\u5728\u8fd0\u884c\u65f6\u518d\u53bb\u4ece\u5916\u90e8\u83b7\u53d6\u8fd9\u4e9b\u4f9d\u8d56\u3002\n\n\u8be6\u60c5\u8bf7\u89c1: webpack \u5916\u90e8\u6269\u5c55 (Externals)\n\n\u793a\u4f8b\n\n\u5c06 react-dom \u4f9d\u8d56\u4ece\u6784\u5efa\u4ea7\u7269\u4e2d\u5254\u9664\u3002\u4e3a\u4e86\u5728\u8fd0\u884c\u65f6\u83b7\u53d6\u8fd9\u4e2a\u6a21\u5757, react-dom \u7684\u503c\u5c06\u5168\u5c40\u68c0\u7d22 ReactDOM \u53d8\u91cf\u3002\n\nexport default {\n  output: {\n    externals: {\n      'react-dom': 'ReactDOM',\n    },\n  },\n};\n\n\n\u5f53\u6784\u5efa Web Worker \u4ea7\u7269\u65f6\uff0cexternals \u5c06\u4e0d\u4f1a\u751f\u6548\u3002\u8fd9\u662f\u56e0\u4e3a Worker \u73af\u5883\u4e0d\u652f\u6301\u901a\u8fc7\u8bbf\u95ee\u5168\u5c40\u53d8\u91cf\u3002",frontmatter:{}},{id:221,title:"",routePath:"/builder/config/output/filename",toc:[{id:"\u793a\u4f8b-30",text:"\u793a\u4f8b",depth:4}],content:" * Type\n\ntype FilenameConfig = {\n  js?: string;\n  css?: string;\n  svg?: string;\n  font?: string;\n  image?: string;\n  media?: string;\n};\n\n\n * Default\n\n// \u5f00\u53d1\u73af\u5883\nconst devDefaultFilename = {\n  js: '[name].js',\n  css: '[name].css',\n  svg: '[name].[contenthash:8].svg',\n  font: '[name].[contenthash:8][ext]',\n  image: '[name].[contenthash:8][ext]',\n  media: '[name].[contenthash:8][ext]',\n};\n\n// \u751f\u4ea7\u73af\u5883\nconst prodDefaultFilename = {\n  js: '[name].[contenthash:8].js',\n  css: '[name].[contenthash:8].css',\n  svg: '[name].[contenthash:8].svg',\n  font: '[name].[contenthash:8][ext]',\n  image: '[name].[contenthash:8][ext]',\n  media: '[name].[contenthash:8][ext]',\n};\n\n\n\u8bbe\u7f6e\u6784\u5efa\u4ea7\u7269\u7684\u540d\u79f0\u3002\n\n\u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u540e\uff0c\u4f1a\u81ea\u52a8\u5728\u6587\u4ef6\u540d\u4e2d\u95f4\u6dfb\u52a0 hash \u503c\uff0c\u5982\u679c\u4e0d\u9700\u8981\u6dfb\u52a0\uff0c\u53ef\u4ee5\u901a\u8fc7 output.disableFilenameHash \u914d\u7f6e\u6765\u7981\u7528\u8be5\u884c\u4e3a\u3002\n\n\u5176\u4e2d\uff1a\n\n * js\uff1a\u8868\u793a JavaScript \u6587\u4ef6\u7684\u540d\u79f0\u3002\n * css\uff1a\u8868\u793a CSS \u6837\u5f0f\u6587\u4ef6\u7684\u540d\u79f0\u3002\n * svg\uff1a\u8868\u793a SVG \u56fe\u7247\u7684\u540d\u79f0\u3002\n * font\uff1a\u8868\u793a\u5b57\u4f53\u6587\u4ef6\u7684\u540d\u79f0\u3002\n * image\uff1a\u8868\u793a\u975e SVG \u56fe\u7247\u7684\u540d\u79f0\u3002\n * media\uff1a\u8868\u793a\u89c6\u9891\u7b49\u5a92\u4f53\u8d44\u6e90\u7684\u540d\u79f0\u3002\n\n\u793a\u4f8b\n\n\u4fee\u6539 JavaScript \u6587\u4ef6\u7684\u540d\u79f0\u4e3a [name]_script.js\uff1a\n\nexport default {\n  output: {\n    filename: {\n      js:\n        process.env.NODE_ENV === 'production'\n          ? '[name]_script.[contenthash:8].js'\n          : '[name]_script.js',\n    },\n  },\n};\n",frontmatter:{}},{id:222,title:"",routePath:"/builder/config/output/legalComments",toc:[{id:"\u793a\u4f8b-29",text:"\u793a\u4f8b",depth:4}],content:" * Type : 'linked' | 'inline' | 'none'\n * Default: 'linked'\n\n\u914d\u7f6e legal comment \u7684\u5904\u7406\u65b9\u5f0f\u3002\n\nlegal comment \u662f JS \u6216 CSS \u6587\u4ef6\u4e2d\u7684\u4e00\u4e9b\u7279\u6b8a\u6ce8\u91ca\uff0c\u8fd9\u4e9b\u6ce8\u91ca\u5305\u542b @license \u6216 @preserve\uff0c\u6216\u662f\u4ee5 //!\n\u5f00\u5934\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e9b\u6ce8\u91ca\u4fdd\u7559\u5728\u8f93\u51fa\u6587\u4ef6\u4e2d\uff0c\u56e0\u4e3a\u8fd9\u9075\u5faa\u4e86\u4ee3\u7801\u539f\u4f5c\u8005\u7684\u610f\u56fe\u3002\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 legalComments \u6765\u914d\u7f6e\u76f8\u5173\u884c\u4e3a\uff1a\n\n * linked\uff1a\u5c06\u6240\u6709 legal comments \u79fb\u81f3 .LEGAL.txt \u6587\u4ef6\u5e76\u901a\u8fc7\u6ce8\u91ca\u94fe\u63a5\u5230\u5b83\u4eec\u3002\n * inline\uff1a\u4fdd\u7559\u6240\u6709 legal comments\u3002\n * none\uff1a\u79fb\u9664\u6240\u6709 legal comments\u3002\n\n\u793a\u4f8b\n\n\u79fb\u9664\u6240\u6709 legal comments\u3002\n\nexport default {\n  output: {\n    legalComments: 'none',\n  },\n};\n",frontmatter:{}},{id:223,title:"",routePath:"/builder/config/output/overrideBrowserslist",toc:[{id:"\u4f18\u5148\u7ea7",text:"\u4f18\u5148\u7ea7",depth:4},{id:"\u9ed8\u8ba4\u503c-1",text:"\u9ed8\u8ba4\u503c",depth:4},{id:"\u793a\u4f8b-31",text:"\u793a\u4f8b",depth:4},{id:"\u6839\u636e\u4ea7\u7269\u7c7b\u578b\u8bbe\u7f6e",text:"\u6839\u636e\u4ea7\u7269\u7c7b\u578b\u8bbe\u7f6e",depth:4}],content:" * Type: string[] | Record<BuilderTarget, string[]>\n * Default: undefined\n\n\u6307\u5b9a\u9879\u76ee\u517c\u5bb9\u7684\u76ee\u6807\u6d4f\u89c8\u5668\u8303\u56f4\u3002\u8be5\u503c\u4f1a\u88ab @babel/preset-env \u548c autoprefixer \u7528\u6765\u786e\u5b9a\u9700\u8981\u8f6c\u6362\u7684 JavaScript\n\u8bed\u6cd5\u7279\u6027\u548c\u9700\u8981\u6dfb\u52a0\u7684 CSS \u6d4f\u89c8\u5668\u524d\u7f00\u3002\n\n\u4f18\u5148\u7ea7\n\noverrideBrowserslist \u914d\u7f6e\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u9879\u76ee\u4e2d\u7684 .browserslistrc \u914d\u7f6e\u6587\u4ef6\u548c package.json \u4e2d\u7684\nbrowserslist \u5b57\u6bb5\u3002\n\n\u5927\u591a\u6570\u573a\u666f\u4e0b\uff0c\u63a8\u8350\u4f18\u5148\u4f7f\u7528 .browserslistrc \u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u4f7f\u7528 overrideBrowserslist \u914d\u7f6e\u3002\u56e0\u4e3a\n.browserslistrc \u6587\u4ef6\u662f\u5b98\u65b9\u5b9a\u4e49\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u901a\u7528\u6027\u66f4\u5f3a\uff0c\u53ef\u4ee5\u88ab\u793e\u533a\u4e2d\u7684\u5176\u4ed6\u5e93\u8bc6\u522b\u3002\n\n\u9ed8\u8ba4\u503c\n\n\u5982\u679c\u9879\u76ee\u4e2d\u6ca1\u6709\u5b9a\u4e49\u4efb\u4f55 browserslist \u76f8\u5173\u7684\u914d\u7f6e\uff0c\u4e5f\u6ca1\u6709\u5b9a\u4e49 overrideBrowserslist\uff0c\u90a3\u4e48 Builder \u4f1a\u8bbe\u7f6e\u9ed8\u8ba4\u503c\u4e3a\uff1a\n\n['> 0.01%', 'not dead', 'not op_mini all'];\n\n\n\u793a\u4f8b\n\n\u4e0b\u9762\u662f\u517c\u5bb9\u79fb\u52a8\u7aef H5 \u573a\u666f\u7684\u793a\u4f8b\uff1a\n\nexport default {\n  output: {\n    overrideBrowserslist: [\n      'iOS 9',\n      'Android 4.4',\n      'last 2 versions',\n      '> 0.2%',\n      'not dead',\n    ],\n  },\n};\n\n\n\u53ef\u4ee5\u67e5\u770b browserslist \u6587\u6863 \u6765\u4e86\u89e3\u5982\u4f55\u81ea\u5b9a\u4e49\u6d4f\u89c8\u5668\u8303\u56f4\u3002\n\n\u6839\u636e\u4ea7\u7269\u7c7b\u578b\u8bbe\u7f6e\n\n\u5f53\u4f60\u540c\u65f6\u6784\u5efa\u591a\u79cd\u7c7b\u578b\u7684\u4ea7\u7269\u65f6\uff0c\u4f60\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7684\u4ea7\u7269\u7c7b\u578b\u8bbe\u7f6e\u4e0d\u540c\u7684\u76ee\u6807\u6d4f\u89c8\u5668\u8303\u56f4\u3002\u6b64\u65f6\uff0c\u4f60\u9700\u8981\u628a overrideBrowserslist \u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u7684\nkey \u4e3a\u5bf9\u5e94\u7684\u4ea7\u7269\u7c7b\u578b\u3002\n\n\u6bd4\u5982\u4e3a web \u548c node \u8bbe\u7f6e\u4e0d\u540c\u7684\u8303\u56f4\uff1a\n\nexport default {\n  output: {\n    overrideBrowserslist: {\n      web: ['iOS 9', 'Android 4.4', 'last 2 versions', '> 0.2%', 'not dead'],\n      node: ['node >= 14'],\n    },\n  },\n};\n",frontmatter:{}},{id:224,title:"",routePath:"/builder/config/output/polyfill",toc:[{id:"\u914d\u7f6e\u9879",text:"\u914d\u7f6e\u9879",depth:3},{id:"entry-1",text:"entry",depth:4},{id:"usage-1",text:"usage",depth:4},{id:"ua-1",text:"ua",depth:4},{id:"off-1",text:"off",depth:4}],content:" * Type: 'entry' | 'usage' | 'ua' | 'off'\n * Default: 'entry'\n\n\u901a\u8fc7 output.polyfill \u4f60\u53ef\u4ee5\u914d\u7f6e Polyfill \u7684\u6ce8\u5165\u65b9\u5f0f\u3002\n\n\n\u914d\u7f6e\u9879\n\nENTRY\n\n\u5f53 output.polyfill \u914d\u7f6e\u4e3a 'entry' \u65f6\uff0c\u4f1a\u5728\u6bcf\u4e2a\u5165\u53e3\u6587\u4ef6\u4e2d\u6ce8\u5165 Polyfill\u3002\n\n\u7b49\u4ef7\u4e8e @babel/preset-env \u7684 useBuiltIns: 'entry' \u914d\u7f6e\u3002\n\nUSAGE\n\n\u5f53 output.polyfill \u914d\u7f6e\u4e3a 'usage' \u65f6\uff0c\u4f1a\u5728\u6bcf\u4e2a\u6587\u4ef6\u4e2d\u6839\u636e\u4ee3\u7801\u4e2d\u4f7f\u7528\u7684 API \u6ce8\u5165 Polyfill\u3002\n\n\u7b49\u4ef7\u4e8e @babel/preset-env \u7684 useBuiltIns: 'usage' \u914d\u7f6e\u3002\n\nUA\n\n\u6839\u636e\u5f53\u524d\u8bf7\u6c42\u7684 UA \u4fe1\u606f\uff0c\u52a8\u6001\u4e0b\u53d1 Polyfill \u4ee3\u7801\u3002\n\nOFF\n\n\u4e0d\u6ce8\u5165 Polyfill\u3002\u4f7f\u7528\u6b64\u9009\u9879\u65f6\uff0c\u9700\u8981\u81ea\u884c\u4fdd\u8bc1\u4ee3\u7801\u7684\u517c\u5bb9\u6027\u3002",frontmatter:{}},{id:225,title:"",routePath:"/builder/config/output/svgDefaultExport",toc:[],content:" * Type: url | component\n * Default: url\n\noutput.svgDefaultExport \u53ef\u4ee5\u7528\u6765\u914d\u7f6e SVG \u6587\u4ef6\u7684\u9ed8\u8ba4\u5bfc\u51fa\u3002\n\n\u5f53 output.svgDefaultExport \u914d\u7f6e\u4e3a url \u65f6\uff0cSVG \u6587\u4ef6\u7684\u9ed8\u8ba4\u5bfc\u51fa\u662f\u6587\u4ef6\u7684 URL\u3002\u4f8b\u5982\uff1a\n\n\n\nconsole.log(logo); // => \u8d44\u6e90 url\n\n\n\u5f53 output.svgDefaultExport \u914d\u7f6e\u4e3a component \u65f6\uff0cSVG \u6587\u4ef6\u7684\u9ed8\u8ba4\u5bfc\u51fa\u662f\u6587\u4ef6\u7684 React \u7ec4\u4ef6\u3002\u4f8b\u5982\uff1a\n\n\n\nconsole.log(Logo); // => React \u7ec4\u4ef6\n\n\n\u6b64\u65f6\uff0c\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a ?url \u7684 query \u6765\u5bfc\u5165 url\uff0c\u6bd4\u5982\uff1a\n\n\n\nconsole.log(logo); // => \u8d44\u6e90 url\n",frontmatter:{}},{id:226,title:"",routePath:"/builder/config/performance/buildCache",toc:[],content:" * Type\n\ntype BuildCacheConfig =\n  | {\n      /**\n       * webpack \u6587\u4ef6\u7f13\u5b58\u7cfb\u7edf\u7684\u7f13\u5b58\u76ee\u5f55\n       */\n      cacheDirectory?: string;\n    }\n  | boolean;\n\n\n * Default:\n\nconst defaultBuildCacheConfig = {\n  cacheDirectory: './node_modules/.cache/webpack',\n};\n\n\n\u63a7\u5236 Builder \u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u7684\u7f13\u5b58\u884c\u4e3a\u3002\n\nBuilder \u9ed8\u8ba4\u4f1a\u5f00\u542f\u6784\u5efa\u7f13\u5b58\u6765\u63d0\u5347\u4e8c\u6b21\u6784\u5efa\u7684\u901f\u5ea6\uff0c\u5e76\u9ed8\u8ba4\u628a\u751f\u6210\u7684\u7f13\u5b58\u6587\u4ef6\u5199\u5230 ./node_modules/.cache/webpack \u76ee\u5f55\u4e0b\u3002\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 buildCache \u914d\u7f6e\u7f13\u5b58\u8def\u5f84\uff0c\u6bd4\u5982\uff1a\n\nexport default {\n  performance: {\n    buildCache: {\n      cacheDirectory: './node_modules/.custom_cache/webpack',\n    },\n  },\n};\n\n\n\u5982\u679c\u4e0d\u5e0c\u671b\u7f13\u5b58\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5c06 buildCache \u7f6e\u4e3a false \u5c06\u5176\u7981\u7528\u6389\uff1a\n\nexport default {\n  performance: {\n    buildCache: false,\n  },\n};\n",frontmatter:{}},{id:227,title:"",routePath:"/builder/config/performance/bundleAnalyze",toc:[],content:" * Type: Object | undefined\n\n\u4f60\u6709\u4e24\u79cd\u65b9\u5f0f\u5f00\u542f webpack-bundle-analyzer \u6765\u5206\u6790\u6784\u5efa\u4ea7\u7269\u7684\u4f53\u79ef:\n\n * \u6dfb\u52a0\u73af\u5883\u53d8\u91cf BUNDLE_ANALYZE=true\uff1b\n * \u914d\u7f6e performance.bundleAnalyze\u3002\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4e0d\u4f1a\u5f00\u542f webpack-bundle-analyzer\uff0c\u5f53\u5f00\u542f\u4e4b\u540e\u5b83\u7684\u914d\u7f6e\u5982\u4e0b:\n\n{\n  analyzerMode: 'static',\n  openAnalyzer: false,\n  // target \u4e3a\u7f16\u8bd1\u76ee\u6807\uff0c\u5982 `web`\u3001`node` \u7b49\n  reportFilename: `report-${target}.html`,\n}\n\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 performance.bundleAnalyze \u6765\u8986\u76d6\u9ed8\u8ba4\u914d\u7f6e\uff0c\u6bd4\u5982\uff1a\n\nexport default {\n  performance: {\n    bundleAnalyze: {\n      analyzerMode: 'server',\n      openAnalyzer: true,\n    },\n  },\n};\n",frontmatter:{}},{id:228,title:"",routePath:"/builder/config/performance/chunkSplit",toc:[{id:"chunksplitstrategy-1",text:"chunkSplit.strategy",depth:3},{id:"chunksplitminsize-1",text:"chunkSplit.minSize",depth:3},{id:"chunksplitmaxsize-1",text:"chunkSplit.maxSize",depth:3},{id:"chunksplitforcesplitting-1",text:"chunkSplit.forceSplitting",depth:3},{id:"chunksplitsplitchunks-1",text:"chunkSplit.splitChunks",depth:3},{id:"chunksplitoverride-1",text:"chunkSplit.override",depth:3}],content:" * Type: Object\n * Default: { strategy: 'split-by-experience' }\n\nperformance.chunkSplit \u7528\u4e8e\u914d\u7f6e Builder \u7684\u62c6\u5305\u7b56\u7565\u3002\u914d\u7f6e\u9879\u7684\u7c7b\u578b ChunkSplit \u5982\u4e0b:\n\ninterface BaseChunkSplit {\n  strategy?:\n    | 'split-by-module'\n    | 'split-by-experience'\n    | 'all-in-one'\n    | 'single-vendor';\n  override?: SplitChunks;\n  forceSplitting?: Array<RegExp>;\n}\n\ninterface SplitBySize {\n  strategy?: 'split-by-size';\n  minSize?: number;\n  maxSize?: number;\n  override?: SplitChunks;\n  forceSplitting?: Array<RegExp>;\n}\n\ninterface SplitCustom {\n  strategy?: 'custom';\n  splitChunks?: SplitChunks;\n  forceSplitting?: Array<RegExp>;\n}\n\nexport type ChunkSplit = BaseChunkSplit | SplitBySize | SplitCustom;\n\n\n\nCHUNKSPLIT.STRATEGY\n\nBuilder \u652f\u6301\u516d\u79cd\u7c7b\u578b\u7684\u62c6\u5305\u7b56\u7565:\n\n * split-by-experience: \u6839\u636e\u7ecf\u9a8c\u5185\u7f6e\u62c6\u5206\u7b56\u7565\n * split-by-module: \u6839\u636e NPM \u5305\u62c6\u5206\uff0c\u6bcf\u4e2a NPM \u5305\u4e00\u4e2a chunk\n * split-by-size: \u6839\u636e chunk \u5927\u5c0f\u62c6\u5206\n * all-in-one: \u6240\u6709\u4ee3\u7801\u6253\u5305\u5230\u4e00\u4e2a chunk\n * single-vendor: node_modules \u4e2d\u7684\u4ee3\u7801\u6253\u5305\u5230\u4e00\u4e2a\u5355\u72ec\u7684 chunk\n * custom: \u81ea\u5b9a\u4e49\u62c6\u5305\u914d\u7f6e\n\nBuilder \u9ed8\u8ba4\u91c7\u7528 split-by-experience \u7b56\u7565\uff0c\u5177\u4f53\u6765\u8bf4\uff0c\u4ee5\u4e0b\u7684 NPM \u5305\u5206\u7ec4\u4f1a\u88ab\u62c6\u5206\u4e3a\u5355\u72ec\u7684 chunk:\n\n * react \u548c react-dom\n * react-router\u3001history \u548c react-router-dom\n * antd \u7ec4\u4ef6\u5e93\n * semi \u7ec4\u4ef6\u5e93\n * arco \u7ec4\u4ef6\u5e93\n * @babel/runtime \u7684\u4ee3\u7801(\u4e5f\u5305\u62ec @babel/runtime-corejs2\u3001 @babel/runtime-corejs3)\n * lodash \u548c lodash-es\n * core-js\n\n\u5982\u679c\u4f60\u60f3\u4f7f\u7528\u5176\u4ed6\u62c6\u5305\u7b56\u7565\uff0c\u53ef\u4ee5\u901a\u8fc7 performance.chunkSplit.strategy \u914d\u7f6e\u9879\u6765\u6307\u5b9a\u3002\n\n\nCHUNKSPLIT.MINSIZE\n\n * Type: number\n * Default: 10000\n\n\u5f53 performance.chunkSplit.strategy \u4e3a split-by-size \u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\nperformance.chunkSplit.minSize \u914d\u7f6e\u9879\u6765\u6307\u5b9a chunk \u7684\u6700\u5c0f\u5927\u5c0f\uff0c\u5355\u4f4d\u4e3a\u5b57\u8282\u3002\u9ed8\u8ba4\u503c\u4e3a 10000\u3002\u6bd4\u5982:\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-size',\n      minSize: 20000,\n    },\n  },\n};\n\n\n\nCHUNKSPLIT.MAXSIZE\n\n * Type: number\n * Default: Infinity\n\n\u5f53 performance.chunkSplit.strategy \u4e3a split-by-size \u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\nperformance.chunkSplit.maxSize \u914d\u7f6e\u9879\u6765\u6307\u5b9a chunk \u7684\u6700\u5927\u5927\u5c0f\uff0c\u5355\u4f4d\u4e3a\u5b57\u8282\u3002\u9ed8\u8ba4\u503c\u4e3a Infinity\u3002\u6bd4\u5982:\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-size',\n      maxSize: 50000,\n    },\n  },\n};\n\n\n\nCHUNKSPLIT.FORCESPLITTING\n\n * Type: Array<RegExp>\n * Default: []\n\n\u901a\u8fc7 performance.chunkSplit.forceSplitting \u914d\u7f6e\u9879\u53ef\u4ee5\u6307\u5b9a\u5f3a\u5236\u62c6\u5305\u7684 NPM \u5305\u3002\u6bd4\u5982:\n\nexport default {\n  performance: {\n    chunkSplit: {\n      forceSplitting: [/^@arco-design\\/web-react/],\n    },\n  },\n};\n\n\n\u76f8\u6bd4\u76f4\u63a5\u914d\u7f6e webpack \u7684 splitChunks\uff0c\u8fd9\u662f\u4e00\u4e2a\u66f4\u52a0\u7b80\u4fbf\u7684\u65b9\u5f0f\u3002\n\n\nCHUNKSPLIT.SPLITCHUNKS\n\n\u5f53 performance.chunkSplit.strategy \u4e3a custom \u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\nperformance.chunkSplit.splitChunks \u914d\u7f6e\u9879\u6765\u6307\u5b9a\u81ea\u5b9a\u4e49\u7684 webpack \u62c6\u5305\u914d\u7f6e\u3002\u6b64\u914d\u7f6e\u4f1a\u548c webpack \u7684\nsplitChunks \u914d\u7f6e\u8fdb\u884c\u5408\u5e76\uff08cacheGroups \u914d\u7f6e\u4e5f\u4f1a\u5408\u5e76\uff09\u3002\u6bd4\u5982:\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'custom',\n      splitChunks: {\n        cacheGroups: {\n          react: {\n            test: /[\\\\/]node_modules[\\\\/](react|react-dom)[\\\\/]/,\n            name: 'react',\n            chunks: 'all',\n          },\n        },\n      },\n    },\n  },\n};\n\n\n\nCHUNKSPLIT.OVERRIDE\n\n\u5f53 performance.chunkSplit.strategy \u4e3a\nsplit-by-experience\u3001split-by-module\u3001split-by-size \u6216 single-vendor \u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\nperformance.chunkSplit.override \u914d\u7f6e\u9879\u6765\u81ea\u5b9a\u4e49 webpack \u62c6\u5305\u914d\u7f6e\uff0c\u6b64\u914d\u7f6e\u4f1a\u548c webpack \u7684 splitChunks\n\u914d\u7f6e\u8fdb\u884c\u5408\u5e76\uff08cacheGroups \u914d\u7f6e\u4e5f\u4f1a\u5408\u5e76\uff09\u3002\u6bd4\u5982:\n\nexport default {\n  performance: {\n    strategy: 'split-by-experience',\n    chunkSplit: {\n      override: {\n        cacheGroups: {\n          react: {\n            test: /[\\\\/]node_modules[\\\\/](react|react-dom)[\\\\/]/,\n            name: 'react',\n            chunks: 'all',\n          },\n        },\n      },\n    },\n  },\n};\n\n\n> \u5f53 Builder \u6784\u5efa \"node\" \u7c7b\u578b\u7684\u4ea7\u7269\u65f6\uff0c\u7531\u4e8e Node Bundles \u4e0d\u9700\u8981\u901a\u8fc7\u62c6\u5305\u6765\u4f18\u5316\u52a0\u8f7d\u6027\u80fd\uff0c\u56e0\u6b64 chunkSplit\n> \u89c4\u5219\u4e0d\u4f1a\u751f\u6548\u3002",frontmatter:{}},{id:229,title:"",routePath:"/builder/config/performance/printFileSize",toc:[{id:"\u793a\u4f8b-32",text:"\u793a\u4f8b",depth:4}],content:" * Type: boolean\n * Default: true\n\n\u662f\u5426\u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u540e\u8f93\u51fa\u6240\u6709\u9759\u6001\u8d44\u6e90\u6587\u4ef6\u7684\u4f53\u79ef\u3002\n\ninfo    File sizes after production build:\n\n  File                                     Size         Gzipped\n  dist/static/js/lib-corejs.1c836fe7.js    212.89 kB    66.57 kB\n  dist/static/js/lib-react.fcafbc5c.js     134.65 kB    43.45 kB\n  dist/static/js/main.6ff06f70.js          8.93 kB      3.73 kB\n  dist/static/css/main.9f48031b.css        2.64 kB      927 B\n  dist/html/main/index.html                1.64 kB      874 B\n\n\n\u793a\u4f8b\n\n\u7981\u7528\u76f8\u5173\u65e5\u5fd7\uff1a\n\nexport default {\n  performance: {\n    printFileSize: false,\n  },\n};\n",frontmatter:{}},{id:230,title:"",routePath:"/builder/config/performance/profile",toc:[{id:"\u793a\u4f8b-33",text:"\u793a\u4f8b",depth:4}],content:" * Type: boolean\n * Default: false\n\n\u662f\u5426\u6355\u83b7\u6bcf\u4e2a\u6a21\u5757\u7684\u8017\u65f6\u4fe1\u606f\uff0c\u5bf9\u5e94 webpack \u7684 profile \u914d\u7f6e\u3002\n\n\u793a\u4f8b\n\nexport default {\n  performance: {\n    profile: true,\n  },\n};\n\n\n\u5f00\u542f\u540e\uff0cWebpack \u751f\u6210\u4e00\u4e9b\u6709\u5173\u6a21\u5757\u7684\u7edf\u8ba1\u6570\u636e\u7684 JSON \u6587\u4ef6\u4f1a\u5c06\u6a21\u5757\u6784\u5efa\u7684\u8017\u65f6\u4fe1\u606f\u4e5f\u5305\u542b\u8fdb\u53bb\u3002",frontmatter:{}},{id:231,title:"",routePath:"/builder/config/performance/removeConsole",toc:[{id:"\u79fb\u9664\u6240\u6709-console",text:"\u79fb\u9664\u6240\u6709 console",depth:4},{id:"\u79fb\u9664\u7279\u5b9a\u7684-console",text:"\u79fb\u9664\u7279\u5b9a\u7684 console",depth:4}],content:" * Type: boolean | ConsoleType[]\n * Default: false\n\n\u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u65f6\uff0c\u662f\u5426\u81ea\u52a8\u79fb\u9664\u4ee3\u7801\u4e2d\u7684 console.xx\u3002\n\n\u79fb\u9664\u6240\u6709 CONSOLE\n\n\u5f53 removeConsole \u88ab\u8bbe\u7f6e\u4e3a true \u65f6\uff0c\u4f1a\u79fb\u9664\u6240\u6709\u7c7b\u578b\u7684 console.xx\uff1a\n\nexport default {\n  performance: {\n    removeConsole: true,\n  },\n};\n\n\n\u79fb\u9664\u7279\u5b9a\u7684 CONSOLE\n\n\u4f60\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4ec5\u79fb\u9664\u7279\u5b9a\u7c7b\u578b\u7684 console.xx\uff0c\u6bd4\u5982\u79fb\u9664 console.log \u548c console.warn\uff1a\n\nexport default {\n  performance: {\n    removeConsole: ['log', 'warn'],\n  },\n};\n\n\n\u76ee\u524d\u652f\u6301\u914d\u7f6e\u4ee5\u4e0b\u7c7b\u578b\u7684 console\uff1a\n\ntype ConsoleType = 'log' | 'info' | 'warn' | 'error' | 'table' | 'group';\n",frontmatter:{}},{id:232,title:"",routePath:"/builder/config/performance/removeMomentLocale",toc:[],content:" * Type: boolean\n * Default: false\n\n\u662f\u5426\u79fb\u9664 moment.js \u7684\u8bed\u8a00\u5305\u6587\u4ef6\u3002\n\nmoment.js \u9ed8\u8ba4\u5305\u542b\u4e86\u5927\u91cf\u7684\u8bed\u8a00\u5305\u6587\u4ef6\uff0c\u4f1a\u5bfc\u81f4\u6253\u5305\u540e\u7684\u5305\u4f53\u79ef\u589e\u5927\u3002\n\n\u5f53\u9879\u76ee\u4e2d\u4f7f\u7528\u4e86 moment.js \u65f6\uff0c\u63a8\u8350\u5f00\u542f\u6b64\u9009\u9879\uff0c\u81ea\u52a8\u6392\u9664\u6240\u6709\u7684\u8bed\u8a00\u5305\u6587\u4ef6\uff1a\n\nexport default {\n  performance: {\n    removeMomentLocale: true,\n  },\n};\n\n\n\u5f00\u542f\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u6765\u52a0\u8f7d\u8bed\u8a00\u5305\u6587\u4ef6\uff1a\n\n\nimport 'moment/locale/zh-cn';\n\nmoment.locale('zh-cn');\n",frontmatter:{}},{id:233,title:"",routePath:"/builder/config/security/sri",toc:[{id:"sri-\u4ecb\u7ecd",text:"SRI \u4ecb\u7ecd",depth:4},{id:"\u793a\u4f8b-35",text:"\u793a\u4f8b",depth:4}],content:' * Type:\n\ntype SRIOptions = {\n  hashFuncNames?: []string;\n  enabled?: "auto" | true | false;\n  hashLoading?: "eager" | "lazy";\n} | boolean;\n\n\n * Default: undefined\n\n\u4e3a HTML \u6240\u5f15\u5165\u7684\u5b50\u8d44\u6e90\u6dfb\u52a0\u5b8c\u6574\u6027\u5c5e\u6027 \u2014\u2014 integrity\uff0c\u4f7f\u6d4f\u89c8\u5668\u80fd\u591f\u9a8c\u8bc1\u5f15\u5165\u8d44\u6e90\u7684\u5b8c\u6574\u6027\uff0c\u4ee5\u6b64\u9632\u6b62\u4e0b\u8f7d\u7684\u8d44\u6e90\u88ab\u7be1\u6539\u3002\n\n\u542f\u52a8\u8be5\u9009\u9879\u540e\u4f1a\u5c06 webpack \u7684 output.crossOriginLoading \u914d\u7f6e\u9879\u8bbe\u7f6e\u4e3a anonymous\u3002\n\nSRI \u4ecb\u7ecd\n\n\u5b50\u8d44\u6e90\u5b8c\u6574\u6027 Subresource Integrity\uff08SRI\uff09\u662f\u4e13\u95e8\u7528\u6765\u6821\u9a8c\u8d44\u6e90\u7684\u4e00\u79cd\u65b9\u6848\uff0c\u5b83\u8bfb\u53d6\u8d44\u6e90\u6807\u7b7e\u4e2d\u7684 integrity\n\u5c5e\u6027\uff0c\u5c06\u5176\u4e2d\u7684\u4fe1\u606f\u6458\u8981\u503c\uff0c\u548c\u8d44\u6e90\u5b9e\u9645\u7684\u4fe1\u606f\u6458\u8981\u503c\u8fdb\u884c\u5bf9\u6bd4\uff0c\u5982\u679c\u53d1\u73b0\u65e0\u6cd5\u5339\u914d\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u5c31\u4f1a\u62d2\u7edd\u6267\u884c\u8d44\u6e90\u3002\n\n\u5bf9\u4e8e script \u6807\u7b7e\u6765\u8bf4\uff0c\u7ed3\u679c\u4e3a\u62d2\u7edd\u6267\u884c\u5176\u4e2d\u7684\u4ee3\u7801\uff1b\u5bf9\u4e8e CSS link \u6765\u8bf4\uff0c\u7ed3\u679c\u4e3a\u4e0d\u52a0\u8f7d\u5176\u4e2d\u7684\u6837\u5f0f\u3002\n\n\u5173\u4e8e SRI \u7684\u66f4\u591a\u5185\u5bb9\uff0c\u53ef\u4ee5\u67e5\u770b Subresource Integrity - MDN\u3002\n\n\u793a\u4f8b\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4e0d\u4f1a\u5f00\u542f SRI\uff0c\u5f53\u5f00\u542f\u4e4b\u540e\u5b83\u7684\u9ed8\u8ba4\u914d\u7f6e\u5982\u4e0b\uff1a\n\n{\n  hashFuncNames: [\'sha384\'];\n  enabled: "auto",\n  hashLoading: "eager",\n}\n\n\n\u4f60\u53ef\u4ee5\u6309\u7167\u4f60\u81ea\u5df1\u7684\u9700\u6c42\u81ea\u5b9a\u4e49\u914d\u7f6e\u9879:\n\nexport default {\n  security: {\n    sri: {\n      hashFuncNames: [\'sha-256\'],\n      enabled: true,\n      hashLoading: \'lazy\',\n    },\n  },\n};\n',frontmatter:{}},{id:234,title:"",routePath:"/builder/config/source/alias",toc:[{id:"object-\u7c7b\u578b-1",text:"Object \u7c7b\u578b",depth:4},{id:"function-\u7c7b\u578b",text:"Function \u7c7b\u578b",depth:4}],content:" * Type: Record<string, string | string[]> | Function\n * Default: undefined\n\n\u8bbe\u7f6e\u6587\u4ef6\u5f15\u7528\u7684\u522b\u540d\uff0c\u5bf9\u5e94 webpack \u7684 resolve.alias \u914d\u7f6e\u3002\n\n\u5bf9\u4e8e TypeScript \u9879\u76ee\uff0c\u53ea\u9700\u8981\u5728 tsconfig.json \u4e2d\u914d\u7f6e compilerOptions.paths \u5373\u53ef\uff0cBuilder \u4f1a\u81ea\u52a8\u8bc6\u522b\ntsconfig.json \u91cc\u7684\u522b\u540d\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u989d\u5916\u914d\u7f6e alias \u5b57\u6bb5\u3002\n\nOBJECT \u7c7b\u578b\n\nalias \u7684\u503c\u53ef\u4ee5\u5b9a\u4e49\u4e3a Object \u7c7b\u578b\uff0c\u5176\u4e2d\u7684\u76f8\u5bf9\u8def\u5f84\u4f1a\u81ea\u52a8\u88ab Builder \u8f6c\u6362\u4e3a\u7edd\u5bf9\u8def\u5f84\u3002\n\nexport default {\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n};\n\n\n\u4ee5\u4e0a\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u5982\u679c\u5728\u4ee3\u7801\u4e2d\u5f15\u7528 @common/Foo.tsx, \u5219\u4f1a\u6620\u5c04\u5230 <root>/src/common/Foo.tsx \u8def\u5f84\u4e0a\u3002\n\nFUNCTION \u7c7b\u578b\n\nalias \u7684\u503c\u5b9a\u4e49\u4e3a\u51fd\u6570\u65f6\uff0c\u53ef\u4ee5\u63a5\u53d7\u9884\u8bbe\u7684 alias \u5bf9\u8c61\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002\n\nexport default {\n  source: {\n    alias: alias => {\n      alias['@common'] = './src/common';\n    },\n  },\n};\n\n\n\u4e5f\u53ef\u4ee5\u5728\u51fd\u6570\u4e2d\u8fd4\u56de\u4e00\u4e2a\u65b0\u5bf9\u8c61\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c\uff0c\u65b0\u5bf9\u8c61\u4f1a\u8986\u76d6\u9884\u8bbe\u7684 alias \u5bf9\u8c61\u3002\n\nexport default {\n  source: {\n    alias: alias => {\n      return {\n        '@common': './src/common',\n      };\n    },\n  },\n};\n",frontmatter:{}},{id:235,title:"",routePath:"/builder/config/source/compileJsDataURI",toc:[{id:"\u793a\u4f8b-34",text:"\u793a\u4f8b",depth:4}],content:" * Type: boolean\n * Default: true\n\n\u5bf9\u4e8e\u4f7f\u7528 Data URI \u5f15\u5165\u7684 JavaScript \u4ee3\u7801\uff0c\u662f\u5426\u91c7\u7528 babel \u8fdb\u884c\u7f16\u8bd1\u3002\n\n\u6bd4\u5982\u4ee5\u4e0b\u4ee3\u7801\uff1a\n\n\n\nimport 'data:text/javascript;charset=utf-8;base64,Y29uc29sZS5sb2coJ2lubGluZSAxJyk7';\n\n\n\u793a\u4f8b\n\n\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\u6765\u5173\u95ed\uff1a\n\nexport default {\n  source: {\n    compileJsDataURI: false,\n  },\n};\n",frontmatter:{}},{id:236,title:"",routePath:"/builder/config/source/define",toc:[{id:"\u793a\u4f8b-36",text:"\u793a\u4f8b",depth:4}],content:" * Type: Record<string, unknown>\n * Default: {}\n\n\u6784\u5efa\u65f6\u5c06\u4ee3\u7801\u4e2d\u7684\u53d8\u91cf\u66ff\u6362\u6210\u5176\u5b83\u503c\u6216\u8005\u8868\u8fbe\u5f0f\uff0c\u53ef\u4ee5\u7528\u4e8e\u5728\u4ee3\u7801\u903b\u8f91\u4e2d\u533a\u5206\u5f00\u53d1\u73af\u5883\u4e0e\u751f\u4ea7\u73af\u5883\u7b49\u573a\u666f\u3002\n\n\u4f20\u5165\u7684\u914d\u7f6e\u5bf9\u8c61\u7684\u952e\u540d\u662f\u9700\u8981\u66ff\u6362\u53d8\u91cf\u7684\u540d\u79f0\uff0c\u6216\u8005\u662f\u7528 . \u8fde\u63a5\u7684\u591a\u4e2a\u6807\u8bc6\u7b26\uff0c\u914d\u7f6e\u9879\u7684\u503c\u5219\u6839\u636e\u7c7b\u578b\u8fdb\u884c\u4e0d\u540c\u7684\u5904\u7406\uff1a\n\n * \u5b57\u7b26\u4e32\u4f1a\u88ab\u5f53\u4f5c\u4ee3\u7801\u7247\u6bb5\u3002\n * \u5305\u62ec\u51fd\u6570\u5728\u5185\u7684\u5176\u4ed6\u7c7b\u578b\u4f1a\u88ab\u8f6c\u6362\u6210\u5b57\u7b26\u4e32\u3002\n * \u5d4c\u5957\u5bf9\u8c61\u7684\u7236\u5b50\u952e\u540d\u4e4b\u95f4\u4f1a\u7528 . \u8fde\u63a5\u4f5c\u4e3a\u9700\u8981\u66ff\u6362\u7684\u53d8\u91cf\u540d\u3002\n * \u4ee5 typeof \u5f00\u5934\u7684\u952e\u540d\u4f1a\u7528\u6765\u66ff\u6362 typeof \u8c03\u7528\u3002\n\n\u66f4\u591a\u7ec6\u8282\u53c2\u8003 https://webpack.js.org/plugins/define-plugin/\u3002\n\n\u793a\u4f8b\n\nexport default {\n  source: {\n    define: {\n      PRODUCTION: JSON.stringify(true),\n      VERSION: JSON.stringify('5fa3b9'),\n      BROWSER_SUPPORTS_HTML5: true,\n      TWO: '1 + 1',\n      'typeof window': JSON.stringify('object'),\n      'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV),\n      'import.meta': { test: undefined },\n    },\n  },\n};\n\n\n\u8868\u8fbe\u5f0f\u4f1a\u88ab\u66ff\u6362\u4e3a\u5bf9\u5e94\u7684\u4ee3\u7801\u6bb5\uff1a\n\nconst foo = TWO;\n\n// \u2b07\ufe0f Turn into being...\nconst foo = 1 + 1;\n",frontmatter:{}},{id:237,title:"",routePath:"/builder/config/source/exclude",toc:[],content:" * Type: Array<string | RegExp>\n * Default: []\n\n\u6307\u5b9a\u4e0d\u9700\u8981\u7f16\u8bd1\u7684 JavaScript/TypeScript \u6587\u4ef6\u3002\u7528\u6cd5\u4e0e webpack \u4e2d\u7684 Rule.exclude\n\u4e00\u81f4\uff0c\u652f\u6301\u4f20\u5165\u5b57\u7b26\u4e32\u6216\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5339\u914d\u6a21\u5757\u7684\u8def\u5f84\u3002\n\n\u6bd4\u5982:\n\n\n\nexport default {\n  source: {\n    exclude: [path.resolve(__dirname, 'src/module-a'), /src\\/module-b/],\n  },\n};\n",frontmatter:{}},{id:238,title:"",routePath:"/builder/config/source/globalVars",toc:[{id:"\u793a\u4f8b-37",text:"\u793a\u4f8b",depth:4}],content:" * Type: Record<string, JSONValue>\n * Default:\n\n// Builder \u4f1a\u81ea\u52a8\u6dfb\u52a0\u73af\u5883\u53d8\u91cf `process.env.NODE_ENV` \u4f5c\u4e3a\u9ed8\u8ba4\u503c\uff0c\u56e0\u6b64\u4f60\u4e0d\u9700\u8981\u624b\u52a8\u6dfb\u52a0\u5b83\u3002\nconst defaultGlobalVars = {\n  'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV),\n};\n\n\n\u6784\u5efa\u65f6\u5c06\u7c7b\u4f3c process.env.FOO \u7684\u5168\u5c40\u53d8\u91cf\u8868\u8fbe\u5f0f\u66ff\u6362\u4e3a\u6307\u5b9a\u7684\u503c\uff0c\u6bd4\u5982\uff1a\n\nconsole.log(process.env.NODE_ENV);\n\n// \u2b07\ufe0f Turn into being...\nconsole.log('development');\n\n\n\u4f7f\u7528\u89e3\u6784\u8d4b\u503c\u65f6\uff0c\u6784\u5efa\u5668\u65e0\u6cd5\u5224\u65ad\u53d8\u91cf NODE_ENV \u662f\u5426\u4e0e\u8981\u66ff\u6362\u7684\u8868\u8fbe\u5f0f process.env.NODE_ENV \u5b58\u5728\u5173\u8054\uff0c\u6240\u4ee5\u8fd9\u6837\u7684\u4f7f\u7528\u65b9\u5f0f\u662f\u65e0\u6548\u7684\uff1a\n\nconst { NODE_ENV } = process.env;\nconsole.log(NODE_ENV);\n// \u274c Won't get a string.\n\n\nsource.globalVars \u662f source.define \u7684\u4e00\u4e2a\u8bed\u6cd5\u7cd6\uff0c\u552f\u4e00\u7684\u533a\u522b\u662f source.globalVars \u4f1a\u81ea\u52a8\u5c06\u4f20\u5165\u7684\u503c\u8fdb\u884c\nJSON \u5e8f\u5217\u5316\u5904\u7406\uff0c\u8fd9\u4f7f\u5f97\u8bbe\u7f6e\u5168\u5c40\u53d8\u91cf\u7684\u503c\u66f4\u5bb9\u6613\u3002\u6ce8\u610f globalVars \u7684\u6bcf\u4e2a\u503c\u90fd\u9700\u8981\u662f\u53ef\u4ee5\u88ab JSON \u5e8f\u5217\u5316\u7684\u503c\u3002\n\nexport default {\n  source: {\n    globalVars: {\n      'process.env.BUILD_VERSION': '0.0.1',\n      'import.meta.foo': { bar: 42 },\n      'import.meta.baz': false,\n    },\n    define: {\n      'process.env.BUILD_VERSION': JSON.stringify('0.0.1'),\n      'import.meta': {\n        foo: JSON.stringify({ bar: 42 }),\n        baz: JSON.stringify(false),\n      },\n    },\n  },\n};\n\n\n\u793a\u4f8b\n\nexport default {\n  source: {\n    globalVars: {\n      ENABLE_VCONSOLE: true,\n      APP_CONTEXT: { answer: 42 },\n    },\n  },\n};\n",frontmatter:{}},{id:239,title:"",routePath:"/builder/config/source/include",toc:[{id:"\u573a\u666f\u793a\u4f8b",text:"\u573a\u666f\u793a\u4f8b",depth:3},{id:"monorepo-\u9879\u76ee",text:"Monorepo \u9879\u76ee",depth:3},{id:"\u6ce8\u610f\u4e8b\u9879",text:"\u6ce8\u610f\u4e8b\u9879",depth:3}],content:" * Type: Array<string | RegExp>\n * Default: []\n\n\u51fa\u4e8e\u7f16\u8bd1\u6027\u80fd\u7684\u8003\u8651\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4e0d\u4f1a\u7f16\u8bd1 node_modules \u4e0b\u7684 JavaScript/TypeScript\n\u6587\u4ef6\uff0c\u4e5f\u4e0d\u4f1a\u7f16\u8bd1\u5f53\u524d\u5de5\u7a0b\u76ee\u5f55\u5916\u90e8\u7684 JavaScript/TypeScript \u6587\u4ef6\u3002\n\n\u901a\u8fc7 source.include \u914d\u7f6e\u9879\uff0c\u53ef\u4ee5\u6307\u5b9a\u9700\u8981\u989d\u5916\u8fdb\u884c\u7f16\u8bd1\u7684\u76ee\u5f55\u6216\u6a21\u5757\u3002\u7528\u6cd5\u4e0e webpack \u4e2d\u7684 Rule.include\n\u4e00\u81f4\uff0c\u652f\u6301\u4f20\u5165\u5b57\u7b26\u4e32\u6216\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5339\u914d\u6a21\u5757\u7684\u8def\u5f84\u3002\n\n\u6bd4\u5982:\n\n\n\nexport default {\n  source: {\n    include: [path.resolve(__dirname, '../other-dir')],\n  },\n};\n\n\n\n\u573a\u666f\u793a\u4f8b\n\n\u6bd4\u8f83\u5178\u578b\u7684\u4f7f\u7528\u573a\u666f\u662f\u7f16\u8bd1 node_modules \u4e0b\u7684\u6587\u4ef6\uff0c\u56e0\u4e3a\u67d0\u4e9b\u7b2c\u4e09\u65b9\u4f9d\u8d56\u5b58\u5728 ES6+\n\u7684\u8bed\u6cd5\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u5728\u4f4e\u7248\u672c\u6d4f\u89c8\u5668\u4e0a\u65e0\u6cd5\u8fd0\u884c\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8be5\u9009\u9879\u6307\u5b9a\u9700\u8981\u7f16\u8bd1\u7684\u4f9d\u8d56\uff0c\u4ece\u800c\u89e3\u51b3\u6b64\u7c7b\u95ee\u9898\u3002\u4ee5 query-string \u4e3a\u4f8b\uff0c\u4f60\u53ef\u4ee5\u505a\u5982\u4e0b\u7684\u914d\u7f6e\uff1a\n\n\n\nexport default {\n  source: {\n    include: [\n      // \u65b9\u6cd5\u4e00:\n      // \u5148\u901a\u8fc7 require.resolve \u6765\u83b7\u53d6\u6a21\u5757\u7684\u8def\u5f84\n      // \u518d\u901a\u8fc7 path.dirname \u6765\u6307\u5411\u5bf9\u5e94\u7684\u76ee\u5f55\n      path.dirname(require.resolve('query-string')),\n      // \u65b9\u6cd5\u4e8c:\n      // \u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u5339\u914d\n      // \u6240\u6709\u5305\u542b `/query-string/` \u7684\u8def\u5f84\u90fd\u4f1a\u88ab\u5339\u914d\u5230\n      /\\/query-string\\//,\n    ],\n  },\n};\n\n\n> \u6ce8\u610f\uff0c\u8be5\u914d\u7f6e\u53ea\u4f1a\u7f16\u8bd1 query-string \u81ea\u8eab\u7684\u4ee3\u7801\uff0c\u4e0d\u4f1a\u7f16\u8bd1 query-string \u7684\u5b50\u4f9d\u8d56\u3002\u5982\u679c\u9700\u8981\u7f16\u8bd1 query-string\n> \u7684\u5b50\u4f9d\u8d56\uff0c\u5219\u9700\u8981\u5c06\u5bf9\u5e94\u7684 npm \u5305\u4e5f\u52a0\u5165\u5230 source.include \u4e2d\u3002\n\n\nMONOREPO \u9879\u76ee\n\n\u4f7f\u7528 Monorepo \u65f6\uff0c\u5982\u679c\u9700\u8981\u5f15\u7528 Monorepo \u4e2d\u5176\u4ed6\u5e93\u7684\u6e90\u4ee3\u7801\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728 source.include \u8fdb\u884c\u914d\u7f6e:\n\n\n\nexport default {\n  source: {\n    include: [\n      // \u65b9\u6cd5\u4e00:\n      // \u7f16\u8bd1 Monorepo \u7684 package \u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\n      path.resolve(__dirname, '../../packages'),\n\n      // \u65b9\u6cd5\u4e8c:\n      // \u7f16\u8bd1 Monorepo \u7684 package \u76ee\u5f55\u91cc\u67d0\u4e2a\u5305\u7684\u6e90\u4ee3\u7801\n      // \u8fd9\u79cd\u5199\u6cd5\u5339\u914d\u7684\u8303\u56f4\u66f4\u52a0\u7cbe\u51c6\uff0c\u5bf9\u6574\u4f53\u7f16\u8bd1\u6027\u80fd\u7684\u5f71\u54cd\u66f4\u5c0f\n      path.resolve(__dirname, '../../packages/xxx/src'),\n    ],\n  },\n};\n\n\n\n\u6ce8\u610f\u4e8b\u9879\n\n\u6ce8\u610f\uff0cBabel \u9ed8\u8ba4\u65e0\u6cd5\u7f16\u8bd1 CommonJS \u6a21\u5757\uff0c\u5f53\u4f60\u4f7f\u7528 source.include \u6765\u7f16\u8bd1 CommonJS \u6a21\u5757\u65f6\uff0c\u9700\u8981\u5c06 Babel \u7684\nsourceType \u914d\u7f6e\u8bbe\u7f6e\u4e3a unambiguous\uff1a\n\nexport default {\n  tools: {\n    babel(config) {\n      config.sourceType = 'unambiguous';\n    },\n  },\n};\n\n\n\u5c06 sourceType \u8bbe\u7f6e\u4e3a unambiguous \u53ef\u80fd\u4f1a\u4ea7\u751f\u4e00\u4e9b\u5176\u4ed6\u5f71\u54cd\uff0c\u8bf7\u53c2\u8003 Babel \u5b98\u65b9\u6587\u6863\u3002",frontmatter:{}},{id:240,title:"",routePath:"/builder/config/source/moduleScopes",toc:[{id:"\u793a\u4f8b-39",text:"\u793a\u4f8b",depth:4},{id:"array-\u7c7b\u578b",text:"Array \u7c7b\u578b",depth:4},{id:"function-\u7c7b\u578b-1",text:"Function \u7c7b\u578b",depth:4}],content:" * Type: Array<string | Regexp> | Function\n * Default: undefined\n\n\u9650\u5236\u6e90\u4ee3\u7801\u7684\u5f15\u7528\u8def\u5f84\u3002\u914d\u7f6e\u8be5\u9009\u9879\u540e\uff0c\u6240\u6709\u6e90\u6587\u4ef6\u53ea\u80fd\u4ece\u7ea6\u5b9a\u7684\u76ee\u5f55\u4e0b\u5f15\u7528\u4ee3\u7801\uff0c\u4ece\u5176\u4ed6\u76ee\u5f55\u5f15\u7528\u4ee3\u7801\u4f1a\u4ea7\u751f\u5bf9\u5e94\u7684\u62a5\u9519\u63d0\u793a\u3002\n\n\u793a\u4f8b\n\n\u9996\u5148\u6211\u4eec\u914d\u7f6e moduleScopes \u4ec5\u5305\u542b src \u76ee\u5f55\uff1a\n\nexport default {\n  source: {\n    moduleScopes: ['./src'],\n  },\n};\n\n\n\u7136\u540e\u5728 src/App.tsx \u4e2d\u5bfc\u5165 src \u76ee\u5f55\u5916\u90e8\u7684 utils/a \u6a21\u5757:\n\n\n\n\u5728\u7f16\u8bd1\u65f6\uff0c\u4f1a\u63d0\u793a\u5f15\u7528\u8def\u5f84\u9519\u8bef:\n\n\n\n\u901a\u8fc7\u8be5\u9009\u9879\u914d\u7f6e utils \u76ee\u5f55\uff0c\u518d\u8fdb\u884c\u7f16\u8bd1\uff0c\u5219\u4e0d\u4f1a\u51fa\u73b0\u9519\u8bef\u63d0\u793a\u3002\n\nexport default {\n  source: {\n    moduleScopes: ['./src', './utils'],\n  },\n};\n\n\nARRAY \u7c7b\u578b\n\n\u5f53 moduleScopes \u7684\u503c\u4e3a Array \u7c7b\u578b\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bbe\u7f6e\u82e5\u5e72\u4e2a\u4ee3\u7801\u8def\u5f84\uff0c\u6bd4\u5982\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\uff1a\n\nexport default {\n  source: {\n    moduleScopes: ['./src', './shared', './utils'],\n  },\n};\n\n\nFUNCTION \u7c7b\u578b\n\nmoduleScopes \u4e5f\u652f\u6301\u901a\u8fc7\u51fd\u6570\u7684\u5f62\u5f0f\u6765\u8fdb\u884c\u4fee\u6539\uff0c\u907f\u514d\u8986\u76d6\u9ed8\u8ba4\u503c\uff1a\n\nexport default {\n  source: {\n    moduleScopes: scopes => {\n      scopes.push('./shared');\n    },\n  },\n};\n",frontmatter:{}},{id:241,title:"",routePath:"/builder/config/source/preEntry",toc:[{id:"\u6dfb\u52a0\u5355\u4e2a\u811a\u672c",text:"\u6dfb\u52a0\u5355\u4e2a\u811a\u672c",depth:4},{id:"\u6dfb\u52a0\u5168\u5c40\u6837\u5f0f",text:"\u6dfb\u52a0\u5168\u5c40\u6837\u5f0f",depth:4},{id:"\u6dfb\u52a0\u591a\u4e2a\u811a\u672c",text:"\u6dfb\u52a0\u591a\u4e2a\u811a\u672c",depth:4}],content:" * Type: string | string[]\n * Default: undefined\n\n\u5728\u6bcf\u4e2a\u9875\u9762\u7684\u5165\u53e3\u6587\u4ef6\u524d\u6dfb\u52a0\u4e00\u6bb5\u4ee3\u7801\uff0c\u8fd9\u6bb5\u4ee3\u7801\u4f1a\u65e9\u4e8e\u9875\u9762\u7684\u4ee3\u7801\u6267\u884c\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u4e8e\u6267\u884c\u4e00\u4e9b\u5168\u5c40\u7684\u4ee3\u7801\u903b\u8f91\uff0c\u6bd4\u5982\u6ce8\u5165 polyfill\u3001\u8bbe\u7f6e\u5168\u5c40\u6837\u5f0f\u7b49\u3002\n\n\u6dfb\u52a0\u5355\u4e2a\u811a\u672c\n\n\u9996\u5148\u521b\u5efa\u4e00\u4e2a src/polyfill.ts \u6587\u4ef6\uff1a\n\nconsole.log('I am a polyfill');\n\n\n\u7136\u540e\u5c06 src/polyfill.ts \u914d\u7f6e\u5230 source.preEntry \u4e0a\uff1a\n\nexport default {\n  source: {\n    preEntry: './src/polyfill.ts',\n  },\n};\n\n\n\u91cd\u65b0\u8fd0\u884c\u7f16\u8bd1\u5e76\u8bbf\u95ee\u4efb\u610f\u9875\u9762\uff0c\u53ef\u4ee5\u770b\u5230 src/polyfill.ts \u4e2d\u7684\u4ee3\u7801\u5df2\u7ecf\u6267\u884c\uff0c\u5e76\u5728 console \u4e2d\u8f93\u51fa\u4e86\u5bf9\u5e94\u7684\u5185\u5bb9\u3002\n\n\u6dfb\u52a0\u5168\u5c40\u6837\u5f0f\n\n\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7 source.preEntry \u6765\u914d\u7f6e\u5168\u5c40\u6837\u5f0f\uff0c\u8fd9\u6bb5 CSS \u4ee3\u7801\u4f1a\u65e9\u4e8e\u9875\u9762\u4ee3\u7801\u52a0\u8f7d\uff0c\u6bd4\u5982\u5f15\u5165\u4e00\u4e2a normalize.css \u6587\u4ef6\uff1a\n\nexport default {\n  source: {\n    preEntry: './src/normalize.css',\n  },\n};\n\n\n\u6dfb\u52a0\u591a\u4e2a\u811a\u672c\n\n\u4f60\u53ef\u4ee5\u5c06 preEntry \u8bbe\u7f6e\u4e3a\u6570\u7ec4\u6765\u6dfb\u52a0\u591a\u4e2a\u811a\u672c\uff0c\u5b83\u4eec\u4f1a\u6309\u6570\u7ec4\u987a\u5e8f\u6267\u884c\uff1a\n\nexport default {\n  source: {\n    preEntry: ['./src/polyfill-a.ts', './src/polyfill-b.ts'],\n  },\n};\n",frontmatter:{}},{id:242,title:"",routePath:"/builder/config/source/resolveExtensionPrefix",toc:[{id:"\u793a\u4f8b-40",text:"\u793a\u4f8b",depth:4},{id:"\u6839\u636e\u4ea7\u7269\u7c7b\u578b\u8bbe\u7f6e-2",text:"\u6839\u636e\u4ea7\u7269\u7c7b\u578b\u8bbe\u7f6e",depth:4}],content:" * Type: string | Record<BuilderTarget, string>\n * Default: undefined\n\n\u7528\u4e8e\u4e3a resolve.extensions \u6dfb\u52a0\u7edf\u4e00\u7684\u524d\u7f00\u3002\n\n\u5982\u679c\u591a\u4e2a\u6587\u4ef6\u62e5\u6709\u76f8\u540c\u7684\u540d\u79f0\uff0c\u4f46\u5177\u6709\u4e0d\u540c\u7684\u6587\u4ef6\u540e\u7f00\uff0cBuilder \u4f1a\u6839\u636e extensions\n\u6570\u7ec4\u7684\u987a\u5e8f\u8fdb\u884c\u8bc6\u522b\uff0c\u89e3\u6790\u6570\u7ec4\u4e2d\u7b2c\u4e00\u4e2a\u88ab\u8bc6\u522b\u7684\u6587\u4ef6\uff0c\u5e76\u8df3\u8fc7\u5176\u4f59\u6587\u4ef6\u3002\n\n\u793a\u4f8b\n\n\u4e0b\u9762\u662f\u914d\u7f6e .web \u524d\u7f00\u7684\u4f8b\u5b50\u3002\n\nexport default {\n  source: {\n    resolveExtensionPrefix: '.web',\n  },\n};\n\n\n\u914d\u7f6e\u5b8c\u6210\u540e\uff0cextensions \u6570\u7ec4\u4f1a\u53d1\u751f\u4ee5\u4e0b\u53d8\u5316\uff1a\n\n// \u914d\u7f6e\u524d\nconst extensions = ['.js', '.ts', ...];\n\n// \u914d\u7f6e\u540e\nconst extensions = ['.web.js', '.js', '.web.ts' , '.ts', ...];\n\n\n\u5728\u4ee3\u7801\u4e2d import './foo' \u65f6\uff0c\u4f1a\u4f18\u5148\u8bc6\u522b foo.web.js \u6587\u4ef6\uff0c\u518d\u8bc6\u522b foo.js \u6587\u4ef6\u3002\n\n\u6839\u636e\u4ea7\u7269\u7c7b\u578b\u8bbe\u7f6e\n\n\u5f53\u4f60\u540c\u65f6\u6784\u5efa\u591a\u79cd\u7c7b\u578b\u7684\u4ea7\u7269\u65f6\uff0c\u4f60\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7684\u4ea7\u7269\u7c7b\u578b\u8bbe\u7f6e\u4e0d\u540c\u7684 extension \u524d\u7f00\u3002\u6b64\u65f6\uff0c\u4f60\u9700\u8981\u628a resolveExtensionPrefix\n\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u7684 key \u4e3a\u5bf9\u5e94\u7684\u4ea7\u7269\u7c7b\u578b\u3002\n\n\u6bd4\u5982\u4e3a web \u548c node \u8bbe\u7f6e\u4e0d\u540c\u7684 extension \u524d\u7f00\uff1a\n\nexport default {\n  output: {\n    source: {\n      resolveExtensionPrefix: {\n        web: '.web',\n        node: '.node',\n      },\n    },\n  },\n};\n\n\n\u5728\u4ee3\u7801\u4e2d import './foo' \u65f6\uff0c\u5bf9\u4e8e node \u4ea7\u7269\uff0c\u4f1a\u4f18\u5148\u8bc6\u522b foo.node.js \u6587\u4ef6\uff0c\u800c\u5bf9\u4e8e web \u4ea7\u7269\uff0c\u5219\u4f1a\u4f18\u5148\u8bc6\u522b\nfoo.web.js \u6587\u4ef6\u3002",frontmatter:{}},{id:243,title:"",routePath:"/builder/config/source/resolveMainFields",toc:[{id:"\u793a\u4f8b-38",text:"\u793a\u4f8b",depth:4},{id:"\u6839\u636e\u4ea7\u7269\u7c7b\u578b\u8bbe\u7f6e-1",text:"\u6839\u636e\u4ea7\u7269\u7c7b\u578b\u8bbe\u7f6e",depth:4}],content:" * Type:\n\ntype Fields = (string | string[])[];\n\ntype ResolveMainFields = Fields | Record<BuilderTarget, Fields>;\n\n\n * Default: undefined\n\n\u8be5\u914d\u7f6e\u9879\u5c06\u51b3\u5b9a\u4f60\u4f7f\u7528 package.json \u54ea\u4e2a\u5b57\u6bb5\u5bfc\u5165 npm \u6a21\u5757\u3002\u5bf9\u5e94 webpack \u7684 resolve.mainFields \u914d\u7f6e\u3002\n\n\u793a\u4f8b\n\nexport default {\n  source: {\n    resolveMainFields: ['main', 'browser', 'exports'],\n  },\n};\n\n\n\u6839\u636e\u4ea7\u7269\u7c7b\u578b\u8bbe\u7f6e\n\n\u5f53\u4f60\u540c\u65f6\u6784\u5efa\u591a\u79cd\u7c7b\u578b\u7684\u4ea7\u7269\u65f6\uff0c\u4f60\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7684\u4ea7\u7269\u7c7b\u578b\u8bbe\u7f6e\u4e0d\u540c\u7684 mainFields\u3002\u6b64\u65f6\uff0c\u4f60\u9700\u8981\u628a resolveMainFields \u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u7684\nkey \u4e3a\u5bf9\u5e94\u7684\u4ea7\u7269\u7c7b\u578b\u3002\n\n\u6bd4\u5982\u4e3a web \u548c node \u8bbe\u7f6e\u4e0d\u540c\u7684 mainFields\uff1a\n\nexport default {\n  output: {\n    source: {\n      resolveMainFields: {\n        web: ['main', 'browser', 'exports'],\n        node: ['main', 'node', 'exports'],\n      },\n    },\n  },\n};\n",frontmatter:{}},{id:244,title:"",routePath:"/builder/config/tools/autoprefixer",toc:[{id:"object-\u7c7b\u578b-2",text:"Object \u7c7b\u578b",depth:3},{id:"function-\u7c7b\u578b-2",text:"Function \u7c7b\u578b",depth:3}],content:" * Type: Object | Function\n * Default\n\n{\n  flexbox: 'no-2009',\n  // browserslist \u53d6\u51b3\u4e8e\u9879\u76ee\u4e2d\u7684 browserslist \u914d\u7f6e\n  // \u4ee5\u53ca `output.overrideBrowserslist`(\u4f18\u5148\u7ea7\u66f4\u9ad8) \u914d\u7f6e\n  overrideBrowserslist: browserslist,\n}\n\n\n\u901a\u8fc7 tools.autoprefixer \u53ef\u4ee5\u4fee\u6539 autoprefixer \u7684\u914d\u7f6e\u3002\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53 tools.autoprefixer \u7684\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u4f1a\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u901a\u8fc7 Object.assign \u5408\u5e76\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    autoprefixer: {\n      flexbox: 'no-2009',\n    },\n  },\n};\n\n\n\nFUNCTION \u7c7b\u578b\n\n\u5f53 tools.autoprefixer \u4e3a Function \u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u503c\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    autoprefixer(config) {\n      // \u4fee\u6539 flexbox \u7684\u914d\u7f6e\n      config.flexbox = 'no-2009';\n    },\n  },\n};\n",frontmatter:{}},{id:245,title:"",routePath:"/builder/config/tools/babel",toc:[{id:"function-\u7c7b\u578b-3",text:"Function \u7c7b\u578b",depth:3},{id:"object-\u7c7b\u578b-3",text:"Object \u7c7b\u578b",depth:3},{id:"\u5de5\u5177\u51fd\u6570",text:"\u5de5\u5177\u51fd\u6570",depth:3},{id:"addplugins-2",text:"addPlugins",depth:4},{id:"addpresets-1",text:"addPresets",depth:4},{id:"removeplugins-1",text:"removePlugins",depth:4},{id:"removepresets-1",text:"removePresets",depth:4},{id:"addincludes-2",text:"addIncludes",depth:4},{id:"addexcludes-4",text:"addExcludes",depth:4},{id:"modifypresetenvoptions-1",text:"modifyPresetEnvOptions",depth:4},{id:"modifypresetreactoptions-1",text:"modifyPresetReactOptions",depth:4}],content:" * Type: Object | Function\n * Default: undefined\n\n\u901a\u8fc7 tools.babel \u53ef\u4ee5\u4fee\u6539 babel-loader \u7684\u914d\u7f6e\u9879\u3002\n\n\nFUNCTION \u7c7b\u578b\n\n\u5f53 tools.babel \u4e3a Function\n\u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u503c\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u63d0\u4f9b\u4e86\u4e00\u4e9b\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u7684\u5de5\u5177\u51fd\u6570\uff1a\n\nexport default {\n  tools: {\n    babel(config) {\n      // \u6dfb\u52a0\u4e00\u4e2a\u63d2\u4ef6\uff0c\u6bd4\u5982\u914d\u7f6e\u67d0\u4e2a\u7ec4\u4ef6\u5e93\u7684\u6309\u9700\u5f15\u5165\n      // \u76ee\u524d\u5185\u7f6e\u4e86 antd \u7684\u6309\u9700\u5f15\u5165\u89c4\u5219\n      config.plugins.push([\n        'babel-plugin-import',\n        {\n          libraryName: 'xxx-components',\n          libraryDirectory: 'es',\n          style: true,\n        },\n      ]);\n    },\n  },\n};\n\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53 tools.babel \u7684\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u4f1a\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u901a\u8fc7 Object.assign \u5408\u5e76\u3002\u6ce8\u610f Object.assign\n\u662f\u6d45\u62f7\u8d1d\uff0c\u4f1a\u5b8c\u5168\u8986\u76d6\u5185\u7f6e\u7684 presets \u6216 plugins \u6570\u7ec4\uff0c\u8bf7\u8c28\u614e\u4f7f\u7528\u3002\n\nexport default {\n  tools: {\n    babel: {\n      plugins: [\n        [\n          'babel-plugin-import',\n          {\n            libraryName: 'xxx-components',\n            libraryDirectory: 'es',\n            style: true,\n          },\n        ],\n      ],\n    },\n  },\n};\n\n\n\n\u5de5\u5177\u51fd\u6570\n\ntools.babel \u4e3a Function \u7c7b\u578b\u65f6\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u7528\u7684\u5de5\u5177\u51fd\u6570\u5982\u4e0b:\n\nADDPLUGINS\n\n * Type: (plugins: BabelPlugin[]) => void\n\n\u6dfb\u52a0\u82e5\u5e72\u4e2a Babel \u63d2\u4ef6\u3002\n\nexport default {\n  tools: {\n    babel(config, { addPlugins }) {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          {\n            libraryName: 'xxx-components',\n            libraryDirectory: 'es',\n            style: true,\n          },\n        ],\n      ]);\n    },\n  },\n};\n\n\nADDPRESETS\n\n * Type: (presets: BabelPlugin[]) => void\n\n\u6dfb\u52a0\u82e5\u5e72\u4e2a Babel \u9884\u8bbe\u914d\u7f6e (\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u589e\u52a0\u9884\u8bbe)\u3002\n\nexport default {\n  tools: {\n    babel(config, { addPresets }) {\n      addPresets(['@babel/preset-env']);\n    },\n  },\n};\n\n\nREMOVEPLUGINS\n\n * Type: (plugins: string | string[]) => void\n\n\u79fb\u9664 Babel \u63d2\u4ef6\uff0c\u4f20\u5165\u9700\u8981\u79fb\u9664\u7684\u63d2\u4ef6\u540d\u79f0\u5373\u53ef\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165\u5355\u4e2a\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32\u6570\u7ec4\u3002\n\nexport default {\n  tools: {\n    babel(config, { removePlugins }) {\n      removePlugins('babel-plugin-import');\n    },\n  },\n};\n\n\nREMOVEPRESETS\n\n * Type: (presets: string | string[]) => void\n\n\u79fb\u9664 Babel \u9884\u8bbe\u914d\u7f6e\uff0c\u4f20\u5165\u9700\u8981\u79fb\u9664\u7684\u9884\u8bbe\u540d\u79f0\u5373\u53ef\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165\u5355\u4e2a\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32\u6570\u7ec4\u3002\n\nexport default {\n  tools: {\n    babel(config, { removePresets }) {\n      removePresets('@babel/preset-env');\n    },\n  },\n};\n\n\nADDINCLUDES\n\n * Type: (includes: string | RegExp | (string | RegExp)[]) => void\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b Babel \u53ea\u4f1a\u7f16\u8bd1 src \u76ee\u5f55\u4e0b\u7684\u4e1a\u52a1\u4ee3\u7801\uff0c\u4f7f\u7528 addIncludes \u4f60\u53ef\u4ee5\u6307\u5b9a Babel \u7f16\u8bd1 node_modules\n\u4e0b\u7684\u4e00\u4e9b\u6587\u4ef6\u3002\u6bd4\u5982:\n\nexport default {\n  tools: {\n    babel(config, { addIncludes }) {\n      addIncludes('node_modules/xxx-components');\n    },\n  },\n};\n\n\n\u6ce8\u610f\uff0cBabel \u9ed8\u8ba4\u65e0\u6cd5\u7f16\u8bd1 CommonJS \u6a21\u5757\uff0c\u5f53\u4f60\u4f7f\u7528 addIncludes \u6765\u7f16\u8bd1 CommonJS \u6a21\u5757\u65f6\uff0c\u9700\u8981\u5c06 Babel \u7684\nsourceType \u914d\u7f6e\u8bbe\u7f6e\u4e3a unambiguous\uff1a\n\nexport default {\n  tools: {\n    babel(config) {\n      config.sourceType = 'unambiguous';\n    },\n  },\n};\n\n\n\u5c06 sourceType \u8bbe\u7f6e\u4e3a unambiguous \u53ef\u80fd\u4f1a\u4ea7\u751f\u4e00\u4e9b\u5176\u4ed6\u5f71\u54cd\uff0c\u8bf7\u53c2\u8003 Babel \u5b98\u65b9\u6587\u6863\u3002\n\nBuilder \u63d0\u4f9b\u4e86\u6bd4 addIncludes \u66f4\u901a\u7528\u7684 source.include \u914d\u7f6e\u9879\uff0c\u63a8\u8350\u4f18\u5148\u4f7f\u7528\u8be5\u914d\u7f6e\u9879\u3002\n\nADDEXCLUDES\n\n * Type: (excludes: string | RegExp | (string | RegExp)[]) => void\n\n\u548c addIncludes \u76f8\u53cd\uff0c\u6307\u5b9a Babel \u7f16\u8bd1\u65f6\u6392\u9664\u67d0\u4e9b\u6587\u4ef6\u3002\n\n\u6bd4\u5982\u4e0d\u7f16\u8bd1 src/example \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6:\n\nexport default {\n  tools: {\n    babel(config, { addExcludes }) {\n      addExcludes('src/example');\n    },\n  },\n};\n\n\nMODIFYPRESETENVOPTIONS\n\n * Type: (options: PresetEnvOptions) => void\n\n\u4fee\u6539 @babel/preset-env \u7684\u914d\u7f6e\u9879\uff0c\u4f20\u5165\u7684\u914d\u7f6e\u4f1a\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u8fdb\u884c\u6d45\u5c42\u5408\u5e76\uff0c\u6bd4\u5982:\n\nexport default {\n  tools: {\n    babel(config, { modifyPresetEnvOptions }) {\n      modifyPresetEnvOptions({\n        targets: {\n          browsers: ['last 2 versions'],\n        },\n      });\n    },\n  },\n};\n\n\nMODIFYPRESETREACTOPTIONS\n\n * Type: (options: PresetReactOptions) => void\n\n\u4fee\u6539 @babel/preset-react \u7684\u914d\u7f6e\u9879\uff0c\u4f20\u5165\u7684\u914d\u7f6e\u4f1a\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u8fdb\u884c\u6d45\u5c42\u5408\u5e76\uff0c\u6bd4\u5982:\n\nexport default {\n  tools: {\n    babel(config, { modifyPresetReactOptions }) {\n      modifyPresetReactOptions({\n        pragma: 'React.createElement',\n      });\n    },\n  },\n};\n",frontmatter:{}},{id:246,title:"",routePath:"/builder/config/tools/cssExtract",toc:[{id:"object-\u7c7b\u578b-4",text:"Object \u7c7b\u578b",depth:3},{id:"function-\u7c7b\u578b-4",text:"Function \u7c7b\u578b",depth:3}],content:" * Type: Object | Function\n * Default:\n\nconst defaultOptions = {\n  // Loader \u914d\u7f6e\n  loaderOptions: {},\n  // Plugin \u914d\u7f6e\n  pluginOptions: {\n    // cssPath \u9ed8\u8ba4\u4e3a static/css, cssFilename \u9ed8\u8ba4\u4e3a [name].[contenthash:8].css\n    filename: `${cssPath}/${cssFilename}`,\n    chunkFilename: `${cssPath}/async/${cssFilename}`,\n    ignoreOrder: true,\n  },\n};\n\n\n\u901a\u8fc7 tools.cssExtract \u53ef\u4ee5\u66f4\u6539 mini-css-extract-plugin \u7684\u914d\u7f6e\u3002\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53\u6b64\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u901a\u8fc7 Object.assign \u5408\u5e76\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    cssExtract: {\n      pluginOptions: {\n        filename: 'static/css/[name].[contenthash:8].css',\n      },\n    },\n  },\n};\n\n\n\nFUNCTION \u7c7b\u578b\n\n\u5f53\u6b64\u503c\u4e3a Function \u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u6700\u7ec8\u914d\u7f6e\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    cssExtract: config => {\n      config.pluginOptions.filename = 'static/css/[name].[contenthash:8].css';\n      return config;\n    },\n  },\n};\n\n\n\u66f4\u591a\u914d\u7f6e\u7ec6\u8282\u53ef\u53c2\u8003 mini-css-extract-plugin\u3002",frontmatter:{}},{id:247,title:"",routePath:"/builder/config/tools/cssLoader",toc:[{id:"object-\u7c7b\u578b-5",text:"Object \u7c7b\u578b",depth:3},{id:"function-\u7c7b\u578b-5",text:"Function \u7c7b\u578b",depth:3}],content:" * Type: Object | Function\n * Default: undefined\n\n\u901a\u8fc7 tools.cssLoader \u53ef\u4ee5\u4fee\u6539 css-loader \u7684\u914d\u7f6e\u9879\u3002\u9ed8\u8ba4\u914d\u7f6e\u5982\u4e0b:\n\n{\n  importLoaders: 1,\n  modules: {\n    auto: true,\n    exportLocalsConvention: 'camelCase',\n    localIdentName: config.output.cssModuleLocalIdentName,\n    // isServer \u8868\u793a node (SSR) \u6784\u5efa\n    // isWebWorker \u8868\u793a web worker \u6784\u5efa\n    exportOnlyLocals: isServer || isWebWorker,\n  },\n  // \u9ed8\u8ba4\u5728\u5f00\u53d1\u73af\u5883\u4e0b\u542f\u7528 CSS \u7684 Source Map\n  sourceMap: isDev,\n}\n\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53\u6b64\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u4f1a\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u8fdb\u884c\u6df1\u5c42\u5408\u5e76 (deep merge)\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    cssLoader: {\n      modules: {\n        exportOnlyLocals: true,\n      },\n    },\n  },\n};\n\n\n\nFUNCTION \u7c7b\u578b\n\n\u5f53\u6b64\u503c\u4e3a Function \u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u6700\u7ec8\u914d\u7f6e\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    cssLoader: config => {\n      config.modules.exportOnlyLocals = true;\n      return config;\n    },\n  },\n};\n",frontmatter:{}},{id:248,title:"",routePath:"/builder/config/tools/devServer",toc:[{id:"\u9009\u9879",text:"\u9009\u9879",depth:3},{id:"after-1",text:"after",depth:4},{id:"before-1",text:"before",depth:4},{id:"client-1",text:"client",depth:4},{id:"devmiddleware-1",text:"devMiddleware",depth:4},{id:"headers-1",text:"headers",depth:4},{id:"historyapifallback-1",text:"historyApiFallback",depth:4},{id:"hot-1",text:"hot",depth:4},{id:"https-1",text:"https",depth:4},{id:"livereload-1",text:"liveReload",depth:4},{id:"setupmiddlewares-1",text:"setupMiddlewares",depth:4},{id:"proxy-1",text:"proxy",depth:4},{id:"watch-1",text:"watch",depth:4}],content:" * Type: Object\n * Default: {}\n\n\u901a\u8fc7 tools.devServer \u53ef\u4ee5\u4fee\u6539\u5f00\u53d1\u73af\u5883\u670d\u52a1\u5668\u7684\u914d\u7f6e\u3002\n\n\n\u9009\u9879\n\nAFTER\n\n * Type: Array\n * Default: []\n\n\u6dfb\u52a0\u81ea\u5b9a\u4e49\u4e2d\u95f4\u4ef6\uff0c\u5728\u6240\u6709\u5f00\u53d1\u73af\u5883\u4e2d\u95f4\u4ef6\u540e\u6267\u884c\u3002\n\nexport default {\n  tools: {\n    devServer: {\n      after: [\n        async (req, res, next) => {\n          console.log('after dev middleware');\n          next();\n        },\n      ],\n    },\n  },\n};\n\n\nBEFORE\n\n * Type: Array\n * Default: []\n\n\u6dfb\u52a0\u81ea\u5b9a\u4e49\u4e2d\u95f4\u4ef6\uff0c\u5728\u6240\u6709\u5f00\u53d1\u73af\u5883\u4e2d\u95f4\u4ef6\u524d\u6267\u884c\u3002\n\nexport default {\n  tools: {\n    devServer: {\n      before: [\n        async (req, res, next) => {\n          console.log('before dev middleware');\n          next();\n        },\n      ],\n    },\n  },\n};\n\n\nCLIENT\n\n * Type:\n\n{\n    /** \u6307\u5b9a\u534f\u8bae\u540d\u79f0 */\n    protocol?: string;\n    /** \u4e8b\u4ef6\u6d41\u8def\u5f84 */\n    path?: string;\n    /** \u6307\u5b9a\u76d1\u542c\u8bf7\u6c42\u7684\u7aef\u53e3\u53f7 */\n    port?: string;\n    /** \u6307\u5b9a\u8981\u4f7f\u7528\u7684 host */\n    host?: string;\n}\n\n\n * Default:\n\n{\n    path: '/webpack-hmr',\n    port: '8080',\n    host: networkAddress || 'localhost',\n}\n\n\n\u914d\u7f6e hmr \u5ba2\u6237\u7aef\u76f8\u5173\u529f\u80fd\u3002\n\nDEVMIDDLEWARE\n\n * Type:\n\n{\n  writeToDisk: boolean | ((filename: string) => boolean);\n}\n\n\n * Default:\n\n{\n  writeToDisk: (file: string) => !file.includes('.hot-update.'),\n}\n\n\ndevMiddleware \u914d\u7f6e\u9879\u3002\u5f53\u524d\u914d\u7f6e\u662f webpack-dev-middleware \u914d\u7f6e\u9879\u7684\u5b50\u96c6.\n\nHEADERS\n\n * Type: Record<string, string>\n * Default: undefined\n\n\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u54cd\u5e94\u5934\u3002\n\nexport default {\n  tools: {\n    devServer: {\n      headers: {\n        'X-Custom-Foo': 'bar',\n      },\n    },\n  },\n};\n\n\nHISTORYAPIFALLBACK\n\n * Type: boolean | ConnectHistoryApiFallbackOptions\n * Default: false\n\n\u5728\u9700\u8981\u5bf9\u4e00\u4e9b 404 \u54cd\u5e94\u6216\u5176\u4ed6\u8bf7\u6c42\u63d0\u4f9b\u66ff\u4ee3\u9875\u9762\u7684\u573a\u666f\uff0c\u53ef\u901a\u8fc7 devServer.historyApiFallback \u8fdb\u884c\u8bbe\u7f6e\uff1a\n\nexport default {\n  tools: {\n    devServer: {\n      historyApiFallback: true,\n    },\n  },\n};\n\n\n\u66f4\u591a\u9009\u9879\u548c\u8be6\u7ec6\u4fe1\u606f\u53ef\u53c2\u8003 connect-history-api-fallback \u6587\u6863\u3002\n\nHOT\n\n * Type: boolean\n * Default: true\n\n\u662f\u5426\u5f00\u542f Hot Module Replacement \u70ed\u66f4\u65b0\u80fd\u529b\u3002\n\nHTTPS\n\n * Type: boolean | { key: string; cert: string }\n * Default: false\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cDevServer \u4f1a\u542f\u7528 HTTP \u670d\u52a1\u5668\u3002\u901a\u8fc7\u8bbe\u7f6e devServer.https \u4e3a true \u5c06\u5f00\u542f\u5bf9 HTTPS \u7684\u652f\u6301\uff0c\u540c\u65f6\u4f1a\u7981\u7528\nHTTP \u670d\u52a1\u5668\u3002\n\n\u4f60\u4e5f\u53ef\u4ee5\u624b\u52a8\u4f20\u5165 HTTPS \u670d\u52a1\u5668\u6240\u9700\u8981\u7684\u8bc1\u4e66\u548c\u5bf9\u5e94\u7684\u79c1\u94a5\uff1a\n\nexport default {\n  tools: {\n    devServer: {\n      https: {\n        key: fs.readFileSync('certificates/private.pem'),\n        cert: fs.readFileSync('certificates/public.pem'),\n      },\n    },\n  },\n};\n\n\nLIVERELOAD\n\n * Type: boolean\n * Default: true\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5f53\u76d1\u542c\u5230\u6587\u4ef6\u53d8\u5316\u65f6\uff0cDevServer \u5c06\u4f1a\u5237\u65b0\u9875\u9762\uff08\u4e3a\u4f7f liveReload \u80fd\u591f\u751f\u6548\uff0cdevServer.hot \u914d\u7f6e\u9879\u5e94\u5f53\u7981\u7528\uff09\u3002\u901a\u8fc7\u8bbe\u7f6e\ndevServer.liveReload \u4e3a false \u53ef\u4ee5\u5173\u95ed\u8be5\u884c\u4e3a\u3002\n\nSETUPMIDDLEWARES\n\n * Type:\n\nArray<\n  (\n    middlewares: {\n      unshift: (...handlers: RequestHandler[]) => void;\n      push: (...handlers: RequestHandler[]) => void;\n    },\n    server: {\n      sockWrite: (\n        type: string,\n        data?: string | boolean | Record<string, any>,\n      ) => void;\n    },\n  ) => void\n>;\n\n\n * Default: undefined\n\n\u63d0\u4f9b\u6267\u884c\u81ea\u5b9a\u4e49\u51fd\u6570\u548c\u5e94\u7528\u81ea\u5b9a\u4e49\u4e2d\u95f4\u4ef6\u7684\u80fd\u529b\u3002\n\n\u51e0\u79cd\u4e0d\u540c\u4e2d\u95f4\u4ef6\u4e4b\u95f4\u7684\u6267\u884c\u987a\u5e8f\u662f: devServer.before => unshift => \u5185\u7f6e\u4e2d\u95f4\u4ef6 => push =>\ndevServer.after\u3002\n\nexport default {\n  tools: {\n    devServer: {\n      setupMiddlewares: [\n        (middlewares, server) => {\n          middlewares.unshift((req, res, next) => {\n            next();\n          });\n\n          middlewares.push((req, res, next) => {\n            next();\n          });\n        },\n      ],\n    },\n  },\n};\n\n\n\u4e00\u4e9b\u7279\u6b8a\u573a\u666f\u9700\u6c42\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u670d\u52a1\u5668 API\uff1a\n\n * sockWrite\u3002\u5141\u8bb8\u5411 hmr \u5ba2\u6237\u7aef\u4f20\u9012\u4e00\u4e9b\u6d88\u606f\uff0chmr \u5ba2\u6237\u7aef\u5c06\u6839\u636e\u63a5\u6536\u5230\u7684\u6d88\u606f\u7c7b\u578b\u8fdb\u884c\u4e0d\u540c\u7684\u5904\u7406\u3002\u5982\u679c\u4f60\u53d1\u9001\u4e00\u4e2a\n   \"content-changed \" \u7684\u6d88\u606f\uff0c\u9875\u9762\u5c06\u4f1a\u91cd\u65b0\u52a0\u8f7d\u3002\n\nexport default {\n  tools: {\n    devServer: {\n      setupMiddlewares: [\n        (middlewares, server) => {\n          // \u6dfb\u52a0\u81ea\u5b9a\u4e49 watcher \u5e76\u5728\u6587\u4ef6\u66f4\u65b0\u65f6\u89e6\u53d1\u9875\u9762\u5237\u65b0\n          watcher.on('change', changed => {\n            server.sockWrite('content-changed');\n          });\n        },\n      ],\n    },\n  },\n};\n\n\nPROXY\n\n * Type: Record<string, string> | Record<string, ProxyDetail>\n * Default: undefined\n\n\u4ee3\u7406\u8bf7\u6c42\u5230\u6307\u5b9a\u7684\u670d\u52a1\u4e0a\u3002\n\nexport default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': 'http://localhost:3000',\n      },\n    },\n  },\n};\n\n\n\u6b64\u65f6\uff0c/api/users \u8bf7\u6c42\u5c06\u4f1a\u4ee3\u7406\u5230 http://localhost:3000/api/users\u3002\n\n\u5982\u679c\u4f60\u4e0d\u60f3\u4f20\u9012 /api\uff0c\u53ef\u4ee5\u901a\u8fc7 pathRewrite \u91cd\u5199\u8bf7\u6c42\u8def\u5f84\uff1a\n\nexport default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': {\n          target: 'http://localhost:3000',\n          pathRewrite: { '^/api': '' },\n        },\n      },\n    },\n  },\n};\n\n\nDevServer Proxy \u57fa\u4e8e http-proxy-middleware \u5b9e\u73b0\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 http-proxy-middleware\n\u7684\u6240\u6709\u914d\u7f6e\u9879\uff0c\u5177\u4f53\u53ef\u4ee5\u67e5\u770b\u6587\u6863\u3002\n\nDevServer Proxy \u5b8c\u6574\u7c7b\u578b\u5b9a\u4e49\u4e3a\uff1a\n\n\n\ntype ProxyDetail = HttpProxyOptions & {\n  bypass?: (\n    req: IncomingMessage,\n    res: ServerResponse,\n    proxyOptions: ProxyOptions,\n  ) => string | undefined | null | false;\n  context?: string | string[];\n};\n\ntype ProxyOptions =\n  | Record<string, string>\n  | Record<string, ProxyDetail>\n  | ProxyDetail[]\n  | ProxyDetail;\n\n\n\u9664\u4e86 http-proxy-middleware \u7684\u9009\u9879\u5916\uff0c\u8fd8\u652f\u6301 bypass \u548c context \u4e24\u4e2a\u914d\u7f6e\u9879\uff1a\n\n * bypass\uff1a\u6839\u636e\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7ed5\u8fc7\u4ee3\u7406\u3002\n   * \u8fd4\u56de null \u6216 undefined \u4f1a\u7ee7\u7eed\u7528\u4ee3\u7406\u5904\u7406\u8bf7\u6c42\u3002\n   * \u8fd4\u56de false \u4f1a\u8fd4\u56de 404 \u9519\u8bef\u3002\n   * \u8fd4\u56de\u4e00\u4e2a\u5177\u4f53\u7684\u670d\u52a1\u8def\u5f84\uff0c\u5c06\u4f1a\u4f7f\u7528\u6b64\u8def\u5f84\u66ff\u4ee3\u539f\u8bf7\u6c42\u8def\u5f84\u3002\n * context\uff1a\u5982\u679c\u4f60\u60f3\u4ee3\u7406\u591a\u4e2a\u7279\u5b9a\u7684\u8def\u5f84\u5230\u540c\u4e00\u4e2a\u76ee\u6807\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 context \u914d\u7f6e\u9879\u3002\n\n// \u81ea\u5b9a\u4e49 bypass \u65b9\u6cd5\nexport default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': {\n          target: 'http://localhost:3000',\n          bypass: function (req, res, proxyOptions) {\n            if (req.headers.accept.indexOf('html') !== -1) {\n              console.log('Skipping proxy for browser request.');\n              return '/index.html';\n            }\n          },\n        },\n      },\n    },\n  },\n};\n\n\n// \u4ee3\u7406\u591a\u4e2a\u8def\u5f84\u5230\u540c\u4e00\u4e2a\u76ee\u6807\nexport default {\n  tools: {\n    devServer: {\n      proxy: [\n        {\n          context: ['/auth', '/api'],\n          target: 'http://localhost:3000',\n        },\n      ],\n    },\n  },\n};\n\n\nWATCH\n\n * Type: boolean\n * Default: true\n\n\u662f\u5426\u76d1\u542c mock/\u3001server/\u3001api/ \u7b49\u76ee\u5f55\u7684\u6587\u4ef6\u53d8\u5316\u3002",frontmatter:{}},{id:249,title:"",routePath:"/builder/config/tools/htmlPlugin",toc:[{id:"object-\u7c7b\u578b-6",text:"Object \u7c7b\u578b",depth:3},{id:"function-\u7c7b\u578b-6",text:"Function \u7c7b\u578b",depth:3},{id:"boolean-\u7c7b\u578b-2",text:"Boolean \u7c7b\u578b",depth:3}],content:" * Type: false | Object | Function\n * Default:\n\nconst defaultHtmlPluginOptions = {\n  inject, // \u5bf9\u5e94 html.inject \u914d\u7f6e\u9879\n  favicon, // \u5bf9\u5e94 html.favicon \u914d\u7f6e\u9879\n  filename, // \u57fa\u4e8e output.distPath \u548c entryName \u751f\u6210\n  template, // \u9ed8\u8ba4\u4e3a\u5185\u7f6e\u7684 HTML \u6a21\u677f\u8def\u5f84\n  templateParameters, // \u5bf9\u5e94 html.templateParameters \u914d\u7f6e\u9879\n  chunks: [entryName],\n  minify: {\n    removeComments: false,\n    useShortDoctype: true,\n    keepClosingSlash: true,\n    collapseWhitespace: true,\n    removeRedundantAttributes: true,\n    removeScriptTypeAttributes: true,\n    removeStyleLinkTypeAttributes: true,\n  },\n};\n\n\n\u901a\u8fc7 tools.htmlPlugin \u53ef\u4ee5\u4fee\u6539 html-webpack-plugin \u7684\u914d\u7f6e\u9879\u3002\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53 tools.htmlPlugin \u7684\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u4f1a\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u901a\u8fc7 Object.assign \u5408\u5e76\u3002\n\nexport default {\n  tools: {\n    htmlPlugin: {\n      scriptLoading: 'blocking',\n    },\n  },\n};\n\n\n\nFUNCTION \u7c7b\u578b\n\n\u5f53 tools.htmlPlugin \u4e3a Function \u7c7b\u578b\u65f6\uff1a\n\n * \u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u9ed8\u8ba4\u914d\u7f6e\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u8be5\u5bf9\u8c61\u3002\n * \u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u542b\u4e86 entry \u7684\u540d\u79f0\u548c entry \u7684\u503c\u3002\n * \u51fd\u6570\u53ef\u4ee5 return \u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u4f5c\u4e3a\u6700\u7ec8\u7684\u914d\u7f6e\u3002\n\nexport default {\n  tools: {\n    htmlPlugin(config, { entryName, entryValue }) {\n      if (entryName === 'main') {\n        config.scriptLoading = 'blocking';\n      }\n    },\n  },\n};\n\n\n\nBOOLEAN \u7c7b\u578b\n\n\u5c06 tools.htmlPlugin \u914d\u7f6e\u4e3a false\uff0c\u53ef\u4ee5\u7981\u7528\u9ed8\u8ba4\u7684 html-webpack-plugin \u63d2\u4ef6\u3002\n\nexport default {\n  tools: {\n    htmlPlugin: false,\n  },\n};\n",frontmatter:{}},{id:250,title:"",routePath:"/builder/config/tools/inspector",toc:[{id:"object-\u7c7b\u578b-8",text:"Object \u7c7b\u578b",depth:3},{id:"function-\u7c7b\u578b-8",text:"Function \u7c7b\u578b",depth:3}],content:" * Type: Object | Function | undefined\n * Default: undefined\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 tools.inspector \u5f00\u542f\u6216\u8005\u914d\u7f6e webpack \u8c03\u8bd5\u5de5\u5177 webpack inspector\u3002\n\n\u5f53\u914d\u7f6e\u4e0d\u4e3a undefined \u65f6\uff0c\u5219\u8868\u793a\u5f00\u542f\u4e86 webpack-inspector\uff0c\u6b64\u65f6 tools.inspector \u7684\u7c7b\u578b\u53ef\u4ee5\u4e3a Object \u6216\u8005\nFunction\u3002\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53 tools.inspector \u7684\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u4f1a\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u901a\u8fc7 Object.assign \u5408\u5e76\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    inspector: {\n      // \u9ed8\u8ba4\u7aef\u53e3\u4e3a 3333\n      port: 3334,\n    },\n  },\n};\n\n\n\nFUNCTION \u7c7b\u578b\n\n\u5f53 tools.inspector \u4e3a Function \u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u503c\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    inspector(config) {\n      // \u4fee\u6539\u7aef\u53e3\u53f7\n      config.port = 3333;\n    },\n  },\n};\n",frontmatter:{}},{id:251,title:"",routePath:"/builder/config/tools/less",toc:[{id:"object-\u7c7b\u578b-7",text:"Object \u7c7b\u578b",depth:3},{id:"function-\u7c7b\u578b-7",text:"Function \u7c7b\u578b",depth:3},{id:"\u5de5\u5177\u51fd\u6570-1",text:"\u5de5\u5177\u51fd\u6570",depth:3},{id:"addexcludes-5",text:"addExcludes",depth:4}],content:" * Type: Object | Function\n * Default:\n\nconst defaultOptions = {\n  lessOptions: {\n    javascriptEnabled: true,\n  },\n  // \u9ed8\u8ba4\u5728\u5f00\u53d1\u73af\u5883\u4e0b\u542f\u7528 CSS \u7684 Source Map\n  sourceMap: isDev,\n};\n\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 tools.less \u4fee\u6539 less-loader \u7684\u914d\u7f6e\u3002\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53 tools.less \u7684\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u4f1a\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u901a\u8fc7 Object.assign \u8fdb\u884c\u6d45\u5c42\u5408\u5e76\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0clessOptions \u4f1a\u901a\u8fc7\ndeepMerge \u8fdb\u884c\u6df1\u5c42\u5408\u5e76\u3002\n\nexport default {\n  tools: {\n    less: {\n      lessOptions: {\n        javascriptEnabled: false,\n      },\n    },\n  },\n};\n\n\n\nFUNCTION \u7c7b\u578b\n\n\u5f53 tools.less \u4e3a Function\n\u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u503c\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u63d0\u4f9b\u4e86\u4e00\u4e9b\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u7684\u5de5\u5177\u51fd\u6570\uff1a\n\nexport default {\n  tools: {\n    less(config) {\n      // \u4fee\u6539 lessOptions \u914d\u7f6e\n      config.lessOptions = {\n        javascriptEnabled: false,\n      };\n    },\n  },\n};\n\n\n\n\u5de5\u5177\u51fd\u6570\n\nADDEXCLUDES\n\n * Type: (excludes: RegExp | RegExp[]) => void\n\n\u7528\u6765\u6307\u5b9a less-loader \u4e0d\u7f16\u8bd1\u54ea\u4e9b\u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u6216\u591a\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5339\u914d less \u6587\u4ef6\u7684\u8def\u5f84\u3002\u4f8b\u5982\uff1a\n\nexport default {\n  tools: {\n    less(config, { addExcludes }) {\n      addExcludes(/node_modules/);\n    },\n  },\n};\n",frontmatter:{}},{id:252,title:"",routePath:"/builder/config/tools/minifyCss",toc:[{id:"object-\u7c7b\u578b-9",text:"Object \u7c7b\u578b",depth:3},{id:"function-\u7c7b\u578b-9",text:"Function \u7c7b\u578b",depth:3}],content:" * Type: Object | Function | undefined\n * Default:\n\nconst defaultOptions = {\n  minimizerOptions: {\n    preset: [\n      'default',\n      {\n        mergeLonghand: false,\n      },\n    ],\n  },\n};\n\n\n\u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u65f6\uff0cBuilder \u4f1a\u901a\u8fc7 css-minimizer-webpack-plugin \u5bf9 CSS \u4ee3\u7801\u8fdb\u884c\u538b\u7f29\u4f18\u5316\u3002\u53ef\u4ee5\u901a\u8fc7\ntools.minifyCss \u4fee\u6539 css-minimizer-webpack-plugin \u7684\u914d\u7f6e\u3002\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53 tools.minifyCss \u7684\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u4f1a\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u901a\u8fc7 Object.assign \u5408\u5e76\u3002\n\n\u4f8b\u5982\u4e0b\u9762\u4fee\u6539 cssnano \u7684 preset \u914d\u7f6e\uff1a\n\nexport default {\n  tools: {\n    minifyCss: {\n      minimizerOptions: {\n        preset: require.resolve('cssnano-preset-simple'),\n      },\n    },\n  },\n};\n\n\n\nFUNCTION \u7c7b\u578b\n\n\u5f53 tools.minifyCss \u914d\u7f6e\u4e3a Function \u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u503c\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c\u3002\n\nexport default {\n   tools: {\n    minifyCss: options => {\n      options.minimizerOptions = {\n        preset: require.resolve('cssnano-preset-simple'),\n      },\n    }\n  }\n};\n",frontmatter:{}},{id:253,title:"",routePath:"/builder/config/tools/postcss",toc:[{id:"function-\u7c7b\u578b-10",text:"Function \u7c7b\u578b",depth:3},{id:"object-\u7c7b\u578b-10",text:"Object \u7c7b\u578b",depth:3},{id:"\u5de5\u5177\u51fd\u6570-2",text:"\u5de5\u5177\u51fd\u6570",depth:3},{id:"addplugins-3",text:"addPlugins",depth:4}],content:" * Type: Object | Function\n * Default:\n\nconst defaultOptions = {\n  postcssOptions: {\n    plugins: [\n      require('postcss-flexbugs-fixes'),\n      require('postcss-custom-properties'),\n      require('postcss-initial'),\n      require('postcss-page-break'),\n      require('postcss-font-variant'),\n      require('postcss-media-minmax'),\n      require('postcss-nesting'),\n      require('autoprefixer')({\n        flexbox: 'no-2009',\n      }),\n    ],\n    // \u9ed8\u8ba4\u5728\u5f00\u53d1\u73af\u5883\u4e0b\u542f\u7528 CSS \u7684 Source Map\n    sourceMap: isDev,\n  },\n};\n\n\nBuilder \u9ed8\u8ba4\u96c6\u6210 PostCSS\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 tools.postcss \u5bf9 postcss-loader \u8fdb\u884c\u914d\u7f6e\u3002\n\n\nFUNCTION \u7c7b\u578b\n\n\u503c\u4e3a Function \u7c7b\u578b\u65f6\uff0c\u5185\u90e8\u9ed8\u8ba4\u914d\u7f6e\u4f5c\u4e3a\u7b2c\u4e00\u53c2\u6570\u4f20\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u5bf9\u8c61\u4e0d\u505a\u8fd4\u56de\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u4fee\u6539\npostcss-loader \u914d\u7f6e\u7684\u5de5\u5177\u51fd\u6570\u96c6\u5408\u3002\n\n\u4f8b\u5982\uff0c\u9700\u8981\u5728\u539f\u6709\u63d2\u4ef6\u7684\u57fa\u7840\u4e0a\u65b0\u589e\u4e00\u4e2a PostCSS \u63d2\u4ef6\uff0c\u5728 postcssOptions.plugins \u6570\u7ec4\u4e2d push \u4e00\u4e2a\u65b0\u7684\u63d2\u4ef6\u5373\u53ef\uff1a\n\nexport default {\n  tools: {\n    postcss: opts => {\n      opts.postcssOptions.plugins.push(require('postcss-px-to-viewport'));\n    },\n  },\n};\n\n\n\u9700\u8981\u7ed9 PostCSS \u63d2\u4ef6\u4f20\u9012\u53c2\u6570\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u51fd\u6570\u53c2\u6570\u7684\u5f62\u5f0f\u8fdb\u884c\u4f20\u5165\uff1a\n\nexport default {\n  tools: {\n    postcss: opts => {\n      const viewportPlugin = require('postcss-px-to-viewport')({\n        viewportWidth: 375,\n      });\n      opts.postcssOptions.plugins.push(viewportPlugin);\n    },\n  },\n};\n\n\ntools.postcss \u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\uff0c\u5e76\u5b8c\u5168\u66ff\u6362\u9ed8\u8ba4\u914d\u7f6e\uff1a\n\nexport default {\n  tools: {\n    postcss: () => {\n      return {\n        postcssOptions: {\n          plugins: [require('postcss-px-to-viewport')],\n        },\n      };\n    },\n  },\n};\n\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53\u6b64\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u901a\u8fc7 Object.assign \u5408\u5e76\u3002\u6ce8\u610f Object.assign \u662f\u6d45\u62f7\u8d1d\uff0c\u4f1a\u5b8c\u5168\u8986\u76d6\u5185\u7f6e\u7684 plugins\n\u6570\u7ec4\uff0c\u8bf7\u8c28\u614e\u4f7f\u7528\u3002\n\nexport default {\n  tools: {\n    postcss: {\n      // \u7531\u4e8e\u4f7f\u7528 `Object.assign` \u5408\u5e76\uff0c\u56e0\u6b64\u9ed8\u8ba4\u7684 postcssOptions \u4f1a\u88ab\u8986\u76d6\u3002\n      postcssOptions: {\n        plugins: [require('postcss-px-to-viewport')],\n      },\n    },\n  },\n};\n\n\n\n\u5de5\u5177\u51fd\u6570\n\nADDPLUGINS\n\n * Type: (plugins: PostCSSPlugin | PostCSSPlugin[]) => void\n\n\u7528\u4e8e\u6dfb\u52a0\u989d\u5916\u7684 PostCSS \u63d2\u4ef6\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165\u5355\u4e2a PostCSS \u63d2\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u4f20\u5165 PostCSS \u63d2\u4ef6\u6570\u7ec4\u3002\n\nexport default {\n  tools: {\n    postcss: (config, { addPlugins }) => {\n      // \u6dfb\u52a0\u4e00\u4e2a\u63d2\u4ef6\n      addPlugins(require('postcss-preset-env'));\n      // \u6279\u91cf\u6dfb\u52a0\u63d2\u4ef6\n      addPlugins([require('postcss-preset-env'), require('postcss-import')]);\n    },\n  },\n};\n\n\nBuilder \u4e2d\u4f7f\u7528\u7684 PostCSS \u7248\u672c\u4e3a v8\uff0c\u5f53\u4f60\u5f15\u5165\u793e\u533a\u4e2d\u7684 PostCSS \u63d2\u4ef6\u65f6\uff0c\u8bf7\u6ce8\u610f\u7248\u672c\u662f\u5426\u9002\u914d\uff0c\u90e8\u5206\u65e7\u7248\u672c\u63d2\u4ef6\u53ef\u80fd\u65e0\u6cd5\u5728 PostCSS\nv8 \u4e0b\u8fd0\u884c\u3002",frontmatter:{}},{id:254,title:"",routePath:"/builder/config/tools/pug",toc:[{id:"boolean-\u7c7b\u578b-3",text:"Boolean \u7c7b\u578b",depth:3},{id:"object-\u7c7b\u578b-11",text:"Object \u7c7b\u578b",depth:3},{id:"function-\u7c7b\u578b-11",text:"Function \u7c7b\u578b",depth:3}],content:" * Type: true | Object | Function | undefined\n * Default: false\n\n\u914d\u7f6e Pug \u6a21\u677f\u5f15\u64ce\u3002\n\n\nBOOLEAN \u7c7b\u578b\n\nBuilder \u9ed8\u8ba4\u4e0d\u542f\u7528 Pug \u6a21\u677f\u5f15\u64ce\uff0c\u4f60\u53ef\u4ee5\u5c06 tools.pug \u8bbe\u7f6e\u4e3a true \u6765\u542f\u7528\u5b83\u3002\n\nexport default {\n  tools: {\n    pug: true,\n  },\n};\n\n\n\u542f\u7528\u540e\uff0c\u4f60\u53ef\u4ee5\u5728 html.template \u4e2d\u6307\u5b9a\u4f7f\u7528 index.pug \u4f5c\u4e3a\u6a21\u677f\u6587\u4ef6\u3002\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53 tools.terser \u7684\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u53ef\u4ee5\u914d\u7f6e Pug \u6a21\u677f\u5f15\u64ce\u7684\u9009\u9879\uff1a\n\nexport default {\n  tools: {\n    pug: {\n      doctype: 'xml',\n    },\n  },\n};\n\n\n\u8be6\u7ec6\u53c2\u6570\u8bf7\u67e5\u770b Pug API Reference\u3002\n\n\nFUNCTION \u7c7b\u578b\n\n\u5f53 tools.pug \u914d\u7f6e\u4e3a Function \u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u503c\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c\u3002\n\nexport default {\n  tools: {\n    pug(config) {\n      config.doctype = 'xml';\n    },\n  },\n};\n",frontmatter:{}},{id:255,title:"",routePath:"/builder/config/tools/sass",toc:[{id:"object-\u7c7b\u578b-12",text:"Object \u7c7b\u578b",depth:3},{id:"function-\u7c7b\u578b-12",text:"Function \u7c7b\u578b",depth:3},{id:"\u5de5\u5177\u51fd\u6570-3",text:"\u5de5\u5177\u51fd\u6570",depth:3},{id:"addexcludes-6",text:"addExcludes",depth:4}],content:" * Type: Object | Function\n * Default:\n\nconst defaultOptions = {\n  // \u9ed8\u8ba4\u5728\u5f00\u53d1\u73af\u5883\u4e0b\u542f\u7528 CSS \u7684 Source Map\n  sourceMap: isDev,\n};\n\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 tools.sass \u4fee\u6539 sass-loader \u7684\u914d\u7f6e\u3002\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53 tools.sass \u7684\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u4f1a\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u901a\u8fc7 Object.assign \u8fdb\u884c\u6d45\u5c42\u5408\u5e76\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0csassOptions \u4f1a\u901a\u8fc7\ndeepMerge \u8fdb\u884c\u6df1\u5c42\u5408\u5e76\u3002\n\nexport default {\n  tools: {\n    sass: {\n      sourceMap: true,\n    },\n  },\n};\n\n\n\nFUNCTION \u7c7b\u578b\n\n\u5f53 tools.sass \u4e3a Function\n\u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u503c\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u63d0\u4f9b\u4e86\u4e00\u4e9b\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u7684\u5de5\u5177\u51fd\u6570\uff1a\n\nexport default {\n  tools: {\n    sass(config) {\n      // \u4fee\u6539 sourceMap \u914d\u7f6e\n      config.additionalData = async (content, loaderContext) => {\n        // ...\n      };\n    },\n  },\n};\n\n\n\n\u5de5\u5177\u51fd\u6570\n\nADDEXCLUDES\n\n * Type: (excludes: RegExp | RegExp[]) => void\n\n\u7528\u6765\u6307\u5b9a sass-loader \u4e0d\u7f16\u8bd1\u54ea\u4e9b\u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u6216\u591a\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5339\u914d sass \u6587\u4ef6\u7684\u8def\u5f84\u3002\u4f8b\u5982\uff1a\n\nexport default {\n  tools: {\n    sass(config, { addExcludes }) {\n      addExcludes(/node_modules/);\n    },\n  },\n};\n",frontmatter:{}},{id:256,title:"",routePath:"/builder/config/tools/styleLoader",toc:[{id:"object-\u7c7b\u578b-13",text:"Object \u7c7b\u578b",depth:3},{id:"function-\u7c7b\u578b-13",text:"Function \u7c7b\u578b",depth:3}],content:" * Type: Object | Function\n * Default: {}\n\n\u901a\u8fc7 tools.styleLoader \u53ef\u4ee5\u8bbe\u7f6e style-loader \u7684\u914d\u7f6e\u9879\u3002\n\n\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0cBuilder \u9ed8\u8ba4\u4e0d\u4f1a\u5f00\u542f style-loader\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 output.disableCssExtract \u914d\u7f6e\u9879\u6765\u5f00\u542f\u5b83\u3002\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53\u6b64\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u901a\u8fc7 Object.assign \u5408\u5e76\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    styleLoader: {\n      insert: 'head',\n    },\n  },\n};\n\n\n\nFUNCTION \u7c7b\u578b\n\n\u5f53\u6b64\u503c\u4e3a Function \u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u6700\u7ec8\u914d\u7f6e\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    styleLoader: config => {\n      config.insert = 'head';\n      return config;\n    },\n  },\n};\n",frontmatter:{}},{id:257,title:"",routePath:"/builder/config/tools/styledComponents",toc:[],content:" * Type: Object | Function\n * Default\n\n{\n  pure: true,\n  displayName: true,\n  // \u5728 SSR \u6784\u5efa\u4e2d isSSR \u4e3a true\n  ssr: isSSR,\n  transpileTemplateLiterals: true,\n}\n\n\n\u5bf9\u5e94 babel-plugin-styled-components \u7684\u914d\u7f6e\u3002 \u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u5229\u7528 Object.assign\n\u51fd\u6570\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u5408\u5e76\u3002\u6bd4\u5982:\n\nexport default {\n  tools: {\n    styledComponents: {\n      pure: false,\n    },\n  },\n};\n\n\n\u503c\u4e3a Function \u7c7b\u578b\u65f6\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u9ed8\u8ba4\u914d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u63d0\u4f9b\u4e86\u4e00\u4e9b\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u7684\u5de5\u5177\u51fd\u6570\uff1a\n\nexport default {\n  tools: {\n    styledComponents(config) {\n      // \u4fee\u6539 pure \u914d\u7f6e\n      config.pure = false;\n    },\n  },\n};\n",frontmatter:{}},{id:258,title:"",routePath:"/builder/config/tools/terser",toc:[{id:"object-\u7c7b\u578b-14",text:"Object \u7c7b\u578b",depth:3},{id:"function-\u7c7b\u578b-14",text:"Function \u7c7b\u578b",depth:3}],content:" * Type: Object | Function | undefined\n * Default:\n\nconst defaultTerserOptions = {\n  terserOptions: {\n    mangle: {\n      safari10: true,\n    },\n  },\n};\n\n\n\u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u65f6\uff0cBuilder \u4f1a\u901a\u8fc7 terser-webpack-plugin \u5bf9 JavaScript \u4ee3\u7801\u8fdb\u884c\u538b\u7f29\u4f18\u5316\u3002\u53ef\u4ee5\u901a\u8fc7\ntools.terser \u4fee\u6539 terser-webpack-plugin \u7684\u914d\u7f6e\u3002\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53 tools.terser \u7684\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u4f1a\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u901a\u8fc7 Object.assign \u5408\u5e76\u3002\n\n\u4f8b\u5982\u901a\u8fc7 exclude \u6392\u9664\u90e8\u5206\u6587\u4ef6\u7684\u538b\u7f29\uff1a\n\nexport default {\n  tools: {\n    terser: {\n      exclude: /\\/excludes/,\n    },\n  },\n};\n\n\n\nFUNCTION \u7c7b\u578b\n\n\u5f53 tools.terser \u914d\u7f6e\u4e3a Function \u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u503c\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c\u3002\n\nexport default {\n  tools: {\n    terser: opts => {\n      opts.exclude = /\\/excludes/;\n    },\n  },\n};\n",frontmatter:{}},{id:259,title:"",routePath:"/builder/config/tools/tsChecker",toc:[{id:"object-\u7c7b\u578b-15",text:"Object \u7c7b\u578b",depth:3},{id:"function-\u7c7b\u578b-15",text:"Function \u7c7b\u578b",depth:3}],content:" * Type: Object | Function\n * Default:\n\nconst defaultOptions = {\n  typescript: {\n    // avoid OOM issue\n    memoryLimit: 8192,\n    // use tsconfig of user project\n    configFile: tsconfigPath,\n    // use typescript of user project\n    typescriptPath: require.resolve('typescript'),\n  },\n  issue: {\n    exclude: [\n      { file: '**/*.(spec|test).ts' },\n      { file: '**/node_modules/**/*' },\n    ],\n  },\n  logger: {\n    log() {\n      // do nothing\n      // we only want to display error messages\n    },\n    error(message: string) {\n      console.error(message.replace(/ERROR/g, 'Type Error'));\n    },\n  },\n},\n\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4f1a\u5f00\u542f fork-ts-checker-webpack-plugin \u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\noutput.disableTsChecker \u914d\u7f6e\u9879\u6765\u5173\u95ed\u7c7b\u578b\u68c0\u67e5\u3002\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53\u6b64\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u901a\u8fc7 Object.assign \u5408\u5e76\u3002\n\n\nFUNCTION \u7c7b\u578b\n\n\u5f53\u6b64\u503c\u4e3a Function \u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u6700\u7ec8\u914d\u7f6e\u3002",frontmatter:{}},{id:260,title:"",routePath:"/builder/config/tools/tsLoader",toc:[{id:"object-\u7c7b\u578b-16",text:"Object \u7c7b\u578b",depth:3},{id:"function-\u7c7b\u578b-16",text:"Function \u7c7b\u578b",depth:3},{id:"\u5de5\u5177\u51fd\u6570-4",text:"\u5de5\u5177\u51fd\u6570",depth:3},{id:"addincludes-3",text:"addIncludes",depth:4},{id:"addexcludes-7",text:"addExcludes",depth:4}],content:' * Type: Object | Function | undefined\n * Default: undefined\n\n\u9879\u76ee\u4e2d\u9ed8\u8ba4\u4e0d\u5f00\u542f ts-loader\uff0c\u5f53 tools.tsLoader \u4e0d\u4e3a undefined \u5219\u8868\u793a\u5f00\u542f ts-loader\uff0c\u540c\u65f6\u7981\u7528\nbabel-loader \u5bf9 TypeScript \u7684\u7f16\u8bd1\u3002\n\n\nOBJECT \u7c7b\u578b\n\n\u5f53\u6b64\u503c\u4e3a Object \u7c7b\u578b\u65f6\uff0c\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u901a\u8fc7 Object.assign \u5408\u5e76\u3002\n\n\u9ed8\u8ba4\u914d\u7f6e\u5982\u4e0b:\n\n{\n  "compilerOptions": {\n    "target": "es5",\n    "module": "ESNext"\n  },\n  "transpileOnly": true,\n  "allowTsInNodeModules": true\n}\n\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 tools.tsLoader \u914d\u7f6e\u9879\u6765\u8986\u76d6\u9ed8\u8ba4\u914d\u7f6e:\n\nexport default {\n  tools: {\n    tsLoader: {\n      allowTsInNodeModules: false,\n    },\n  },\n};\n\n\n\nFUNCTION \u7c7b\u578b\n\n\u5f53\u6b64\u503c\u4e3a Function \u7c7b\u578b\u65f6\uff0c\u9ed8\u8ba4\u914d\u7f6e\u4f5c\u4e3a\u7b2c\u4e00\u53c2\u6570\u4f20\u5165\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u914d\u7f6e\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u6700\u7ec8\u914d\u7f6e\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u4fee\u6539 ts-loader\n\u914d\u7f6e\u5de5\u5177\u51fd\u6570\u96c6\u5408\uff1a\n\nexport default {\n  tools: {\n    tsLoader: opts => {\n      opts.allowTsInNodeModules = false;\n    },\n  },\n};\n\n\n\n\u5de5\u5177\u51fd\u6570\n\ntools.tsLoader \u7684\u503c\u4e3a Function \u7c7b\u578b\u65f6\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u7528\u7684\u5de5\u5177\u51fd\u6570\u5982\u4e0b\uff1a\n\nADDINCLUDES\n\n\u7c7b\u578b: (includes: string | RegExp | Array<string | RegExp>) => void\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u53ea\u4f1a\u7f16\u8bd1 src \u76ee\u5f55\u4e0b\u7684\u4e1a\u52a1\u4ee3\u7801\uff0c\u4f7f\u7528 addIncludes \u53ef\u4ee5\u6307\u5b9a ts-loader \u7f16\u8bd1 node_modules \u4e0b\u7684\u4e00\u4e9b\u6587\u4ef6\u3002\u6bd4\u5982:\n\nexport default {\n  tools: {\n    tsLoader: (config, { addIncludes }) => {\n      addIncludes([/node_modules\\/react/]);\n    },\n  },\n};\n\n\nADDEXCLUDES\n\n\u7c7b\u578b: (excludes: string | RegExp | Array<string | RegExp>) => void\n\n\u548c addIncludes \u76f8\u53cd\uff0c\u6307\u5b9a ts-loader \u7f16\u8bd1\u65f6\u6392\u9664\u67d0\u4e9b\u6587\u4ef6\u3002\n\n\u4f8b\u5982\u4e0d\u7f16\u8bd1 src/example \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\uff1a\n\nexport default {\n  tools: {\n    tsLoader: (config, { addExcludes }) => {\n      addExcludes([/src\\/example\\//]);\n    },\n  },\n};\n',frontmatter:{}},{id:261,title:"",routePath:"/builder/config/tools/webpack",toc:[{id:"object-\u7c7b\u578b-17",text:"Object \u7c7b\u578b",depth:3},{id:"function-\u7c7b\u578b-17",text:"Function \u7c7b\u578b",depth:3},{id:"\u5de5\u5177\u96c6\u5408",text:"\u5de5\u5177\u96c6\u5408",depth:3},{id:"env-2",text:"env",depth:4},{id:"isprod-2",text:"isProd",depth:4},{id:"target-2",text:"target",depth:4},{id:"isserver-2",text:"isServer",depth:4},{id:"iswebworker-2",text:"isWebWorker",depth:4},{id:"webpack-4",text:"webpack",depth:4},{id:"htmlwebpackplugin-4",text:"HtmlWebpackPlugin",depth:3},{id:"addrules-1",text:"addRules",depth:3},{id:"prependplugins-1",text:"prependPlugins",depth:3},{id:"appendplugins-1",text:"appendPlugins",depth:3},{id:"removeplugin-1",text:"removePlugin",depth:3}],content:" * Type: Object | Function | undefined\n * Default: undefined\n\ntools.webpack \u9009\u9879\u7528\u4e8e\u914d\u7f6e\u539f\u751f\u7684 webpack\u3002\n\n> tools.webpackChain \u540c\u6837\u53ef\u4ee5\u4fee\u6539 webpack \u914d\u7f6e\uff0c\u5e76\u4e14\u529f\u80fd\u66f4\u52a0\u5f3a\u5927\uff0c\u5efa\u8bae\u4f18\u5148\u4f7f\u7528 tools.webpackChain\u3002\n\n\nOBJECT \u7c7b\u578b\n\n\u4f60\u53ef\u4ee5\u914d\u7f6e\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u5c06\u4f1a\u548c\u539f\u59cb\u7684 webpack \u914d\u7f6e\u901a\u8fc7 webpack-merge \u8fdb\u884c\u5408\u5e76\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    webpack: {\n      resolve: {\n        alias: {\n          '@util': 'src/util',\n        },\n      },\n    },\n  },\n};\n\n\n\nFUNCTION \u7c7b\u578b\n\n\u4f60\u4e5f\u53ef\u4ee5\u914d\u7f6e\u4e3a\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u53c2\u6570\uff0c\u5373\u539f\u59cb\u7684 webpack \u914d\u7f6e\uff0c\u4f60\u53ef\u4ee5\u5bf9\u8fd9\u4e2a\u914d\u7f6e\u8fdb\u884c\u4fee\u6539\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u914d\u7f6e\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    webpack: config => {\n      config.resolve.alias['@util'] = 'src/util';\n      return config;\n    },\n  },\n};\n\n\n\u8fd9\u4e2a\u51fd\u6570\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u542b\u4e86\u4e00\u4e9b\u5de5\u5177\u96c6\u5408\u7684\u4fe1\u606f\u3002\u8be6\u60c5\u5982\u4e0b\uff1a\n\n\n\u5de5\u5177\u96c6\u5408\n\nENV\n\n * Type: 'development' | 'production' | 'test'\n\n\u901a\u8fc7 env \u53c2\u6570\u53ef\u4ee5\u5224\u65ad\u5f53\u524d\u73af\u5883\u4e3a development\u3001production \u8fd8\u662f test\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    webpack: (config, { env }) => {\n      if (env === 'development') {\n        config.devtool = 'cheap-module-eval-source-map';\n      }\n      return config;\n    },\n  },\n};\n\n\nISPROD\n\n * Type: boolean\n\n\u901a\u8fc7 isProd \u53c2\u6570\u53ef\u4ee5\u5224\u65ad\u5f53\u524d\u73af\u5883\u662f\u5426\u4e3a production\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    webpack: (config, { isProd }) => {\n      if (isProd) {\n        config.devtool = 'source-map';\n      }\n      return config;\n    },\n  },\n};\n\n\nTARGET\n\n * Type: 'web' | 'node' | 'modern-web' | 'web-worker'\n\n\u901a\u8fc7 target \u53c2\u6570\u53ef\u4ee5\u5224\u65ad\u5f53\u524d\u6784\u5efa\u7684\u76ee\u6807\u8fd0\u884c\u65f6\u73af\u5883\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    webpack: (config, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n\n\nISSERVER\n\n * Type: boolean\n\n\u5224\u65ad\u5f53\u524d\u6784\u5efa\u7684\u76ee\u6807\u8fd0\u884c\u65f6\u73af\u5883\u662f\u5426\u4e3a node\uff0c\u7b49\u4ef7\u4e8e target === 'node'\u3002\n\nexport default {\n  tools: {\n    webpack: (config, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n\n\nISWEBWORKER\n\n * Type: boolean\n\n\u5224\u65ad\u5f53\u524d\u6784\u5efa\u7684\u76ee\u6807\u8fd0\u884c\u65f6\u73af\u5883\u662f\u5426\u4e3a web-worker\uff0c\u7b49\u4ef7\u4e8e target === 'web-worker'\u3002\n\nexport default {\n  tools: {\n    webpack: (config, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n\n\nWEBPACK\n\n * Type: typeof import('webpack')\n\n\u901a\u8fc7\u8fd9\u4e2a\u53c2\u6570\u4f60\u53ef\u4ee5\u62ff\u5230 webpack \u5b9e\u4f8b\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    webpack: (config, { webpack }) => {\n      config.plugins.push(new webpack.ProgressPlugin());\n      return config;\n    },\n  },\n};\n\n\n\nHTMLWEBPACKPLUGIN\n\n * Type: typeof import('html-webpack-plugin')\n\n\u901a\u8fc7\u8fd9\u4e2a\u53c2\u6570\u4f60\u53ef\u4ee5\u62ff\u5230 HtmlWebpackPlugin \u5b9e\u4f8b\u3002\n\nexport default {\n  tools: {\n    webpackChain: (chain, { HtmlWebpackPlugin }) => {\n      console.log(HtmlWebpackPlugin);\n    },\n  },\n};\n\n\n\nADDRULES\n\n * Type: (rules: RuleSetRule | RuleSetRule[]) => void\n\n\u6dfb\u52a0\u989d\u5916\u7684 webpack rules\u3002\n\n\u793a\u4f8b\uff1a\n\nexport default {\n  tools: {\n    webpack: (config, { addRules }) => {\n      // \u6dfb\u52a0\u5355\u6761\u89c4\u5219\n      addRules({\n        test: /\\.foo/,\n        loader: require.resolve('foo-loader'),\n      });\n\n      // \u4ee5\u6570\u7ec4\u5f62\u5f0f\u6dfb\u52a0\u591a\u6761\u89c4\u5219\n      addRules([\n        {\n          test: /\\.foo/,\n          loader: require.resolve('foo-loader'),\n        },\n        {\n          test: /\\.bar/,\n          loader: require.resolve('bar-loader'),\n        },\n      ]);\n    },\n  },\n};\n\n\n\nPREPENDPLUGINS\n\n * Type: (plugins: WebpackPluginInstance | WebpackPluginInstance[]) => void\n\n\u5728\u5185\u90e8 webpack \u63d2\u4ef6\u6570\u7ec4\u5934\u90e8\u6dfb\u52a0\u989d\u5916\u7684\u63d2\u4ef6\uff0c\u6570\u7ec4\u5934\u90e8\u7684\u63d2\u4ef6\u4f1a\u4f18\u5148\u6267\u884c\u3002\n\nexport default {\n  tools: {\n    webpack: (config, { prependPlugins, webpack }) => {\n      // \u6dfb\u52a0\u5355\u4e2a\u63d2\u4ef6\n      prependPlugins(\n        new webpack.BannerPlugin({\n          banner: 'hello world!',\n        }),\n      );\n\n      // \u4ee5\u6570\u7ec4\u5f62\u5f0f\u6dfb\u52a0\u591a\u4e2a\u63d2\u4ef6\n      prependPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n\n\n\nAPPENDPLUGINS\n\n * Type: (plugins: WebpackPluginInstance | WebpackPluginInstance[]) => void\n\n\u5728\u5185\u90e8 webpack \u63d2\u4ef6\u6570\u7ec4\u5c3e\u90e8\u6dfb\u52a0\u989d\u5916\u7684\u63d2\u4ef6\uff0c\u6570\u7ec4\u5c3e\u90e8\u7684\u63d2\u4ef6\u4f1a\u5728\u6700\u540e\u6267\u884c\u3002\n\nexport default {\n  tools: {\n    webpack: (config, { appendPlugins, webpack }) => {\n      // \u6dfb\u52a0\u5355\u4e2a\u63d2\u4ef6\n      appendPlugins([\n        new webpack.BannerPlugin({\n          banner: 'hello world!',\n        }),\n      ]);\n\n      // \u4ee5\u6570\u7ec4\u5f62\u5f0f\u6dfb\u52a0\u591a\u4e2a\u63d2\u4ef6\n      appendPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n\n\n\nREMOVEPLUGIN\n\n * Type: (name: string) => void\n\n\u5220\u9664\u5185\u90e8\u7684 webpack \u63d2\u4ef6\uff0c\u53c2\u6570\u4e3a\u8be5\u63d2\u4ef6\u7684 constructor.name\u3002\n\n\u4f8b\u5982\uff0c\u5220\u9664\u5185\u90e8\u7684 fork-ts-checker-webpack-plugin\uff1a\n\nexport default {\n  tools: {\n    webpack: (config, { removePlugin }) => {\n      removePlugin('ForkTsCheckerWebpackPlugin');\n    },\n  },\n};\n",frontmatter:{}},{id:262,title:"",routePath:"/builder/config/tools/webpackChain",toc:[{id:"\u5de5\u5177\u96c6\u5408-1",text:"\u5de5\u5177\u96c6\u5408",depth:3},{id:"env-3",text:"env",depth:4},{id:"isprod-3",text:"isProd",depth:4},{id:"target-3",text:"target",depth:4},{id:"isserver-3",text:"isServer",depth:4},{id:"iswebworker-3",text:"isWebWorker",depth:4},{id:"webpack-5",text:"webpack",depth:4},{id:"htmlwebpackplugin-5",text:"HtmlWebpackPlugin",depth:3},{id:"chain_id-1",text:"CHAIN_ID",depth:4},{id:"chain_idone_of-1",text:"CHAIN_ID.ONE_OF",depth:3},{id:"chain_iduse-1",text:"CHAIN_ID.USE",depth:3},{id:"chain_idplugin-1",text:"CHAIN_ID.PLUGIN",depth:3},{id:"chain_idminimizer-1",text:"CHAIN_ID.MINIMIZER",depth:3},{id:"\u5e38\u7528-webpackchain-\u4f7f\u7528\u793a\u4f8b",text:"\u5e38\u7528 WebpackChain \u4f7f\u7528\u793a\u4f8b",depth:3},{id:"\u65b0\u589e\u4fee\u6539\u5220\u9664-loader-1",text:"\u65b0\u589e/\u4fee\u6539/\u5220\u9664 loader",depth:4},{id:"\u65b0\u589e\u4fee\u6539\u5220\u9664-plugin-1",text:"\u65b0\u589e/\u4fee\u6539/\u5220\u9664 plugin",depth:4}],content:" * Type: Function | undefined\n * Default: undefined\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 tools.webpackChain \u6765\u4fee\u6539\u9ed8\u8ba4\u7684 webpack \u914d\u7f6e\uff0c\u503c\u4e3a Function \u7c7b\u578b\uff0c\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff1a\n\n * \u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a webpack-chain \u5bf9\u8c61\u5b9e\u4f8b\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u5b9e\u4f8b\u6765\u4fee\u6539\u9ed8\u8ba4\u7684 webpack \u914d\u7f6e\u3002\n * \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u4e00\u4e2a\u5de5\u5177\u96c6\u5408\uff0c\u5305\u62ecenv\u3001isProd\u3001CHAIN_ID \u7b49\u3002\n\n\u76f8\u6bd4\u4e8e tools.webpack\uff0cwebpack-chain \u4e0d\u4ec5\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff0c\u800c\u4e14\u80fd\u591f\u57fa\u4e8e\u522b\u540d\u6765\u5b9a\u4f4d\u5230\u5185\u7f6e\u7684 Rule \u6216\nPlugin\uff0c\u4ece\u800c\u5b9e\u73b0\u7cbe\u51c6\u7684\u914d\u7f6e\u4fee\u6539\u3002\u6211\u4eec\u63a8\u8350\u4f7f\u7528 tools.webpackChain \u6765\u4ee3\u66ff tools.webpack\u3002\n\n> tools.webpackChain \u7684\u6267\u884c\u65f6\u673a\u65e9\u4e8e tools.webpack\uff0c\u56e0\u6b64\u4f1a\u88ab tools.webpack \u4e2d\u7684\u4fee\u6539\u6240\u8986\u76d6\u3002\n\n\n\u5de5\u5177\u96c6\u5408\n\nENV\n\n * Type: 'development' | 'production' | 'test'\n\n\u901a\u8fc7 env \u53c2\u6570\u53ef\u4ee5\u5224\u65ad\u5f53\u524d\u73af\u5883\u4e3a development\u3001production \u8fd8\u662f test\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    webpackChain: (chain, { env }) => {\n      if (env === 'development') {\n        chain.devtool('cheap-module-eval-source-map');\n      }\n    },\n  },\n};\n\n\nISPROD\n\n * Type: boolean\n\n\u901a\u8fc7 isProd \u53c2\u6570\u53ef\u4ee5\u5224\u65ad\u5f53\u524d\u73af\u5883\u662f\u5426\u4e3a production\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    webpackChain: (chain, { isProd }) => {\n      if (isProd) {\n        chain.devtool('source-map');\n      }\n    },\n  },\n};\n\n\nTARGET\n\n * Type: 'web' | 'node' | 'modern-web' | 'web-worker'\n\n\u901a\u8fc7 target \u53c2\u6570\u53ef\u4ee5\u5224\u65ad\u5f53\u524d\u6784\u5efa\u7684\u76ee\u6807\u8fd0\u884c\u65f6\u73af\u5883\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    webpackChain: (chain, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n    },\n  },\n};\n\n\nISSERVER\n\n * Type: boolean\n\n\u5224\u65ad\u5f53\u524d\u6784\u5efa\u7684\u76ee\u6807\u8fd0\u884c\u65f6\u73af\u5883\u662f\u5426\u4e3a node\uff0c\u7b49\u4ef7\u4e8e target === 'node'\u3002\n\nexport default {\n  tools: {\n    webpackChain: (chain, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n    },\n  },\n};\n\n\nISWEBWORKER\n\n * Type: boolean\n\n\u5224\u65ad\u5f53\u524d\u6784\u5efa\u7684\u76ee\u6807\u8fd0\u884c\u65f6\u73af\u5883\u662f\u5426\u4e3a web-worker\uff0c\u7b49\u4ef7\u4e8e target === 'web-worker'\u3002\n\nexport default {\n  tools: {\n    webpackChain: (chain, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n    },\n  },\n};\n\n\nWEBPACK\n\n * Type: typeof import('webpack')\n\n\u901a\u8fc7\u8fd9\u4e2a\u53c2\u6570\u4f60\u53ef\u4ee5\u62ff\u5230 webpack \u5b9e\u4f8b\u3002\u6bd4\u5982\uff1a\n\nexport default {\n  tools: {\n    webpackChain: (chain, { webpack }) => {\n      chain.plugin('my-progress').use(webpack.ProgressPlugin);\n    },\n  },\n};\n\n\n\nHTMLWEBPACKPLUGIN\n\n * Type: typeof import('html-webpack-plugin')\n\n\u901a\u8fc7\u8fd9\u4e2a\u53c2\u6570\u4f60\u53ef\u4ee5\u62ff\u5230 HtmlWebpackPlugin \u5b9e\u4f8b\u3002\n\nexport default {\n  tools: {\n    webpackChain: (chain, { HtmlWebpackPlugin }) => {\n      console.log(HtmlWebpackPlugin);\n    },\n  },\n};\n\n\nCHAIN_ID\n\nBuilder \u4e2d\u9884\u5148\u5b9a\u4e49\u4e86\u4e00\u4e9b\u5e38\u7528\u7684 Chain ID\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e9b ID \u6765\u5b9a\u4f4d\u5230\u5185\u7f6e\u7684 Rule \u6216 Plugin\u3002\n\nCHAIN_ID.RULE\n\n| ID | \u63cf\u8ff0 | | ------------ | ------------------ | | RULE.MJS | \u5904\u7406 mjs \u7684\u89c4\u5219 | |\nRULE.JS | \u5904\u7406 js \u7684\u89c4\u5219 | | RULE.TS | \u5904\u7406 ts \u7684\u89c4\u5219 | | RULE.CSS | \u5904\u7406 css \u7684\u89c4\u5219 | |\nRULE.LESS | \u5904\u7406 less \u7684\u89c4\u5219 | | RULE.SASS | \u5904\u7406 sass \u7684\u89c4\u5219 | | RULE.PUG | \u5904\u7406 pug \u7684\u89c4\u5219 |\n| RULE.TOML | \u5904\u7406 toml \u7684\u89c4\u5219 | | RULE.YAML | \u5904\u7406 yaml \u7684\u89c4\u5219 | | RULE.FONT | \u5904\u7406\u5b57\u4f53\u7684\u89c4\u5219 |\n| RULE.IMAGE | \u5904\u7406\u56fe\u7247\u7684\u89c4\u5219 | | RULE.MEDIA | \u5904\u7406\u5a92\u4f53\u8d44\u6e90\u7684\u89c4\u5219 |\n\n\nCHAIN_ID.ONE_OF\n\n\u901a\u8fc7 ONE_OF.XXX \u53ef\u4ee5\u5339\u914d\u5230\u89c4\u5219\u6570\u7ec4\u4e2d\u7684\u67d0\u4e00\u7c7b\u89c4\u5219\u3002\n\n| ID | \u63cf\u8ff0 | | ------------------- |\n--------------------------------------------------- | | ONE_OF.SVG | \u5904\u7406 SVG\n\u7684\u89c4\u5219\uff0c\u5728 data URI \u548c\u5355\u72ec\u6587\u4ef6\u4e4b\u95f4\u81ea\u52a8\u9009\u62e9 | | ONE_OF.SVG_URL | \u5904\u7406 SVG \u7684\u89c4\u5219\uff0c\u8f93\u51fa\u4e3a\u5355\u72ec\u6587\u4ef6 | |\nONE_OF.SVG_INLINE | \u5904\u7406 SVG \u7684\u89c4\u5219\uff0c\u4f5c\u4e3a data URI \u5185\u8054\u5230 bundle \u4e2d | | ONE_OF.SVG_ASSETS |\n\u5904\u7406 SVG \u7684\u89c4\u5219\uff0c\u5728 data URI \u548c\u5355\u72ec\u6587\u4ef6\u4e4b\u95f4\u81ea\u52a8\u9009\u62e9 |\n\n\nCHAIN_ID.USE\n\n\u901a\u8fc7 USE.XXX \u53ef\u4ee5\u5339\u914d\u5230\u5bf9\u5e94\u7684 loader\u3002\n\n| ID | \u63cf\u8ff0 | | ---------------------- | ------------------------------------- | |\nUSE.TS | \u5bf9\u5e94 ts-loader | | USE.CSS | \u5bf9\u5e94 css-loader | | USE.LESS | \u5bf9\u5e94 less-loader\n| | USE.SASS | \u5bf9\u5e94 sass-loader | | USE.PUG | \u5bf9\u5e94 pug-loader | | USE.TOML | \u5bf9\u5e94\ntoml-loader | | USE.YAML | \u5bf9\u5e94 yaml-loader | | USE.FILE | \u5bf9\u5e94 file-loader | |\nUSE.URL | \u5bf9\u5e94 url-loader | | USE.SVGR | \u5bf9\u5e94 @svgr/webpack | | USE.BABEL | \u5bf9\u5e94\nbabel-loader | | USE.STYLE | \u5bf9\u5e94 style-loader | | USE.POSTCSS | \u5bf9\u5e94 postcss-loader\n| | USE.MARKDOWN | \u5bf9\u5e94 markdown-loader | | USE.CSS_MODULES_TS | \u5bf9\u5e94\ncss-modules-typescript-loader | | USE.MINI_CSS_EXTRACT | \u5bf9\u5e94\nmini-css-extract-plugin.loader |\n\n\nCHAIN_ID.PLUGIN\n\n\u901a\u8fc7 PLUGIN.XXX \u53ef\u4ee5\u5339\u914d\u5230\u5bf9\u5e94\u7684 plugin\u3002\n\n| ID | \u63cf\u8ff0 | | ------------------------------ |\n--------------------------------------------------------------------------------\n-- | | PLUGIN.HMR | \u5bf9\u5e94 HotModuleReplacementPlugin | | PLUGIN.COPY | \u5bf9\u5e94\nCopyWebpackPlugin | | PLUGIN.HTML | \u5bf9\u5e94 HtmlWebpackPlugin\uff0c\u4f7f\u7528\u65f6\u9700\u8981\u62fc\u63a5 entry\n\u540d\u79f0\uff1a${PLUGIN.HTML}-${entryName} | | PLUGIN.DEFINE | \u5bf9\u5e94 DefinePlugin | |\nPLUGIN.IGNORE | \u5bf9\u5e94 IgnorePlugin | | PLUGIN.BANNER | \u5bf9\u5e94 BannerPlugin | |\nPLUGIN.PROGRESS | \u5bf9\u5e94 Webpackbar | | PLUGIN.APP_ICON | \u5bf9\u5e94 AppIconPlugin | |\nPLUGIN.LOADABLE | \u5bf9\u5e94 LoadableWebpackPlugin | | PLUGIN.MANIFEST | \u5bf9\u5e94\nWebpackManifestPlugin | | PLUGIN.TS_CHECKER | \u5bf9\u5e94 ForkTsCheckerWebpackPlugin | |\nPLUGIN.INLINE_HTML | \u5bf9\u5e94 InlineChunkHtmlPlugin | | PLUGIN.BUNDLE_ANALYZER | \u5bf9\u5e94\nWebpackBundleAnalyzer | | PLUGIN.BOTTOM_TEMPLATE | \u5bf9\u5e94 BottomTemplatePlugin | |\nPLUGIN.MINI_CSS_EXTRACT | \u5bf9\u5e94 MiniCssExtractPlugin | | PLUGIN.REACT_FAST_REFRESH\n| \u5bf9\u5e94 ReactFastRefreshPlugin | | PLUGIN.NODE_POLYFILL_PROVIDE | \u5bf9\u5e94\u5904\u7406 node\npolyfill \u7684 ProvidePlugin | | PLUGIN.INSPECTOR | \u5bf9\u5e94\n@modern-js/inspector-webpack-plugin | | PLUGIN.SUBRESOURCE_INTEGRITY | \u5bf9\u5e94\nwebpack-subresource-integrity | | PLUGIN.ASSETS_RETRY | \u5bf9\u5e94 Builder \u4e2d\u7684 webpack\n\u9759\u6001\u8d44\u6e90\u91cd\u8bd5\u63d2\u4ef6 WebpackAssetsRetryPlugin | | PLUGIN.AUTO_SET_ROOT_SIZE | \u5bf9\u5e94 Builder\n\u4e2d\u7684\u81ea\u52a8\u8bbe\u7f6e\u6839\u5b57\u4f53\u5927\u5c0f\u63d2\u4ef6 AutoSetRootSizePlugin |\n\n\nCHAIN_ID.MINIMIZER\n\n\u901a\u8fc7 MINIMIZER.XXX \u53ef\u4ee5\u5339\u914d\u5230\u5bf9\u5e94\u7684\u538b\u7f29\u5de5\u5177\u3002\n\n| ID | \u63cf\u8ff0 | | ------------------- | -------------------------------- | |\nMINIMIZER.JS | \u5bf9\u5e94 TerserWebpackPlugin | | MINIMIZER.CSS | \u5bf9\u5e94\nCssMinimizerWebpackPlugin | | MINIMIZER.ESBUILD | \u5bf9\u5e94 ESBuildPlugin | |\nMINIMIZER.SWC | \u5bf9\u5e94 SwcWebpackPlugin |\n\n\n\u5e38\u7528 WEBPACKCHAIN \u4f7f\u7528\u793a\u4f8b\n\n\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u914d\u7f6e\u793a\u4f8b\uff0c\u5b8c\u6574\u7684 webpack-chain API \u8bf7\u89c1 webpack-chain \u6587\u6863\u3002\n\n\u65b0\u589e/\u4fee\u6539/\u5220\u9664 LOADER\n\nexport default {\n  tools: {\n    webpackChain: (chain, { CHAIN_ID }) => {\n      // \u65b0\u589e loader\n      chain.module\n        .rule('md')\n        .test(/\\.md$/)\n        .use('md-loader')\n        .loader('md-loader');\n\n      // \u4fee\u6539 loader\n      chain.module\n        .rule(CHAIN_ID.RULE.JS)\n        .use(CHAIN_ID.USE.BABEL)\n        .tap(options => {\n          options.plugins.push('babel-plugin-xxx');\n          return options;\n        });\n\n      // \u5220\u9664 loader\n      chain.module.rule(CHAIN_ID.RULE.JS).uses.delete(CHAIN_ID.USE.BABEL);\n    },\n  },\n};\n\n\n\u65b0\u589e/\u4fee\u6539/\u5220\u9664 PLUGIN\n\nexport default {\n  tools: {\n    webpackChain: (chain, { webpack, CHAIN_ID }) => {\n      // \u65b0\u589e\u63d2\u4ef6\n      chain.plugin('custom-define').use(webpack.DefinePlugin, [\n        {\n          'process.env': {\n            NODE_ENV: JSON.stringify(process.env.NODE_ENV),\n          },\n        },\n      ]);\n\n      // \u4fee\u6539\u63d2\u4ef6\n      chain.plugin(CHAIN_ID.PLUGIN.HMR).tap(options => {\n        options[0].fullBuildTimeout = 200;\n        return options;\n      });\n\n      // \u5220\u9664\u63d2\u4ef6\n      chain.plugins.delete(CHAIN_ID.PLUGIN.HMR);\n    },\n  },\n};\n",frontmatter:{}},{id:263,title:"\u8def\u5f84\u522b\u540d",routePath:"/builder/guide/advanced/alias",toc:[{id:"\u901a\u8fc7-sourcealias-\u914d\u7f6e",text:"\u901a\u8fc7 source.alias \u914d\u7f6e",depth:2},{id:"\u901a\u8fc7-tsconfigjson-\u4e2d\u7684-paths-\u914d\u7f6e",text:"\u901a\u8fc7 tsconfig.json \u4e2d\u7684 paths \u914d\u7f6e",depth:2}],content:"\u8def\u5f84\u522b\u540d\n\n\u8def\u5f84\u522b\u540d\uff08alias\uff09\u5141\u8bb8\u5f00\u53d1\u8005\u4e3a\u6a21\u5757\u5b9a\u4e49\u522b\u540d\uff0c\u4ee5\u4fbf\u4e8e\u5728\u4ee3\u7801\u4e2d\u66f4\u65b9\u4fbf\u7684\u5f15\u7528\u5b83\u4eec\u3002\n\n\u4f8b\u5982\uff0c\u5047\u5982\u4f60\u5728\u9879\u76ee\u4e2d\u7ecf\u5e38\u5f15\u7528 src/common/request.ts \u6a21\u5757\uff0c\u4f60\u53ef\u4ee5\u4e3a\u5b83\u5b9a\u4e49\u4e00\u4e2a\u522b\u540d @request\uff0c\u7136\u540e\u5728\u4ee3\u7801\u4e2d\u901a\u8fc7 ``\n\u6765\u5f15\u7528\u5b83\uff0c\u800c\u4e0d\u9700\u8981\u6bcf\u6b21\u90fd\u5199\u51fa\u5b8c\u6574\u7684\u76f8\u5bf9\u8def\u5f84\u3002\u540c\u65f6\uff0c\u8fd9\u4e5f\u5141\u8bb8\u4f60\u5c06\u6a21\u5757\u79fb\u52a8\u5230\u4e0d\u540c\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u9700\u8981\u66f4\u65b0\u4ee3\u7801\u4e2d\u7684\u6240\u6709 import \u8bed\u6cd5\u3002\n\n\u5728 Builder \u4e2d\uff0c\u4f60\u6709\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u8bbe\u7f6e\u8def\u5f84\u522b\u540d:\n\n * \u901a\u8fc7 source.alias \u914d\u7f6e\u3002\n * \u901a\u8fc7 tsconfig.json \u4e2d\u7684 paths \u914d\u7f6e\u3002\n\n\n\u901a\u8fc7 SOURCE.ALIAS \u914d\u7f6e\n\nsource.alias \u5bf9\u5e94 webpack \u539f\u751f\u7684 resolve.alias \u914d\u7f6e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5bf9\u8c61\u6216\u8005\u51fd\u6570\u7684\u65b9\u5f0f\u8fdb\u884c\u914d\u7f6e\u3002\n\n\u9996\u5148\u4f60\u53ef\u4ee5\u901a\u8fc7\u5bf9\u8c61\u7684\u65b9\u5f0f\u8fdb\u884c\u914d\u7f6e\uff0c\u6bd4\u5982\uff1a\n\nexport default {\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n};\n\n\n\u5176\u4e2d\u7684\u76f8\u5bf9\u8def\u5f84\u4f1a\u88ab Builder \u81ea\u52a8\u8865\u5168\u4e3a\u7edd\u5bf9\u8def\u5f84\u3002\n\n\u4f60\u4e5f\u53ef\u4ee5\u914d\u7f6e\u4e3a\u4e00\u4e2a\u51fd\u6570\uff0c\u62ff\u5230\u9884\u8bbe\u7684 alias \u5bf9\u8c61\uff0c\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\uff0c\u6bd4\u5982\uff1a\n\nexport default {\n  source: {\n    alias: alias => {\n      alias['@common'] = './src/common';\n      return alias;\n    },\n  },\n};\n\n\n\n\u901a\u8fc7 TSCONFIG.JSON \u4e2d\u7684 PATHS \u914d\u7f6e\n\n\u9664\u4e86 source.alias\uff0c\u4f60\u8fd8\u53ef\u4ee5\u901a\u8fc7 tsconfig.json \u4e2d\u7684 paths \u8fdb\u884c\u914d\u7f6e\uff0c\u8fd9\u662f\u6211\u4eec\u5728 TypeScript\n\u9879\u76ee\u4e2d\u63a8\u8350\u4f7f\u7528\u7684\u65b9\u5f0f\uff0c\u56e0\u4e3a\u53ef\u4ee5\u89e3\u51b3\u8def\u5f84\u522b\u540d\u7684\u7c7b\u578b\u95ee\u9898\u3002\n\n\u6bd4\u5982\uff1a\n\n{\n  \"compilerOptions\": {\n    \"paths\": {\n      \"@common/*\": [\"./src/common/*\"]\n    }\n  }\n}\n\n\n:::tip \u4f18\u5148\u7ea7 paths \u914d\u7f6e\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e source.alias\u3002 :::",frontmatter:{}},{id:264,title:"\u6d4f\u89c8\u5668\u517c\u5bb9\u6027",routePath:"/builder/guide/advanced/browser-compatibility",toc:[{id:"\u8bbe\u7f6e\u6d4f\u89c8\u5668\u8303\u56f4",text:"\u8bbe\u7f6e\u6d4f\u89c8\u5668\u8303\u56f4",depth:2},{id:"\u80cc\u666f\u77e5\u8bc6",text:"\u80cc\u666f\u77e5\u8bc6",depth:2},{id:"\u8bed\u6cd5\u964d\u7ea7\u548c-api-\u964d\u7ea7",text:"\u8bed\u6cd5\u964d\u7ea7\u548c API \u964d\u7ea7",depth:3},{id:"\u8bed\u6cd5\u8f6c\u8bd1",text:"\u8bed\u6cd5\u8f6c\u8bd1",depth:3},{id:"api-polyfill-1",text:"API Polyfill",depth:3},{id:"\u964d\u7ea7\u65b9\u5f0f",text:"\u964d\u7ea7\u65b9\u5f0f",depth:2},{id:"\u964d\u7ea7\u5f53\u524d\u9879\u76ee\u4ee3\u7801",text:"\u964d\u7ea7\u5f53\u524d\u9879\u76ee\u4ee3\u7801",depth:3},{id:"\u964d\u7ea7\u7b2c\u4e09\u65b9\u4f9d\u8d56",text:"\u964d\u7ea7\u7b2c\u4e09\u65b9\u4f9d\u8d56",depth:3},{id:"\u964d\u7ea7\u975e\u5f53\u524d\u9879\u76ee\u7684\u4ee3\u7801",text:"\u964d\u7ea7\u975e\u5f53\u524d\u9879\u76ee\u7684\u4ee3\u7801",depth:3},{id:"polyfill-\u65b9\u6848",text:"Polyfill \u65b9\u6848",depth:2},{id:"entry-\u65b9\u6848",text:"entry \u65b9\u6848",depth:3},{id:"usage-\u65b9\u6848",text:"usage \u65b9\u6848",depth:3},{id:"\u4e0d\u6ce8\u5165-polyfill",text:"\u4e0d\u6ce8\u5165 Polyfill",depth:3}],content:"\u6d4f\u89c8\u5668\u517c\u5bb9\u6027\n\n\u672c\u7ae0\u8282\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 Builder \u63d0\u4f9b\u7684\u80fd\u529b\u6765\u5904\u7406\u6d4f\u89c8\u5668\u517c\u5bb9\u6027\u95ee\u9898\u3002\n\n\n\u8bbe\u7f6e\u6d4f\u89c8\u5668\u8303\u56f4\n\n\u5728\u5904\u7406\u517c\u5bb9\u6027\u95ee\u9898\u4e4b\u524d\uff0c\u9996\u5148\u9700\u8981\u660e\u786e\u4f60\u7684\u9879\u76ee\u9700\u8981\u652f\u6301\u7684\u6d4f\u89c8\u5668\u8303\u56f4\uff0c\u5e76\u6dfb\u52a0\u76f8\u5e94\u7684 browserslist \u914d\u7f6e\u3002\n\n * \u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u8bbe\u7f6e\u6d4f\u89c8\u5668\u8303\u56f4\uff0c\u8bf7\u5148\u9605\u8bfb \u8bbe\u7f6e\u6d4f\u89c8\u5668\u8303\u56f4 \u7ae0\u8282\u3002\n\n * \u5982\u679c\u4f60\u5df2\u7ecf\u8bbe\u7f6e\u4e86\u6d4f\u89c8\u5668\u8303\u56f4\uff0c\u90a3\u4e48 Builder \u4f1a\u81ea\u52a8\u6839\u636e\u8be5\u8303\u56f4\u8fdb\u884c\u7f16\u8bd1\uff0c\u5bf9 JavaScript \u8bed\u6cd5\u548c CSS \u8bed\u6cd5\u8fdb\u884c\u964d\u7ea7\u5904\u7406\uff0c\u5e76\u6ce8\u5165\u6240\u9700\u7684\n   polyfill \u4ee3\u7801\u3002\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u653e\u5fc3\u5730\u4f7f\u7528\u73b0\u4ee3 ECMAScript \u7279\u6027\uff0c\u65e0\u987b\u62c5\u5fc3\u517c\u5bb9\u6027\u95ee\u9898\u3002\n\n\u5728\u8bbe\u7f6e\u6d4f\u89c8\u5668\u8303\u56f4\u4e4b\u540e\uff0c\u5982\u679c\u4f60\u4f9d\u7136\u5728\u5f00\u53d1\u4e2d\u9047\u5230\u4e86\u4e00\u4e9b\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u8bf7\u7ee7\u7eed\u9605\u8bfb\u4e0b\u9762\u7684\u5185\u5bb9\u6765\u5bfb\u627e\u89e3\u51b3\u65b9\u6848\u3002\n\n\n\u80cc\u666f\u77e5\u8bc6\n\n\u5728\u5904\u7406\u517c\u5bb9\u6027\u95ee\u9898\u4e4b\u524d\uff0c\u5efa\u8bae\u4f60\u4e86\u89e3\u4ee5\u4e0b\u80cc\u666f\u77e5\u8bc6\uff0c\u4ee5\u66f4\u597d\u5730\u5904\u7406\u76f8\u5173\u95ee\u9898\u3002\n\n\n\u8bed\u6cd5\u964d\u7ea7\u548c API \u964d\u7ea7\n\n\u5f53\u4f60\u5728\u9879\u76ee\u4e2d\u4f7f\u7528\u9ad8\u7248\u672c\u8bed\u6cd5\u548c API \u65f6\uff0c\u4e3a\u4e86\u8ba9\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u80fd\u7a33\u5b9a\u8fd0\u884c\u5728\u4f4e\u7248\u672c\u6d4f\u89c8\u5668\u4e2d\uff0c\u9700\u8981\u5b8c\u6210\u4e24\u90e8\u5206\u964d\u7ea7\uff1a\u8bed\u6cd5\u964d\u7ea7\u548c API \u964d\u7ea7\u3002\n\nBuilder \u901a\u8fc7\u8bed\u6cd5\u8f6c\u8bd1\u6765\u5bf9\u8bed\u6cd5\u8fdb\u884c\u964d\u7ea7\uff0c\u901a\u8fc7 polyfill \u6765\u5bf9 API \u8fdb\u884c\u8fdb\u884c\u964d\u7ea7\u3002\n\n> \u8bed\u6cd5\u548c API \u5e76\u4e0d\u662f\u5f3a\u7ed1\u5b9a\u7684\uff0c\u6d4f\u89c8\u5668\u5382\u5546\u5728\u5b9e\u73b0\u5f15\u64ce\u7684\u65f6\u5019\uff0c\u4f1a\u6839\u636e\u89c4\u8303\u6216\u8005\u81ea\u8eab\u9700\u8981\u63d0\u524d\u652f\u6301\u4e00\u4e9b\u8bed\u6cd5\u6216\u8005\u63d0\u524d\u5b9e\u73b0\u4e00\u4e9b\n> API\u3002\u56e0\u6b64\uff0c\u540c\u4e00\u65f6\u671f\u7684\u4e0d\u540c\u5382\u5546\u7684\u6d4f\u89c8\u5668\uff0c\u5bf9\u8bed\u6cd5\u548c API \u7684\u517c\u5bb9\u90fd\u4e0d\u4e00\u5b9a\u76f8\u540c\u3002\u6240\u4ee5\u5728\u4e00\u822c\u7684\u5b9e\u8df5\u4e2d\uff0c\u8bed\u6cd5\u548c API \u662f\u5206\u6210\u4e24\u4e2a\u90e8\u5206\u8fdb\u884c\u5904\u7406\u7684\u3002\n\n\n\u8bed\u6cd5\u8f6c\u8bd1\n\n\u8bed\u6cd5\u662f\u7f16\u7a0b\u8bed\u8a00\u5982\u4f55\u7ec4\u7ec7\u4ee3\u7801\u7684\u4e00\u7cfb\u5217\u89c4\u5219\uff0c\u4e0d\u9075\u5b88\u8fd9\u4e9b\u89c4\u5219\u7684\u4ee3\u7801\u65e0\u6cd5\u88ab\u7f16\u7a0b\u8bed\u8a00\u7684\u5f15\u64ce\u6b63\u786e\u8bc6\u522b\uff0c\u56e0\u6b64\u65e0\u6cd5\u88ab\u8fd0\u884c\u3002\u5728 JavaScript\n\u4e2d\uff0c\u4ee5\u4e0b\u51e0\u4e2a\u793a\u4f8b\u90fd\u662f\u8bed\u6cd5\u89c4\u5219\uff1a\n\n * \u5728 const foo = 1 \u4e2d\uff0cconst \u8868\u793a\u58f0\u660e\u4e00\u4e2a\u4e0d\u53ef\u53d8\u7684\u5e38\u91cf\u3002\n * \u5728 foo?.bar?.baz \u4e2d\uff0c?. \u8868\u793a\u53ef\u9009\u94fe\u8bbf\u95ee\u5c5e\u6027\u3002\n * \u5728 async function () {} \u4e2d\uff0casync \u8868\u793a\u58f0\u660e\u4e00\u4e2a\u5f02\u6b65\u51fd\u6570\u3002\n\n\u7531\u4e8e\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u89e3\u6790\u5668\u6240\u80fd\u652f\u6301\u7684\u8bed\u6cd5\u4e0d\u540c\uff0c\u5c24\u5176\u662f\u65e7\u7248\u672c\u6d4f\u89c8\u5668\u5f15\u64ce\u6240\u80fd\u652f\u6301\u7684\u8bed\u6cd5\u8f83\u5c11\uff0c\u56e0\u6b64\u4e00\u4e9b\u8bed\u6cd5\u5728\u4f4e\u7248\u672c\u6d4f\u89c8\u5668\u5f15\u64ce\u4e2d\u8fd0\u884c\u65f6\uff0c\u5c31\u4f1a\u5728\u89e3\u6790 AST \u7684\u9636\u6bb5\u62a5\u9519\u3002\n\n\u6bd4\u5982\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\u5728 IE \u6d4f\u89c8\u5668\u6216\u4f4e\u7248\u672c Node.js \u4e0b\u4f1a\u62a5\u9519\uff1a\n\nconst foo = {};\nfoo?.bar();\n\n\n\u6211\u4eec\u5728\u4f4e\u7248\u672c Node.js \u4e2d\u8fd0\u884c\u8fd9\u6bb5\u4ee3\u7801\uff0c\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u9519\u8bef\u4fe1\u606f\uff1a\n\nSyntaxError: Unexpected token .\n  at Object.exports.runInThisContext (vm.js:73:16)\n  at Object.<anonymous> ([eval]-wrapper:6:22)\n  at Module._compile (module.js:460:26)\n  at evalScript (node.js:431:25)\n  at startup (node.js:90:7)\n  at node.js:814:3\n\n\n\u4ece\u9519\u8bef\u4fe1\u606f\u91cc\u53ef\u4ee5\u660e\u663e\u770b\u5230\uff0c\u8fd9\u662f\u4e00\u4e2a\u8bed\u6cd5\u9519\u8bef\uff08SyntaxError\uff09\u3002\u8fd9\u8bf4\u660e\u8fd9\u4e2a\u8bed\u6cd5\u5728\u4f4e\u7248\u672c\u7684\u5f15\u64ce\u4e2d\u662f\u4e0d\u53d7\u652f\u6301\u7684\u3002\n\n\u8bed\u6cd5\u662f\u4e0d\u80fd\u901a\u8fc7 polyfill \u6216\u8005 shim\n\u8fdb\u884c\u652f\u6301\u7684\u3002\u5982\u679c\u60f3\u5728\u4f4e\u7248\u672c\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\u4e00\u4e9b\u5b83\u539f\u672c\u4e0d\u652f\u6301\u7684\u8bed\u6cd5\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5bf9\u4ee3\u7801\u8fdb\u884c\u8f6c\u8bd1\uff0c\u8f6c\u8bd1\u6210\u4f4e\u7248\u672c\u5f15\u64ce\u6240\u80fd\u652f\u6301\u7684\u8bed\u6cd5\u3002\n\n\u5c06\u4e0a\u8ff0\u4ee3\u7801\u8f6c\u8bd1\u4e3a\u4ee5\u4e0b\u4ee3\u7801\u5373\u53ef\u5728\u4f4e\u7248\u672c\u5f15\u64ce\u4e2d\u8fd0\u884c\uff1a\n\nvar foo = {};\nfoo === null || foo === void 0 ? void 0 : foo.bar();\n\n\n\u8f6c\u8bd1\u540e\uff0c\u4ee3\u7801\u7684\u8bed\u6cd5\u53d8\u4e86\uff0c\u628a\u4e00\u4e9b\u4f4e\u7248\u672c\u5f15\u64ce\u65e0\u6cd5\u7406\u89e3\u7684\u8bed\u6cd5\u7528\u5176\u53ef\u7406\u89e3\u7684\u8bed\u6cd5\u66ff\u4ee3\uff0c\u4f46\u4ee3\u7801\u672c\u8eab\u7684\u610f\u4e49\u6ca1\u6709\u53d8\u3002\n\n\u5982\u679c\u5f15\u64ce\u5728\u8f6c\u6362\u4e3a AST \u7684\u65f6\u5019\u9047\u5230\u4e86\u65e0\u6cd5\u8bc6\u522b\u7684\u8bed\u6cd5\uff0c\u5c31\u4f1a\u62a5\u8bed\u6cd5\u9519\u8bef\uff0c\u5e76\u4e2d\u6b62\u4ee3\u7801\u6267\u884c\u6d41\u7a0b\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u4f60\u7684\u9879\u76ee\u6ca1\u6709\u4f7f\u7528 SSR \u6216 SSG\n\u7b49\u80fd\u529b\u7684\u8bdd\uff0c\u9875\u9762\u5c06\u4f1a\u76f4\u63a5\u767d\u5c4f\uff0c\u5bfc\u81f4\u9875\u9762\u4e0d\u53ef\u7528\u3002\n\n\u5982\u679c\u4ee3\u7801\u88ab\u8f6c\u6362\u4e3a AST \u6210\u529f\uff0c\u5f15\u64ce\u4f1a\u5c06 AST \u8f6c\u4e3a\u53ef\u6267\u884c\u4ee3\u7801\uff0c\u5e76\u5728\u5f15\u64ce\u5185\u90e8\u6b63\u5e38\u6267\u884c\u3002\n\n\nAPI POLYFILL\n\nJavaScript \u662f\u89e3\u91ca\u578b\u811a\u672c\u8bed\u8a00\uff0c\u4e0d\u540c\u4e8e Rust \u7b49\u7f16\u8bd1\u578b\u8bed\u8a00\u3002Rust \u4f1a\u5728\u7f16\u8bd1\u9636\u6bb5\u5bf9\u4ee3\u7801\u4e2d\u7684\u8c03\u7528\u8fdb\u884c\u68c0\u67e5\uff0c\u800c JavaScript\n\u5728\u771f\u6b63\u8fd0\u884c\u5230\u67d0\u4e00\u884c\u4ee3\u7801\u4e4b\u524d\uff0c\u5e76\u4e0d\u77e5\u9053\u8fd9\u4e00\u884c\u4ee3\u7801\u6240\u8c03\u7528\u7684\u51fd\u6570\u662f\u5426\u5b58\u5728\uff0c\u56e0\u6b64\u4e00\u4e9b\u9519\u8bef\u53ea\u6709\u5728\u8fd0\u884c\u65f6\u624d\u4f1a\u51fa\u73b0\u3002\n\n\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\uff1a\n\nvar str = 'Hello world!';\nconsole.log(str.notExistedMethod());\n\n\n\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\u6709\u7740\u6b63\u786e\u7684\u8bed\u6cd5\uff0c\u5728\u5f15\u64ce\u8fd0\u884c\u65f6\u7684\u7b2c\u4e00\u4e2a\u9636\u6bb5\u4e5f\u80fd\u6b63\u786e\u8f6c\u6362\u4e3a AST\uff0c\u4f46\u662f\u5728\u771f\u6b63\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u7531\u4e8e String.prototype \u4e0a\u4e0d\u5b58\u5728\nnotExistedMethod \u8fd9\u4e2a\u65b9\u6cd5\uff0c\u6240\u4ee5\u5728\u5b9e\u9645\u8fd0\u884c\u7684\u65f6\u5019\u4f1a\u62a5\u9519\uff1a\n\nUncaught TypeError: str.notExistedMethod is not a function\n  at <anonymous>:2:17\n\n\n\u968f\u7740 ECMAScript \u7684\u8fed\u4ee3\uff0c\u4e00\u4e9b\u5185\u7f6e\u5bf9\u8c61\u4e5f\u4f1a\u8fce\u6765\u65b0\u7684\u65b9\u6cd5\u3002\u6bd4\u5982 String.prototype.replaceAll \u662f\u5728 ES2021\n\u4e2d\u88ab\u5f15\u5165\u7684\uff0c\u90a3\u4e48\u5728\u5927\u90e8\u5206 2021 \u5e74\u524d\u7684\u6d4f\u89c8\u5668\u7684\u5f15\u64ce\u7684\u5185\u7f6e\u5bf9\u8c61 String.prototype \u4e2d\u662f\u4e0d\u5b58\u5728 replaceAll\n\u65b9\u6cd5\u7684\uff0c\u56e0\u6b64\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\u5728\u6700\u65b0\u7684 Chrome \u91cc\u53ef\u4ee5\u8fd0\u884c\uff0c\u4f46\u662f\u5728\u8f83\u65e9\u7684\u7248\u672c\u91cc\u65e0\u6cd5\u8fd0\u884c\uff1a\n\n'abc'.replaceAll('abc', 'xyz');\n\n\n\u4e3a\u4e86\u89e3\u51b3\u5728\u65e7\u7248\u6d4f\u89c8\u5668\u4e2d\u7684 String.prototype \u7f3a\u5c11 replaceAll \u7684\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u8001\u7248\u672c\u7684\u6d4f\u89c8\u5668\u91cc\u6269\u5c55 String.prototype\n\u5bf9\u8c61\uff0c\u7ed9\u5b83\u52a0\u4e0a replaceAll \u65b9\u6cd5\uff0c\u4f8b\u5982\uff1a\n\n// \u8be5 polyfill \u7684\u5b9e\u73b0\u5e76\u4e0d\u4e00\u5b9a\u7b26\u5408\u6807\u51c6\uff0c\u4ec5\u4f5c\u4e3a\u793a\u4f8b\u3002\nif (!String.prototype.replaceAll) {\n  String.prototype.replaceAll = function (str, newStr) {\n    // If a regex pattern\n    if (\n      Object.prototype.toString.call(str).toLowerCase() === '[object regexp]'\n    ) {\n      return this.replace(str, newStr);\n    }\n    // If a string\n    return this.replace(new RegExp(str, 'g'), newStr);\n  };\n}\n\n\n> \u8fd9\u79cd\u4e3a\u65e7\u73af\u5883\u63d0\u4f9b\u5b9e\u73b0\u6765\u5bf9\u9f50\u65b0 API \u7684\u6280\u672f\u88ab\u79f0\u4f5c polyfill\u3002\n\n\n\u964d\u7ea7\u65b9\u5f0f\n\n\u5728 Builder \u4e2d\uff0c\u6211\u4eec\u5c06\u4ee3\u7801\u5206\u4e3a\u4e09\u7c7b\uff1a\n\n * \u7b2c\u4e00\u7c7b\u662f\u5f53\u524d\u9879\u76ee\u4e2d\u7684\u6e90\u4ee3\u7801\u3002\n * \u7b2c\u4e8c\u7c7b\u662f\u901a\u8fc7 npm \u5b89\u88c5\u7684\u7b2c\u4e09\u65b9\u4f9d\u8d56\u4ee3\u7801\u3002\n * \u7b2c\u4e09\u7c7b\u662f\u975e\u5f53\u524d\u9879\u76ee\u7684\u4ee3\u7801\uff0c\u6bd4\u5982 monorepo \u4e2d\u5176\u4ed6\u76ee\u5f55\u4e0b\u7684\u4ee3\u7801\u3002\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u53ea\u4f1a\u5bf9\u7b2c\u4e00\u7c7b\u4ee3\u7801\u8fdb\u884c\u7f16\u8bd1\u548c\u964d\u7ea7\uff0c\u800c\u5176\u4ed6\u7c7b\u578b\u7684\u4ee3\u7801\u9ed8\u8ba4\u662f\u4e0d\u8fdb\u884c\u964d\u7ea7\u5904\u7406\u7684\u3002\n\n\u4e4b\u6240\u4ee5\u8fd9\u6837\u5904\u7406\uff0c\u4e3b\u8981\u6709\u51e0\u4e2a\u8003\u8651\uff1a\n\n * \u5c06\u6240\u6709\u7b2c\u4e09\u65b9\u4f9d\u8d56\u4ee3\u7801\u90fd\u8fdb\u884c\u964d\u7ea7\u7684\u8bdd\u4f1a\u5bfc\u81f4\u6784\u5efa\u6027\u80fd\u663e\u8457\u4e0b\u964d\u3002\n * \u5927\u90e8\u5206\u7b2c\u4e09\u65b9\u4f9d\u8d56\u5728\u53d1\u5e03\u524d\u5df2\u7ecf\u8fdb\u884c\u4e86\u964d\u7ea7\u5904\u7406\uff0c\u4e8c\u6b21\u964d\u7ea7\u53ef\u80fd\u4f1a\u5f15\u5165\u65b0\u95ee\u9898\u3002\n * \u975e\u5f53\u524d\u9879\u76ee\u7684\u4ee3\u7801\u53ef\u80fd\u5df2\u7ecf\u7ecf\u8fc7\u4e86\u7f16\u8bd1\u5904\u7406\uff0c\u6216\u8005\u7f16\u8bd1\u6240\u9700\u7684\u914d\u7f6e\u4e0e\u5f53\u524d\u9879\u76ee\u5e76\u4e0d\u76f8\u540c\u3002\n\n\n\u964d\u7ea7\u5f53\u524d\u9879\u76ee\u4ee3\u7801\n\n\u5f53\u524d\u9879\u76ee\u7684\u4ee3\u7801\u4f1a\u88ab\u9ed8\u8ba4\u964d\u7ea7\uff0c\u56e0\u6b64\u4f60\u4e0d\u9700\u8981\u6dfb\u52a0\u989d\u5916\u7684\u914d\u7f6e\uff0c\u53ea\u9700\u8981\u4fdd\u8bc1\u6b63\u786e\u8bbe\u7f6e\u4e86\u6d4f\u89c8\u5668\u8303\u56f4\u5373\u53ef\u3002\n\n\n\u964d\u7ea7\u7b2c\u4e09\u65b9\u4f9d\u8d56\n\n\u5f53\u4f60\u53d1\u73b0\u67d0\u4e2a\u7b2c\u4e09\u65b9\u4f9d\u8d56\u7684\u4ee3\u7801\u5bfc\u81f4\u4e86\u517c\u5bb9\u6027\u95ee\u9898\u65f6\uff0c\u4f60\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u4f9d\u8d56\u6dfb\u52a0\u5230 Builder \u7684 source.include \u914d\u7f6e\u4e2d\uff0c\u4f7f Builder\n\u5bf9\u8be5\u4f9d\u8d56\u8fdb\u884c\u989d\u5916\u7684\u7f16\u8bd1\u3002\n\n\u4ee5 query-string \u8fd9\u4e2a npm \u5305\u4e3a\u4f8b\uff0c\u4f60\u53ef\u4ee5\u505a\u5982\u4e0b\u7684\u914d\u7f6e\uff1a\n\n\n\nexport default {\n  source: {\n    include: [\n      // \u65b9\u6cd5\u4e00:\n      // \u5148\u901a\u8fc7 require.resolve \u6765\u83b7\u53d6\u6a21\u5757\u7684\u8def\u5f84\n      // \u518d\u901a\u8fc7 path.dirname \u6765\u6307\u5411\u5bf9\u5e94\u7684\u76ee\u5f55\n      path.dirname(require.resolve('query-string')),\n      // \u65b9\u6cd5\u4e8c:\n      // \u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u5339\u914d\n      // \u6240\u6709\u5305\u542b `/query-string/` \u7684\u8def\u5f84\u90fd\u4f1a\u88ab\u5339\u914d\u5230\n      /\\/query-string\\//,\n    ],\n  },\n};\n\n\n\u6ce8\u610f\uff0c\u8be5\u914d\u7f6e\u53ea\u4f1a\u7f16\u8bd1 query-string \u81ea\u8eab\u7684\u4ee3\u7801\uff0c\u4e0d\u4f1a\u7f16\u8bd1 query-string \u7684\u5b50\u4f9d\u8d56\u3002\u5982\u679c\u9700\u8981\u7f16\u8bd1 query-string\n\u7684\u5b50\u4f9d\u8d56\uff0c\u5219\u9700\u8981\u5c06\u5bf9\u5e94\u7684 npm \u5305\u4e5f\u52a0\u5165\u5230 source.include \u4e2d\u3002\n\n\n\u964d\u7ea7\u975e\u5f53\u524d\u9879\u76ee\u7684\u4ee3\u7801\n\n\u5f53\u4f60\u5f15\u7528\u975e\u5f53\u524d\u9879\u76ee\u7684\u4ee3\u7801\u65f6\uff0c\u5982\u679c\u8be5\u4ee3\u7801\u672a\u7ecf\u8fc7\u7f16\u8bd1\u5904\u7406\uff0c\u90a3\u4e48\u4f60\u4e5f\u9700\u8981\u914d\u7f6e source.include \u6765\u5bf9\u5b83\u8fdb\u884c\u7f16\u8bd1\u3002\n\n\u6bd4\u5982\uff0c\u4f60\u9700\u8981\u5f15\u7528 monorepo \u4e2d packages \u76ee\u5f55\u4e0b\u7684\u67d0\u4e2a\u6a21\u5757\uff0c\u53ef\u4ee5\u6dfb\u52a0\u5982\u4e0b\u7684\u914d\u7f6e\uff1a\n\n\n\nexport default {\n  source: {\n    include: [\n      // \u65b9\u6cd5\u4e00:\n      // \u7f16\u8bd1 Monorepo \u7684 package \u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\n      path.resolve(__dirname, '../../packages'),\n\n      // \u65b9\u6cd5\u4e8c:\n      // \u7f16\u8bd1 Monorepo \u7684 package \u76ee\u5f55\u91cc\u67d0\u4e2a\u5305\u7684\u6e90\u4ee3\u7801\n      // \u8fd9\u79cd\u5199\u6cd5\u5339\u914d\u7684\u8303\u56f4\u66f4\u52a0\u7cbe\u51c6\uff0c\u5bf9\u6574\u4f53\u7f16\u8bd1\u6027\u80fd\u7684\u5f71\u54cd\u66f4\u5c0f\n      path.resolve(__dirname, '../../packages/xxx/src'),\n    ],\n  },\n};\n\n\n\nPOLYFILL \u65b9\u6848\n\nBuilder \u5e95\u5c42\u901a\u8fc7 babel \u6216 SWC \u7f16\u8bd1 JavaScript \u4ee3\u7801\uff0c\u5e76\u6ce8\u5165\ncore-js\u3001@babel/runtime\u3001@swc/helpers \u7b49 polyfill \u5e93\u3002\n\n\u5728\u4e0d\u540c\u7684\u4f7f\u7528\u573a\u666f\u4e0b\uff0c\u4f60\u53ef\u80fd\u4f1a\u9700\u8981\u4e0d\u540c\u7684 polyfill \u65b9\u6848\u3002Builder \u63d0\u4f9b\u4e86 output.polyfill \u914d\u7f6e\u9879\u6765\u5207\u6362\u4e0d\u540c\u7684 polyfill\n\u65b9\u6848\u3002\n\n\nENTRY \u65b9\u6848\n\nentry \u4e3a\u9ed8\u8ba4\u65b9\u6848\uff0c\u65e0\u987b\u624b\u52a8\u8bbe\u7f6e\u3002\n\n\u5728\u4f7f\u7528 entry \u65b9\u6848\u65f6\uff0cBuilder \u4f1a\u6839\u636e\u5f53\u524d\u9879\u76ee\u8bbe\u7f6e\u7684\u6d4f\u89c8\u5668\u8303\u56f4\u6765\u8ba1\u7b97\u9700\u8981\u6ce8\u5165\u54ea\u4e9b core-js\n\u65b9\u6cd5\uff0c\u5e76\u5728\u6bcf\u4e2a\u9875\u9762\u7684\u5165\u53e3\u6587\u4ef6\u4e2d\u8fdb\u884c\u6ce8\u5165\u3002\u8fd9\u79cd\u65b9\u5f0f\u6ce8\u5165\u7684 polyfill \u8f83\u4e3a\u5168\u9762\uff0c\u4e0d\u9700\u8981\u518d\u62c5\u5fc3\u9879\u76ee\u6e90\u7801\u548c\u7b2c\u4e09\u65b9\u4f9d\u8d56\u7684 polyfill\n\u95ee\u9898\uff0c\u4f46\u662f\u56e0\u4e3a\u5305\u542b\u4e86\u4e00\u4e9b\u6ca1\u6709\u7528\u5230\u7684 polyfill \u4ee3\u7801\uff0c\u6240\u4ee5\u6700\u7ec8\u7684\u5305\u5927\u5c0f\u53ef\u80fd\u4f1a\u6709\u6240\u589e\u52a0\u3002\n\nentry \u65b9\u6848\u5bf9\u5e94\u7684\u914d\u7f6e\u4e3a\uff1a\n\nexport default {\n  output: {\n    polyfill: 'entry',\n  },\n};\n\n\n\nUSAGE \u65b9\u6848\n\nusage \u65b9\u6848\u53ef\u4ee5\u66f4\u7cbe\u786e\u5730\u63a7\u5236\u9700\u8981\u6ce8\u5165\u54ea\u4e9b core-js polyfill\u3002\n\n\u5f53\u4f60\u5f00\u542f usage \u65b9\u6848\u65f6\uff0cBuilder \u4f1a\u5206\u6790\u9879\u76ee\u4e2d\u7684\u6e90\u4ee3\u7801\uff0c\u5e76\u5224\u65ad\u9700\u8981\u6ce8\u5165\u54ea\u4e9b polyfill\u3002\n\n\u6bd4\u5982\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e86 Map:\n\nvar b = new Map();\n\n\n\u7f16\u8bd1\u540e\uff0c\u53ea\u4f1a\u5728\u8be5\u6587\u4ef6\u4e2d\u6ce8\u5165 Map \u6240\u9700\u7684 polyfill\uff1a\n\nimport 'core-js/modules/es.map';\nvar b = new Map();\n\n\n\u8fd9\u79cd\u65b9\u5f0f\u7684\u4f18\u70b9\u662f\u6ce8\u5165\u7684 polyfill \u4f53\u79ef\u66f4\u5c0f\uff0c\u9002\u5408\u5bf9\u5305\u4f53\u79ef\u6709\u8f83\u9ad8\u8981\u6c42\u7684\u9879\u76ee\u4f7f\u7528\u3002\u7f3a\u70b9\u662f polyfill\n\u53ef\u80fd\u6ce8\u5165\u4e0d\u5168\uff0c\u56e0\u4e3a\u7b2c\u4e09\u65b9\u4f9d\u8d56\u9ed8\u8ba4\u4e0d\u4f1a\u88ab\u7f16\u8bd1\u548c\u964d\u7ea7\u5904\u7406\uff0c\u56e0\u6b64\u7b2c\u4e09\u65b9\u4f9d\u8d56\u6240\u9700\u7684 polyfill \u4e0d\u4f1a\u88ab\u5206\u6790\u5230\uff0c\u5982\u679c\u9700\u8981\u5206\u6790\u67d0\u4e2a\u7b2c\u4e09\u65b9\u4f9d\u8d56\uff0c\u4e5f\u9700\u8981\u5c06\u5176\u52a0\u5165\u5230\nsource.include \u914d\u7f6e\u4e2d\u3002\n\nusage \u65b9\u6848\u5bf9\u5e94\u7684\u914d\u7f6e\u4e3a\uff1a\n\nexport default {\n  output: {\n    polyfill: 'usage',\n  },\n};\n\n\n\n\u4e0d\u6ce8\u5165 POLYFILL\n\n\u4f60\u53ef\u4ee5\u5c06 output.polyfill \u8bbe\u7f6e\u4e3a 'off' \u6765\u7981\u7528 polyfill \u6ce8\u5165\u7684\u884c\u4e3a\u3002\n\nexport default {\n  output: {\n    polyfill: 'off',\n  },\n};\n\n\n\u4f7f\u7528\u6b64\u9009\u9879\u65f6\uff0c\u4f60\u9700\u8981\u81ea\u884c\u4fdd\u8bc1\u4ee3\u7801\u7684\u517c\u5bb9\u6027\uff0c\u6bd4\u5982\u901a\u8fc7 source.preEntry \u6765\u624b\u52a8\u5f15\u7528\u6240\u9700\u7684 polyfill \u4ee3\u7801\u3002",frontmatter:{}},{id:265,title:"\u8bbe\u7f6e\u6d4f\u89c8\u5668\u8303\u56f4",routePath:"/builder/guide/advanced/browserslist",toc:[{id:"\u4ec0\u4e48\u662f-browserslist",text:"\u4ec0\u4e48\u662f Browserslist",depth:2},{id:"\u8bbe\u7f6e-browserslist",text:"\u8bbe\u7f6e Browserslist",depth:2},{id:"\u793a\u4f8b-41",text:"\u793a\u4f8b",depth:3},{id:"\u4f7f\u7528-outputoverridebrowserslist-\u914d\u7f6e",text:"\u4f7f\u7528 output.overrideBrowserslist \u914d\u7f6e",depth:3},{id:"\u5e38\u7528\u7684\u6d4f\u89c8\u5668\u8303\u56f4",text:"\u5e38\u7528\u7684\u6d4f\u89c8\u5668\u8303\u56f4",depth:2},{id:"\u79fb\u52a8\u7aef-h5-\u573a\u666f",text:"\u79fb\u52a8\u7aef H5 \u573a\u666f",depth:3},{id:"\u684c\u9762\u7aef-pc-\u573a\u666f",text:"\u684c\u9762\u7aef PC \u573a\u666f",depth:3},{id:"browserslist-\u9ed8\u8ba4\u503c",text:"Browserslist \u9ed8\u8ba4\u503c",depth:2},{id:"web-\u4ea7\u7269",text:"Web \u4ea7\u7269",depth:3},{id:"node-\u4ea7\u7269",text:"Node \u4ea7\u7269",depth:3},{id:"web-worker-\u4ea7\u7269",text:"Web Worker \u4ea7\u7269",depth:3},{id:"modern-web-\u4ea7\u7269",text:"Modern Web \u4ea7\u7269",depth:3},{id:"\u67e5\u8be2\u6d4f\u89c8\u5668\u652f\u6301\u60c5\u51b5",text:"\u67e5\u8be2\u6d4f\u89c8\u5668\u652f\u6301\u60c5\u51b5",depth:2}],content:"\u8bbe\u7f6e\u6d4f\u89c8\u5668\u8303\u56f4\n\nBuilder \u652f\u6301\u901a\u8fc7 Browserslist \u6765\u8bbe\u7f6e Web \u5e94\u7528\u9700\u8981\u517c\u5bb9\u7684\u6d4f\u89c8\u5668\u8303\u56f4\u3002\n\n\n\u4ec0\u4e48\u662f BROWSERSLIST\n\n\u7531\u4e8e\u5404\u79cd\u6d4f\u89c8\u5668\u5bf9 ECMAScript \u548c CSS \u7684\u652f\u6301\u7a0b\u5ea6\u4e0d\u540c\uff0c\u56e0\u6b64\u5f00\u53d1\u8005\u9700\u8981\u6839\u636e\u4e1a\u52a1\u9700\u6c42\uff0c\u4e3a Web \u5e94\u7528\u8bbe\u7f6e\u6b63\u786e\u7684\u6d4f\u89c8\u5668\u8303\u56f4\u3002\n\nBrowserslist \u53ef\u4ee5\u6307\u5b9a Web \u5e94\u7528\u80fd\u591f\u5728\u54ea\u4e9b\u6d4f\u89c8\u5668\u4e2d\u6b63\u5e38\u8fd0\u884c\uff0c\u5b83\u63d0\u4f9b\u4e86\u7edf\u4e00\u7684\u914d\u7f6e\u683c\u5f0f\uff0c\u5e76\u4e14\u5df2\u7ecf\u6210\u4e3a\u4e86\u524d\u7aef\u793e\u533a\u4e2d\u7684\u6807\u51c6\u3002Browserslist \u88ab\nAutoprefixer, Babel, ESLint, PostCSS\uff0cSWC \u548c Webpack \u7b49\u5e93\u6240\u4f7f\u7528\u3002\n\n\u5f53\u4f60\u901a\u8fc7 Browserslist \u6307\u5b9a\u4e86\u4e00\u4e2a\u6d4f\u89c8\u5668\u8303\u56f4\u65f6\uff0cBuilder \u4f1a\u5c06 JavaScript \u4ee3\u7801\u548c CSS \u4ee3\u7801\u7f16\u8bd1\u5230\u6307\u5b9a\u7684\u8bed\u6cd5\uff0c\u5e76\u6ce8\u5165\u76f8\u5e94\u7684\npolyfill \u4ee3\u7801\u3002\u5f53\u4f60\u53ea\u9700\u8981\u517c\u5bb9\u66f4\u73b0\u4ee3\u7684\u6d4f\u89c8\u5668\u65f6\uff0c\u7f16\u8bd1\u8fc7\u7a0b\u4f1a\u5f15\u5165\u66f4\u5c11\u7684\u517c\u5bb9\u4ee3\u7801\u548c polyfills\uff0c\u9875\u9762\u7684\u6027\u80fd\u4f1a\u66f4\u597d\u3002\n\n\u6bd4\u5982\uff0c\u5f53\u4f60\u9700\u8981\u9002\u914d IE11 \u6d4f\u89c8\u5668\u65f6\uff0cBuilder \u4f1a\u5c06\u4ee3\u7801\u7f16\u8bd1\u81f3 ES5\uff0c\u5e76\u901a\u8fc7 core-js \u6ce8\u5165 IE11 \u6240\u9700\u7684 polyfill\u3002\n\n:::tip \u4ec0\u4e48\u662f polyfill polyfill\n\u662f\u4e00\u79cd\u7528\u4e8e\u89e3\u51b3\u6d4f\u89c8\u5668\u517c\u5bb9\u95ee\u9898\u7684\u6280\u672f\u3002\u5b83\u7528\u4e8e\u6a21\u62df\u67d0\u4e9b\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u7684\u65b0\u7279\u6027\uff0c\u4f7f\u5f97\u8fd9\u4e9b\u7279\u6027\u80fd\u5728\u4e0d\u652f\u6301\u7684\u6d4f\u89c8\u5668\u4e2d\u6b63\u5e38\u5de5\u4f5c\u3002\u4f8b\u5982\uff0c\u5982\u679c\u67d0\u4e2a\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\nArray.prototype.flat() \u65b9\u6cd5\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 polyfill \u6765\u6a21\u62df\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u4ece\u800c\u8ba9\u4ee3\u7801\u5728\u8fd9\u4e2a\u6d4f\u89c8\u5668\u4e2d\u4e5f\u80fd\u6b63\u5e38\u5de5\u4f5c\u3002 :::\n\n\n\u8bbe\u7f6e BROWSERSLIST\n\n\u4f60\u53ef\u4ee5\u5728\u5f53\u524d\u9879\u76ee\u6839\u76ee\u5f55\u7684 package.json \u6216 .browserslistrc \u6587\u4ef6\u91cc\u8bbe\u7f6e Browserslist \u7684\u503c\u3002\n\n\n\u793a\u4f8b\n\n\u901a\u8fc7 package.json \u7684 browserslist \u8bbe\u7f6e\uff1a\n\n{\n  \"browserslist\": [\n    \"iOS 9\",\n    \"Android 4.4\",\n    \"last 2 versions\",\n    \"> 0.2%\",\n    \"not dead\"\n  ]\n}\n\n\n\u901a\u8fc7\u72ec\u7acb\u7684 .browserslistrc \u6587\u4ef6\u8bbe\u7f6e\uff1a\n\niOS 9\nAndroid 4.4\nlast 2 versions\n> 0.2%\nnot dead\n\n\n\n\u4f7f\u7528 OUTPUT.OVERRIDEBROWSERSLIST \u914d\u7f6e\n\n\u9664\u4e86\u4e0a\u8ff0\u7684\u6807\u51c6\u7528\u6cd5\uff0cBuilder \u8fd8\u63d0\u4f9b\u4e86 output.overrideBrowserslist \u914d\u7f6e\u9879\uff0c\u540c\u6837\u53ef\u4ee5\u8bbe\u7f6e Browserslist \u7684\u503c\u3002\n\nexport default {\n  output: {\n    overrideBrowserslist: [\n      'iOS 9',\n      'Android 4.4',\n      'last 2 versions',\n      '> 0.2%',\n      'not dead',\n    ],\n  },\n};\n\n\n\u5f53\u4f60\u540c\u65f6\u6784\u5efa\u591a\u79cd\u7c7b\u578b\u7684\u4ea7\u7269\u65f6\uff0c\u4f60\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7684\u4ea7\u7269\u7c7b\u578b\u8bbe\u7f6e\u4e0d\u540c\u7684\u76ee\u6807\u6d4f\u89c8\u5668\u8303\u56f4\u3002\u6b64\u65f6\uff0c\u4f60\u9700\u8981\u628a overrideBrowserslist \u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u7684\nkey \u4e3a\u5bf9\u5e94\u7684\u4ea7\u7269\u7c7b\u578b\u3002\n\n\u6bd4\u5982\u4e3a web \u548c node \u8bbe\u7f6e\u4e0d\u540c\u7684\u8303\u56f4\uff1a\n\nexport default {\n  output: {\n    overrideBrowserslist: {\n      web: ['iOS 9', 'Android 4.4', 'last 2 versions', '> 0.2%', 'not dead'],\n      node: ['node >= 14'],\n    },\n  },\n};\n\n\n\u5927\u591a\u6570\u573a\u666f\u4e0b\uff0c\u63a8\u8350\u4f18\u5148\u4f7f\u7528 .browserslistrc \u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u4f7f\u7528 overrideBrowserslist \u914d\u7f6e\u3002\u56e0\u4e3a\n.browserslistrc \u6587\u4ef6\u662f\u5b98\u65b9\u5b9a\u4e49\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u901a\u7528\u6027\u66f4\u5f3a\uff0c\u53ef\u4ee5\u88ab\u793e\u533a\u4e2d\u7684\u5176\u4ed6\u5e93\u8bc6\u522b\u3002\n\n\n\u5e38\u7528\u7684\u6d4f\u89c8\u5668\u8303\u56f4\n\n\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u7528\u7684\u6d4f\u89c8\u5668\u8303\u56f4\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9879\u76ee\u7c7b\u578b\u8fdb\u884c\u9009\u62e9\u3002\n\n\n\u79fb\u52a8\u7aef H5 \u573a\u666f\n\n\u79fb\u52a8\u7aef H5 \u573a\u666f\u4e3b\u8981\u517c\u5bb9 iOS \u548c Android \u7cfb\u7edf\uff0c\u901a\u5e38\u6211\u4eec\u5c06 Browserslist \u8bbe\u7f6e\u4e3a\uff1a\n\niOS 9\nAndroid 4.4\nlast 2 versions\n0.2%\nnot dead\n\n\n\u4ee5\u4e0a\u6d4f\u89c8\u5668\u8303\u56f4\u4f1a\u5c06\u4ee3\u7801\u7f16\u8bd1\u81f3 ES5 \u89c4\u8303\uff0c\u53ef\u4ee5\u517c\u5bb9\u5e02\u9762\u4e0a\u7edd\u5927\u591a\u6570\u79fb\u52a8\u7aef\u573a\u666f\uff0c\u5177\u4f53\u5bf9\u5e94\u7684\u6d4f\u89c8\u5668\u5217\u8868\u53ef\u4ee5\u67e5\u770b browserslist.dev\u3002\n\n\n\n\u4f60\u4e5f\u53ef\u4ee5\u9009\u62e9\u5728 H5 \u573a\u666f\u4f7f\u7528 ES6 \u89c4\u8303\uff0c\u8fd9\u6837\u4f1a\u8ba9\u9875\u9762\u7684\u6027\u80fd\u8868\u73b0\u66f4\u597d\uff0c\u5bf9\u5e94\u7684 Browserslist \u5982\u4e0b\uff1a\n\niOS 10\nChrome 51\n> 0.2%\nnot dead\nnot op_mini all\n\n\n\n\u684c\u9762\u7aef PC \u573a\u666f\n\n\u5728\u684c\u9762\u7aef PC \u573a\u666f\u4e0b\uff0c\u5982\u679c\u4f60\u9700\u8981\u517c\u5bb9 IE 11 \u6d4f\u89c8\u5668\uff0c\u5219\u53ef\u4ee5\u5c06 Browserslist \u8bbe\u7f6e\u4e3a\uff1a\n\n> 0.5%\nnot dead\nIE 11\n\n\n\u4ee5\u4e0a\u6d4f\u89c8\u5668\u8303\u56f4\u4f1a\u5c06\u4ee3\u7801\u7f16\u8bd1\u81f3 ES5 \u89c4\u8303\uff0c\u5177\u4f53\u5bf9\u5e94\u7684\u6d4f\u89c8\u5668\u5217\u8868\u53ef\u4ee5\u67e5\u770b browserslist.dev\u3002\n\n\u5982\u679c\u4f60\u4e0d\u9700\u8981\u517c\u5bb9 IE 11 \u6d4f\u89c8\u5668\uff0c\u90a3\u4e48\u53ef\u4ee5\u8c03\u6574 Browserslist \u6765\u83b7\u5f97\u66f4\u9ad8\u6027\u80fd\u7684\u4ea7\u7269\uff0c\u6bd4\u5982\u8bbe\u7f6e\u4e3a\u652f\u6301\u539f\u751f ES Modules \u7684\u6d4f\u89c8\u5668\uff1a\n\nchrome > 61\nedge > 16\nfirefox > 60\nsafari > 11\nios_saf > 11\n\n\n\nBROWSERSLIST \u9ed8\u8ba4\u503c\n\nBuilder \u4f1a\u6839\u636e\u6784\u5efa\u4ea7\u7269\u7c7b\u578b\u6765\u8bbe\u7f6e\u4e0d\u540c\u7684 Browserslist \u9ed8\u8ba4\u503c\uff0c\u4f46\u6211\u4eec\u63a8\u8350\u4f60\u5728\u9879\u76ee\u4e2d\u663e\u5f0f\u8bbe\u7f6e\nBrowserslist\uff0c\u8fd9\u4f1a\u8ba9\u9879\u76ee\u7684\u517c\u5bb9\u8303\u56f4\u66f4\u52a0\u660e\u786e\u3002\n\n\nWEB \u4ea7\u7269\n\nWeb \u4ea7\u7269\u7684\u9ed8\u8ba4\u503c\u5982\u4e0b\u6240\u793a\uff1a\n\n> 0.01%\nnot dead\nnot op_mini all\n\n\n\u5728\u8be5\u6d4f\u89c8\u5668\u8303\u56f4\u4e0b\uff0cJavaScript \u4ee3\u7801\u88ab\u4f1a\u7f16\u8bd1\u5230 ES5 \u8bed\u6cd5\u3002\n\n\nNODE \u4ea7\u7269\n\nNode \u4ea7\u7269\u9ed8\u8ba4\u6700\u4f4e\u517c\u5bb9\u5230 Node.js 14.0 \u7248\u672c\u3002\n\nnode >= 14\n\n\n\nWEB WORKER \u4ea7\u7269\n\nWeb Worker \u4ea7\u7269\u9ed8\u8ba4\u7684\u6d4f\u89c8\u5668\u8303\u56f4\u4e0e Web \u4e00\u81f4\u3002\n\n> 0.01%\nnot dead\nnot op_mini all\n\n\n\nMODERN WEB \u4ea7\u7269\n\nModern Web \u4ea7\u7269\u9ed8\u8ba4\u6700\u4f4e\u517c\u5bb9\u5230\u652f\u6301\u539f\u751f ES Modules \u7684\u6d4f\u89c8\u5668\u3002\n\nchrome > 61\nedge > 16\nfirefox > 60\nsafari > 11\nios_saf > 11\n\n\n\n\u67e5\u8be2\u6d4f\u89c8\u5668\u652f\u6301\u60c5\u51b5\n\n\u5728\u5f00\u53d1\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4e86\u89e3\u67d0\u4e9b\u7279\u6027\u6216 API \u7684\u6d4f\u89c8\u5668\u652f\u6301\u60c5\u51b5\uff0c\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u5728 caniuse \u7f51\u7ad9\u4e0a\u8fdb\u884c\u67e5\u8be2\u3002\n\n\u6bd4\u5982\u6211\u4eec\u9700\u8981\u77e5\u9053 Promise \u7684\u6d4f\u89c8\u5668\u652f\u6301\u60c5\u51b5\uff0c\u53ea\u9700\u8981\u5728 caniuse \u4e2d\u8f93\u5165 Promise\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u4ee5\u4e0b\u7ed3\u679c\uff1a\n\n\n\n\u4ece\u4e0a\u8868\u53ef\u4ee5\u770b\u51fa\uff0cPromise \u5728 Chrome 33 \u548c iOS 8 \u4e2d\u5f97\u5230\u4e86\u539f\u751f\u652f\u6301\uff0c\u4f46\u662f\u5728 IE 11 \u4e2d\u4e0d\u88ab\u652f\u6301\u3002",frontmatter:{}},{id:266,title:"\u4fee\u6539 webpack \u914d\u7f6e",routePath:"/builder/guide/advanced/custom-webpack-config",toc:[{id:"\u4fee\u6539-webpack-\u914d\u7f6e\u5bf9\u8c61",text:"\u4fee\u6539 webpack \u914d\u7f6e\u5bf9\u8c61",depth:2},{id:"\u4f7f\u7528-webpack-chain",text:"\u4f7f\u7528 webpack-chain",depth:2},{id:"toolswebpackchain-\u914d\u7f6e\u9879",text:"tools.webpackChain \u914d\u7f6e\u9879",depth:3},{id:"webpack-chain-\u57fa\u7840\u77e5\u8bc6",text:"webpack-chain \u57fa\u7840\u77e5\u8bc6",depth:2},{id:"webpack-chain-\u662f\u5982\u4f55\u5feb\u901f\u5b9a\u4f4d\u7684",text:"webpack-chain \u662f\u5982\u4f55\u5feb\u901f\u5b9a\u4f4d\u7684",depth:3},{id:"webpack-chain-id-\u7684\u7c7b\u578b",text:"webpack-chain id \u7684\u7c7b\u578b",depth:3},{id:"webpack-chain-\u793a\u4f8b",text:"webpack-chain \u793a\u4f8b",depth:2},{id:"\u65b0\u589e\u4fee\u6539\u5220\u9664-loader",text:"\u65b0\u589e/\u4fee\u6539/\u5220\u9664 loader",depth:3},{id:"\u65b0\u589e\u4fee\u6539\u5220\u9664-plugin",text:"\u65b0\u589e/\u4fee\u6539/\u5220\u9664 plugin",depth:3},{id:"\u6839\u636e\u4e0d\u540c\u73af\u5883\u4fee\u6539\u914d\u7f6e",text:"\u6839\u636e\u4e0d\u540c\u73af\u5883\u4fee\u6539\u914d\u7f6e",depth:3}],content:"\u4fee\u6539 WEBPACK \u914d\u7f6e\n\nBuilder \u652f\u6301\u76f4\u63a5\u4fee\u6539 webpack \u914d\u7f6e\u5bf9\u8c61\uff0c\u4e5f\u652f\u6301\u901a\u8fc7 webpack-chain \u6765\u6df1\u5ea6\u5b9a\u5236 webpack \u914d\u7f6e\u3002\n\n\n\u4fee\u6539 WEBPACK \u914d\u7f6e\u5bf9\u8c61\n\n\u4f60\u53ef\u4ee5\u4f7f\u7528 tools.webpack \u6765\u4fee\u6539 webpack \u914d\u7f6e\u5bf9\u8c61\u3002\n\nexport default {\n  tools: {\n    webpack: (config, { env }) => {\n      if (env === 'development') {\n        config.devtool = 'cheap-module-eval-source-map';\n      }\n      return config;\n    },\n  },\n};\n\n\n:::tip \u4f55\u65f6\u4f7f\u7528 \u5f53\u4f60\u53ea\u9700\u8981\u4fee\u6539\u5c11\u91cf webpack \u914d\u7f6e\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 tools.webpack\u3002\u4f46\u5982\u679c\u4f60\u9700\u8981\u4fee\u6539 Builder \u5185\u7f6e\u7684\nwebpack plugins \u6216 loaders\uff0c\u8bf7\u4f7f\u7528 tools.webpackChain \u8fdb\u884c\u4fee\u6539\u3002 :::\n\n\n\u4f7f\u7528 WEBPACK-CHAIN\n\nwebpack-chain \u662f\u533a\u522b\u4e8e\u76f4\u63a5\u4fee\u6539 webpack \u914d\u7f6e\u7684\u53e6\u4e00\u79cd\u914d\u7f6e\u4fee\u6539\u65b9\u5f0f\uff0c\u76f8\u8f83\u4e8e\u76f4\u63a5\u4fee\u6539 webpack \u914d\u7f6e\u5bf9\u8c61\uff0cwebpack-chain\n\u4e0d\u4ec5\u652f\u6301\u94fe\u5f0f\u8c03\u7528\uff0c\u5e76\u4e14\u80fd\u591f\u57fa\u4e8e id \u6765\u4fee\u6539\u5185\u7f6e\u7684 Rule \u6216 Plugin.\n\n\nTOOLS.WEBPACKCHAIN \u914d\u7f6e\u9879\n\nBuilder \u63d0\u4f9b\u4e86 tools.webpackChain \u914d\u7f6e\u9879\u6765\u4fee\u6539 webpack-chain\u3002\n\ntools.webpackChain \u7684\u503c\u4e3a Function \u7c7b\u578b\uff0c\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff1a\n\n * \u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a webpack-chain \u5b9e\u4f8b\u5bf9\u8c61\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u5b9e\u4f8b\u6765\u4fee\u6539\u9ed8\u8ba4\u7684 webpack \u914d\u7f6e\u3002\n * \u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u4e00\u4e2a\u5de5\u5177\u96c6\u5408\uff0c\u5305\u62ec env\u3001isProd\u3001CHAIN_ID \u7b49\u3002\n\n\u4e0b\u9762\u662f\u4e00\u4e2a\u57fa\u672c\u793a\u4f8b\uff1a\n\nexport default {\n  tools: {\n    webpackChain: (chain, { env }) => {\n      if (env === 'development') {\n        chain.devtool('cheap-module-eval-source-map');\n      }\n    },\n  },\n};\n\n\n\nWEBPACK-CHAIN \u57fa\u7840\u77e5\u8bc6\n\n\u5728\u5f00\u59cb\u4f7f\u7528 webpack-chain \u6765\u4fee\u6539 webpack \u914d\u7f6e\u4e4b\u524d\uff0c\u5efa\u8bae\u4f60\u5148\u4e86\u89e3\u4e00\u4e9b\u57fa\u7840\u77e5\u8bc6\u3002\n\n\nWEBPACK-CHAIN \u662f\u5982\u4f55\u5feb\u901f\u5b9a\u4f4d\u7684\n\n\u7b80\u5355\u6765\u8bf4\uff0cwebpack-chain \u8981\u6c42\u4f7f\u7528\u8005\u4e3a\u6bcf\u4e2a Rule\u3001Loader\u3001Plugin\u3001Minimizer \u90fd\u8bbe\u7f6e\u4e00\u4e2a\u72ec\u4e00\u65e0\u4e8c\u7684 id\uff0c\u901a\u8fc7\u8fd9\u4e2a\nid\uff0c\u5c31\u53ef\u4ee5\u4fbf\u6377\u5730\u4ece\u5d4c\u5957\u5c42\u7ea7\u5f88\u6df1\u7684\u5bf9\u8c61\u4e2d\u627e\u5230\u6240\u9700\u7684\u5bf9\u8c61\u3002\n\nBuilder \u5c06\u5185\u90e8\u5b9a\u4e49\u7684\u5168\u90e8 id \u90fd\u901a\u8fc7 CHAIN_ID \u5bf9\u8c61\u5bfc\u51fa\uff0c\u56e0\u6b64\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e9b\u5bfc\u51fa\u7684 id\uff0c\u5feb\u901f\u5b9a\u4f4d\u5230\u4f60\u60f3\u8981\u4fee\u6539\u7684 Loader \u6216\nPlugin\uff0c\u800c\u4e0d\u9700\u8981\u5728 webpack \u914d\u7f6e\u5bf9\u8c61\u91cc\u901a\u8fc7\u590d\u6742\u7684\u904d\u5386\u5bfb\u627e\u3002\n\n\u6bd4\u5982\u901a\u8fc7 CHAIN_ID.PLUGIN.HTML \u6765\u5220\u9664\u5185\u7f6e\u7684 HTML \u63d2\u4ef6\uff1a\n\nexport default {\n  tools: {\n    webpackChain: (chain, { webpack, CHAIN_ID }) => {\n      //\n      chain.plugins.delete(CHAIN_ID.PLUGIN.HTML);\n    },\n  },\n};\n\n\n\nWEBPACK-CHAIN ID \u7684\u7c7b\u578b\n\nCHAIN_ID \u5bf9\u8c61\u5305\u542b\u4e86\u591a\u79cd id\uff0c\u5bf9\u5e94\u7684\u542b\u4e49\u5982\u4e0b\uff1a\n\n| CHAIN_ID \u5b57\u6bb5 | \u5bf9\u5e94\u7684\u914d\u7f6e | \u63cf\u8ff0 | | ------------------------- |\n------------------------ | ------------------------------------------ | |\nCHAIN_ID.PLUGIN | plugins[i] | \u5bf9\u5e94 webpack \u914d\u7f6e\u4e2d\u7684\u4e00\u4e2a\u63d2\u4ef6 | | CHAIN_ID.RULE |\nmodule.rules[i] | \u5bf9\u5e94 webpack \u914d\u7f6e\u4e2d\u7684\u4e00\u4e2a Rule | | CHAIN_ID.USE |\nmodule.rules[i].loader | \u5bf9\u5e94 webpack \u914d\u7f6e\u4e2d\u7684\u4e00\u4e2a Loader | | CHAIN_ID.MINIMIZER |\noptimization.minimizer | \u5bf9\u5e94 webpack \u914d\u7f6e\u4e2d\u7684\u4e00\u4e2a\u538b\u7f29\u5de5\u5177 | | CHAIN_ID.RESOLVE_PLUGIN |\nresolve.plugins[i] | \u5bf9\u5e94 webpack \u914d\u7f6e\u4e2d\u7684\u4e2d\u7684\u4e00\u4e2a Resolve \u63d2\u4ef6 |\n\n\nWEBPACK-CHAIN \u793a\u4f8b\n\n\n\u65b0\u589e/\u4fee\u6539/\u5220\u9664 LOADER\n\nexport default {\n  tools: {\n    webpackChain: (chain, { CHAIN_ID }) => {\n      // \u65b0\u589e loader\n      chain.module\n        .rule('md')\n        .test(/\\.md$/)\n        .use('md-loader')\n        .loader('md-loader');\n\n      // \u4fee\u6539 loader\n      chain.module\n        .rule(CHAIN_ID.RULE.JS)\n        .use(CHAIN_ID.USE.BABEL)\n        .tap(options => {\n          options.plugins.push('babel-plugin-xxx');\n          return options;\n        });\n\n      // \u5220\u9664 loader\n      chain.module.rule(CHAIN_ID.RULE.JS).uses.delete(CHAIN_ID.USE.BABEL);\n    },\n  },\n};\n\n\n\n\u65b0\u589e/\u4fee\u6539/\u5220\u9664 PLUGIN\n\nexport default {\n  tools: {\n    webpackChain: (chain, { webpack, CHAIN_ID }) => {\n      // \u65b0\u589e\u63d2\u4ef6\n      chain.plugin('custom-define').use(webpack.DefinePlugin, [\n        {\n          'process.env': {\n            NODE_ENV: JSON.stringify(process.env.NODE_ENV),\n          },\n        },\n      ]);\n\n      // \u4fee\u6539\u63d2\u4ef6\n      chain.plugin(CHAIN_ID.PLUGIN.HMR).tap(options => {\n        options[0].fullBuildTimeout = 200;\n        return options;\n      });\n\n      // \u5220\u9664\u63d2\u4ef6\n      chain.plugins.delete(CHAIN_ID.PLUGIN.HMR);\n    },\n  },\n};\n\n\n\n\u6839\u636e\u4e0d\u540c\u73af\u5883\u4fee\u6539\u914d\u7f6e\n\n\u5728\u5de5\u5177\u96c6\u5408\u4e2d\u4f60\u53ef\u4ee5\u62ff\u5230\u5404\u79cd\u73af\u5883\u7684\u6807\u8bc6\uff0c\u5982\u5f00\u53d1/\u751f\u4ea7/\u6d4b\u8bd5\u73af\u5883\u6784\u5efa\u3001 SSR \u6784\u5efa\u3001Web Worker \u6784\u5efa\uff0c\u4ece\u800c\u5b9e\u73b0\u4e0d\u540c\u73af\u5883\u4e0b\u7684\u914d\u7f6e\u4fee\u6539\u3002\n\nexport default {\n  tools: {\n    webpackChain: (chain, { env, isProd, target, isServer, isWebWorker }) => {\n      if (utils.env === 'development' || utils.env === 'test') {\n        // ...\n      }\n      if (utils.isProd) {\n        // ...\n      }\n      if (utils.target === 'node') {\n        // ...\n      }\n      if (utils.isServer) {\n        // ...\n      }\n      if (utils.isWebWorker) {\n        // ...\n      }\n    },\n  },\n};\n\n\n\u4ee5\u4e0a\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u914d\u7f6e\u793a\u4f8b\uff0c\u5b8c\u6574\u7684 webpack-chain API \u8bf7\u89c1 webpack-chain \u6587\u6863\u3002",frontmatter:{}},{id:267,title:"\u73af\u5883\u53d8\u91cf",routePath:"/builder/guide/advanced/define",toc:[{id:"\u9ed8\u8ba4\u73af\u5883\u53d8\u91cf",text:"\u9ed8\u8ba4\u73af\u5883\u53d8\u91cf",depth:2},{id:"\u4f7f\u7528-define-\u914d\u7f6e\u9879",text:"\u4f7f\u7528 define \u914d\u7f6e\u9879",depth:2},{id:"\u66ff\u6362\u8868\u8fbe\u5f0f",text:"\u66ff\u6362\u8868\u8fbe\u5f0f",depth:3},{id:"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf",text:"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf",depth:2},{id:"\u58f0\u660e\u73af\u5883\u53d8\u91cf\u7c7b\u578b",text:"\u58f0\u660e\u73af\u5883\u53d8\u91cf\u7c7b\u578b",depth:2},{id:"tree-shaking-1",text:"Tree Shaking",depth:2},{id:"\u6e90\u7801\u5185\u8054\u6d4b\u8bd5",text:"\u6e90\u7801\u5185\u8054\u6d4b\u8bd5",depth:2}],content:"\u73af\u5883\u53d8\u91cf\n\nBuilder \u652f\u6301\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u5411\u4ee3\u7801\u4e2d\u6ce8\u5165\u73af\u5883\u53d8\u91cf\u6216\u8868\u8fbe\u5f0f\uff0c\u8fd9\u5bf9\u4e8e\u533a\u5206\u8fd0\u884c\u73af\u5883\u3001\u6ce8\u5165\u5e38\u91cf\u503c\u7b49\u573a\u666f\u5f88\u6709\u5e2e\u52a9\u3002\u672c\u7ae0\u8282\u4f1a\u4ecb\u7ecd\u73af\u5883\u53d8\u91cf\u7684\u4f7f\u7528\u65b9\u5f0f\u3002\n\n\n\u9ed8\u8ba4\u73af\u5883\u53d8\u91cf\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4f1a\u81ea\u52a8\u8bbe\u7f6e process.env.NODE_ENV \u73af\u5883\u53d8\u91cf\uff0c\u5728\u5f00\u53d1\u6a21\u5f0f\u4e3a 'development'\uff0c\u751f\u4ea7\u6a21\u5f0f\u4e3a\n'production'\u3002\n\n\u4f60\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u548c\u8fd0\u884c\u65f6\u7684\u524d\u7aef\u4ee3\u7801\u4e2d\u76f4\u63a5\u4f7f\u7528 process.env.NODE_ENV\u3002\n\nif (process.env.NODE_ENV === 'development') {\n  console.log('this is a development log');\n}\n\n\n\u5728\u5f00\u53d1\u73af\u5883\uff0c\u4ee5\u4e0a\u4ee3\u7801\u4f1a\u88ab\u7f16\u8bd1\u4e3a\uff1a\n\nif (true) {\n  console.log('this is a development log');\n}\n\n\n\u5728\u751f\u4ea7\u73af\u5883\uff0c\u4ee5\u4e0a\u4ee3\u7801\u4f1a\u88ab\u7f16\u8bd1\u4e3a\uff1a\n\nif (false) {\n  console.log('this is a development log');\n}\n\n\n\u5728\u4ee3\u7801\u538b\u7f29\u8fc7\u7a0b\u4e2d\uff0cif (false) { ... } \u4f1a\u88ab\u8bc6\u522b\u4e3a\u65e0\u6548\u4ee3\u7801\uff0c\u5e76\u88ab\u81ea\u52a8\u79fb\u9664\u3002\n\n\n\u4f7f\u7528 DEFINE \u914d\u7f6e\u9879\n\n\u901a\u8fc7\u914d\u7f6e source.define \u9009\u9879\uff0c\u4f60\u53ef\u4ee5\u5728\u6784\u5efa\u65f6\u5c06\u4ee3\u7801\u4e2d\u7684\u53d8\u91cf\u66ff\u6362\u6210\u5176\u5b83\u503c\u6216\u8005\u8868\u8fbe\u5f0f\u3002\n\ndefine \u7c7b\u4f3c\u4e8e\u5176\u5b83\u4e00\u4e9b\u8bed\u8a00\u63d0\u4f9b\u7684\u5b8f\u5b9a\u4e49\u80fd\u529b\uff0c\u4f46\u5f97\u76ca\u4e8e JavaScript\n\u5f3a\u5927\u7684\u8fd0\u884c\u65f6\u8868\u8fbe\u80fd\u529b\uff0c\u901a\u5e38\u4e0d\u9700\u8981\u50cf\u90a3\u4e9b\u8bed\u8a00\u4e00\u6837\u5c06\u5176\u7528\u4f5c\u590d\u6742\u4ee3\u7801\u7684\u751f\u6210\u5668\u3002\u5b83\u5e38\u7528\u4e8e\u5728\u6784\u5efa\u73af\u5883\u5411\u8fd0\u884c\u65f6\u4f20\u9012\u73af\u5883\u53d8\u91cf\u7b49\u7b80\u5355\u4fe1\u606f\uff0c\u6216\u662f\u8f85\u52a9 Builder \u8fdb\u884c\nTree Shaking \u7b49\u64cd\u4f5c\u3002\n\n\n\u66ff\u6362\u8868\u8fbe\u5f0f\n\ndefine \u6700\u57fa\u7840\u7684\u7528\u9014\u662f\u5728\u6784\u5efa\u65f6\u66ff\u6362\u4ee3\u7801\u4e2d\u7684\u8868\u8fbe\u5f0f\u3002\n\n\u4f8b\u5982\u73af\u5883\u53d8\u91cf NODE_ENV \u7684\u503c\u4f1a\u5f71\u54cd\u8bb8\u591a\u7b2c\u4e09\u65b9\u6a21\u5757\u7684\u884c\u4e3a\uff0c\u5728\u6784\u5efa\u7ebf\u4e0a\u5e94\u7528\u7684\u4ea7\u7269\u65f6\u901a\u5e38\u9700\u8981\u5c06\u5b83\u8bbe\u7f6e\u4e3a \"production\"\uff1a\n\nexport default {\n  source: {\n    define: {\n      'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV),\n    },\n  },\n};\n\n\n\u9700\u8981\u6ce8\u610f\u7684\u662f\u8fd9\u91cc\u63d0\u4f9b\u7684\u503c\u5fc5\u987b\u662f JSON \u5b57\u7b26\u4e32\uff0c\u4f8b\u5982 process.env.NODE_ENV \u7684\u503c\u4e3a \"production\" \u5219\u4f20\u5165\u7684\u503c\u5e94\u5f53\u662f\n\"\\\"production\\\"\" \u624d\u80fd\u591f\u6b63\u786e\u88ab\u5904\u7406\u3002\n\n\u540c\u7406 { foo: \"bar\" } \u4e5f\u5e94\u8be5\u88ab\u8f6c\u6362\u6210 \"{\\\"foo\\\":\\\"bar\\\"}\"\uff0c\u5982\u679c\u76f4\u63a5\u4f20\u5165\u539f\u59cb\u5bf9\u8c61\u5219\u610f\u5473\u7740\u628a\u8868\u8fbe\u5f0f\nprocess.env.NODE_ENV.foo \u66ff\u6362\u4e3a\u6807\u8bc6\u7b26 bar\u3002\n\nsource.define \u7684\u5177\u4f53\u884c\u4e3a\u8bf7\u53c2\u8003 API \u6587\u6863\u3002\n\n\u4ee5\u4e0a\u4f8b\u5b50\u4e2d\u7684\u73af\u5883\u53d8\u91cf NODE_ENV \u5df2\u7ecf\u7531 Builder \u81ea\u52a8\u6ce8\u5165\uff0c\u901a\u5e38\u4f60\u4e0d\u9700\u8981\u624b\u52a8\u914d\u7f6e\u5b83\u7684\u503c\u3002\n\n\n\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\n\n\u9488\u5bf9\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u7684\u9ad8\u9891\u573a\u666f\uff0cBuilder \u8fd8\u63d0\u4f9b\u4e86 source.globalVars \u914d\u7f6e\u7528\u4e8e\u7b80\u5316\u914d\u7f6e\uff0c\u5b83\u662f source.define\n\u7684\u4e00\u4e2a\u8bed\u6cd5\u7cd6\uff0c\u552f\u4e00\u7684\u533a\u522b\u662f source.globalVars \u4f1a\u81ea\u52a8\u5c06\u4f20\u5165\u7684\u503c\u8fdb\u884c JSON \u5e8f\u5217\u5316\u5904\u7406\uff0c\u8fd9\u4f7f\u5f97\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u7684\u503c\u66f4\u5bb9\u6613\uff0c\u907f\u514d\u5927\u91cf\u4e66\u5199\nJSON.stringify(...) \u8f6c\u6362\u8bed\u53e5\uff1a\n\nexport default {\n  source: {\n    globalVars: {\n      'process.env.NODE_ENV': 'production',\n      'import.meta.foo': { bar: 42 },\n      'import.meta.baz': false,\n    },\n  },\n};\n\n\n\u9700\u8981\u6ce8\u610f\u7684\u662f\u4e0d\u8bba\u4ee5\u4e0a\u54ea\u79cd\u65b9\u5f0f\u90fd\u53ea\u4f1a\u5339\u914d\u5b8c\u6574\u7684\u8868\u8fbe\u5f0f\uff0c\u5bf9\u8868\u8fbe\u5f0f\u8fdb\u884c\u89e3\u6784\u4f1a\u8ba9 Builder \u65e0\u6cd5\u6b63\u786e\u8bc6\u522b\uff1a\n\nconsole.log(process.env.NODE_ENV);\n// => production\n\nconst { NODE_ENV } = process.env;\nconsole.log(NODE_ENV);\n// => undefined\n\nconst vars = process.env;\nconsole.log(vars.NODE_ENV);\n// => undefined\n\n\n\n\u58f0\u660e\u73af\u5883\u53d8\u91cf\u7c7b\u578b\n\n\u5f53\u4f60\u5728 TypeScript \u4ee3\u7801\u4e2d\u8bfb\u53d6\u73af\u5883\u53d8\u91cf\u65f6\uff0cTypeScript \u53ef\u80fd\u4f1a\u63d0\u793a\u8be5\u53d8\u91cf\u7f3a\u5c11\u7c7b\u578b\u5b9a\u4e49\uff0c\u6b64\u65f6\u4f60\u9700\u8981\u6dfb\u52a0\u76f8\u5e94\u7684\u7c7b\u578b\u58f0\u660e\u3002\n\n\u6bd4\u5982\u4f60\u5f15\u7528\u4e86\u4e00\u4e2a CUSTOM_VAR \u53d8\u91cf\uff0c\u5728 TypeScript \u6587\u4ef6\u4e2d\u4f1a\u51fa\u73b0\u5982\u4e0b\u63d0\u793a\uff1a\n\nTS2304: Cannot find name 'CUSTOM_VAR'.\n\n\n\u6b64\u65f6\uff0c\u4f60\u53ef\u4ee5\u5728\u9879\u76ee\u4e2d\u521b\u5efa src/env.d.ts \u6587\u4ef6\uff0c\u5e76\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\u5373\u53ef\uff1a\n\n// src/env.d.ts\ndeclare const CUSTOM_VAR: string;\n\n\n\nTREE SHAKING\n\nDefine \u8fd8\u53ef\u4ee5\u7528\u4e8e\u6807\u8bb0\u6b7b\u4ee3\u7801\u4ee5\u534f\u52a9 Builder \u8fdb\u884c Tree Shaking \u4f18\u5316\u3002\n\n\u4f8b\u5982\u901a\u8fc7\u5c06 process.env.REGION \u66ff\u6362\u4e3a\u5177\u4f53\u503c\u6765\u5b9e\u73b0\u9488\u5bf9\u4e0d\u540c\u5730\u533a\u7684\u4ea7\u7269\u8fdb\u884c\u5dee\u5f02\u5316\u6784\u5efa\uff1a\n\nexport default {\n  source: {\n    define: {\n      'process.env.REGION': JSON.stringify(process.env.REGION),\n    },\n    // or...\n    globalVars: {\n      'process.env.REGION': process.env.REGION,\n    },\n  },\n};\n\n\n\u8fd9\u6837\u8bbe\u7f6e\u540e\u5bf9\u4e8e\u5b58\u5728\u5730\u533a\u63a7\u5236\u7684\u4ee3\u7801\uff1a\n\nconst App = () => {\n  if (process.env.REGION === 'cn') {\n    return <EntryFoo />;\n  } else if (process.env.REGION === 'sg') {\n    return <EntryBar />;\n  } else {\n    return <EntryBaz />;\n  }\n};\n\n\n\u6307\u5b9a\u73af\u5883\u53d8\u91cf REGION=sg \u5e76\u6267\u884c\u6784\u5efa\u5f97\u5230\u7684\u4ea7\u7269\u4f1a\u88ab\u5254\u9664\u591a\u4f59\u7684\u4ee3\u7801\uff1a\n\nconst App = () => {\n  if (false) {\n  } else if (true) {\n    return <EntryBar />;\n  } else {\n  }\n};\n\n\n\u672a\u7528\u5230\u7684\u7ec4\u4ef6\u4e0d\u4f1a\u88ab\u6253\u5305\u5230\u4ea7\u7269\u4e2d\uff0c\u5b83\u4eec\u7684\u5916\u90e8\u4f9d\u8d56\u4e5f\u4f1a\u5bf9\u5e94\u5730\u88ab\u4f18\u5316\uff0c\u6700\u7ec8\u5373\u53ef\u5f97\u5230\u4f53\u79ef\u548c\u6027\u80fd\u90fd\u66f4\u4f18\u7684\u4ea7\u7269\u4ee3\u7801\u3002\n\n\n\u6e90\u7801\u5185\u8054\u6d4b\u8bd5\n\nVitest \u652f\u6301\u5c06\u6d4b\u8bd5\u5199\u5728\u6e90\u7801\u6587\u4ef6\u5185\uff0c\u80fd\u591f\u5728\u4e0d\u5bfc\u51fa\u7684\u60c5\u51b5\u4e0b\u6d4b\u8bd5\u79c1\u6709\u529f\u80fd\u7684\u884c\u4e3a\uff0c\u5e76\u4e14\u901a\u8fc7\u8bbe\u7f6e Define \u6765\u5728\u6b63\u5f0f\u6784\u5efa\u65f6\u5254\u9664\u6d4b\u8bd5\u4ee3\u7801\u3002\u8be6\u7ec6\u6307\u5357\u8bf7\u53c2\u8003\nVitest \u5b98\u65b9\u6587\u6863\u3002\n\n// \u51fd\u6570\u5b9e\u73b0\nfunction add(...args) {\n  return args.reduce((a, b) => a + b, 0);\n}\n\n// \u6e90\u7801\u5185\u7684\u6d4b\u8bd5\u5957\u4ef6\nif (import.meta.vitest) {\n  const { it, expect } = import.meta.vitest;\n  it('add', () => {\n    expect(add()).toBe(0);\n    expect(add(1)).toBe(1);\n    expect(add(1, 2, 3)).toBe(6);\n  });\n}\n",frontmatter:{}},{id:268,title:"\u6a21\u5757\u70ed\u66ff\u6362",routePath:"/builder/guide/advanced/hmr",toc:[{id:"\u542f\u7528-hmr",text:"\u542f\u7528 HMR",depth:2},{id:"\u81ea\u5b9a\u4e49-hmr-url",text:"\u81ea\u5b9a\u4e49 HMR URL",depth:2},{id:"live-reloading-\u548c-hot-reloading-\u7684\u533a\u522b",text:"Live reloading \u548c Hot reloading \u7684\u533a\u522b",depth:2},{id:"\u5e38\u89c1\u95ee\u9898",text:"\u5e38\u89c1\u95ee\u9898",depth:2},{id:"external-reactreactdom-\u540e\u70ed\u66f4\u65b0\u4e0d\u751f\u6548",text:"External react/reactDom \u540e\uff0c\u70ed\u66f4\u65b0\u4e0d\u751f\u6548\uff1f",depth:3},{id:"\u5f00\u542f-https-\u540e\u70ed\u66f4\u65b0\u4e0d\u751f\u6548",text:"\u5f00\u542f https \u540e\uff0c\u70ed\u66f4\u65b0\u4e0d\u751f\u6548\uff1f",depth:3},{id:"\u70ed\u66f4\u65b0\u540e-react-\u7ec4\u4ef6\u7684-state-\u4e22\u5931",text:"\u70ed\u66f4\u65b0\u540e React \u7ec4\u4ef6\u7684 state \u4e22\u5931\uff1f",depth:3}],content:"\u6a21\u5757\u70ed\u66ff\u6362\n\n\u6a21\u5757\u70ed\u66ff\u6362\uff08HMR - hot module\nreplacement\uff09\u529f\u80fd\u4f1a\u5728\u5e94\u7528\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u66ff\u6362\u3001\u6dfb\u52a0\u6216\u5220\u9664\u6a21\u5757\uff0c\u800c\u65e0\u9700\u91cd\u65b0\u52a0\u8f7d\u6574\u4e2a\u9875\u9762\u3002\u4e3b\u8981\u662f\u901a\u8fc7\u4ee5\u4e0b\u51e0\u79cd\u65b9\u5f0f\uff0c\u6765\u663e\u8457\u52a0\u5feb\u5f00\u53d1\u901f\u5ea6\uff1a\n\n * \u4fdd\u7559\u5728\u5b8c\u5168\u91cd\u65b0\u52a0\u8f7d\u9875\u9762\u671f\u95f4\u4e22\u5931\u7684\u5e94\u7528\u7a0b\u5e8f\u72b6\u6001\u3002\n * \u53ea\u66f4\u65b0\u53d8\u66f4\u5185\u5bb9\uff0c\u4ee5\u8282\u7701\u5b9d\u8d35\u7684\u5f00\u53d1\u65f6\u95f4\u3002\n * \u5728\u6e90\u4ee3\u7801\u4e2d CSS/JS \u4ea7\u751f\u4fee\u6539\u65f6\uff0c\u4f1a\u7acb\u523b\u5728\u6d4f\u89c8\u5668\u4e2d\u8fdb\u884c\u66f4\u65b0\uff0c\u8fd9\u51e0\u4e4e\u76f8\u5f53\u4e8e\u5728\u6d4f\u89c8\u5668 devtools \u76f4\u63a5\u66f4\u6539\u6837\u5f0f\u3002\n\n\n\u542f\u7528 HMR\n\nBuilder \u5df2\u5185\u7f6e\u4e86\u5bf9 HMR \u7684\u652f\u6301\uff0c\u5728\u5f00\u53d1\u73af\u5883\u4e0b\u9ed8\u8ba4\u542f\u7528\u3002\n\n\u5982\u679c\u4f60\u4e0d\u9700\u8981\u4f7f\u7528 HMR \u80fd\u529b\uff0c\u53ef\u4ee5\u5c06 dev.hmr \u8bbe\u7f6e\u4e3a false\uff0c\u6b64\u65f6\u5c06\u4e0d\u518d\u63d0\u4f9b\u70ed\u66f4\u65b0\u548c react-refresh \u529f\u80fd\u3002\n\nexport default {\n  dev: {\n    hmr: false,\n  },\n};\n\n\n\n\u81ea\u5b9a\u4e49 HMR URL\n\nBuilder \u9ed8\u8ba4\u4f7f\u7528 local-ip \u548c\u5f53\u524d\u7aef\u53e3\u53f7\u62fc\u63a5 HMR \u5ba2\u6237\u7aef\u7684 URL\uff0c\u5f53\u51fa\u73b0\u8fde\u63a5\u5931\u8d25\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u901a\u8fc7\u81ea\u5b9a\u4e49\u914d\u7f6e\u7684\u65b9\u5f0f\u6307\u5b9a\u53ef\u7528\u7684 URL\u3002\n\n\u4f8b\u5982\uff0c\u901a\u8fc7\u5c06 host \u548c path \u8bbe\u7f6e\u4e3a\u7a7a\u5c06\u6839\u636e\u5f53\u524d\u5ba2\u6237\u7aef\u60c5\u51b5\u81ea\u52a8\u63a8\u5bfc HMR \u5ba2\u6237\u7aef URL\uff1a\n\nexport default {\n  tools: {\n    devServer: {\n      client: {\n        port: '',\n        host: '',\n      },\n    },\n  },\n};\n\n\n\nLIVE RELOADING \u548c HOT RELOADING \u7684\u533a\u522b\n\n * Live reloading: \u4fee\u6539\u6587\u4ef6\u4e4b\u540e\uff0cwebpack \u91cd\u65b0\u7f16\u8bd1\uff0c\u5e76\u5f3a\u5236\u5237\u65b0\u6d4f\u89c8\u5668\uff0c\u5c5e\u4e8e\u5168\u5c40\uff08\u6574\u4e2a\u5e94\u7528\uff09\u5237\u65b0\uff0c\u76f8\u5f53\u4e8e\n   window.location.reload()\uff1b\n * Hot reloading: \u4fee\u6539\u6587\u4ef6\u4e4b\u540e\uff0cwebpack \u91cd\u65b0\u7f16\u8bd1\u5bf9\u5e94\u6a21\u5757\uff0c\u5237\u65b0\u65f6\u53ef\u4ee5\u8bb0\u4f4f\u5e94\u7528\u7684\u72b6\u6001\uff0c\u4ece\u800c\u505a\u5230\u5c40\u90e8\u5237\u65b0\uff0c\u5373\u70ed\u66f4\u65b0\u3002\n\nDevServer \u63d0\u4f9b\u4e86 hot \u548c liveReload \u8fd9\u4e24\u4e2a\u914d\u7f6e\u9879\u6765\u63a7\u5236\u66f4\u65b0\u65b9\u5f0f\u3002\u5f53 hot \u548c liveReload \u540c\u65f6\u5f00\u542f\u65f6\uff0cDevServer\n\u4f1a\u4f18\u5148\u5c1d\u8bd5\u4f7f\u7528 hot \u6a21\u5f0f (HMR)\uff0c\u5982\u679c HMR \u66f4\u65b0\u5931\u8d25\u540e\uff0c\u4f1a\u964d\u7ea7\u5230\u91cd\u65b0\u52a0\u8f7d\u9875\u9762\u3002\n\n\n\u5e38\u89c1\u95ee\u9898\n\n\nEXTERNAL REACT/REACTDOM \u540e\uff0c\u70ed\u66f4\u65b0\u4e0d\u751f\u6548\uff1f\n\n\u70ed\u66f4\u65b0\u80fd\u529b\u751f\u6548\u9700\u8981\u7528\u5230 react \u548c react-dom \u7684 development \u6a21\u5f0f\uff0c \u800c CDN \u4e0a\u7684 react \u901a\u5e38\u4f7f\u7528 production\n\u6a21\u5f0f\u3002\u4f60\u9700\u8981\u5207\u6362\u5230\u5f00\u53d1\u6a21\u5f0f\uff0c\u6216\u8005\u5728\u5f00\u53d1\u73af\u5883\u4e0b\u4e0d\u914d\u7f6e external\u3002\n\n\u5982\u679c\u4e0d\u786e\u5b9a\u4f60\u5f53\u524d\u4f7f\u7528\u7684 React \u6a21\u5f0f\uff0c\u4f60\u53ef\u4ee5\u53c2\u8003\uff1a\u68c0\u67e5 React \u6a21\u5f0f\n\n\n\u5f00\u542f HTTPS \u540e\uff0c\u70ed\u66f4\u65b0\u4e0d\u751f\u6548\uff1f\n\n\u5f53\u5f00\u542f https \u65f6\uff0c\u7531\u4e8e\u8bc1\u4e66\u7684\u95ee\u9898\uff0c\u4f1a\u51fa\u73b0 HMR \u8fde\u63a5\u5931\u8d25\u7684\u60c5\u51b5\uff0c\u6b64\u65f6\u6253\u5f00\u63a7\u5236\u53f0\uff0c\u4f1a\u51fa\u73b0 HMR connect failed \u7684\u62a5\u9519\u3002\n\n\n\n\u6b64\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6cd5\u4e3a\uff1a\u70b9\u51fb Chrome \u6d4f\u89c8\u5668\u95ee\u9898\u9875\u9762\u7684\u300c\u9ad8\u7ea7\u300d->\u300c\u7ee7\u7eed\u524d\u5f80 xxx\uff08\u4e0d\u5b89\u5168\uff09\u300d\u3002\n\n\n\n> Tips: \u5f53\u901a\u8fc7 Localhost \u8bbf\u95ee\u9875\u9762\u65f6\uff0c\u300c\u60a8\u7684\u8fde\u63a5\u4e0d\u662f\u79c1\u5bc6\u8fde\u63a5\u300d\u5b57\u6837\u53ef\u80fd\u4e0d\u4f1a\u51fa\u73b0\uff0c\u53ef\u8bbf\u95ee Network \u57df\u540d\u8fdb\u884c\u5904\u7406\u3002\n\n\n\u70ed\u66f4\u65b0\u540e REACT \u7ec4\u4ef6\u7684 STATE \u4e22\u5931\uff1f\n\nBuilder \u4f7f\u7528 React \u5b98\u65b9\u7684 Fast Refresh \u80fd\u529b\u6765\u8fdb\u884c\u7ec4\u4ef6\u70ed\u66f4\u65b0\u3002\n\n\u5728\u4f7f\u7528 Fast Refresh \u65f6\uff0c\u8981\u6c42\u7ec4\u4ef6\u4e0d\u80fd\u4e3a\u533f\u540d\u51fd\u6570\uff0c\u5426\u5219\u70ed\u66f4\u65b0\u540e\u65e0\u6cd5\u4fdd\u7559 React \u7ec4\u4ef6\u7684 state\u3002\n\n\u4ee5\u4e0b\u5199\u6cd5\u90fd\u662f\u4e0d\u6b63\u786e\u7684\uff1a\n\n// \u9519\u8bef\u5199\u6cd5 1\nexport default function () {\n  return <div>Hello World</div>;\n}\n\n// \u9519\u8bef\u5199\u6cd5 2\nexport default () => <div>Hello World</div>;\n\n\n\u6b63\u786e\u7684\u5199\u6cd5\u4e3a\uff1a\n\n// \u6b63\u786e\u5199\u6cd5 1\nexport default function MyComponent() {\n  return <div>Hello World</div>;\n}\n\n// \u6b63\u786e\u5199\u6cd5 2\nconst MyComponent = () => <div>Hello World</div>\n\nexport default MyComponent;\n",frontmatter:{}},{id:269,title:"\u5f00\u542f REM \u9002\u914d",routePath:"/builder/guide/advanced/rem",toc:[{id:"\u5f00\u542f-rem-\u7684\u9002\u914d\u80fd\u529b",text:"\u5f00\u542f REM \u7684\u9002\u914d\u80fd\u529b",depth:2},{id:"css-\u5c5e\u6027\u503c\u8f6c\u6362",text:"CSS \u5c5e\u6027\u503c\u8f6c\u6362",depth:2},{id:"\u6839\u5143\u7d20\u5b57\u4f53\u5927\u5c0f\u8ba1\u7b97",text:"\u6839\u5143\u7d20\u5b57\u4f53\u5927\u5c0f\u8ba1\u7b97",depth:2},{id:"\u81ea\u5b9a\u4e49\u6700\u5927\u6839\u5143\u7d20\u5b57\u4f53\u503c",text:"\u81ea\u5b9a\u4e49\u6700\u5927\u6839\u5143\u7d20\u5b57\u4f53\u503c",depth:2},{id:"\u5982\u4f55\u5224\u65ad-rem-\u662f\u5426\u751f\u6548",text:"\u5982\u4f55\u5224\u65ad REM \u662f\u5426\u751f\u6548\uff1f",depth:2},{id:"\u5982\u4f55\u83b7\u53d6\u9875\u9762\u5b9e\u9645\u751f\u6548\u7684-rootfontsize-\u503c",text:"\u5982\u4f55\u83b7\u53d6\u9875\u9762\u5b9e\u9645\u751f\u6548\u7684 rootFontSize \u503c\uff1f",depth:2}],content:"\u5f00\u542f REM \u9002\u914d\n\nBuilder \u652f\u6301\u901a\u8fc7 output.convertToRem \u4e00\u952e\u5f00\u542f REM\n\u9002\u914d\u80fd\u529b\uff0c\u80fd\u591f\u6839\u636e\u5c4f\u5e55\u5927\u5c0f\u6765\u52a8\u6001\u8c03\u6574\u5b57\u4f53\u5927\u5c0f\uff0c\u8ba9\u7f51\u9875\u5728\u4e0d\u540c\u5927\u5c0f\u7684\u5c4f\u5e55\u4e0a\u90fd\u80fd\u591f\u81ea\u9002\u5e94\u663e\u793a\u3002\n\n\n\u5f00\u542f REM \u7684\u9002\u914d\u80fd\u529b\n\n\u5f00\u542f convertToRem \u540e\uff0c\u4f1a\u5bf9\u9875\u9762\u8fdb\u884c\u5982\u4e0b\u4e24\u4e2a\u64cd\u4f5c\uff1a\n\n 1. \u5c06 CSS \u5c5e\u6027\u4e2d\u7684 px \u8f6c\u6210 rem\u3002\n 2. \u5bf9\u6839\u5143\u7d20\u7684\u5b57\u4f53\u5927\u5c0f\u8fdb\u884c\u52a8\u6001\u8bbe\u7f6e\u3002\n\nexport default {\n  output: {\n    convertToRem: true,\n  },\n};\n\n\n\nCSS \u5c5e\u6027\u503c\u8f6c\u6362\n\n\u7531\u4e8e\u9ed8\u8ba4\u7684 rootFontSize \u4e3a 50\u3002\u5f00\u542f rem \u8f6c\u6362\u540e\uff0c\u4f1a\u6309\u7167 1rem = 50px \u7684\u6bd4\u4f8b\uff0c\u5bf9 CSS \u6837\u5f0f\u505a\u5982\u4e0b\u8f6c\u6362\uff1a\n\n/* input */\nh1 {\n  margin: 0 0 16px;\n  font-size: 32px;\n  line-height: 1.2;\n  letter-spacing: 1px;\n}\n\n/* output */\nh1 {\n  margin: 0 0 0.32rem;\n  font-size: 0.64rem;\n  line-height: 1.2;\n  letter-spacing: 0.02rem;\n}\n\n\nBuilder \u9ed8\u8ba4\u4f1a\u5bf9\u6240\u6709 CSS \u5c5e\u6027\u8fdb\u884c\u8f6c\u6362\uff0c\u5982\u679c\u5e0c\u671b\u4ec5\u5bf9 font-size \u5c5e\u6027\u8fdb\u884c\u8f6c\u6362\uff0c\u53ef\u901a\u8fc7\u8bbe\u7f6e pxtorem.propList \u5b9e\u73b0\u3002\n\nexport default {\n  output: {\n    convertToRem: {\n      pxtorem: {\n        propList: ['font-size'],\n      },\n    },\n  },\n};\n\n\n\n\u6839\u5143\u7d20\u5b57\u4f53\u5927\u5c0f\u8ba1\u7b97\n\n\u9875\u9762\u6839\u5143\u7d20\u7684\u5b57\u4f53\u5927\u5c0f\u7684\u8ba1\u7b97\u516c\u5f0f\u4e3a\uff1a\n\n\u6839\u5143\u7d20\u5b57\u4f53\u5927\u5c0f = \u5f53\u524d\u5ba2\u6237\u7aef\u5c4f\u5e55\u5bbd\u5ea6  * \u6839\u5143\u7d20\u5b57\u4f53\u503c / UI \u8bbe\u8ba1\u56fe\u5bbd\u5ea6\n\n(\u5373\uff1apageRootFontSize = clientWidth * rootFontSize / screenWidth)\n\n\n\u4ee5\u5c4f\u5e55\u5bbd\u5ea6\u4e3a 390 \u7684\u624b\u673a\u7aef\u6d4f\u89c8\u5668\u4e3a\u4f8b\uff0c\u6839\u5143\u7d20\u5b57\u4f53\u503c\u7684\u9ed8\u8ba4\u503c\u4e3a 50\uff0c UI \u8bbe\u8ba1\u56fe\u5bbd\u5ea6\u4e3a 375\u3002\n\n\u6b64\u65f6\u8ba1\u7b97\u51fa\u7684\u9875\u9762\u6839\u5143\u7d20\u7684\u5b57\u4f53\u5927\u5c0f\u4e3a 52 (390 * 50 / 375)\u3002 \u6b64\u65f6 1 rem \u4e3a 52px\uff0cCSS \u6837\u5f0f\u4e2d\u7684 32px\uff080.64\nrem\uff09\uff0c\u5b9e\u9645\u9875\u9762\u6548\u679c\u4e3a 33.28 px\u3002\n\nexport default {\n  output: {\n    convertToRem: {\n      rootFontSize: 50,\n      screenWidth: 375,\n    },\n  },\n};\n\n\n\n\u81ea\u5b9a\u4e49\u6700\u5927\u6839\u5143\u7d20\u5b57\u4f53\u503c\n\n\u5728\u684c\u9762\u6d4f\u89c8\u5668\u7aef\uff0c\u6839\u636e\u8ba1\u7b97\u516c\u5f0f\u5f97\u5230\u7684\u9875\u9762\u6839\u5143\u7d20\u5b57\u4f53\u503c\u5f80\u5f80\u8fc7\u5927\uff0c\u5f53\u8ba1\u7b97\u51fa\u7684\u7ed3\u679c\u8d85\u51fa\u4e86\u9ed8\u8ba4\u7684\u6700\u5927\u6839\u5143\u7d20\u5b57\u4f53\u503c\u65f6\uff0c\u5219\u91c7\u7528\u5f53\u524d\u8bbe\u7f6e\u7684\u6700\u5927\u6839\u5143\u7d20\u5b57\u4f53\u503c\u4e3a\u5f53\u524d\u6839\u5143\u7d20\u5b57\u4f53\u503c\u3002\n\n\u4ee5\u5c4f\u5e55\u5bbd\u5ea6\u4e3a 1920 \u7684\u684c\u9762\u6d4f\u89c8\u5668\u4e3a\u4f8b\uff0c\u6b64\u65f6\u8ba1\u7b97\u51fa\u7684\u6839\u5143\u7d20\u7684\u5b57\u4f53\u5927\u5c0f\u4e3a 349\uff0c\u8d85\u51fa\u4e86\u6700\u5927\u6839\u5143\u7d20\u5b57\u4f53\u503c 64\u3002\u5219\u91c7\u7528 64 \u4e3a\u5f53\u524d\u7684\u6839\u5143\u7d20\u5b57\u4f53\u503c\u3002\n\nexport default {\n  output: {\n    convertToRem: {\n      maxRootFontSize: 64,\n    },\n  },\n};\n\n\n\n\u5982\u4f55\u5224\u65ad REM \u662f\u5426\u751f\u6548\uff1f\n\n 1. CSS\uff1a\u67e5\u770b\u751f\u6210\u7684 .css \u6587\u4ef6\u4e2d\u5bf9\u5e94\u5c5e\u6027\u7684\u503c\u662f\u5426\u4ece px \u8f6c\u6362\u6210 rem\u3002\n 2. HTML\uff1a\u6253\u5f00\u9875\u9762\u63a7\u5236\u53f0\u67e5\u770b document.documentElement.style.fontSize \u662f\u5426\u5b58\u5728\u6709\u6548\u503c\u3002\n\n\n\u5982\u4f55\u83b7\u53d6\u9875\u9762\u5b9e\u9645\u751f\u6548\u7684 ROOTFONTSIZE \u503c\uff1f\n\n\u9875\u9762\u5b9e\u9645\u751f\u6548\u7684 rootFontSize \u4f1a\u6839\u636e\u5f53\u524d\u9875\u9762\u7684\u60c5\u51b5\u52a8\u6001\u8ba1\u7b97\u3002 \u53ef\u901a\u8fc7\u6253\u5370\ndocument.documentElement.style.fontSize \u67e5\u770b\uff0c\u4e5f\u53ef\u901a\u8fc7 window.ROOT_FONT_SIZE \u83b7\u53d6\u3002",frontmatter:{}},{id:270,title:"\u6784\u5efa\u4ea7\u7269\u7c7b\u578b",routePath:"/builder/guide/basic/build-target",toc:[{id:"\u9ed8\u8ba4\u4ea7\u7269",text:"\u9ed8\u8ba4\u4ea7\u7269",depth:2},{id:"\u53ef\u9009\u7c7b\u578b",text:"\u53ef\u9009\u7c7b\u578b",depth:2},{id:"\u5e76\u884c\u6784\u5efa",text:"\u5e76\u884c\u6784\u5efa",depth:2},{id:"node-\u4ea7\u7269-1",text:"Node \u4ea7\u7269",depth:2},{id:"web-worker-\u4ea7\u7269-1",text:"Web Worker \u4ea7\u7269",depth:2},{id:"modern-web-\u4ea7\u7269-1",text:"Modern Web \u4ea7\u7269",depth:2}],content:"\u6784\u5efa\u4ea7\u7269\u7c7b\u578b\n\nBuilder \u652f\u6301\u591a\u79cd\u6784\u5efa\u4ea7\u7269\u7c7b\u578b\uff0c\u5206\u522b\u9002\u7528\u4e8e\u4e0d\u540c\u7684\u76ee\u6807\u8fd0\u884c\u73af\u5883\u3002\u5728\u8bbe\u7f6e\u6b63\u786e\u7684\u4ea7\u7269\u7c7b\u578b\u540e\uff0cBuilder\n\u4f1a\u9488\u5bf9\u8be5\u73af\u5883\u4f18\u5316\u6253\u5305\u7ed3\u679c\uff0c\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u542f\u7528\u4e00\u4e9b\u5bf9\u5e94\u7684\u63d2\u4ef6\u6216\u8005\u914d\u7f6e\u3002\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 createBuilder \u65b9\u6cd5\u7684 target \u53c2\u6570\u6765\u8bbe\u7f6e\u4ea7\u7269\u7c7b\u578b\u3002\n\n\n\u9ed8\u8ba4\u4ea7\u7269\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0ctarget \u4f1a\u88ab\u8bbe\u7f6e\u4e3a 'web'\uff0c\u5e76\u6784\u5efa\u51fa\u8fd0\u884c\u5728\u6d4f\u89c8\u5668\u73af\u5883\u91cc\u7684\u4ea7\u7269\u3002\n\n\u540c\u65f6\uff0cBuilder \u4f1a\u8bfb\u53d6\u9879\u76ee\u4e2d\u7684 Browserslist \u914d\u7f6e\uff0c\u4ee5\u786e\u5b9a\u9700\u8981\u517c\u5bb9\u7684\u6d4f\u89c8\u5668\u8303\u56f4\u3002\n\n\n\u53ef\u9009\u7c7b\u578b\n\n\u9664\u4e86 'web' \u5916\uff0c\u4f60\u8fd8\u53ef\u4ee5\u5c06 target \u8bbe\u7f6e\u4e3a\u4ee5\u4e0b\u503c\uff1a\n\n * 'node': \u6784\u5efa\u51fa\u8fd0\u884c\u5728 Node.js \u73af\u5883\u7684\u4ea7\u7269\uff0c\u901a\u5e38\u7528\u4e8e SSR \u7b49\u573a\u666f\u3002\n * 'web-worker'\uff1a\u6784\u5efa\u51fa\u8fd0\u884c\u5728 Web Worker \u91cc\u7684\u4ea7\u7269\u3002\n * 'modern-web'\uff1a\u6784\u5efa\u51fa\u8fd0\u884c\u5728\u73b0\u4ee3\u6d4f\u89c8\u5668\u91cc\u7684\u4ea7\u7269\u3002\n\n\u6bd4\u5982\u6784\u5efa\u51fa\u9002\u7528\u4e8e Node.js \u73af\u5883\u7684\u4ea7\u7269\uff1a\n\nconst builder = await createBuilder(provider, {\n  target: 'node',\n});\n\n\n\n\u5e76\u884c\u6784\u5efa\n\n\u5f53 target \u4e3a\u5305\u542b\u591a\u4e2a\u503c\u7684\u6570\u7ec4\u65f6\uff0cBuilder \u4f1a\u5e76\u884c\u6784\u5efa\uff0c\u5e76\u751f\u6210\u591a\u4efd\u4e0d\u540c\u7684\u4ea7\u7269\u3002\n\n\u6bd4\u5982\u540c\u65f6\u6784\u5efa\u6d4f\u89c8\u5668\u4ea7\u7269\u548c SSR \u4ea7\u7269\uff1a\n\nconst builder = await createBuilder(provider, {\n  target: ['web', 'node'],\n});\n\n\n\nNODE \u4ea7\u7269\n\n\u6307\u8fd0\u884c\u5728 Node.js \u73af\u5883\u7684\u4ea7\u7269\uff0c\u901a\u5e38\u7528\u4e8e SSR \u7b49\u573a\u666f\u3002\n\n\u5f53 target \u8bbe\u7f6e\u4e3a 'node' \u65f6\uff0cBuilder \u4f1a\u8fdb\u884c\u4ee5\u4e0b\u5904\u7406\uff1a\n\n * \u4e0d\u4f1a\u751f\u6210 HTML \u6587\u4ef6\uff0c\u4e0e HTML \u76f8\u5173\u7684\u903b\u8f91\u4e5f\u4e0d\u4f1a\u6267\u884c\uff0c\u56e0\u4e3a Node.js \u73af\u5883\u4e0d\u9700\u8981 HTML\u3002\n * \u4e0d\u4f1a\u6253\u5305\u6216\u62bd\u53d6 CSS \u4ee3\u7801\uff0c\u4f46\u4ea7\u7269\u4e2d\u4f1a\u5305\u542b CSS Modules \u7684 id \u4fe1\u606f\u3002\n * \u4e0d\u4f1a\u5f00\u542f\u9ed8\u8ba4\u7684\u62c6\u5305\u7b56\u7565\uff0c\u4f46 dynamic import \u4f9d\u7136\u53ef\u4ee5\u751f\u6548\u3002\n * \u4e0d\u4f1a\u5f00\u542f\u70ed\u66f4\u65b0\u76f8\u5173\u7684\u80fd\u529b\u3002\n * \u5c06 Browserslist \u7684\u9ed8\u8ba4\u503c\u8c03\u6574\u4e3a ['node >= 14']\u3002\n\n\u5982\u679c\u89e6\u53d1\u4e86\u5e76\u884c\u6784\u5efa\uff0c\u6bd4\u5982\u540c\u65f6\u6784\u5efa web \u4ea7\u7269\u548c node \u4ea7\u7269\uff0c\u90a3\u4e48\u4e0a\u8ff0\u5904\u7406\u4e0d\u4f1a\u5f71\u54cd web \u4ea7\u7269\uff0cweb \u4ea7\u7269\u6240\u9700\u7684 HTML\u3001CSS\n\u7b49\u6587\u4ef6\u4f9d\u7136\u4f1a\u6b63\u786e\u751f\u6210\u3002\n\n\nWEB WORKER \u4ea7\u7269\n\n\u6307\u8fd0\u884c\u5728 Web Worker \u73af\u5883\u7684\u4ea7\u7269\u3002\n\n:::tip Web Worker Web Workers \u662f\u4e00\u79cd JavaScript\nAPI\uff0c\u5b83\u5141\u8bb8\u7f51\u9875\u5728\u540e\u53f0\u7ebf\u7a0b\u4e2d\u6267\u884c\u811a\u672c\uff0c\u4e0e\u4e3b\u7ebf\u7a0b\uff08\u7f51\u9875\uff09\u5206\u79bb\u3002\u8fd9\u610f\u5473\u7740\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Web Workers\n\u6765\u6267\u884c\u8ba1\u7b97\u5bc6\u96c6\u578b\u6216\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u4efb\u52a1\uff0c\u800c\u65e0\u9700\u963b\u585e\u4e3b\u7ebf\u7a0b\uff0c\u8fdb\u800c\u5f71\u54cd\u7f51\u9875\u7684\u6027\u80fd\u3002 :::\n\n\u5f53 target \u8bbe\u7f6e\u4e3a 'web-worker' \u65f6\uff0cBuilder \u4f1a\u8fdb\u884c\u4ee5\u4e0b\u5904\u7406\uff1a\n\n * \u4e0d\u4f1a\u751f\u6210 HTML \u6587\u4ef6\uff0c\u4e0e HTML \u76f8\u5173\u7684\u903b\u8f91\u4e5f\u4e0d\u4f1a\u6267\u884c\uff0c\u56e0\u4e3a Web Worker \u73af\u5883\u4e0d\u9700\u8981 HTML\u3002\n * \u4e0d\u4f1a\u6253\u5305\u6216\u62bd\u53d6 CSS \u4ee3\u7801\uff0c\u4f46\u4ea7\u7269\u4e2d\u4f1a\u5305\u542b CSS Modules \u7684 id \u4fe1\u606f\u3002\n * \u4e0d\u4f1a\u5f00\u542f\u9ed8\u8ba4\u7684\u62c6\u5305\u7b56\u7565\uff0c\u5e76\u4e14 dynamic import \u4e5f\u4e0d\u4f1a\u751f\u6548\uff0c\u56e0\u4e3a Web Worker \u4ec5\u8fd0\u884c\u652f\u6301\u5355\u4e2a JavaScript \u6587\u4ef6\u3002\n * \u4e0d\u4f1a\u5f00\u542f\u70ed\u66f4\u65b0\u76f8\u5173\u7684\u80fd\u529b\u3002\n\n\nMODERN WEB \u4ea7\u7269\n\n\u6307\u8fd0\u884c\u5728\u73b0\u4ee3\u6d4f\u89c8\u5668\u73af\u5883\u7684\u4ea7\u7269\u3002\n\n:::tip \u4ec0\u4e48\u662f\u73b0\u4ee3\u6d4f\u89c8\u5668? \u73b0\u4ee3\u6d4f\u89c8\u5668\u662f\u6211\u4eec\u7684\u4e00\u4e2a\u7ea6\u5b9a\u7528\u8bed\uff0c\u6307\u652f\u6301 \u539f\u751f ES Modules \u7684\u6d4f\u89c8\u5668\u3002 :::\n\n\u5f53 target \u8bbe\u7f6e\u4e3a 'modern-web' \u65f6\uff0cBuilder \u4f1a\u8fdb\u884c\u4ee5\u4e0b\u5904\u7406\uff1a\n\n * \u5c06 Browserslist \u7684\u9ed8\u8ba4\u503c\u8c03\u6574\u4e3a\uff1a\n\nconst browserslist = [\n  'chrome > 61',\n  'edge > 16',\n  'firefox > 60',\n  'safari > 11',\n  'ios_saf > 11',\n];\n",frontmatter:{}},{id:271,title:"Builder \u914d\u7f6e\u9879",routePath:"/builder/guide/basic/builder-config",toc:[{id:"\u914d\u7f6e\u5206\u7c7b",text:"\u914d\u7f6e\u5206\u7c7b",depth:2},{id:"\u914d\u7f6e\u9ed8\u8ba4\u503c",text:"\u914d\u7f6e\u9ed8\u8ba4\u503c",depth:2},{id:"\u4f7f\u7528\u914d\u7f6e",text:"\u4f7f\u7528\u914d\u7f6e",depth:2},{id:"\u5728\u4e0a\u5c42\u6846\u67b6\u4e2d\u4f7f\u7528",text:"\u5728\u4e0a\u5c42\u6846\u67b6\u4e2d\u4f7f\u7528",depth:3},{id:"\u901a\u8fc7-node-api-\u4f7f\u7528",text:"\u901a\u8fc7 Node API \u4f7f\u7528",depth:3},{id:"\u4e0e\u6846\u67b6\u914d\u7f6e\u7684\u5173\u7cfb",text:"\u4e0e\u6846\u67b6\u914d\u7f6e\u7684\u5173\u7cfb",depth:2},{id:"\u8c03\u8bd5\u914d\u7f6e",text:"\u8c03\u8bd5\u914d\u7f6e",depth:2}],content:"BUILDER \u914d\u7f6e\u9879\n\nBuilder \u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u914d\u7f6e\u9879\uff0c\u4ee5\u5e2e\u52a9\u4f7f\u7528\u8005\u5bf9\u6784\u5efa\u884c\u4e3a\u8fdb\u884c\u5b9a\u5236\u3002\n\n\n\u914d\u7f6e\u5206\u7c7b\n\nBuilder \u4e2d\u7684\u914d\u7f6e\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a\n\n * Dev Config\uff1a\u4e0e\u672c\u5730\u5f00\u53d1\u6709\u5173\u7684\u914d\u7f6e\u3002\n * Html Config\uff1a\u4e0e HTML \u6709\u5173\u7684\u914d\u7f6e\u3002\n * Tools Config\uff1a\u4e0e\u5e95\u5c42\u5de5\u5177\u6709\u5173\u7684\u914d\u7f6e\u3002\n * Source Config\uff1a\u4e0e\u6e90\u4ee3\u7801\u89e3\u6790\u3001\u7f16\u8bd1\u65b9\u5f0f\u76f8\u5173\u7684\u914d\u7f6e\u3002\n * Output Config\uff1a\u4e0e\u6784\u5efa\u4ea7\u7269\u6709\u5173\u7684\u914d\u7f6e\u3002\n * Security Config\uff1a\u4e0e\u5b89\u5168\u6709\u5173\u7684\u914d\u7f6e\u3002\n * Performance Config\uff1a\u4e0e\u7f16\u8bd1\u6027\u80fd\u3001\u4ea7\u7269\u6027\u80fd\u6709\u5173\u7684\u914d\u7f6e\u3002\n\n\u4f60\u53ef\u4ee5\u5728 API Reference \u9875\u9762\u627e\u5230\u6240\u6709\u914d\u7f6e\u9879\u7684\u8be6\u7ec6\u8bf4\u660e\u3002\n\n\n\u914d\u7f6e\u9ed8\u8ba4\u503c\n\nBuilder \u4e3a\u6bcf\u4e2a\u914d\u7f6e\u9879\u9884\u8bbe\u4e86\u4e00\u4e2a\u9ed8\u8ba4\u503c\uff0c\u9ed8\u8ba4\u503c\u53ef\u4ee5\u6ee1\u8db3\u5927\u90e8\u5206\u4f7f\u7528\u573a\u666f\u3002\u540c\u65f6\uff0c\u4e0a\u5c42\u6846\u67b6\u4e5f\u4f1a\u57fa\u4e8e\u5782\u76f4\u573a\u666f\u7684\u9700\u6c42\uff0c\u8986\u76d6\u4e00\u90e8\u5206\u914d\u7f6e\u7684\u9ed8\u8ba4\u503c\u3002\n\n\u56e0\u6b64\uff0c\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4f60\u4e0d\u9700\u8981\u58f0\u660e\u4efb\u4f55 Builder \u914d\u7f6e\uff0c\u76f4\u63a5\u5f00\u7bb1\u4f7f\u7528\u5373\u53ef\u3002\n\n\n\u4f7f\u7528\u914d\u7f6e\n\n\n\u5728\u4e0a\u5c42\u6846\u67b6\u4e2d\u4f7f\u7528\n\n\u5f53\u4f60\u4f7f\u7528\u4e00\u4e2a\u57fa\u4e8e Builder \u7684\u4e0a\u5c42\u6846\u67b6\u65f6\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u6846\u67b6\u7684\u914d\u7f6e\u6587\u4ef6\u6765\u5b9a\u4e49 Builder \u914d\u7f6e\uff0c\u4e0a\u5c42\u6846\u67b6\u4f1a\u81ea\u52a8\u5c06\u76f8\u5173\u914d\u7f6e\u900f\u4f20\u7ed9 Builder\u3002\n\n\u6bd4\u5982\u5728 {MODERN_JS} \u6846\u67b6\u4e2d\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u5728 modern.config.ts \u6587\u4ef6\u91cc\u5b9a\u4e49 Builder \u7684 source.alias \u914d\u7f6e\uff1a\n\n// modern.config.ts\nexport default {\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n};\n\n\n\u5e38\u7528\u7684\u6846\u67b6\u914d\u7f6e\u6587\u4ef6\u5305\u62ec\uff1a\n\n| \u6846\u67b6 | \u914d\u7f6e\u6587\u4ef6 | | ------------- | ------------------ | | Modern.js |\nmodern.config.ts | | EdenX | edenx.config.ts | | PIA | pia.config.ts |\n\n\n\u901a\u8fc7 NODE API \u4f7f\u7528\n\n\u5f53\u4f60\u901a\u8fc7 Node API \u8c03\u7528 Builder \u65f6\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 Provider \u7684 builderConfig \u914d\u7f6e\u9879\u6765\u4f20\u5165 Builder \u914d\u7f6e\uff1a\n\n\n\nconst provider = builderWebpackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n\n\n\u5173\u4e8e Node API \u7684\u5b8c\u6574\u7528\u6cd5\uff0c\u8bf7\u53c2\u8003 API - createBuilder\u3002\n\n\n\u4e0e\u6846\u67b6\u914d\u7f6e\u7684\u5173\u7cfb\n\n\u901a\u5e38\u6765\u8bf4\uff0cBuilder \u914d\u7f6e\u662f\u6846\u67b6\u914d\u7f6e\u7684\u5b50\u96c6\u3002\n\nBuilder \u914d\u7f6e\u53ea\u5904\u7406\u6784\u5efa\u76f8\u5173\u884c\u4e3a\uff0c\u800c\u6846\u67b6\u914d\u7f6e\u6db5\u76d6\u7684\u8303\u56f4\u66f4\u5927\uff0c\u8fd8\u5305\u62ec\u8fd0\u884c\u65f6\u3001\u670d\u52a1\u7aef\u3001\u90e8\u7f72\u7b49\u65b9\u9762\uff0c\u56e0\u6b64\u6846\u67b6\u662f\u5728 Builder \u914d\u7f6e\u7684\u57fa\u7840\u4e0a\u6269\u5c55\u51fa\u6765\u7684\u3002\n\n\n\u8c03\u8bd5\u914d\u7f6e\n\n\u5728\u6267\u884c\u6784\u5efa\u65f6\uff0c\u4f60\u53ef\u4ee5\u6dfb\u52a0 DEBUG=builder \u73af\u5883\u53d8\u91cf\u6765\u5f00\u542f Builder \u7684\u8c03\u8bd5\u6a21\u5f0f\u3002\n\nDEBUG=builder pnpm dev\n\n\n\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\uff0cBuilder \u4f1a\u5c06\u5185\u90e8\u6700\u7ec8\u751f\u6210\u7684 Builder \u914d\u7f6e\u5199\u5165\u5230\u4ea7\u7269\u76ee\u5f55\u4e0b\uff0c\u4fbf\u4e8e\u5f00\u53d1\u8005\u67e5\u770b\u548c\u8c03\u8bd5\u3002\n\nInspect config succeed, open following files to view the content:\n\n  - Builder Config: /Project/demo/dist/builder.config.js\n  - Webpack Config (web): /Project/demo/dist/webpack.config.web.js\n\n\n\u6253\u5f00\u751f\u6210\u7684 /dist/builder.config.js \u6587\u4ef6\uff0c\u5373\u53ef\u67e5\u770b Builder \u914d\u7f6e\u7684\u5b8c\u6574\u5185\u5bb9\u3002\n\n\u5173\u4e8e\u8c03\u8bd5\u6a21\u5f0f\u7684\u5b8c\u6574\u4ecb\u7ecd\uff0c\u8bf7\u67e5\u770b \u5f00\u542f\u8c03\u8bd5\u6a21\u5f0f \u7ae0\u8282\u3002",frontmatter:{}},{id:272,title:"\u4f7f\u7528 CSS Modules",routePath:"/builder/guide/basic/css-modules",toc:[{id:"\u793a\u4f8b-42",text:"\u793a\u4f8b",depth:2},{id:"\u4e3a\u6240\u6709\u6837\u5f0f\u6587\u4ef6\u542f\u7528-css-modules",text:"\u4e3a\u6240\u6709\u6837\u5f0f\u6587\u4ef6\u542f\u7528 CSS Modules",depth:2},{id:"\u81ea\u5b9a\u4e49\u7c7b\u540d",text:"\u81ea\u5b9a\u4e49\u7c7b\u540d",depth:2},{id:"\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e",text:"\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e",depth:2},{id:"\u751f\u6210\u51c6\u786e\u7684\u7c7b\u578b\u5b9a\u4e49",text:"\u751f\u6210\u51c6\u786e\u7684\u7c7b\u578b\u5b9a\u4e49",depth:2},{id:"\u793a\u4f8b-43",text:"\u793a\u4f8b",depth:3},{id:"\u76f8\u5173\u914d\u7f6e",text:"\u76f8\u5173\u914d\u7f6e",depth:3}],content:"\u4f7f\u7528 CSS MODULES\n\nCSS Modules \u8ba9\u6211\u4eec\u80fd\u4ee5\u6a21\u5757\u5316\u7684\u65b9\u5f0f\u7f16\u5199 CSS \u4ee3\u7801\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728 JavaScript \u6587\u4ef6\u4e2d\u5bfc\u5165\u548c\u4f7f\u7528\u8fd9\u4e9b\u6837\u5f0f\u3002\u4f7f\u7528 CSS Modules\n\u53ef\u4ee5\u81ea\u52a8\u751f\u6210\u552f\u4e00\u7684\u7c7b\u540d\uff0c\u9694\u79bb\u4e0d\u540c\u6a21\u5757\u4e4b\u95f4\u7684\u6837\u5f0f\uff0c\u907f\u514d\u7c7b\u540d\u51b2\u7a81\u3002\n\nBuilder \u9ed8\u8ba4\u652f\u6301\u4f7f\u7528 CSS Modules\uff0c\u65e0\u9700\u6dfb\u52a0\u989d\u5916\u7684\u914d\u7f6e\u3002\u6211\u4eec\u7ea6\u5b9a\u4f7f\u7528 [name].module.css \u6587\u4ef6\u540d\u6765\u542f\u7528 CSS\nModules\u3002\n\n\u4ee5\u4e0b\u6837\u5f0f\u6587\u4ef6\u4f1a\u88ab\u89c6\u4e3a CSS Modules\uff1a\n\n * *.module.scss\n * *.module.less\n * *.module.css\n\n\n\u793a\u4f8b\n\n * \u7f16\u5199\u6837\u5f0f\uff1a\n\n/* button.module.css */\n.error {\n  background: red;\n}\n\n\n * \u4f7f\u7528\u6837\u5f0f\uff1a\n\n// Button.tsx\n\n// \u5f15\u5165\u6837\u5f0f\u6587\u4ef6\n\n\nexport default () => {\n  return <button className={styles.error}>Error Button</button>;\n};\n\n\n\n\u4e3a\u6240\u6709\u6837\u5f0f\u6587\u4ef6\u542f\u7528 CSS MODULES\n\n\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u53ea\u6709 *.module.css \u7ed3\u5c3e\u7684\u6587\u4ef6\u624d\u88ab\u89c6\u4e3a CSS Modules \u6a21\u5757\u3002\n\n\u5982\u679c\u4f60\u60f3\u5c06\u6e90\u7801\u76ee\u5f55\u4e0b\u7684\u6240\u6709 CSS \u6587\u4ef6\u5f53\u505a CSS Modules \u6a21\u5757\u8fdb\u884c\u5904\u7406\uff0c\u53ef\u4ee5\u901a\u8fc7\u5f00\u542f\noutput.disableCssModuleExtension \u6765\u5b9e\u73b0\uff0c\u6bd4\u5982\uff1a\n\nexport default {\n  output: {\n    disableCssModuleExtension: true,\n  },\n};\n\n\n\u8bbe\u7f6e\u540e\uff0c\u4ee5\u4e0b\u4e24\u4e2a\u6587\u4ef6\u90fd\u4f1a\u88ab\u89c6\u4e3a CSS Modules\uff1a\n\n\n\n\n\n\u6211\u4eec\u4e0d\u63a8\u8350\u5f00\u542f\u6b64\u914d\u7f6e\u9879\uff0c\u56e0\u4e3a\u5f00\u542f disableCssModuleExtension \u540e\uff0cCSS Modules \u6587\u4ef6\u548c\u666e\u901a CSS\n\u6587\u4ef6\u65e0\u6cd5\u5f97\u5230\u660e\u786e\u7684\u533a\u5206\uff0c\u4e0d\u5229\u4e8e\u957f\u671f\u7ef4\u62a4\u3002\n\n\n\u81ea\u5b9a\u4e49\u7c7b\u540d\n\n\u81ea\u5b9a\u4e49 CSS Modules \u751f\u6210\u7684\u7c7b\u540d\u4e5f\u662f\u6211\u4eec\u6bd4\u8f83\u5e38\u7528\u7684\u529f\u80fd\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 output.cssModuleLocalIdentName \u6765\u8fdb\u884c\u914d\u7f6e\u3002\n\nexport default {\n  output: {\n    cssModuleLocalIdentName: '[hash:base64:4]',\n  },\n};\n\n\n\u5982\u679c\u4f60\u9700\u8981\u81ea\u5b9a\u4e49 CSS Modules \u7684\u5176\u4ed6\u914d\u7f6e\uff0c\u53ef\u4ee5\u901a\u8fc7 tools.cssLoader \u8fdb\u884c\u8bbe\u7f6e\u3002\n\n\n\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\n\n\u5f53\u4f60\u5728 TypeScript \u4ee3\u7801\u4e2d\u5f15\u7528 CSS Modules \u65f6\uff0cTypeScript \u53ef\u80fd\u4f1a\u63d0\u793a\u8be5\u6a21\u5757\u7f3a\u5c11\u7c7b\u578b\u5b9a\u4e49\uff1a\n\nTS2307: Cannot find module './index.module.css' or its corresponding type declarations.\n\n\n\u6b64\u65f6\u4f60\u9700\u8981\u4e3a CSS Modules \u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u8bf7\u5728\u9879\u76ee\u4e2d\u521b\u5efa src/global.d.ts \u6587\u4ef6\uff0c\u5e76\u6dfb\u52a0\u76f8\u5e94\u7684\u7c7b\u578b\u58f0\u660e\uff1a\n\n// src/global.d.ts\ndeclare module '*.module.css' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.scss' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.sass' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.less' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.styl' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\n\n\u5982\u679c\u4f60\u5f00\u542f\u4e86 disableCssModuleExtension \u914d\u7f6e\u503c\uff0c\u8fd8\u9700\u8981\u6dfb\u52a0\u4ee5\u4e0b\u7c7b\u578b\uff1a\n\n// src/global.d.ts\ndeclare module '*.css' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.scss' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.sass' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.less' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.styl' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\n\n\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\u540e\uff0c\u5982\u679c\u4f9d\u7136\u5b58\u5728\u4e0a\u8ff0\u9519\u8bef\u63d0\u793a\uff0c\u8bf7\u5c1d\u8bd5\u91cd\u542f\u5f53\u524d IDE\uff0c\u6216\u8005\u8c03\u6574 global.d.ts \u6240\u5728\u7684\u76ee\u5f55\uff0c\u4f7f TypeScript \u80fd\u591f\u6b63\u786e\u8bc6\u522b\u7c7b\u578b\u5b9a\u4e49\u3002\n\n\n\u751f\u6210\u51c6\u786e\u7684\u7c7b\u578b\u5b9a\u4e49\n\n\u4e0a\u8ff0\u65b9\u6cd5\u867d\u7136\u53ef\u4ee5\u89e3\u51b3 CSS Modules \u5728 TypeScript \u4e2d\u7684\u7c7b\u578b\u95ee\u9898\uff0c\u4f46\u662f\u65e0\u6cd5\u51c6\u786e\u5730\u63d0\u793a\u51fa\u67d0\u4e2a CSS \u6587\u4ef6\u5bfc\u51fa\u4e86\u54ea\u4e9b\u7c7b\u540d\u3002\n\nBuilder \u652f\u6301\u4e3a CSS Modules \u751f\u6210\u51c6\u786e\u7684\u7c7b\u578b\u58f0\u660e\uff0c\u4f60\u53ea\u9700\u8981\u5f00\u542f output.enableCssModuleTSDeclaration\n\u914d\u7f6e\u9879\uff0c\u518d\u6267\u884c\u6784\u5efa\u547d\u4ee4\uff0cBuilder \u5c31\u4f1a\u4e3a\u9879\u76ee\u4e2d\u6240\u6709\u7684 CSS Modules \u6587\u4ef6\u751f\u6210\u76f8\u5e94\u7684\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\u3002\n\nexport default {\n  output: {\n    enableCssModuleTSDeclaration: true,\n  },\n};\n\n\n\n\u793a\u4f8b\n\n\u4f8b\u5982\u67d0\u4e2a\u6587\u4ef6\u5939\u4e0b\u9762\u6709 src/index.ts \u548c src/index.module.scss \u4e24\u4e2a\u6587\u4ef6\uff1a\n\n// src/index.ts\n\n\nexport default () => {\n  <div>\n    <div className={styles.pageHeader}>Page Header</div>\n  </div>;\n};\n\n\n// index.module.scss\n.page-header {\n  color: black;\n}\n\n\n\u6267\u884c\u6784\u5efa\u547d\u4ee4\u540e\uff0c\u4f1a\u81ea\u52a8\u751f\u6210 src/index.module.scss.d.ts \u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff1a\n\n// src/index.module.scss.d.ts\n// This file is automatically generated.\n// Please do not change this file!\ninterface CssExports {\n  'page-header': string;\n  pageHeader: string;\n}\nexport const cssExports: CssExports;\nexport default cssExports;\n\n\n\u6b64\u65f6\u518d\u6253\u5f00 src/index.ts \u6587\u4ef6\uff0c\u53ef\u4ee5\u770b\u5230 styles \u5bf9\u8c61\u5df2\u7ecf\u5177\u5907\u4e86\u51c6\u786e\u7684\u7c7b\u578b\u3002\n\n\n\u76f8\u5173\u914d\u7f6e\n\n\u5728\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\uff0csrc/index.module.scss.d.ts \u662f\u7f16\u8bd1\u751f\u6210\u7684\u4ee3\u7801\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u5c06\u5b83\u4eec\u63d0\u4ea4\u5230 Git \u4ed3\u5e93\u91cc\uff0c\u4e5f\u53ef\u4ee5\u9009\u62e9\u5728 .gitignore\n\u6587\u4ef6\u4e2d\u5ffd\u7565\u5b83\u4eec\uff1a\n\n# Ignore auto generated CSS declarations\n*.module.css.d.ts\n*.module.sass.d.ts\n*.module.scss.d.ts\n*.module.less.d.ts\n*.module.styl.d.ts\n\n\n\u6b64\u5916\uff0c\u5982\u679c\u751f\u6210\u7684\u4ee3\u7801\u5bfc\u81f4\u4e86 ESLint \u62a5\u9519\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5c06\u4e0a\u8ff0\u914d\u7f6e\u6dfb\u52a0\u5230 .eslintignore \u6587\u4ef6\u91cc\u3002",frontmatter:{}},{id:273,title:"\u5f15\u7528\u6837\u5f0f\u8d44\u6e90",routePath:"/builder/guide/basic/css-usage",toc:[{id:"\u4f7f\u7528-lesssass-\u548c-stylus",text:"\u4f7f\u7528 Less\u3001Sass \u548c Stylus",depth:2},{id:"\u4f7f\u7528-postcss",text:"\u4f7f\u7528 PostCSS",depth:2},{id:"\u4f7f\u7528-css-modules",text:"\u4f7f\u7528 CSS Modules",depth:2},{id:"css-\u538b\u7f29",text:"CSS \u538b\u7f29",depth:2},{id:"\u5185\u8054-css-\u6587\u4ef6",text:"\u5185\u8054 CSS \u6587\u4ef6",depth:2},{id:"\u5f15\u7528-node_modules-\u91cc\u7684\u6837\u5f0f",text:"\u5f15\u7528 node_modules \u91cc\u7684\u6837\u5f0f",depth:2}],content:"\u5f15\u7528\u6837\u5f0f\u8d44\u6e90\n\nBuilder \u5185\u7f6e\u591a\u79cd\u5e38\u7528\u7684\u6837\u5f0f\u8d44\u6e90\u5904\u7406\u65b9\u5f0f\uff0c\u5305\u62ec Less / Sass \u9884\u5904\u7406\u5668\u3001PostCSS\u3001CSS Modules\u3001CSS \u5185\u8054\u548c CSS \u538b\u7f29\u3002\n\n\u9664\u6b64\u4e4b\u5916\uff0cBuilder \u4e5f\u63d0\u4f9b\u4e86\u591a\u4e2a\u914d\u7f6e\u9879\u6765\u81ea\u5b9a\u4e49\u6837\u5f0f\u8d44\u6e90\u7684\u5904\u7406\u89c4\u5219\u3002\n\n\n\u4f7f\u7528 LESS\u3001SASS \u548c STYLUS\n\nBuilder \u5185\u7f6e\u4e86\u793e\u533a\u6d41\u884c\u7684 CSS \u9884\u5904\u7406\u5668\uff0c\u5305\u62ec Less \u548c Sass\u3002\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4f60\u4e0d\u9700\u8981\u5bf9 Less \u548c Sass \u8fdb\u884c\u4efb\u4f55\u914d\u7f6e\u3002\u5982\u679c\u4f60\u6709\u81ea\u5b9a\u4e49 loader \u914d\u7f6e\u7684\u9700\u6c42\uff0c\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e tools.less\u3001tools.sass\n\u6765\u8fdb\u884c\u8bbe\u7f6e\u3002\n\n\u4f60\u4e5f\u53ef\u4ee5\u5728 Builder \u4e2d\u4f7f\u7528 Stylus\uff0c\u53ea\u9700\u8981\u5b89\u88c5 Builder \u63d0\u4f9b\u7684 Stylus \u63d2\u4ef6\u5373\u53ef\uff0c\u4f7f\u7528\u65b9\u5f0f\u8bf7\u53c2\u8003 Stylus \u63d2\u4ef6\u3002\n\n\n\u4f7f\u7528 POSTCSS\n\nBuilder \u5185\u7f6e\u4e86 PostCSS \u6765\u8f6c\u6362 CSS \u4ee3\u7801\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 tools.postcss \u6765\u914d\u7f6e postcss-loader\u3002\n\nexport default {\n  tools: {\n    postcss: opts => {\n      const viewportPlugin = require('postcss-px-to-viewport')({\n        viewportWidth: 375,\n      });\n      opts.postcssOptions.plugins.push(viewportPlugin);\n    },\n  },\n};\n\n\n\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5f00\u542f\u4e86 autoprefixer \u6765\u81ea\u52a8\u8865\u9f50 CSS \u7684\u6d4f\u89c8\u5668\u524d\u7f00\u3002\u5982\u679c\u4f60\u9700\u8981\u914d\u7f6e\u76ee\u6807\u6d4f\u89c8\u5668\uff0c\u53ef\u4f7f\u7528\noutput.overrideBrowserslist \u8fdb\u884c\u914d\u7f6e\u3002\n\n\n\u4f7f\u7528 CSS MODULES\n\n\u8bf7\u9605\u8bfb \u4f7f\u7528 CSS Modules \u7ae0\u8282\u6765\u4e86\u89e3 CSS Modules \u7684\u5b8c\u6574\u7528\u6cd5\u3002\n\n\nCSS \u538b\u7f29\n\n\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u5728\u751f\u4ea7\u73af\u5883\u6211\u4eec\u4f1a\u5c06 CSS\u3001JS \u7b49\u9759\u6001\u8d44\u6e90\u8fdb\u884c\u538b\u7f29\uff0c\u4ee5\u8fbe\u5230\u66f4\u597d\u7684\u4f20\u8f93\u6548\u7387\u3002\n\nBuilder \u901a\u8fc7 css-minimizer-webpack-plugin \u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u65f6\u81ea\u52a8\u538b\u7f29 CSS \u4ee3\u7801\uff08\u5e95\u5c42\u4f7f\u7528\u7684\u538b\u7f29\u5de5\u5177\u4e3a cssnano\uff09\u3002\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 tools.minifyCss \u914d\u7f6e\u9879\u6765\u4fee\u6539 css-minimizer-webpack-plugin\u7684\u914d\u7f6e\u3002\n\n:::tip \u5173\u4e8e cssnano cssnano \u662f\u4e00\u4e2a\u7528\u4e8e\u4f18\u5316\u548c\u538b\u7f29 CSS\n\u6587\u4ef6\u7684\u5de5\u5177\u3002\u5b83\u901a\u8fc7\u5220\u9664\u672a\u4f7f\u7528\u7684\u89c4\u5219\u3001\u5408\u5e76\u76f8\u540c\u7684\u89c4\u5219\u3001\u79fb\u9664\u6ce8\u91ca\u548c\u7a7a\u767d\u7b26\u4ee5\u53ca\u8f6c\u6362\u957f\u5ea6\u5355\u4f4d\u7b49\u65b9\u5f0f\u6765\u51cf\u5c0f CSS \u6587\u4ef6\u7684\u4f53\u79ef\uff0c\u4ece\u800c\u63d0\u5347\u7f51\u7ad9\u7684\u52a0\u8f7d\u901f\u5ea6\u3002 :::\n\n\n\u5185\u8054 CSS \u6587\u4ef6\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4f1a\u628a CSS \u63d0\u53d6\u4e3a\u72ec\u7acb\u7684 .css \u6587\u4ef6\uff0c\u5e76\u8f93\u51fa\u5230\u6784\u5efa\u4ea7\u7269\u76ee\u5f55\u3002\n\n\u5982\u679c\u4f60\u5e0c\u671b\u5c06\u6837\u5f0f\u5185\u8054\u5230 JS \u6587\u4ef6\u4e2d\uff0c\u53ef\u4ee5\u5c06 output.disableCssExtract \u8bbe\u7f6e\u4e3a true \u6765\u7981\u7528 CSS \u63d0\u53d6\u903b\u8f91\u3002\u5f53\u6d4f\u89c8\u5668\u8bf7\u6c42\u5230 JS\n\u6587\u4ef6\u540e\uff0cJS \u5c06\u52a8\u6001\u5730\u5411 HTML \u63d2\u5165 <style> \u6807\u7b7e\uff0c\u4ee5\u6b64\u52a0\u8f7d CSS \u6837\u5f0f\u3002\n\nexport default {\n  output: {\n    disableCssExtract: true,\n  },\n};\n\n\n\u8fd9\u5c06\u4f1a\u589e\u5927\u4f60\u7684 JS Bundle \u4f53\u79ef\uff0c\u56e0\u6b64\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e0d\u592a\u5efa\u8bae\u7981\u7528 CSS \u63d0\u53d6\u903b\u8f91\u3002\n\n\n\u5f15\u7528 NODE_MODULES \u91cc\u7684\u6837\u5f0f\n\n\u4f60\u53ef\u4ee5\u76f4\u63a5\u5f15\u7528 node_modules \u91cc\u7684\u6837\u5f0f\u6587\u4ef6\u3002\n\n * \u5728\u7ec4\u4ef6\u4e2d\u5f15\u7528\uff1a\n\n// src/App.tsx\n// \u5f15\u7528 Arco Design \u6837\u5f0f\uff1a\nimport '@arco-design/web-react/dist/css/arco.css';\n\n\n * \u5728\u6837\u5f0f\u6587\u4ef6\u4e2d\u5f15\u7528\uff1a\n\n/* src/App.css */\n/* \u5f15\u7528 normalize.css */\n/* https://github.com/necolas/normalize.css */\n@import 'normalize.css';\n\nbody {\n  /* */\n}\n",frontmatter:{}},{id:274,title:"\u914d\u7f6e HTML \u6a21\u677f",routePath:"/builder/guide/basic/html-template",toc:[{id:"\u8bbe\u7f6e\u6a21\u677f\u6587\u4ef6",text:"\u8bbe\u7f6e\u6a21\u677f\u6587\u4ef6",depth:2},{id:"\u8bbe\u7f6e\u9875\u9762\u6807\u9898",text:"\u8bbe\u7f6e\u9875\u9762\u6807\u9898",depth:2},{id:"\u8bbe\u7f6e\u9875\u9762\u56fe\u6807",text:"\u8bbe\u7f6e\u9875\u9762\u56fe\u6807",depth:2},{id:"\u8bbe\u7f6e-meta-\u6807\u7b7e",text:"\u8bbe\u7f6e meta \u6807\u7b7e",depth:2},{id:"\u8bbe\u7f6e\u6a21\u677f\u53c2\u6570",text:"\u8bbe\u7f6e\u6a21\u677f\u53c2\u6570",depth:2},{id:"\u6a21\u677f\u5f15\u64ce",text:"\u6a21\u677f\u5f15\u64ce",depth:2},{id:"lodash-template-1",text:"Lodash Template",depth:3},{id:"ejs-1",text:"EJS",depth:3},{id:"pug-1",text:"Pug",depth:3},{id:"\u6ce8\u5165\u6807\u7b7e",text:"\u6ce8\u5165\u6807\u7b7e",depth:2},{id:"\u5bf9\u8c61\u5f62\u5f0f-1",text:"\u5bf9\u8c61\u5f62\u5f0f",depth:3},{id:"\u51fd\u6570\u5f62\u5f0f-1",text:"\u51fd\u6570\u5f62\u5f0f",depth:3}],content:"\u914d\u7f6e HTML \u6a21\u677f\n\n\u5728\u6784\u5efa\u7684\u8fc7\u7a0b\u4e2d\uff0cBuilder \u4f1a\u57fa\u4e8e HTML \u6a21\u677f\u6587\u4ef6\u548c\u6a21\u677f\u53c2\u6570\u8fdb\u884c\u7f16\u8bd1\uff0c\u751f\u6210\u82e5\u5e72\u4efd HTML \u6587\u4ef6\u3002\n\nBuilder \u63d0\u4f9b\u4e86\u4e00\u4e9b\u914d\u7f6e\u9879\u6765\u5bf9 HTML \u6a21\u677f\u8fdb\u884c\u8bbe\u7f6e\u3002\u901a\u8fc7\u672c\u7ae0\u8282\u4f60\u53ef\u4ee5\u4e86\u89e3\u5230\u8fd9\u4e9b\u914d\u7f6e\u9879\u7684\u57fa\u672c\u7528\u6cd5\u3002\n\n\n\u8bbe\u7f6e\u6a21\u677f\u6587\u4ef6\n\n\u901a\u5e38\u6765\u8bf4\uff0cHTML \u6a21\u677f\u6587\u4ef6\u662f\u7531\u4e0a\u5c42\u6846\u67b6\u9884\u5148\u5b9a\u4e49\u7684\u3002\n\n\u6bd4\u5982\u5728 Modern.js \u6846\u67b6\u4e2d\uff0c\u9ed8\u8ba4\u4f1a\u9884\u8bbe\u4e00\u4efd HTML \u6a21\u677f\uff0c\u540c\u65f6\u4e5f\u652f\u6301\u7528\u6237\u81ea\u5b9a\u4e49\u6a21\u677f\u7684\u5185\u5bb9\u3002\u4f60\u53ef\u4ee5\u9605\u8bfb \u300cModern.js - HTML \u6a21\u677f\u300d\n\u7ae0\u8282\u6765\u4e86\u89e3\u76f8\u5173\u5185\u5bb9\u3002\n\n\u5728 Builder \u4e2d\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 html.template \u548c html.templateByEntries \u914d\u7f6e\u9879\u6765\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7684 HTML \u6a21\u677f\u6587\u4ef6\u3002\n\nexport default {\n  html: {\n    template: './static/index.html',\n  },\n};\n\n\n\n\u8bbe\u7f6e\u9875\u9762\u6807\u9898\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 html.title \u548c html.titleByEntries \u914d\u7f6e\u9879\u6765\u8bbe\u7f6e HTML \u7684 <title> \u6807\u7b7e\u3002\n\n\u5f53\u4f60\u7684\u9879\u76ee\u4e2d\u53ea\u6709\u4e00\u4e2a\u9875\u9762\u65f6\uff0c\u76f4\u63a5\u4f7f\u7528 html.title \u8bbe\u7f6e\u5373\u53ef\uff1a\n\nexport default {\n  html: {\n    title: 'example',\n  },\n};\n\n\n\u5f53\u4f60\u7684\u9879\u76ee\u4e2d\u6709\u591a\u4e2a\u9875\u9762\u65f6\uff0c\u8bf7\u4f7f\u7528 html.titleByEntries \u6765\u4e3a\u4e0d\u540c\u7684\u9875\u9762\u8bbe\u7f6e\u5bf9\u5e94\u7684\u6807\u9898\uff0chtml.titleByEntries\n\u4f7f\u7528\u9875\u9762\u7684\u300c\u5165\u53e3\u540d\u79f0\u300d\u4f5c\u4e3a key\u3002\n\nexport default {\n  html: {\n    titleByEntries: {\n      foo: 'Foo',\n      bar: 'Bar',\n    },\n  },\n};\n\n\n\n\u8bbe\u7f6e\u9875\u9762\u56fe\u6807\n\nBuilder \u652f\u6301\u8bbe\u7f6e favicon \u56fe\u6807 \u548c iOS \u7cfb\u7edf\u4e0b\u7684 apple-touch-icon \u56fe\u6807\u3002\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 html.favicon \u548c html.faviconByEntries \u914d\u7f6e\u9879\u6765\u8bbe\u7f6e favicon \u56fe\u6807\u3002\n\nexport default {\n  html: {\n    favicon: './src/assets/icon.png',\n  },\n};\n\n\n\u4e5f\u53ef\u4ee5\u901a\u8fc7 html.appIcon \u914d\u7f6e\u9879\u6765\u8bbe\u7f6e iOS \u4e0b\u7684 apple-touch-icon \u56fe\u6807\u3002\n\nexport default {\n  html: {\n    appIcon: './src/assets/icon.png',\n  },\n};\n\n\n\n\u8bbe\u7f6e META \u6807\u7b7e\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 html.meta \u548c html.metaByEntries \u914d\u7f6e\u9879\u6765\u8bbe\u7f6e HTML \u7684 <meta> \u6807\u7b7e\u3002\n\n\u6bd4\u5982\u8bbe\u7f6e description\uff1a\n\nexport default {\n  html: {\n    meta: {\n      description: 'a description of the page',\n    },\n  },\n};\n\n\n\u6700\u7ec8\u5728 HTML \u4e2d\u751f\u6210\u7684 meta \u6807\u7b7e\u4e3a\uff1a\n\n<meta name=\"description\" content=\"a description of the page\" />\n\n\n\n\u8bbe\u7f6e\u6a21\u677f\u53c2\u6570\n\n\u5728 HTML \u6a21\u677f\u4e2d\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4e30\u5bcc\u7684\u6a21\u677f\u53c2\u6570\uff0cBuilder \u9ed8\u8ba4\u6ce8\u5165\u7684\u6a21\u677f\u53c2\u6570\u5305\u62ec\uff1a\n\ntype DefaultParameters = {\n  meta: string; // \u5bf9\u5e94 html.meta \u914d\u7f6e\n  title: string; // \u5bf9\u5e94 html.title \u914d\u7f6e\n  mountId: string; // \u5bf9\u5e94 html.mountId \u914d\u7f6e\n  entryName: string; // \u5165\u53e3\u540d\u79f0\n  assetPrefix: string; // \u5bf9\u5e94 output.assetPrefix \u914d\u7f6e\n  compilation: webpack.Compilation; // \u5bf9\u5e94 webpack \u7684 compilation \u5bf9\u8c61\n  webpackConfig: Configuration; // webpack \u914d\u7f6e\n  // htmlWebpackPlugin \u5185\u7f6e\u7684\u53c2\u6570\n  // \u8be6\u89c1 https://github.com/jantimon/html-webpack-plugin\n  htmlWebpackPlugin: {\n    tags: object;\n    files: object;\n    options: object;\n  };\n};\n\n\n\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7 html.templateParameters \u548c html.templateParametersByEntries\n\u914d\u7f6e\u9879\u6765\u4f20\u5165\u81ea\u5b9a\u4e49\u7684\u6a21\u677f\u53c2\u6570\u3002\n\n\u6bd4\u5982\uff1a\n\nexport default {\n  html: {\n    templateParameters: {\n      text: 'World',\n    },\n  },\n};\n\n\n\u63a5\u4e0b\u6765\uff0c\u4f60\u53ef\u4ee5\u5728 HTML \u6a21\u677f\u4e2d\uff0c\u901a\u8fc7 <%= text %> \u6765\u8bfb\u53d6\u53c2\u6570\uff1a\n\n<div>hello <%= text %>!</div>\n\n\n\u7ecf\u8fc7\u7f16\u8bd1\u540e\u7684\u6700\u7ec8 HTML \u4ee3\u7801\u5982\u4e0b\uff1a\n\n<div>hello world!</div>\n\n\n\n\u6a21\u677f\u5f15\u64ce\n\nBuilder \u652f\u6301 Lodash Template\u3001EJS\u3001Pug \u7b49\u591a\u4e2a\u6a21\u677f\u5f15\u64ce\uff0c\u9ed8\u8ba4\u4f7f\u7528\u6700\u57fa\u7840\u7684 Lodash Template \u4f5c\u4e3a\u6a21\u677f\u5f15\u64ce\u3002\n\n\nLODASH TEMPLATE\n\n\u5f53\u6a21\u677f\u6587\u4ef6\u7684\u540e\u7f00\u4e3a .html \u65f6\uff0cBuilder \u4f1a\u4f7f\u7528 Lodash Template \u5bf9\u6a21\u677f\u8fdb\u884c\u7f16\u8bd1\u3002\n\n\u4f8b\u5982\uff0c\u5728\u6a21\u677f\u4e2d\u5b9a\u4e49\u4e00\u4e2a text \u53c2\u6570\uff0c\u503c\u4e3a 'world'\uff0c\u5728\u6784\u5efa\u65f6\u4f1a\u81ea\u52a8\u5c06 <%= text %> \u66ff\u6362\u4e3a\u5bf9\u5e94\u7684\u503c\u3002\n\n\x3c!-- \u8f93\u5165  --\x3e\n<div>hello <%= text %>!</div>\n\n\x3c!-- \u8f93\u51fa --\x3e\n<div>hello world!</div>\n\n\n\u8bf7\u9605\u8bfb Lodash Template \u6587\u6863\u6765\u4e86\u89e3\u5b8c\u6574\u7528\u6cd5\u3002\n\n\nEJS\n\n\u5f53\u6a21\u677f\u6587\u4ef6\u7684\u540e\u7f00\u4e3a .ejs \u65f6\uff0cBuilder \u4f1a\u4f7f\u7528 EJS \u6a21\u677f\u5f15\u64ce\u5bf9\u6a21\u677f\u8fdb\u884c\u7f16\u8bd1\u3002EJS \u662f\u4e00\u5957\u7b80\u5355\u7684\u6a21\u677f\u8bed\u8a00\uff0c\u652f\u6301\u76f4\u63a5\u5728\u6807\u7b7e\u5185\u4e66\u5199\u7b80\u5355\u3001\u76f4\u767d\u7684\nJavaScript \u4ee3\u7801\uff0c\u5e76\u901a\u8fc7 JavaScript \u8f93\u51fa\u6700\u7ec8\u6240\u9700\u7684 HTML\u3002\n\n\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u5148\u901a\u8fc7 html.template \u914d\u7f6e\u9879\u6765\u5f15\u7528\u4e00\u4e2a .ejs \u6a21\u677f\u6587\u4ef6\uff1a\n\nexport default {\n  html: {\n    template: './static/index.ejs',\n  },\n};\n\n\n\u63a5\u7740\u5728\u6a21\u677f\u4e2d\u5b9a\u4e49\u4e00\u4e2a user \u53c2\u6570\uff0c\u503c\u4e3a { name: 'Jack' }\u3002\u5728\u6784\u5efa\u65f6\uff0c\u4f1a\u81ea\u52a8\u5c06 <%= user.name %> \u66ff\u6362\u4e3a\u5bf9\u5e94\u7684\u503c\u3002\n\n\x3c!-- \u8f93\u5165  --\x3e\n<% if (user) { %>\n<h2><%= user.name %></h2>\n<% } %>\n\n\x3c!-- \u8f93\u51fa --\x3e\n<h2>Jack</h2>\n\n\n\u8bf7\u9605\u8bfb EJS \u6587\u6863\u6765\u4e86\u89e3\u5b8c\u6574\u7528\u6cd5\u3002\n\n\nPUG\n\n\u5f53\u6a21\u677f\u6587\u4ef6\u7684\u540e\u7f00\u4e3a .pug \u65f6\uff0cBuilder \u4f1a\u4f7f\u7528 Pug \u6a21\u677f\u5f15\u64ce\u5bf9\u6a21\u677f\u8fdb\u884c\u7f16\u8bd1\u3002Pug \u662f\u4e00\u6b3e\u5065\u58ee\u3001\u7075\u6d3b\u3001\u529f\u80fd\u4e30\u5bcc\u7684\u6a21\u677f\u5f15\u64ce\uff0c\u4e13\u95e8\u4e3a Node.js\n\u5e73\u53f0\u5f00\u53d1\u3002\n\n\u4f7f\u7528 Pug \u6a21\u677f\u524d\uff0c\u9700\u8981\u5f00\u542f tools.pug \u914d\u7f6e\u9879\uff0c\u5e76\u901a\u8fc7 html.template \u914d\u7f6e\u9879\u6765\u5f15\u7528\u4e00\u4e2a .pug \u6a21\u677f\u6587\u4ef6\uff1a\n\nexport default {\n  html: {\n    template: './static/index.pug',\n  },\n  tools: {\n    pug: true,\n  },\n};\n\n\n\u5f00\u542f\u540e\uff0c\u4f60\u53ef\u4ee5\u5728 .pug \u6a21\u677f\u4e2d\u4f7f\u7528 Pug \u8bed\u6cd5\uff1a\n\n\x3c!-- \u8f93\u5165  --\x3e\np Hello #{text}!\n\n\x3c!-- \u8f93\u51fa --\x3e\n<p>Hello World!</p>\n\n\n\u8bf7\u9605\u8bfb Pug \u6587\u6863\u6765\u4e86\u89e3\u5b8c\u6574\u7528\u6cd5\u3002\n\n\n\u6ce8\u5165\u6807\u7b7e\n\n\u901a\u8fc7\u914d\u7f6e html.tags \u9009\u9879\u53ef\u4ee5\u5728\u6700\u7ec8\u751f\u6210\u7684 HTML \u4ea7\u7269\u4e2d\u63d2\u5165\u4efb\u610f\u6807\u7b7e\u3002\n\n:::warning \u4f7f\u7528\u573a\u666f \u524d\u7aef\u5e94\u7528\u7684\u4ea7\u7269\u6700\u7ec8\u90fd\u4f1a\u76f4\u63a5\u6216\u95f4\u63a5\u5730\u88ab HTML \u5165\u53e3\u5f15\u7528\uff0c\u4f46\u5927\u591a\u6570\u65f6\u5019\u76f4\u63a5\u5411 HTML \u6ce8\u5165\u6807\u7b7e\u90fd\u5e76\u975e\u9996\u9009\u3002 :::\n\n\u6a21\u7248\u6587\u4ef6\u4e2d\u53ef\u4ee5\u901a\u8fc7 htmlWebpackPlugin.tags \u53d8\u91cf\u6765\u8bbf\u95ee\u9700\u8981\u6700\u7ec8\u6ce8\u5165\u5230 HTML \u7684\u6240\u6709\u6807\u7b7e\uff1a\n\n<html>\n  <head>\n    <%= htmlWebpackPlugin.tags.headTags %>\n  </head>\n  <body>\n    <%= htmlWebpackPlugin.tags.bodyTags %>\n  </body>\n</html>\n\n\nhtml.tags \u7684\u4f5c\u7528\u5c31\u662f\u8c03\u6574\u8fd9\u4e9b\u6a21\u677f\u53d8\u91cf\u8fdb\u800c\u4fee\u6539 HTML\uff0c\u914d\u7f6e\u7684\u5177\u4f53\u5b9a\u4e49\u53c2\u8003 API References\u3002\n\n\n\u5bf9\u8c61\u5f62\u5f0f\n\nexport default {\n  output: {\n    assetPrefix: '//example.com/'\n  },\n  html: {\n    tags: [\n      { tag: 'script', attrs: { src: 'a.js' } },\n      { tag: 'script', attrs: { src: 'b.js' }, append: false },\n      { tag: 'link', attrs: { href: 'style.css', rel: 'stylesheet' }, append: true }\n      { tag: 'link', attrs: { href: 'page.css', rel: 'stylesheet' }, publicPath: false }\n      { tag: 'script', attrs: { src: 'c.js' }, head: false },\n      { tag: 'meta', attrs: { name: 'referrer', content: 'origin' } },\n    ],\n  },\n};\n\n\n\u6807\u7b7e\u6700\u7ec8\u7684\u63d2\u5165\u4f4d\u7f6e\u7531 head \u548c append \u9009\u9879\u51b3\u5b9a\uff0c\u4e24\u4e2a\u914d\u7f6e\u76f8\u540c\u7684\u5143\u7d20\u5c06\u88ab\u63d2\u5165\u5230\u76f8\u540c\u533a\u57df\uff0c\u5e76\u4e14\u7ef4\u6301\u5f7c\u6b64\u4e4b\u95f4\u7684\u76f8\u5bf9\u4f4d\u7f6e\u3002\n\n\u6807\u7b7e\u9ed8\u8ba4\u4f1a\u542f\u7528 publicPath \u914d\u7f6e\uff0c\u5373\u4f1a\u5c06 output.assetPrefix \u7684\u503c\u62fc\u63a5\u5230 script \u6807\u7b7e\u7684 src \u7b49\u8868\u793a\u8def\u5f84\u7684\u5c5e\u6027\u4e0a\u3002\n\n\u6240\u4ee5\u4ee5\u4e0a\u914d\u7f6e\u6784\u5efa\u51fa\u7684 HTML \u4ea7\u7269\u5c06\u4f1a\u7c7b\u4f3c\uff1a\n\n<html>\n  <head>\n    <script src=\"//example.com/b.js\"><\/script>\n    <link href=\"//example.com/style.css\" rel=\"stylesheet\">\n    <link href=\"page.css\" rel=\"stylesheet\">\n    \x3c!-- some other headTags... --\x3e\n    <script src=\"//example.com/a.js\"><\/script>\n    <meta name=\"referrer\" content=\"origin\">\n  </head>\n  <body>\n    \x3c!-- some other bodyTags... --\x3e\n    <script src=\"//example.com/c.js\"><\/script>\n  </body>\n</html>\n\n\n\n\u51fd\u6570\u5f62\u5f0f\n\nhtml.tags \u4e5f\u652f\u6301\u4f20\u5165\u56de\u8c03\u51fd\u6570\uff0c\u5e38\u7528\u4e8e\u4fee\u6539\u6807\u7b7e\u5217\u8868\u6216\u662f\u5728\u63d2\u5165\u6807\u7b7e\u7684\u540c\u65f6\u786e\u4fdd\u5176\u76f8\u5bf9\u4f4d\u7f6e\uff1a\n\nexport default {\n  html: {\n    tags: [\n      tags => { tags.splice(0, 1); },\n      { tag: 'script', attrs: { src: 'a.js' }, head: false },\n      { tag: 'script', attrs: { src: 'b.js' }, append: false },\n      { tag: 'script', attrs: { src: 'c.js' } },\n      tags => [...tags, { tag: 'script', attrs: { src: 'd.js' } }],\n    ],\n  },\n};\n\n\n\u6700\u7ec8\u4ea7\u7269\u5c06\u4f1a\u7c7b\u4f3c\uff1a\n\n<html>\n  <head>\n    \x3c!-- some other headTags... --\x3e\n    <script src=\"//example.com/c.js\"><\/script>\n    <script src=\"//example.com/d.js\"><\/script>\n  </head>\n  <body>\n    \x3c!-- some other bodyTags... --\x3e\n    <script src=\"//example.com/a.js\"><\/script>\n  </body>\n</html>\n",frontmatter:{}},{id:275,title:"\u5f15\u7528 JSON \u6587\u4ef6",routePath:"/builder/guide/basic/json-files",toc:[{id:"json-\u6587\u4ef6",text:"JSON \u6587\u4ef6",depth:2},{id:"\u793a\u4f8b-44",text:"\u793a\u4f8b",depth:3},{id:"\u5177\u540d\u5f15\u7528",text:"\u5177\u540d\u5f15\u7528",depth:3},{id:"yaml-\u6587\u4ef6",text:"YAML \u6587\u4ef6",depth:2},{id:"\u793a\u4f8b-45",text:"\u793a\u4f8b",depth:3},{id:"\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e-1",text:"\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e",depth:3},{id:"toml-\u6587\u4ef6",text:"TOML \u6587\u4ef6",depth:2},{id:"\u793a\u4f8b-46",text:"\u793a\u4f8b",depth:3},{id:"\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e-2",text:"\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e",depth:3}],content:"\u5f15\u7528 JSON \u6587\u4ef6\n\nBuilder \u652f\u6301\u5728\u4ee3\u7801\u4e2d\u5f15\u7528 JSON \u6587\u4ef6\uff0c\u4e5f\u652f\u6301\u5f15\u7528 YAML \u548c TOML \u6587\u4ef6\u5e76\u5c06\u5176\u8f6c\u6362\u4e3a JSON \u683c\u5f0f\u3002\n\n\nJSON \u6587\u4ef6\n\n\u4f60\u53ef\u4ee5\u76f4\u63a5\u5728 JavaScript \u6587\u4ef6\u4e2d\u5f15\u7528 JSON \u6587\u4ef6\u3002\n\n\n\u793a\u4f8b\n\n// example.json\n{\n  \"name\": \"foo\",\n  \"items\": [1, 2]\n}\n\n\n\n\nconsole.log(example.name); // 'foo';\nconsole.log(example.items); // [1, 2];\n\n\n\n\u5177\u540d\u5f15\u7528\n\nBuilder \u6682\u4e0d\u652f\u6301\u901a\u8fc7 named import \u6765\u5f15\u7528 JSON \u6587\u4ef6\uff1a\n\n\n\n\nYAML \u6587\u4ef6\n\nYAML \u662f\u4e00\u79cd\u6570\u636e\u5e8f\u5217\u5316\u8bed\u8a00\uff0c\u901a\u5e38\u7528\u4e8e\u7f16\u5199\u914d\u7f6e\u6587\u4ef6\u3002\n\n\u4f60\u53ef\u4ee5\u76f4\u63a5\u5728 JavaScript \u4e2d\u5f15\u7528 .yaml \u6216 .yml \u6587\u4ef6\uff0c\u5b83\u4eec\u4f1a\u88ab\u81ea\u52a8\u8f6c\u6362\u4e3a JSON \u683c\u5f0f\u3002\n\n\n\u793a\u4f8b\n\n# example.yaml\n---\nhello: world\nfoo:\n  bar: baz\n\n\n\n\nconsole.log(example.hello); // 'world';\nconsole.log(example.foo); // { bar: 'baz' };\n\n\n\n\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\n\n\u5f53\u4f60\u5728 TypeScript \u4ee3\u7801\u4e2d\u5f15\u7528 YAML \u6587\u4ef6\u65f6\uff0c\u8bf7\u5728\u9879\u76ee\u4e2d\u521b\u5efa src/global.d.ts \u6587\u4ef6\uff0c\u5e76\u6dfb\u52a0\u76f8\u5e94\u7684\u7c7b\u578b\u58f0\u660e\uff1a\n\n// src/global.d.ts\ndeclare module '*.yaml' {\n  const content: Record<string, any>;\n  export default content;\n}\n\ndeclare module '*.yml' {\n  const content: Record<string, any>;\n  export default content;\n}\n\n\n\nTOML \u6587\u4ef6\n\nTOML \u662f\u4e00\u79cd\u8bed\u4e49\u660e\u663e\u3001\u6613\u4e8e\u9605\u8bfb\u7684\u914d\u7f6e\u6587\u4ef6\u683c\u5f0f\u3002\n\n\u4f60\u53ef\u4ee5\u76f4\u63a5\u5728 JavaScript \u4e2d\u5f15\u7528 .toml \u6587\u4ef6\uff0c\u5b83\u4f1a\u88ab\u81ea\u52a8\u8f6c\u6362\u4e3a JSON \u683c\u5f0f\u3002\n\n\n\u793a\u4f8b\n\n# example.toml\nhello = \"world\"\n\n[foo]\nbar = \"baz\"\n\n\n\n\nconsole.log(example.hello); // 'world';\nconsole.log(example.foo); // { bar: 'baz' };\n\n\n\n\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\n\n\u5f53\u4f60\u5728 TypeScript \u4ee3\u7801\u4e2d\u5f15\u7528 TOML \u6587\u4ef6\u65f6\uff0c\u8bf7\u5728\u9879\u76ee\u4e2d\u521b\u5efa src/global.d.ts \u6587\u4ef6\uff0c\u5e76\u6dfb\u52a0\u76f8\u5e94\u7684\u7c7b\u578b\u58f0\u660e\uff1a\n\n// src/global.d.ts\ndeclare module '*.toml' {\n  const content: Record<string, any>;\n  export default content;\n}\n",frontmatter:{}},{id:276,title:"\u6784\u5efa\u4ea7\u7269\u76ee\u5f55",routePath:"/builder/guide/basic/output-files",toc:[{id:"\u9ed8\u8ba4\u4ea7\u7269\u76ee\u5f55",text:"\u9ed8\u8ba4\u4ea7\u7269\u76ee\u5f55",depth:2},{id:"\u4fee\u6539\u4ea7\u7269\u76ee\u5f55",text:"\u4fee\u6539\u4ea7\u7269\u76ee\u5f55",depth:2},{id:"\u9759\u6001\u8d44\u6e90",text:"\u9759\u6001\u8d44\u6e90",depth:2},{id:"nodejs-\u4ea7\u7269\u76ee\u5f55",text:"Node.js \u4ea7\u7269\u76ee\u5f55",depth:2},{id:"\u6241\u5e73\u5316\u4ea7\u7269\u76ee\u5f55",text:"\u6241\u5e73\u5316\u4ea7\u7269\u76ee\u5f55",depth:2},{id:"\u4ea7\u7269\u4e0d\u5199\u5165\u78c1\u76d8",text:"\u4ea7\u7269\u4e0d\u5199\u5165\u78c1\u76d8",depth:2}],content:"\u6784\u5efa\u4ea7\u7269\u76ee\u5f55\n\n\u672c\u7ae0\u8282\u4e3b\u8981\u4ecb\u7ecd\u6784\u5efa\u4ea7\u7269\u7684\u76ee\u5f55\u7ed3\u6784\uff0c\u4ee5\u53ca\u5982\u4f55\u63a7\u5236\u4e0d\u540c\u7c7b\u578b\u4ea7\u7269\u7684\u8f93\u51fa\u76ee\u5f55\u3002\n\n\n\u9ed8\u8ba4\u4ea7\u7269\u76ee\u5f55\n\n\u4e0b\u9762\u662f\u6700\u57fa\u7840\u7684\u4ea7\u7269\u76ee\u5f55\u7ed3\u6784\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6784\u5efa\u4ea7\u7269\u4f1a\u751f\u6210\u5728\u5f53\u524d\u9879\u76ee\u7684 dist \u76ee\u5f55\u4e0b\u3002\n\ndist\n\u251c\u2500\u2500 static\n\u2502   \u251c\u2500\u2500 css\n\u2502   \u2502   \u251c\u2500\u2500 [name].[hash].css\n\u2502   \u2502   \u2514\u2500\u2500 [name].[hash].css.map\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 js\n\u2502       \u251c\u2500\u2500 [name].[hash].js\n\u2502       \u251c\u2500\u2500 [name].[hash].js.LICENSE.txt\n\u2502       \u2514\u2500\u2500 [name].[hash].js.map\n\u2502\n\u2514\u2500\u2500 html\n    \u2514\u2500\u2500 [name]\n        \u2514\u2500\u2500 index.html\n\n\n\u6700\u5e38\u89c1\u7684\u4ea7\u7269\u662f HTML \u6587\u4ef6\u3001JS \u6587\u4ef6\u548c CSS \u6587\u4ef6\uff1a\n\n * HTML \u6587\u4ef6\uff1a\u9ed8\u8ba4\u8f93\u51fa\u5230 html \u76ee\u5f55\u3002\n * JS \u6587\u4ef6\uff1a\u9ed8\u8ba4\u8f93\u51fa\u5230 static/js \u76ee\u5f55\uff0c\n * CSS \u6587\u4ef6\uff1a\u9ed8\u8ba4\u8f93\u51fa\u5230 static/css \u76ee\u5f55\u3002\n\n\u6b64\u5916\uff0cJS \u6587\u4ef6\u548c CSS \u6587\u4ef6\u6709\u65f6\u5019\u4f1a\u751f\u6210\u4e00\u4e9b\u76f8\u5173\u4ea7\u7269\uff1a\n\n * License \u6587\u4ef6\uff1a\u5305\u542b\u5f00\u6e90\u8bb8\u53ef\u8bc1\u4fe1\u606f\uff0c\u9ed8\u8ba4\u8f93\u51fa\u5230 JS \u6587\u4ef6\u7684\u540c\u7ea7\u76ee\u5f55\uff0c\u5e76\u6dfb\u52a0 .LICENSE.txt \u540e\u7f00\u3002\n * Source Map \u6587\u4ef6\uff1a\u5305\u542b\u4fdd\u5b58\u6e90\u4ee3\u7801\u6620\u5c04\u5173\u7cfb\uff0c\u9ed8\u8ba4\u8f93\u51fa\u5230 JS \u6587\u4ef6\u548c CSS \u6587\u4ef6\u7684\u540c\u7ea7\u76ee\u5f55\uff0c\u5e76\u6dfb\u52a0 .map \u540e\u7f00\u3002\n\n\u5728\u4ea7\u7269\u7684\u6587\u4ef6\u540d\u79f0\u4e2d\uff0c[name] \u8868\u793a\u8fd9\u4e2a\u6587\u4ef6\u5bf9\u5e94\u7684\u5165\u53e3\u540d\u79f0\uff0c\u6bd4\u5982 index, main\u3002[hash] \u5219\u662f\u57fa\u4e8e\u8be5\u6587\u4ef6\u7684\u5185\u5bb9\u751f\u6210\u7684\u54c8\u5e0c\u503c\u3002\n\n\n\u4fee\u6539\u4ea7\u7269\u76ee\u5f55\n\nBuilder \u63d0\u4f9b\u4e86\u591a\u4e2a\u914d\u7f6e\u9879\u6765\u4fee\u6539\u4ea7\u7269\u76ee\u5f55\u548c\u4ea7\u7269\u540d\u79f0\uff0c\u4f60\u53ef\u4ee5\uff1a\n\n * \u901a\u8fc7 output.filename \u6765\u4fee\u6539\u4ea7\u7269\u7684\u6587\u4ef6\u540d\u3002\n * \u901a\u8fc7 output.distPath \u6765\u4fee\u6539\u4ea7\u7269\u7684\u8f93\u51fa\u8def\u5f84\u3002\n * \u901a\u8fc7 output.legalComments \u6765\u4fee\u6539 License \u6587\u4ef6\u7684\u751f\u6210\u65b9\u5f0f\u3002\n * \u901a\u8fc7 output.disableSourceMap \u6765\u79fb\u9664 Source Map \u6587\u4ef6\u3002\n * \u901a\u8fc7 html.disableHtmlFolder \u79fb\u9664 HTML \u4ea7\u7269\u5bf9\u5e94\u7684\u6587\u4ef6\u5939\u3002\n\n\n\u9759\u6001\u8d44\u6e90\n\n\u5f53\u4f60\u5728\u4ee3\u7801\u4e2d\u5f15\u7528\u56fe\u7247\u3001SVG\u3001\u5b57\u4f53\u3001\u5a92\u4f53\u7b49\u7c7b\u578b\u7684\u9759\u6001\u8d44\u6e90\u65f6\uff0c\u5b83\u4eec\u4e5f\u4f1a\u88ab\u8f93\u51fa\u5230 dist/static \u76ee\u5f55\u4e0b\uff0c\u5e76\u6839\u636e\u9759\u6001\u8d44\u6e90\u7c7b\u578b\u6765\u81ea\u52a8\u5206\u914d\u5230\u5bf9\u5e94\u7684\u5b50\u76ee\u5f55\uff1a\n\ndist\n\u2514\u2500\u2500 static\n    \u251c\u2500\u2500 image\n    \u2502   \u2514\u2500\u2500 foo.[hash].png\n    \u2502\n    \u251c\u2500\u2500 svg\n    \u2502   \u2514\u2500\u2500 bar.[hash].svg\n    \u2502\n    \u251c\u2500\u2500 font\n    \u2502   \u2514\u2500\u2500 baz.[hash].woff2\n    \u2502\n    \u2514\u2500\u2500 media\n        \u2514\u2500\u2500 qux.[hash].mp4\n\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 output.distPath \u914d\u7f6e\u9879\u5c06\u8fd9\u4e9b\u9759\u6001\u8d44\u6e90\u7edf\u4e00\u8f93\u5165\u5230\u5355\u4e2a\u76ee\u5f55\u4e0b\uff0c\u6bd4\u5982\u8f93\u51fa\u5230 assets \u76ee\u5f55\uff1a\n\nexport default {\n  output: {\n    distPath: {\n      image: 'assets',\n      svg: 'assets',\n      font: 'assets',\n      media: 'assets',\n    },\n  },\n};\n\n\n\u4e0a\u65b9\u7684\u914d\u7f6e\u4f1a\u751f\u6210\u4ee5\u4e0b\u76ee\u5f55\u7ed3\u6784\uff1a\n\ndist\n\u2514\u2500\u2500 assets\n    \u251c\u2500\u2500 foo.[hash].png\n    \u251c\u2500\u2500 bar.[hash].svg\n    \u251c\u2500\u2500 baz.[hash].woff2\n    \u2514\u2500\u2500 qux.[hash].mp4\n\n\n\nNODE.JS \u4ea7\u7269\u76ee\u5f55\n\n\u5f53 Builder \u7684 \u6784\u5efa\u4ea7\u7269\u7c7b\u578b \u4e2d\u5305\u542b 'node'\uff0c\u6216\u8005\u4f60\u5728\u4e0a\u5c42\u6846\u67b6\u4e2d\u5f00\u542f\u4e86 SSR \u7b49\u670d\u52a1\u7aef\u529f\u80fd\u65f6\uff0cBuilder \u4f1a\u5728\u6784\u5efa\u540e\u751f\u6210\u4e00\u4efd Node.js\n\u4ea7\u7269\uff0c\u5e76\u8f93\u51fa\u5230 bundles \u76ee\u5f55\u4e0b\uff1a\n\ndist\n\u251c\u2500\u2500 bundles\n\u2502   \u2514\u2500\u2500 [name].js\n\u251c\u2500\u2500 static\n\u2514\u2500\u2500 html\n\n\nNode.js \u4ea7\u7269\u901a\u5e38\u53ea\u5305\u542b JS \u6587\u4ef6\uff0c\u4e0d\u5305\u542b HTML\u3001CSS \u7b49\u6587\u4ef6\u3002\u6b64\u5916\uff0cNode \u4ea7\u7269\u7684 JS \u6587\u4ef6\u540d\u79f0\u4e5f\u4e0d\u4f1a\u81ea\u52a8\u751f\u6210\u54c8\u5e0c\u503c\u3002\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 output.distPath.server \u914d\u7f6e\u9879\u6765\u4fee\u6539 Node \u4ea7\u7269\u7684\u8f93\u51fa\u8def\u5f84\u3002\n\n\u6bd4\u5982\uff0c\u5c06 Node.js \u4ea7\u7269\u8f93\u51fa\u5230 server \u76ee\u5f55\uff1a\n\nexport default {\n  output: {\n    distPath: {\n      server: 'server',\n    },\n  },\n};\n\n\n\n\u6241\u5e73\u5316\u4ea7\u7269\u76ee\u5f55\n\n\u6709\u65f6\u5019\u4f60\u4e0d\u60f3\u4ea7\u7269\u76ee\u5f55\u6709\u592a\u591a\u5c42\u7ea7\uff0c\u53ef\u4ee5\u5c06\u76ee\u5f55\u8bbe\u7f6e\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u4f7f\u751f\u6210\u7684\u4ea7\u7269\u76ee\u5f55\u6241\u5e73\u5316\u3002\n\n\u53c2\u8003\u4e0b\u65b9\u7684\u4f8b\u5b50\uff1a\n\nexport default {\n  output: {\n    distPath: {\n      js: '',\n      css: '',\n      html: '',\n    },\n    disableHtmlFolder: true,\n  },\n};\n\n\n\u4e0a\u65b9\u7684\u914d\u7f6e\u4f1a\u751f\u6210\u4ee5\u4e0b\u76ee\u5f55\u7ed3\u6784\uff1a\n\ndist\n\u251c\u2500\u2500 [name].[hash].css\n\u251c\u2500\u2500 [name].[hash].css.map\n\u251c\u2500\u2500 [name].[hash].js\n\u251c\u2500\u2500 [name].[hash].js.map\n\u2514\u2500\u2500 [name].html\n\n\n\n\u4ea7\u7269\u4e0d\u5199\u5165\u78c1\u76d8\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4f1a\u5c06\u6784\u5efa\u4ea7\u7269\u5199\u5165\u78c1\u76d8\uff0c\u4ee5\u65b9\u4fbf\u5f00\u53d1\u8005\u67e5\u770b\u4ea7\u7269\u7684\u5185\u5bb9\uff0c\u6216\u662f\u914d\u7f6e\u9759\u6001\u8d44\u6e90\u7684\u4ee3\u7406\u89c4\u5219\u3002\n\n\u5728\u5f00\u53d1\u73af\u5883\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u5c06\u6784\u5efa\u4ea7\u7269\u4fdd\u5b58\u5728 Dev Server \u7684\u5185\u5b58\u4e2d\uff0c\u4ece\u800c\u51cf\u5c11\u6587\u4ef6\u64cd\u4f5c\u4ea7\u751f\u7684\u5f00\u9500\u3002\n\n\u5c06 dev.writeToDisk \u914d\u7f6e\u9879\u8bbe\u7f6e\u4e3a false \u5373\u53ef\uff1a\n\nexport default {\n  dev: {\n    writeToDisk: false,\n  },\n};\n",frontmatter:{}},{id:277,title:"\u5f15\u7528\u9759\u6001\u8d44\u6e90",routePath:"/builder/guide/basic/static-assets",toc:[{id:"\u9759\u6001\u8d44\u6e90\u683c\u5f0f",text:"\u9759\u6001\u8d44\u6e90\u683c\u5f0f",depth:2},{id:"\u5728-js-\u6587\u4ef6\u4e2d\u5f15\u7528-1",text:"\u5728 JS \u6587\u4ef6\u4e2d\u5f15\u7528",depth:2},{id:"\u5728-css-\u6587\u4ef6\u4e2d\u5f15\u7528-1",text:"\u5728 CSS \u6587\u4ef6\u4e2d\u5f15\u7528",depth:2},{id:"\u5f15\u7528\u7ed3\u679c",text:"\u5f15\u7528\u7ed3\u679c",depth:2},{id:"\u6784\u5efa\u4ea7\u7269",text:"\u6784\u5efa\u4ea7\u7269",depth:2},{id:"url-\u524d\u7f00",text:"URL \u524d\u7f00",depth:2},{id:"\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e-4",text:"\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e",depth:2},{id:"\u56fe\u7247\u683c\u5f0f",text:"\u56fe\u7247\u683c\u5f0f",depth:2}],content:"\u5f15\u7528\u9759\u6001\u8d44\u6e90\n\nBuilder \u652f\u6301\u5728\u4ee3\u7801\u4e2d\u5f15\u7528\u56fe\u7247\u3001\u5b57\u4f53\u3001\u5a92\u4f53\u7c7b\u578b\u7684\u9759\u6001\u8d44\u6e90\u3002\n\n:::tip \u4ec0\u4e48\u662f\u9759\u6001\u8d44\u6e90 \u9759\u6001\u8d44\u6e90\u662f\u6307 Web \u5e94\u7528\u4e2d\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u7684\u6587\u4ef6\u3002\u5e38\u89c1\u7684\u9759\u6001\u8d44\u6e90\u5305\u62ec\u56fe\u7247\u3001\u5b57\u4f53\u3001\u89c6\u9891\u3001\u6837\u5f0f\u8868\u548c JavaScript\n\u6587\u4ef6\u3002\u8fd9\u4e9b\u8d44\u6e90\u901a\u5e38\u5b58\u50a8\u5728\u670d\u52a1\u5668\u6216 CDN \u4e0a\uff0c\u5f53\u7528\u6237\u8bbf\u95ee Web \u5e94\u7528\u65f6\u4f1a\u88ab\u4f20\u9001\u5230\u7528\u6237\u7684\u6d4f\u89c8\u5668\u3002\u7531\u4e8e\u5b83\u4eec\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u9759\u6001\u8d44\u6e90\u53ef\u4ee5\u88ab\u6d4f\u89c8\u5668\u7f13\u5b58\uff0c\u4ece\u800c\u63d0\u9ad8 Web\n\u5e94\u7528\u7684\u6027\u80fd\u3002 :::\n\n\n\u9759\u6001\u8d44\u6e90\u683c\u5f0f\n\n\u4ee5\u4e0b\u662f Builder \u9ed8\u8ba4\u652f\u6301\u7684\u9759\u6001\u8d44\u6e90\u683c\u5f0f\uff1a\n\n * \u56fe\u7247\uff1apng\u3001jpg\u3001jpeg\u3001gif\u3001svg\u3001bmp\u3001webp\u3001ico\u3001apng\u3001avif\u3001tiff\u3002\n * \u5b57\u4f53\uff1awoff\u3001woff2\u3001eot\u3001ttf\u3001otf\u3001ttc\u3002\n * \u5a92\u4f53\uff1amp4\u3001webm\u3001ogg\u3001mp3\u3001wav\u3001flac\u3001aac\u3001mov\u3002\n\n\u5982\u679c\u4f60\u9700\u8981\u5f15\u7528\u5176\u4ed6\u683c\u5f0f\u7684\u9759\u6001\u8d44\u6e90\uff0c\u8bf7\u901a\u8fc7 GitHub Issues \u8fdb\u884c\u53cd\u9988\u3002\n\n:::tip SVG \u56fe\u7247 SVG \u56fe\u7247\u662f\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\uff0cBuilder \u63d0\u4f9b\u4e86 SVG \u8f6c React \u7ec4\u4ef6\u7684\u80fd\u529b\uff0c\u5bf9 SVG \u8fdb\u884c\u5355\u72ec\u5904\u7406\uff0c\u8be6\u89c1 \u5f15\u7528 SVG\n\u8d44\u6e90\u3002 :::\n\n\n\u5728 JS \u6587\u4ef6\u4e2d\u5f15\u7528\n\n\u5728 JS \u6587\u4ef6\u4e2d\uff0c\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 import \u7684\u65b9\u5f0f\u5f15\u7528\u76f8\u5bf9\u8def\u5f84\u4e0b\u7684\u9759\u6001\u8d44\u6e90\uff1a\n\n// \u5f15\u7528 static \u76ee\u5f55\u4e0b\u7684 logo.png \u56fe\u7247\n\n\nexport default = () => <img src={logo} />;\n\n\n\u4e5f\u652f\u6301\u4f7f\u7528\u8def\u5f84\u522b\u540d\u6765\u5f15\u7528\uff1a\n\n\n\nexport default = () => <img src={logo} />;\n\n\n\n\u5728 CSS \u6587\u4ef6\u4e2d\u5f15\u7528\n\n\u5728 CSS \u6587\u4ef6\u4e2d\uff0c\u53ef\u4ee5\u5f15\u7528\u76f8\u5bf9\u8def\u5f84\u4e0b\u7684\u9759\u6001\u8d44\u6e90\uff1a\n\n.logo {\n  background-image: url('../static/logo.png');\n}\n\n\n\u4e5f\u652f\u6301\u4f7f\u7528\u8def\u5f84\u522b\u540d\u6765\u5f15\u7528\uff1a\n\n.logo {\n  background-image: url('@/static/logo.png');\n}\n\n\n\n\u5f15\u7528\u7ed3\u679c\n\n\u5f15\u7528\u9759\u6001\u8d44\u6e90\u7684\u7ed3\u679c\u53d6\u51b3\u4e8e\u6587\u4ef6\u4f53\u79ef\uff1a\n\n * \u5f53\u6587\u4ef6\u4f53\u79ef\u5927\u4e8e 10KB \u65f6\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a URL\uff0c\u540c\u65f6\u6587\u4ef6\u4f1a\u88ab\u8f93\u51fa\u5230\u6784\u5efa\u4ea7\u7269\u76ee\u5f55\u4e0b\u3002\n * \u5f53\u6587\u4ef6\u4f53\u79ef\u5c0f\u4e8e 10KB \u65f6\uff0c\u4f1a\u81ea\u52a8\u88ab\u5185\u8054\u4e3a Base64 \u683c\u5f0f\u3002\n\n\n\n\nconsole.log(largeImage); // \"/static/largeImage.6c12aba3.png\"\nconsole.log(smallImage); // \"data:image/png;base64,iVBORw0KGgo...\"\n\n\n\u5173\u4e8e\u8d44\u6e90\u5185\u8054\u7684\u66f4\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u8bf7\u53c2\u8003 \u9759\u6001\u8d44\u6e90\u5185\u8054 \u7ae0\u8282\u3002\n\n\n\u6784\u5efa\u4ea7\u7269\n\n\u5f53\u9759\u6001\u8d44\u6e90\u88ab\u5f15\u7528\u540e\uff0c\u4f1a\u81ea\u52a8\u88ab\u8f93\u51fa\u5230\u6784\u5efa\u4ea7\u7269\u7684\u76ee\u5f55\u4e0b\uff0c\u4f60\u53ef\u4ee5\uff1a\n\n * \u901a\u8fc7 output.filename \u6765\u4fee\u6539\u4ea7\u7269\u7684\u6587\u4ef6\u540d\u3002\n * \u901a\u8fc7 output.distPath \u6765\u4fee\u6539\u4ea7\u7269\u7684\u8f93\u51fa\u8def\u5f84\u3002\n\n\u8bf7\u9605\u8bfb \u6784\u5efa\u4ea7\u7269\u76ee\u5f55 \u6765\u4e86\u89e3\u66f4\u591a\u7ec6\u8282\u3002\n\n\nURL \u524d\u7f00\n\n\u5f15\u7528\u9759\u6001\u8d44\u6e90\u540e\u8fd4\u56de\u7684 URL \u4e2d\u4f1a\u81ea\u52a8\u5305\u542b\u8def\u5f84\u524d\u7f00\uff1a\n\n * \u5728\u5f00\u53d1\u73af\u5883\u4e0b\uff0c\u901a\u8fc7 dev.assetPrefix \u8bbe\u7f6e\u8def\u5f84\u524d\u7f00\u3002\n * \u5728\u751f\u4ea7\u73af\u5883\u4e0b\uff0c\u901a\u8fc7 output.assetPrefix \u8bbe\u7f6e\u8def\u5f84\u524d\u7f00\u3002\n\n\u6bd4\u5982\u5c06 output.assetPrefix \u8bbe\u7f6e\u4e3a https://modern.com\uff1a\n\n\n\nconsole.log(logo); // \"https://modern.com/static/logo.6c12aba3.png\"\n\n\n\n\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\n\n\u5f53\u4f60\u5728 TypeScript \u4ee3\u7801\u4e2d\u5f15\u7528\u9759\u6001\u8d44\u6e90\u65f6\uff0cTypeScript \u53ef\u80fd\u4f1a\u63d0\u793a\u8be5\u6a21\u5757\u7f3a\u5c11\u7c7b\u578b\u5b9a\u4e49\uff1a\n\nTS2307: Cannot find module './logo.png' or its corresponding type declarations.\n\n\n\u6b64\u65f6\u4f60\u9700\u8981\u4e3a\u9759\u6001\u8d44\u6e90\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u8bf7\u5728\u9879\u76ee\u4e2d\u521b\u5efa src/global.d.ts \u6587\u4ef6\uff0c\u5e76\u6dfb\u52a0\u76f8\u5e94\u7684\u7c7b\u578b\u58f0\u660e\u3002\u4ee5 png \u56fe\u7247\u4e3a\u4f8b\uff0c\u9700\u8981\u6dfb\u52a0\u4ee5\u4e0b\u58f0\u660e\uff1a\n\n// src/global.d.ts\ndeclare module '*.png' {\n  const content: string;\n  export default content;\n}\n\n\n\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\u540e\uff0c\u5982\u679c\u4f9d\u7136\u5b58\u5728\u4e0a\u8ff0\u9519\u8bef\u63d0\u793a\uff0c\u8bf7\u5c1d\u8bd5\u91cd\u542f\u5f53\u524d IDE\uff0c\u6216\u8005\u8c03\u6574 global.d.ts \u6240\u5728\u7684\u76ee\u5f55\uff0c\u4f7f TypeScript \u80fd\u591f\u6b63\u786e\u8bc6\u522b\u7c7b\u578b\u5b9a\u4e49\u3002\n\n\n\u56fe\u7247\u683c\u5f0f\n\n\u5728\u4f7f\u7528\u56fe\u7247\u8d44\u6e90\u65f6\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u4e0b\u65b9\u8868\u683c\u4e2d\u56fe\u7247\u7684\u4f18\u7f3a\u70b9\u4ee5\u53ca\u9002\u7528\u573a\u666f\uff0c\u6765\u9009\u62e9\u5408\u9002\u7684\u56fe\u7247\u683c\u5f0f\u3002\n\n| \u683c\u5f0f | \u4f18\u70b9 | \u7f3a\u70b9 | \u9002\u7528\u573a\u666f | | ---- |\n---------------------------------------------------------------- |\n-------------------------------------- |\n---------------------------------------------------------------------------- | |\nPNG | \u65e0\u635f\u538b\u7f29\uff0c\u4e0d\u4f1a\u4e22\u5931\u56fe\u7247\u7ec6\u8282\uff0c\u4e0d\u5931\u771f\uff0c\u652f\u6301\u534a\u900f\u660e | \u4e0d\u9002\u5408\u8272\u8868\u590d\u6742\u7684\u56fe\u7247 | \u9002\u5408\u989c\u8272\u6570\u91cf\u5c11\uff0c\u8fb9\u754c\u5c42\u6b21\u5206\u660e\u7684\u56fe\u7247\uff0c\u9002\u5408\u7528\u5728\nlogo\u3001icon\u3001\u900f\u660e\u56fe\u7b49\u573a\u666f | | JPG | \u989c\u8272\u4e30\u5bcc | \u6709\u635f\u538b\u7f29\uff0c\u4f1a\u5bfc\u81f4\u56fe\u7247\u5931\u771f\uff0c\u4e0d\u652f\u6301\u900f\u660e\u5ea6 |\n\u9002\u5408\u989c\u8272\u6570\u91cf\u591a\uff0c\u989c\u8272\u5e26\u6709\u6e10\u53d8\u3001\u8fc7\u5ea6\u590d\u6742\u7684\u56fe\u7247\uff0c\u9002\u5408\u7528\u5728\u4eba\u50cf\u7167\u7247\u3001\u98ce\u666f\u56fe\u7b49\u573a\u666f | | WebP | \u540c\u65f6\u652f\u6301\u6709\u635f\u538b\u7f29\u4e0e\u65e0\u635f\u538b\u7f29\uff0c\u652f\u6301\u900f\u660e\u5ea6\uff0c\u4f53\u79ef\u6bd4 PNG \u548c\nJPG \u5c0f\u5f88\u591a | iOS \u517c\u5bb9\u6027\u4e0d\u597d | \u51e0\u4e4e\u4efb\u4f55\u573a\u666f\u7684\u50cf\u7d20\u56fe\u7247\uff0c\u652f\u6301 WebP \u7684\u5bbf\u4e3b\u73af\u5883\uff0c\u90fd\u5e94\u8be5\u9996\u9009 WebP \u56fe\u7247\u683c\u5f0f | | SVG |\n\u65e0\u635f\u683c\u5f0f\uff0c\u4e0d\u5931\u771f,\u652f\u6301\u900f\u660e\u5ea6 | \u4e0d\u9002\u5408\u590d\u6742\u56fe\u5f62 | \u9002\u5408\u77e2\u91cf\u56fe,\u9002\u5408\u7528\u4e8e icon |",frontmatter:{}},{id:278,title:"\u5f15\u7528 SVG \u8d44\u6e90",routePath:"/builder/guide/basic/svg-assets",toc:[{id:"\u5728-js-\u6587\u4ef6\u4e2d\u5f15\u7528",text:"\u5728 JS \u6587\u4ef6\u4e2d\u5f15\u7528",depth:2},{id:"\u4fee\u6539\u9ed8\u8ba4\u5bfc\u51fa",text:"\u4fee\u6539\u9ed8\u8ba4\u5bfc\u51fa",depth:2},{id:"\u5728-css-\u6587\u4ef6\u4e2d\u5f15\u7528",text:"\u5728 CSS \u6587\u4ef6\u4e2d\u5f15\u7528",depth:2},{id:"\u9759\u6001\u8d44\u6e90\u5904\u7406",text:"\u9759\u6001\u8d44\u6e90\u5904\u7406",depth:2},{id:"\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e-3",text:"\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e",depth:2}],content:"\u5f15\u7528 SVG \u8d44\u6e90\n\nBuilder \u652f\u6301\u5728\u4ee3\u7801\u4e2d\u5f15\u7528 SVG \u8d44\u6e90\uff0c\u5e76\u5c06 SVG \u56fe\u7247\u8f6c\u6362\u4e3a React \u7ec4\u4ef6\u6216 URL\u3002\n\n:::tip \u4ec0\u4e48\u662f SVG SVG \u662f Scalable Vector Graphics \u7684\u7f29\u5199\uff0c\u610f\u4e3a\u53ef\u4f38\u7f29\u77e2\u91cf\u56fe\u5f62\u3002SVG \u662f\u4e00\u79cd\u7528\u6765\u63cf\u8ff0\u4e8c\u7ef4\u77e2\u91cf\u56fe\u5f62\u7684\nXML-based \u683c\u5f0f\uff0c\u53ef\u4ee5\u7528\u6765\u521b\u5efa\u53ef\u4ee5\u65e0\u9650\u653e\u5927\u6216\u7f29\u5c0f\u800c\u4e0d\u5931\u771f\u7684\u56fe\u50cf\u3002\u56e0\u4e3a SVG \u56fe\u5f62\u662f\u7531\u77e2\u91cf\u56fe\u5f62\u5143\u7d20\u7ec4\u6210\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u8f7b\u677e\u5730\u5728\u5404\u79cd\u5c3a\u5bf8\u548c\u5206\u8fa8\u7387\u4e0b\u6e32\u67d3\u3002\n:::\n\n\n\u5728 JS \u6587\u4ef6\u4e2d\u5f15\u7528\n\n\u5728 JS \u6587\u4ef6\u4e2d\u5f15\u7528 SVG \u8d44\u6e90\u65f6\uff0c\u5982\u679c\u4f60\u5177\u540d\u5bfc\u5165 ReactComponent \u5bf9\u8c61\uff0cBuilder \u4f1a\u8c03\u7528 SVGR\uff0c\u5c06 SVG \u56fe\u7247\u8f6c\u6362\u4e3a\u4e00\u4e2a\nReact \u7ec4\u4ef6\u3002\n\n// src/component/Logo.tsx\n\n\nexport default () => <Logo />;\n\n\n\u5982\u679c\u4f60\u4f7f\u7528\u9ed8\u8ba4\u5bfc\u5165\uff0c\u90a3\u4e48 SVG \u4f1a\u88ab\u5f53\u505a\u666e\u901a\u7684\u9759\u6001\u8d44\u6e90\u6765\u5904\u7406\uff0c\u4f60\u4f1a\u5f97\u5230\u4e00\u4e2a URL \u5b57\u7b26\u4e32\uff1a\n\n\n\nconsole.log(logoURL); // => \"/static/logo.6c12aba3.png\"\n\n\n\n\u4fee\u6539\u9ed8\u8ba4\u5bfc\u51fa\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 output.svgDefaultExport \u914d\u7f6e\u9879\u6765\u4fee\u6539 SVG \u6587\u4ef6\u9ed8\u8ba4\u5bfc\u51fa\u7684\u5185\u5bb9\uff0c\u6bd4\u5982\u628a\u9ed8\u8ba4\u5bfc\u51fa\u7684\u5185\u5bb9\u8bbe\u7f6e\u4e3a React \u7ec4\u4ef6\uff1a\n\nexport default {\n  output: {\n    svgDefaultExport: 'component',\n  },\n};\n\n\n\u6b64\u65f6\u518d\u4f7f\u7528\u9ed8\u8ba4\u5bfc\u5165\uff0c\u4f60\u4f1a\u5f97\u5230\u4e00\u4e2a React \u7ec4\u4ef6\uff0c\u800c\u4e0d\u662f URL\uff1a\n\n// src/component/Logo.tsx\n\n\nexport default () => <Logo />;\n\n\n\n\u5728 CSS \u6587\u4ef6\u4e2d\u5f15\u7528\n\n\u5728 CSS \u6587\u4ef6\u4e2d\u5f15\u7528 SVG \u8d44\u6e90\u65f6\uff0cSVG \u4f1a\u88ab\u5f53\u505a\u4e00\u4e2a\u666e\u901a\u7684\u9759\u6001\u8d44\u6e90\u6765\u5904\u7406\uff0c\u4f60\u4f1a\u5f97\u5230\u4e00\u4e2a URL\uff1a\n\n.logo {\n  background-image: url('../static/logo.svg');\n}\n\n\n\n\u9759\u6001\u8d44\u6e90\u5904\u7406\n\n\u5f53 SVG \u4e0d\u662f\u4f5c\u4e3a React \u7ec4\u4ef6\uff0c\u800c\u662f\u4f5c\u4e3a\u4e00\u4e2a\u666e\u901a\u7684\u9759\u6001\u8d44\u6e90\u88ab\u5f15\u7528\u65f6\uff0c\u5b83\u7684\u5904\u7406\u903b\u8f91\u548c\u5176\u4ed6\u9759\u6001\u8d44\u6e90\u5b8c\u5168\u4e00\u81f4\uff0c\u4e5f\u4f1a\u53d7\u5230\u9759\u6001\u8d44\u6e90\u5185\u8054\u3001URL \u524d\u7f00\u7b49\u89c4\u5219\u7684\u5f71\u54cd\u3002\n\n\u8bf7\u9605\u8bfb \u5f15\u7528\u9759\u6001\u8d44\u6e90 \u7ae0\u8282\u6765\u4e86\u89e3\u9759\u6001\u8d44\u6e90\u7684\u5904\u7406\u89c4\u5219\u3002\n\n\n\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\n\n\u5f53\u4f60\u5728 TypeScript \u4ee3\u7801\u4e2d\u5f15\u7528 SVG \u8d44\u6e90\u65f6\uff0cTypeScript \u53ef\u80fd\u4f1a\u63d0\u793a\u8be5\u6a21\u5757\u7f3a\u5c11\u7c7b\u578b\u5b9a\u4e49\uff1a\n\nTS2307: Cannot find module './logo.svg' or its corresponding type declarations.\n\n\n\u6b64\u65f6\u4f60\u9700\u8981\u4e3a SVG \u8d44\u6e90\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\u6587\u4ef6\uff0c\u8bf7\u5728\u9879\u76ee\u4e2d\u521b\u5efa src/global.d.ts \u6587\u4ef6\uff0c\u5e76\u6dfb\u52a0\u76f8\u5e94\u7684\u7c7b\u578b\u58f0\u660e\uff1a\n\ndeclare module '*.svg' {\n  export const ReactComponent: React.FunctionComponent<\n    React.SVGProps<SVGSVGElement>\n  >;\n\n  const content: string;\n  export default content;\n}\n\n\n\u5982\u679c\u4f60\u5c06 svgDefaultExport \u8bbe\u7f6e\u4e3a 'component'\uff0c\u5219\u5c06\u7c7b\u578b\u58f0\u660e\u4fee\u6539\u4e3a\uff1a\n\ndeclare module '*.svg' {\n  export const ReactComponent: React.FunctionComponent<\n    React.SVGProps<SVGSVGElement>\n  >;\n\n  export default ReactComponent;\n}\n\n\n\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\u540e\uff0c\u5982\u679c\u4f9d\u7136\u5b58\u5728\u4e0a\u8ff0\u9519\u8bef\u63d0\u793a\uff0c\u8bf7\u5c1d\u8bd5\u91cd\u542f\u5f53\u524d IDE\uff0c\u6216\u8005\u8c03\u6574 global.d.ts \u6240\u5728\u7684\u76ee\u5f55\uff0c\u4f7f TypeScript \u80fd\u591f\u6b63\u786e\u8bc6\u522b\u7c7b\u578b\u5b9a\u4e49\u3002",frontmatter:{}},{id:279,title:"\u4f7f\u7528 TypeScript",routePath:"/builder/guide/basic/typescript",toc:[{id:"typescript-\u8f6c\u8bd1",text:"TypeScript \u8f6c\u8bd1",depth:2},{id:"\u4e3a\u4ec0\u4e48\u9ed8\u8ba4\u4f7f\u7528-babel",text:"\u4e3a\u4ec0\u4e48\u9ed8\u8ba4\u4f7f\u7528 Babel",depth:3},{id:"\u7c7b\u578b\u68c0\u67e5",text:"\u7c7b\u578b\u68c0\u67e5",depth:2}],content:"\u4f7f\u7528 TYPESCRIPT\n\nBuilder \u5bf9 TypeScript \u7684\u8f6c\u8bd1\u548c\u7c7b\u578b\u68c0\u67e5\u505a\u4e86\u9ed8\u8ba4\u652f\u6301\uff0c\u65e0\u9700\u4efb\u4f55\u914d\u7f6e\u5373\u53ef\u5728\u9879\u76ee\u4e2d\u4f7f\u7528 .ts \u548c .tsx \u6587\u4ef6\u3002\n\n\nTYPESCRIPT \u8f6c\u8bd1\n\nBuilder \u6709\u4e09\u79cd\u53ef\u9009\u65b9\u5f0f\u5904\u7406 TypeScript \u6587\u4ef6\u3002\n\nBabel\n\n\u5728\u9ed8\u8ba4\u914d\u7f6e\u4e0b\uff0c\u6e90\u7801\u4e2d\u6240\u6709\u7684 TypeScript \u6587\u4ef6\u4f1a\u7ecf\u8fc7 Babel \u8f6c\u8bd1\u3002 \u53ef\u80fd\u4f60\u5728\u67e5\u9605\u8f83\u8001\u65e7\u7684\u8d44\u6599\u65f6\u4f1a\u53d1\u73b0\uff0cBabel \u65e0\u6cd5\u5904\u7406 const enum\n\u4ee5\u53ca namespace alias \u8bed\u6cd5\uff0c\u4f46\u662f\u5176\u5b9e\u5728 7.15 \u7248\u672c\u5df2\u7ecf\u5f97\u5230\u4e86\u652f\u6301\u3002Babel \u65e0\u9700\u624b\u52a8\u5f00\u542f\uff0c\u76f4\u63a5\u5728\u9879\u76ee\u4e2d\u4f7f\u7528 TypeScript\n\u6587\u4ef6\u5373\u53ef\u3002\n\nts-loader\n\nts-loader \u4f7f\u7528 TypeScript \u5b98\u65b9\u7684 TSC \u8f6c\u8bd1\u3002\u5f53\u5f00\u542f ts-loader \u540e TypeScript \u6587\u4ef6\u4e0d\u4f1a\u518d\u7ecf\u8fc7 Babel\n\u7f16\u8bd1\u5904\u7406\uff0c\u4f46\u5904\u7406\u540e\u7684 JavaScript \u4ea7\u7269\u4ecd\u7136\u4f1a\u7531 Babel \u8fdb\u884c\u8bed\u6cd5\u964d\u7ea7\u4ee5\u53ca Polyfill \u6ce8\u5165\u3002\n\n\u5f00\u542f ts-loader(\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e):\n\nexport default {\n  tools: {\n    tsLoader: {},\n  },\n};\n\n\n\u66f4\u8be6\u7ec6\u914d\u7f6e\u53ef\u89c1 tools.tsLoader\u3002 \u5982\u679c\u5f00\u542f ts-loader\uff0c\u9ed8\u8ba4\u4e0d\u4f1a\u542f\u7528\u7c7b\u578b\u68c0\u67e5\uff0c\u53ea\u4f1a\u8fdb\u884c\u8f6c\u8bd1\u3002\n\nSWC\n\n\u5982\u679c\u60f3\u8981\u66f4\u5feb\u7684\u9879\u76ee\u6784\u5efa\u901f\u5ea6\uff0c\u5e76\u4e14\u9879\u76ee\u6ca1\u6709\u4f9d\u8d56\u67d0\u4e9b\u81ea\u5b9a\u4e49\u7684 Babel \u63d2\u4ef6\uff0c\u90a3\u4e48\u4e5f\u53ef\u4ee5\u9009\u62e9 SWC \u6765\u5bf9 JavaScript \u548c TypeScript\n\u8fdb\u884c\u8f6c\u8bd1\u548c\u538b\u7f29\u3002Builder \u7684 SWC \u63d2\u4ef6\u9ed8\u8ba4\u652f\u6301 TypeScript, TSX, Decorator\uff0c\u4f7f\u7528\u65b9\u5f0f\u53ef\u89c1 SWC \u63d2\u4ef6\u3002\n\n\n\u4e3a\u4ec0\u4e48\u9ed8\u8ba4\u4f7f\u7528 BABEL\n\nBabel \u9664\u4e86\u6ca1\u6709\u7c7b\u578b\u68c0\u67e5\u4ee5\u5916\uff0c\u5bf9 TypeScript \u8bed\u6cd5\u652f\u6301\u5df2\u7ecf\u975e\u5e38\u5b8c\u5584\uff0c\u800c\u7c7b\u578b\u68c0\u67e5\u53ef\u4ee5\u501f\u52a9\u53e6\u5916\u7684\u5de5\u5177\u66f4\u597d\u5730\u8fdb\u884c\u3002\u8f6c\u8bd1\u5230\u4f4e\u7248\u672c\u7684 JavaScript\n\u65f6\uff0c\u67d0\u4e9b\u8bed\u6cd5 Babel \u4f1a\u5904\u7406\u5f97\u66f4\u7b26\u5408\u6807\u51c6\uff0c\u4f8b\u5982 Babel \u4f1a\u5c06\u7c7b\u6210\u5458\u521d\u59cb\u5316\u4e3a undefined\uff0c\u5c06\u7c7b\u65b9\u6cd5\u6807\u8bb0\u4e0d\u53ef\u679a\u4e3e\u7b49\u884c\u4e3a\u3002\u5982\u679c\u542f\u7528\nts-loader\uff0c\u4e3a\u4e86\u66f4\u7cbe\u786e\u7684\u8bed\u6cd5\u964d\u7ea7\u548c Polyfill\uff0c\u6700\u540e\u8fd8\u662f\u4f1a\u5c06\u5904\u7406\u540e\u7684\u4ea7\u7269\u518d\u6b21\u7ecf\u8fc7 Babel \u5904\u7406\uff0c\u4ea7\u751f\u4e0d\u5fc5\u8981\u7684\u6027\u80fd\u5f00\u9500\u3002\n\n\n\u7c7b\u578b\u68c0\u67e5\n\n\u76ee\u524d\u751f\u4ea7\u53ef\u7528\u7684\u7c7b\u578b\u68c0\u67e5\u5de5\u5177\u53ea\u6709\u5b98\u65b9\u7684 TSC\uff0cTSC \u7c7b\u578b\u68c0\u67e5\u8017\u65f6\u5728\u5927\u9879\u76ee\u4e2d\u5f80\u5f80\u662f\u5f88\u6162\u7684\u8fc7\u7a0b\uff0cBuilder \u4e2d\u9ed8\u8ba4\u4f7f\u7528\ntsChecker(fork-ts-checker-webpack-plugin) \u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u5f02\u6b65\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff0c\u4e0d\u963b\u585e\u9879\u76ee\u7684\u542f\u52a8\u3002\n\n\u914d\u7f6e tsChecker(\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e):\n\nexport default {\n  tools: {\n    tsChecker: {},\n  },\n};\n\n\n\u66f4\u591a\u914d\u7f6e\u53ef\u89c1 tsChecker \u914d\u7f6e\u3002 \u5982\u679c\u5f00\u542f ts-loader \u5e76\u4e14\u624b\u52a8\u914d\u7f6e\u4e86 compileOnly: false\uff0c\u8bf7\u5173\u95ed\ntsChecker\uff0c\u907f\u514d\u91cd\u590d\u7c7b\u578b\u68c0\u67e5\u3002\n\n:::tip STC SWC \u4f5c\u8005\u65b0\u5f00\u6e90\u7684\u57fa\u4e8e Rust \u7684\u7c7b\u578b\u68c0\u67e5\u5de5\u5177 STC \u76ee\u524d\u8fd8\u4e0d\u53ef\u7528\u4e8e\u751f\u4ea7\uff0c\u8fd8\u5728\u8d77\u6b65\u9636\u6bb5\uff0c\u4e0d\u63a8\u8350\u7528\u4e8e\u9879\u76ee\u4e2d\uff0c\u7b49\u5f85\u4e4b\u540e\u66f4\u6210\u719f\uff0c\u4f1a\u96c6\u6210\u5230\nBuilder \u7684 SWC \u63d2\u4ef6\u4e2d\u4f5c\u4e3a\u5b9e\u9a8c\u529f\u80fd\uff0c\u656c\u8bf7\u671f\u5f85\u3002 :::",frontmatter:{}},{id:280,title:"\u5f00\u542f\u8c03\u8bd5\u6a21\u5f0f",routePath:"/builder/guide/debug/debug-mode",toc:[{id:"\u65e5\u5fd7\u4fe1\u606f",text:"\u65e5\u5fd7\u4fe1\u606f",depth:2},{id:"builder-\u914d\u7f6e\u6587\u4ef6",text:"Builder \u914d\u7f6e\u6587\u4ef6",depth:2},{id:"webpack-\u914d\u7f6e\u6587\u4ef6",text:"webpack \u914d\u7f6e\u6587\u4ef6",depth:2}],content:"\u5f00\u542f\u8c03\u8bd5\u6a21\u5f0f\n\n\u4e3a\u4e86\u4fbf\u4e8e\u6392\u67e5\u95ee\u9898\uff0cBuilder \u63d0\u4f9b\u4e86\u8c03\u8bd5\u6a21\u5f0f\uff0c\u4f60\u53ef\u4ee5\u5728\u6267\u884c\u6784\u5efa\u65f6\u6dfb\u52a0 DEBUG=builder \u73af\u5883\u53d8\u91cf\u6765\u5f00\u542f Builder \u7684\u8c03\u8bd5\u6a21\u5f0f\u3002\n\n# \u8c03\u8bd5\u5f00\u53d1\u73af\u5883\nDEBUG=builder pnpm dev\n\n# \u8c03\u8bd5\u751f\u4ea7\u73af\u5883\nDEBUG=builder pnpm build\n\n\n\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\uff0cBuilder \u4f1a\u8f93\u51fa\u4e00\u4e9b\u989d\u5916\u7684\u65e5\u5fd7\u4fe1\u606f\uff0c\u5e76\u5c06\u5185\u90e8\u6700\u7ec8\u751f\u6210\u7684 Builder \u914d\u7f6e\u548c webpack \u914d\u7f6e\u5199\u5165\u5230\u4ea7\u7269\u76ee\u5f55\u4e0b\uff0c\u4fbf\u4e8e\u5f00\u53d1\u8005\u67e5\u770b\u548c\u8c03\u8bd5\u3002\n\n\n\u65e5\u5fd7\u4fe1\u606f\n\n\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\uff0c\u4f60\u4f1a\u770b\u5230 Shell \u4e2d\u8f93\u51fa\u4e86\u4e00\u4e9b\u989d\u5916\u7684\u4fe1\u606f\uff0c\u5176\u4e2d\u4ee5 debug \u5f00\u5934\u7684\u662f\u4e00\u4e9b\u6d41\u7a0b\u65e5\u5fd7\uff0c\u8868\u660e Builder \u5185\u90e8\u6267\u884c\u4e86\u54ea\u4e9b\u64cd\u4f5c\u3002\n\n$ DEBUG=builder pnpm dev\n\ndebug   create context [1842.90 ms]\ndebug   add default plugins [1874.45 ms]\ndebug   add default plugins done [1938.57 ms]\ndebug   init plugins [2388.29 ms]\ndebug   init plugins done [2389.48 ms]\n...\n\n\n\u6b64\u5916\uff0cShell \u4e2d\u8fd8\u4f1a\u8f93\u51fa\u4ee5\u4e0b\u65e5\u5fd7\uff0c\u8868\u793a Builder \u5c06\u5185\u90e8\u751f\u6210\u7684\u6784\u5efa\u914d\u7f6e\u5199\u5165\u5230\u78c1\u76d8\u4e2d\uff0c\u6b64\u65f6\u4f60\u53ef\u4ee5\u6253\u5f00\u8fd9\u4e9b\u914d\u7f6e\u6587\u4ef6\u6765\u67e5\u770b\u76f8\u5e94\u7684\u5185\u5bb9\u3002\n\nInspect config succeed, open following files to view the content:\n\n  - Builder Config: /Project/demo/dist/builder.config.js\n  - Webpack Config (web): /Project/demo/dist/webpack.config.web.js\n\n\n\nBUILDER \u914d\u7f6e\u6587\u4ef6\n\n\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\uff0cBuilder \u4f1a\u81ea\u52a8\u751f\u6210 dist/builder.config.js \u6587\u4ef6\uff0c\u8fd9\u91cc\u9762\u5305\u542b\u4e86\u6700\u7ec8\u751f\u6210\u7684 Builder\n\u914d\u7f6e\u3002\u5728\u8fd9\u4e2a\u6587\u4ef6\u91cc\uff0c\u4f60\u53ef\u4ee5\u4e86\u89e3\u5230\u4f60\u4f20\u5165\u7684 Builder \u914d\u7f6e\u5728\u7ecf\u8fc7\u6846\u67b6\u5c42\u548c Builder \u5904\u7406\u540e\u7684\u6700\u7ec8\u7ed3\u679c\u3002\n\n\u8be5\u6587\u4ef6\u7684\u5927\u81f4\u7ed3\u6784\u5982\u4e0b\uff1a\n\nmodule.exports = {\n  dev: {\n    // some configs...\n  },\n  source: {\n    // some configs...\n  },\n  // other configs...\n};\n\n\n\u5173\u4e8e Builder \u914d\u7f6e\u9879\u7684\u5b8c\u6574\u4ecb\u7ecd\uff0c\u8bf7\u67e5\u770b Builder \u914d\u7f6e\u9879 \u7ae0\u8282\u3002\n\n\nWEBPACK \u914d\u7f6e\u6587\u4ef6\n\n\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\uff0cBuilder \u8fd8\u4f1a\u81ea\u52a8\u751f\u6210 dist/webpack.config.web.js \u6587\u4ef6\uff0c\u8fd9\u91cc\u9762\u5305\u542b\u4e86\u6700\u7ec8\u751f\u6210\u7684 webpack\n\u914d\u7f6e\u3002\u5728\u8fd9\u4e2a\u6587\u4ef6\u91cc\uff0c\u4f60\u53ef\u4ee5\u4e86\u89e3\u5230 Builder \u6700\u7ec8\u4f20\u9012\u7ed9 webpack \u7684\u914d\u7f6e\u91cc\u5305\u542b\u4e86\u54ea\u4e9b\u5185\u5bb9\u3002\n\n\u8be5\u6587\u4ef6\u7684\u5927\u81f4\u7ed3\u6784\u5982\u4e0b\uff1a\n\nmodule.exports = {\n  resolve: {\n    // some resolve configs...\n  },\n  module: {\n    // some webpack loaders...\n  },\n  plugins: [\n    // some webpack plugins...\n  ],\n  // other configs...\n};\n\n\n\u6b64\u5916\uff0c\u5982\u679c\u9879\u76ee\u914d\u7f6e\u4e86\u989d\u5916\u7684\u6784\u5efa\u4ea7\u7269\u7c7b\u578b\uff0c\u6bd4\u5982\u5f00\u542f\u4e86\u6846\u67b6\u7684 SSR \u80fd\u529b\uff08\u5bf9\u5e94\u989d\u5916\u7684 Node.js \u6784\u5efa\u4ea7\u7269\uff09\uff0c\u5728 dist \u76ee\u5f55\u4f1a\u53e6\u5916\u751f\u6210\u4e00\u4efd\nwebpack.config.node.js \u6587\u4ef6\uff0c\u5bf9\u5e94 SSR \u6784\u5efa\u65f6\u7684 webpack \u914d\u7f6e\u3002\n\n\u5173\u4e8e webpack \u914d\u7f6e\u9879\u7684\u5b8c\u6574\u4ecb\u7ecd\uff0c\u8bf7\u67e5\u770b webpack \u5b98\u65b9\u6587\u6863\u3002",frontmatter:{}},{id:281,title:"\u4f7f\u7528 Webpack Inspector",routePath:"/builder/guide/debug/inspector",toc:[{id:"\u4ecb\u7ecd",text:"\u4ecb\u7ecd",depth:2},{id:"\u542f\u7528",text:"\u542f\u7528",depth:2},{id:"\u8c03\u8bd5\u9762\u677f",text:"\u8c03\u8bd5\u9762\u677f",depth:2},{id:"\u914d\u7f6e\u9884\u89c8\u6a21\u5f0f",text:"\u914d\u7f6e\u9884\u89c8\u6a21\u5f0f",depth:3},{id:"\u5217\u8868\u6a21\u5f0f",text:"\u5217\u8868\u6a21\u5f0f",depth:3},{id:"loader-\u7edf\u8ba1\u6570\u636e",text:"Loader \u7edf\u8ba1\u6570\u636e",depth:3},{id:"\u4f9d\u8d56\u56fe\u6a21\u5f0f",text:"\u4f9d\u8d56\u56fe\u6a21\u5f0f",depth:3}],content:"\u4f7f\u7528 WEBPACK INSPECTOR\n\nBuilder \u5185\u7f6e\u4e86 webpack inspector \u6765\u8f85\u52a9\u8c03\u8bd5 webpack \u6784\u5efa\u95ee\u9898\u3002\n\n\n\u4ecb\u7ecd\n\n\u7531\u4e8e webpack \u5185\u90e8\u7684\u5de5\u4f5c\u6d41\u7a0b\u6bd4\u8f83\u9ed1\u76d2\uff0c\u5728\u4f7f\u7528 webpack \u65f6\uff0c\u6211\u4eec\u5e38\u5e38\u4f1a\u9047\u5230\u5982\u4e0b\u7684\u4e00\u4e9b\u95ee\u9898:\n\n * \u5728\u4f7f\u7528\u4e0a\u5c42\u6846\u67b6\u65f6\uff0c\u4e0d\u77e5\u9053\u6700\u7ec8\u751f\u6210\u7684 webpack \u914d\u7f6e\u5305\u542b\u54ea\u4e9b\u5185\u5bb9\u3002\n * \u6bcf\u4e2a\u6a21\u5757\u4f1a\u7ecf\u8fc7\u4e0d\u540c\u7684 loader \u5904\u7406\uff0c\u7ecf\u8fc7\u5404\u4e2a loader \u7684\u7f16\u8bd1\u7ed3\u679c\u96be\u4ee5\u611f\u77e5\u3002\n * \u96be\u4ee5\u611f\u77e5 webpack \u5404\u4e2a\u7f16\u8bd1\u73af\u8282 (\u6bd4\u5982 babel-loader\u3001ts-loader) \u7684\u8017\u65f6\u60c5\u51b5\u3002\n\n\u4e3a\u4e86\u66f4\u65b9\u4fbf\u5730\u8fdb\u884c webpack \u9879\u76ee\u7684\u9519\u8bef\u6392\u67e5\u3001\u6027\u80fd\u5206\u6790\u53ca loader \u5f00\u53d1\uff0c\u6211\u4eec\u5728 Builder \u4e2d\u5185\u7f6e\u4e86 webpack inspector \u5de5\u5177\u3002\n\n\n\u542f\u7528\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7 tools.inspector \u914d\u7f6e\u9879\u6765\u5f00\u542f webpack inspector:\n\nexport default {\n  tools: {\n    inspector: {},\n  },\n};\n\n\n\u4e3a\u4e86\u907f\u514d inspector \u5f71\u54cd\u6b63\u5e38\u5f00\u53d1\uff0c\u5efa\u8bae\u914d\u7f6e\u4ec5\u5728 DEBUG \u65f6\u5f00\u542f inspector\uff1a\n\nexport default {\n  tools: {\n    inspector: process.env.DEBUG ? {} : undefined,\n  },\n};\n\n\n\u6dfb\u52a0\u4ee5\u4e0a\u914d\u7f6e\u540e\uff0c\u5f53\u4f60\u6267\u884c DEBUG=true pnpm dev \u65f6\uff0cBuilder \u4f1a\u5728\u7f16\u8bd1\u5b8c\u6210\u540e\u542f\u52a8 inspector\uff0c\u6b64\u65f6 Shell\n\u4e2d\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u4fe1\u606f\uff1a\n\ninfo    Starting dev server...\n\n\u3010Webpack Inspector\u3011\ud83d\udd25 started at http://localhost:3333\n\n\n\u6253\u5f00 http://localhost:3333 \u5730\u5740\uff0c\u5373\u53ef\u8bbf\u95ee inspector \u7684\u8c03\u8bd5\u9762\u677f\u3002\n\n\n\u8c03\u8bd5\u9762\u677f\n\nInspector \u7684\u8c03\u8bd5\u9762\u677f\u63d0\u4f9b\u4e86\u591a\u79cd\u6a21\u5f0f\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u53f3\u4e0a\u89d2\u7684\u5f00\u5173\u8fdb\u884c\u5207\u6362\u3002\n\n\n\u914d\u7f6e\u9884\u89c8\u6a21\u5f0f\n\n\u9762\u677f\u7684\u9ed8\u8ba4\u6a21\u5f0f\u4e3a\u914d\u7f6e\u9884\u89c8\u6a21\u5f0f\u3002\u6b64\u6a21\u5f0f\u4e0b\u53ef\u4ee5\u67e5\u770b webpack \u5185\u90e8\u6240\u6709\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u914d\u7f6e\u5bf9\u8c61\u53ef\u81ea\u7531\u5c55\u5f00\u548c\u6298\u53e0:\n\n\n\n\n\u5217\u8868\u6a21\u5f0f\n\n\u6b64\u6a21\u5f0f\u4e0b\u4f1a\u5c55\u793a\u51fa\u6240\u6709\u7684\u6a21\u5757\u4fe1\u606f:\n\n\n\n\u70b9\u51fb\u5217\u8868\u9879\u4f1a\u51fa\u73b0\u6a21\u5757\u7684\u7f16\u8bd1\u8be6\u60c5\u4fe1\u606f:\n\n\n\n\nLOADER \u7edf\u8ba1\u6570\u636e\n\n\u70b9\u51fb\u5982\u4e0b\u7684\u5f00\u5173\uff0c\u53ef\u4ee5\u67e5\u770b Loader \u7684\u7edf\u8ba1\u6570\u636e:\n\n\n\n\n\u4f9d\u8d56\u56fe\u6a21\u5f0f\n\n\u6b64\u6a21\u5f0f\u4e0b\u4f1a\u5c55\u793a\u51fa\u6240\u6709\u6a21\u5757\u7684\u4f9d\u8d56\u5173\u7cfb\uff1a\n\n\n\n\u70b9\u51fb\u56fe\u4e2d\u7684\u8282\u70b9\u4e5f\u4f1a\u5448\u73b0\u5177\u4f53\u6a21\u5757\u7684\u7f16\u8bd1\u8be6\u60c5\uff1a\n\n\n\n\u51fa\u4e8e\u6027\u80fd\u8003\u8651\uff0c\u6a21\u5757\u6570\u91cf > 100 \u65f6\u4e0d\u4f1a\u5c55\u793a\u4f9d\u8d56\u56fe\u3002",frontmatter:{}},{id:282,title:"\u5f02\u5e38\u7c7b\u95ee\u9898",routePath:"/builder/guide/faq/exceptions",toc:[{id:"webpack-\u7f16\u8bd1\u51fa\u73b0-compilation-argument-\u62a5\u9519",text:"webpack \u7f16\u8bd1\u51fa\u73b0 'compilation' argument \u62a5\u9519\uff1f",depth:2},{id:"\u7f16\u8bd1\u4ea7\u7269\u4e2d\u5b58\u5728\u672a\u7f16\u8bd1\u7684-es6-\u4ee3\u7801",text:"\u7f16\u8bd1\u4ea7\u7269\u4e2d\u5b58\u5728\u672a\u7f16\u8bd1\u7684 ES6+ \u4ee3\u7801\uff1f",depth:2},{id:"\u5728-monorepo-\u4e2d\u5f15\u7528\u5176\u4ed6\u6a21\u5757\u4ee3\u7801\u6ca1\u6709\u88ab\u6b63\u786e\u7f16\u8bd1",text:"\u5728 Monorepo \u4e2d\u5f15\u7528\u5176\u4ed6\u6a21\u5757\uff0c\u4ee3\u7801\u6ca1\u6709\u88ab\u6b63\u786e\u7f16\u8bd1\uff1f",depth:2},{id:"\u7f16\u8bd1\u65f6\u62a5\u9519-you-may-need-additional-loader",text:"\u7f16\u8bd1\u65f6\u62a5\u9519 You may need additional loader\uff1f",depth:2},{id:"\u6253\u5f00\u9875\u9762\u540e\u62a5\u9519\u63d0\u793a-exports-is-not-defined",text:"\u6253\u5f00\u9875\u9762\u540e\u62a5\u9519\uff0c\u63d0\u793a exports is not defined\uff1f",depth:2},{id:"\u7f16\u8bd1\u65f6\u62a5\u9519-error-es-modules-may-not-assign-moduleexports-or-exports-use-esm-export-syntax",text:'\u7f16\u8bd1\u65f6\u62a5\u9519 "Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax"\uff1f',depth:2},{id:"\u7f16\u8bd1\u8fdb\u5ea6\u6761\u5361\u6b7b\u4f46\u7ec8\u7aef\u65e0-error-\u65e5\u5fd7",text:"\u7f16\u8bd1\u8fdb\u5ea6\u6761\u5361\u6b7b\uff0c\u4f46\u7ec8\u7aef\u65e0 Error \u65e5\u5fd7\uff1f",depth:2},{id:"webpack-\u7f16\u8bd1\u7f13\u5b58\u672a\u751f\u6548\u5e94\u8be5\u5982\u4f55\u6392\u67e5",text:"webpack \u7f16\u8bd1\u7f13\u5b58\u672a\u751f\u6548\uff0c\u5e94\u8be5\u5982\u4f55\u6392\u67e5\uff1f",depth:2},{id:"\u6253\u5305\u540e\u53d1\u73b0-tree-shaking-\u6ca1\u6709\u751f\u6548",text:"\u6253\u5305\u540e\u53d1\u73b0 Tree Shaking \u6ca1\u6709\u751f\u6548\uff1f",depth:2},{id:"\u6253\u5305\u65f6\u51fa\u73b0-javascript-heap-out-of-memory",text:"\u6253\u5305\u65f6\u51fa\u73b0 JavaScript heap out of memory?",depth:2},{id:"less-\u6587\u4ef6\u4e2d\u7684\u9664\u6cd5\u4e0d\u751f\u6548",text:"Less \u6587\u4ef6\u4e2d\u7684\u9664\u6cd5\u4e0d\u751f\u6548\uff1f",depth:2},{id:"\u4fee\u6539\u914d\u7f6e\u540e\u62a5\u9519-typeerror-cannot-delete-property-xxx-of-object",text:"\u4fee\u6539\u914d\u7f6e\u540e\uff0c\u62a5\u9519 \u2018TypeError: Cannot delete property 'xxx' of #<Object>\u2019",depth:2}],content:"\u5f02\u5e38\u7c7b\u95ee\u9898\n\n\nWEBPACK \u7f16\u8bd1\u51fa\u73b0 'COMPILATION' ARGUMENT \u62a5\u9519\uff1f\n\n\u5982\u679c\u7f16\u8bd1\u65f6\u51fa\u73b0\u4ee5\u4e0b\u62a5\u9519\uff0c\u901a\u5e38\u662f\u7531\u4e8e\u9879\u76ee\u4e2d\u5b89\u88c5\u4e86\u9519\u8bef\u7684 webpack \u7248\u672c\uff0c\u6216\u8005\u5b89\u88c5\u4e86\u591a\u4e2a webpack \u7248\u672c\u5f15\u8d77\uff1a\n\nTypeError: The 'compilation' argument must be an instance of Compilation\n\n\nwebpack \u7248\u672c\u95ee\u9898\u6709\u4ee5\u4e0b\u51e0\u79cd\u60c5\u51b5\uff1a\n\n 1. \u9879\u76ee\u7684 package.json \u4e2d\u76f4\u63a5\u58f0\u660e\u4e86 webpack \u4f9d\u8d56\uff0c\u5e76\u4e14\u4e0e Builder \u4f9d\u8d56\u7684 webpack\n    \u7248\u672c\u8303\u56f4\u4e0d\u540c\uff0c\u65e0\u6cd5\u5339\u914d\u5230\u540c\u4e00\u4e2a\u7248\u672c\u3002\n 2. \u9879\u76ee\u91cc\u5b89\u88c5\u7684\u591a\u4e2a npm \u5305\u90fd\u4f9d\u8d56\u4e86 webpack\uff0c\u5e76\u4e14\u5b83\u4eec\u4f9d\u8d56\u7684 webpack \u7248\u672c\u8303\u56f4\u4e0d\u540c\uff0c\u65e0\u6cd5\u5339\u914d\u5230\u540c\u4e00\u4e2a\u7248\u672c\u3002\n 3. \u7531\u4e8e\u5305\u7ba1\u7406\u5668\u7684 lock \u673a\u5236\uff0c\u5bfc\u81f4 lock \u6587\u4ef6\u4e2d\u4ea7\u751f\u4e86\u591a\u4e2a webpack \u7248\u672c\u3002\n\n\u5982\u679c\u662f\u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u5efa\u8bae\u4ece\u9879\u76ee\u7684 package.json \u4e2d\u79fb\u9664 webpack \u4f9d\u8d56\u3002\u56e0\u4e3a Builder \u9ed8\u8ba4\u5c01\u88c5\u4e86 webpack \u76f8\u5173\u80fd\u529b\uff0c\u5e76\u4e14\u4f1a\u5728\ntools.webpack \u914d\u7f6e\u9879\u4e2d\u4f20\u5165 webpack \u5bf9\u8c61\u3002\u56e0\u6b64\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4e0d\u5efa\u8bae\u5728\u9879\u76ee\u4e2d\u989d\u5916\u5b89\u88c5 webpack \u4f9d\u8d56\u3002\n\n\u5982\u679c\u662f\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u5efa\u8bae\u770b\u770b\u80fd\u5426\u5347\u7ea7\u67d0\u4e2a npm \u5305\uff0c\u4f7f\u5176\u4f9d\u8d56\u7684 webpack \u7248\u672c\u8303\u56f4\u4e0e Builder\n\u4fdd\u6301\u4e00\u81f4\u3002\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5305\u7ba1\u7406\u5668\u7684\u80fd\u529b\u6765\u624b\u52a8\u7edf\u4e00\u7248\u672c\uff0c\u6bd4\u5982\u4f7f\u7528 yarn resolutions \u6216 pnpm overrides\u3002\n\n\u5982\u679c\u662f\u7b2c\u4e09\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e8c\u79cd\u60c5\u51b5\u4e2d\u63d0\u5230\u7684\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u5c1d\u8bd5\u5220\u9664 lock \u6587\u4ef6\u540e\u91cd\u65b0\u5b89\u88c5\u6765\u89e3\u51b3\u3002\n\n\u5220\u9664 lock \u6587\u4ef6\u4f1a\u4f7f\u9879\u76ee\u4e2d\u7684\u4f9d\u8d56\u7248\u672c\u81ea\u52a8\u5347\u7ea7\u5230\u6307\u5b9a\u8303\u56f4\u4e0b\u7684\u6700\u65b0\u7248\uff0c\u8bf7\u8fdb\u884c\u5145\u5206\u7684\u6d4b\u8bd5\u3002\n\n\n\u7f16\u8bd1\u4ea7\u7269\u4e2d\u5b58\u5728\u672a\u7f16\u8bd1\u7684 ES6+ \u4ee3\u7801\uff1f\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4e0d\u4f1a\u901a\u8fc7 babel-loader \u6216 ts-loader \u6765\u7f16\u8bd1 node_modules \u4e0b\u7684\u6587\u4ef6\u3002\u5982\u679c\u9879\u76ee\u5f15\u5165\u7684 npm\n\u5305\u4e2d\u542b\u6709 ES6+ \u8bed\u6cd5\uff0c\u4f1a\u88ab\u6253\u5305\u8fdb\u4ea7\u7269\u4e2d\u3002\n\n\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 source.include \u914d\u7f6e\u9879\u6765\u6307\u5b9a\u9700\u8981\u989d\u5916\u8fdb\u884c\u7f16\u8bd1\u7684\u76ee\u5f55\u6216\u6a21\u5757\u3002\n\n\n\u5728 MONOREPO \u4e2d\u5f15\u7528\u5176\u4ed6\u6a21\u5757\uff0c\u4ee3\u7801\u6ca1\u6709\u88ab\u6b63\u786e\u7f16\u8bd1\uff1f\n\n\u51fa\u4e8e\u7f16\u8bd1\u6027\u80fd\u7684\u8003\u8651\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4e0d\u4f1a\u901a\u8fc7 babel-loader \u6216 ts-loader \u6765\u7f16\u8bd1 node_modules\n\u4e0b\u7684\u6587\u4ef6\uff0c\u4e5f\u4e0d\u4f1a\u7f16\u8bd1\u5f53\u524d\u5de5\u7a0b\u76ee\u5f55\u5916\u90e8\u7684\u6587\u4ef6\u3002\n\n\u901a\u8fc7 source.include \u914d\u7f6e\u9879\uff0c\u53ef\u4ee5\u6307\u5b9a\u9700\u8981\u989d\u5916\u8fdb\u884c\u7f16\u8bd1\u7684\u76ee\u5f55\u6216\u6a21\u5757\u3002\n\n\u8be6\u89c1 source.include \u7528\u6cd5\u4ecb\u7ecd\u3002\n\n\n\u7f16\u8bd1\u65f6\u62a5\u9519 YOU MAY NEED ADDITIONAL LOADER\uff1f\n\n\u5982\u679c\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u9047\u5230\u4e86\u4ee5\u4e0b\u62a5\u9519\u63d0\u793a\uff0c\u8868\u793a\u5b58\u5728\u4e2a\u522b\u6587\u4ef6\u65e0\u6cd5\u88ab\u6b63\u786e\u7f16\u8bd1\u3002\n\nModule parse failed: Unexpected token\nFile was processed with these loaders:\n * some-loader/index.js\n\nYou may need an additional loader to handle the result of these loaders.\n\n\n\u89e3\u51b3\u65b9\u6cd5\uff1a\n\n * \u5982\u679c\u662f\u5f15\u7528\u4e86\u5f53\u524d\u5de5\u7a0b\u5916\u90e8\u7684 .ts \u6587\u4ef6\uff0c\u6216\u8005\u662f node_modules \u4e0b\u7684 .ts \u6587\u4ef6\uff0c\u8bf7\u6dfb\u52a0 source.include\n   \u914d\u7f6e\u9879\uff0c\u6307\u5b9a\u9700\u8981\u989d\u5916\u8fdb\u884c\u7f16\u8bd1\u7684\u6587\u4ef6\u3002\n * \u5982\u679c\u662f\u5f15\u7528\u4e86 Builder \u4e0d\u652f\u6301\u7684\u6587\u4ef6\u683c\u5f0f\uff0c\u8bf7\u81ea\u884c\u914d\u7f6e\u5bf9\u5e94\u7684 webpack loader \u8fdb\u884c\u7f16\u8bd1\u3002\n\n\n\u6253\u5f00\u9875\u9762\u540e\u62a5\u9519\uff0c\u63d0\u793a EXPORTS IS NOT DEFINED\uff1f\n\n\u5982\u679c\u7f16\u8bd1\u6b63\u5e38\uff0c\u4f46\u662f\u6253\u5f00\u9875\u9762\u540e\u51fa\u73b0 exports is not defined \u62a5\u9519\uff0c\u901a\u5e38\u662f\u56e0\u4e3a\u5728\u9879\u76ee\u4e2d\u4f7f\u7528 babel \u7f16\u8bd1\u4e86\u4e00\u4e2a CommonJS\n\u6a21\u5757\uff0c\u5bfc\u81f4 babel \u51fa\u73b0\u5f02\u5e38\u3002\n\n\u5728\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0cBuilder \u662f\u4e0d\u4f1a\u4f7f\u7528 babel \u6765\u7f16\u8bd1 CommonJS \u6a21\u5757\u7684\u3002\u5982\u679c\u9879\u76ee\u4e2d\u4f7f\u7528\u4e86 source.include \u914d\u7f6e\u9879\uff0c\u6216\u4f7f\u7528\u4e86\ntools.babel \u7684 addIncludes \u65b9\u6cd5\uff0c\u5219\u53ef\u80fd\u4f1a\u628a\u4e00\u4e9b CommonJS \u6a21\u5757\u52a0\u5165\u5230 babel \u7f16\u8bd1\u4e2d\u3002\n\n\u8be5\u95ee\u9898\u6709\u4e24\u79cd\u89e3\u51b3\u65b9\u6cd5\uff1a\n\n 1. \u907f\u514d\u5c06 CommonJS \u6a21\u5757\u52a0\u5165\u5230 babel \u7f16\u8bd1\u4e2d\u3002\n 2. \u5c06 babel \u7684 sourceType \u914d\u7f6e\u9879\u8bbe\u7f6e\u4e3a unambiguous\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a\n\nexport default {\n  tools: {\n    babel(config) {\n      config.sourceType = 'unambiguous';\n    },\n  },\n};\n\n\n\u5c06 sourceType \u8bbe\u7f6e\u4e3a unambiguous \u53ef\u80fd\u4f1a\u4ea7\u751f\u4e00\u4e9b\u5176\u4ed6\u5f71\u54cd\uff0c\u8bf7\u53c2\u8003 babel \u5b98\u65b9\u6587\u6863\u3002\n\n\n\u7f16\u8bd1\u65f6\u62a5\u9519 \"ERROR: ES MODULES MAY NOT ASSIGN MODULE.EXPORTS OR EXPORTS.*, USE ESM\nEXPORT SYNTAX\"\uff1f\n\n\u5982\u679c\u7f16\u8bd1\u65f6\u51fa\u73b0\u4ee5\u4e0b\u62a5\u9519\uff0c\u901a\u5e38\u4e5f\u662f\u56e0\u4e3a\u5728\u9879\u76ee\u4e2d\u4f7f\u7528 babel \u7f16\u8bd1\u4e86\u4e00\u4e2a CommonJS \u6a21\u5757\uff0c\u89e3\u51b3\u65b9\u6cd5\u4e0e\u4e0a\u8ff0\u7684 exports is not defined\n\u95ee\u9898\u4e00\u81f4\u3002\n\nError: ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: 581\n\n\n\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u8003 issue\uff1ababel#12731\u3002\n\n\n\u7f16\u8bd1\u8fdb\u5ea6\u6761\u5361\u6b7b\uff0c\u4f46\u7ec8\u7aef\u65e0 ERROR \u65e5\u5fd7\uff1f\n\n\u5f53\u7f16\u8bd1\u8fdb\u5ea6\u6761\u5361\u6b7b\uff0c\u4f46\u7ec8\u7aef\u65e0 Error \u65e5\u5fd7\u65f6\uff0c\u901a\u5e38\u662f\u56e0\u4e3a\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u5f02\u5e38\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5f53 Error \u88ab webpack\n\u6216\u5176\u4ed6\u6a21\u5757\u6355\u83b7\u540e\uff0c\u9519\u8bef\u65e5\u5fd7\u4e0d\u4f1a\u88ab\u6b63\u786e\u8f93\u51fa\u3002\u6700\u4e3a\u5e38\u89c1\u7684\u573a\u666f\u662f Babel \u914d\u7f6e\u51fa\u73b0\u5f02\u5e38\uff0c\u629b\u51fa Error \u540e\u88ab webpack \u6355\u83b7\uff0c\u800c webpack\n\u5728\u4e2a\u522b\u60c5\u51b5\u4e0b\u541e\u6389\u4e86 Error\u3002\n\n\u89e3\u51b3\u65b9\u6cd5\uff1a\n\n\u5982\u679c\u4f60\u4fee\u6539 Babel \u914d\u7f6e\u540e\u51fa\u73b0\u6b64\u95ee\u9898\uff0c\u5efa\u8bae\u68c0\u67e5\u662f\u5426\u6709\u4ee5\u4e0b\u9519\u8bef\u7528\u6cd5\uff1a\n\n 1. \u914d\u7f6e\u4e86\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684 plugin \u6216 preset\uff0c\u53ef\u80fd\u662f\u540d\u79f0\u62fc\u5199\u9519\u8bef\uff0c\u6216\u662f\u672a\u6b63\u786e\u5b89\u88c5\u3002\n\n// \u9519\u8bef\u793a\u4f8b\nexport default {\n  tools: {\n    babel(config, { addPlugins }) {\n      // \u8be5\u63d2\u4ef6\u540d\u79f0\u9519\u8bef\uff0c\u6216\u8005\u672a\u5b89\u88c5\n      addPlugins('babel-plugin-not-exists');\n    },\n  },\n};\n\n\n 2. \u662f\u5426\u914d\u7f6e\u4e86\u591a\u4e2a babel-plugin-import\uff0c\u4f46\u662f\u6ca1\u6709\u5728\u6570\u7ec4\u7684\u7b2c\u4e09\u9879\u58f0\u660e\u6bcf\u4e00\u4e2a babel-plugin-import \u7684\u540d\u79f0\u3002\n\n// \u9519\u8bef\u793a\u4f8b\nexport default {\n  tools: {\n    babel(config, { addPlugins }) {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd', libraryDirectory: 'es' },\n        ],\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd-mobile', libraryDirectory: 'es' },\n        ],\n      ]);\n    },\n  },\n};\n\n\n// \u6b63\u786e\u793a\u4f8b\nexport default {\n  tools: {\n    babel(config, { addPlugins }) {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd', libraryDirectory: 'es' },\n          'antd',\n        ],\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd-mobile', libraryDirectory: 'es' },\n          'antd-mobile',\n        ],\n      ]);\n    },\n  },\n};\n\n\n\nWEBPACK \u7f16\u8bd1\u7f13\u5b58\u672a\u751f\u6548\uff0c\u5e94\u8be5\u5982\u4f55\u6392\u67e5\uff1f\n\nBuilder \u9ed8\u8ba4\u5f00\u542f\u4e86 webpack \u7684\u6301\u4e45\u5316\u7f13\u5b58\u3002\n\n\u9996\u6b21\u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u4f1a\u81ea\u52a8\u751f\u6210\u7f13\u5b58\u6587\u4ef6\uff0c\u5e76\u8f93\u51fa\u5230 ./node_modules/.cache/webpack\n\u76ee\u5f55\u4e0b\u3002\u6267\u884c\u7b2c\u4e8c\u6b21\u7f16\u8bd1\u65f6\uff0c\u4f1a\u547d\u4e2d\u7f13\u5b58\uff0c\u5e76\u5927\u5e45\u5ea6\u63d0\u9ad8\u7f16\u8bd1\u901f\u5ea6\u3002\n\n\u5f53 package.json \u7b49\u914d\u7f6e\u6587\u4ef6\u88ab\u4fee\u6539\u65f6\uff0c\u7f13\u5b58\u4f1a\u81ea\u52a8\u5931\u6548\u3002\n\n\u5982\u679c\u9879\u76ee\u4e2d webpack \u7f16\u8bd1\u7f13\u5b58\u4e00\u76f4\u672a\u751f\u6548\uff0c\u53ef\u4ee5\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\u8fdb\u884c\u6392\u67e5\uff1a\n\nexport default {\n  tools: {\n    webpack(config) {\n      config.infrastructureLogging = {\n        ...config.infrastructureLogging,\n        debug: /webpack\\.cache/,\n      };\n    },\n  },\n};\n\n\n\u6dfb\u52a0\u4ee5\u4e0a\u914d\u7f6e\u540e\uff0cwebpack \u4f1a\u8f93\u51fa\u65e5\u5fd7\u7528\u4e8e debug\uff0c\u8bf7\u53c2\u8003 PackFileCacheStrategy \u76f8\u5173\u7684\u65e5\u5fd7\u6765\u4e86\u89e3\u7f13\u5b58\u5931\u6548\u7684\u539f\u56e0\u3002\n\n\n\u6253\u5305\u540e\u53d1\u73b0 TREE SHAKING \u6ca1\u6709\u751f\u6548\uff1f\n\nBuilder \u5728\u751f\u4ea7\u6784\u5efa\u65f6\u4f1a\u9ed8\u8ba4\u5f00\u542f webpack \u7684 Tree Shaking \u529f\u80fd\uff0cTree Shaking \u662f\u5426\u80fd\u591f\u751f\u6548\uff0c\u53d6\u51b3\u4e8e\u4e1a\u52a1\u4ee3\u7801\u80fd\u5426\u6ee1\u8db3\nwebpack \u7684 Tree Shaking \u6761\u4ef6\u3002\n\n\u5982\u679c\u4f60\u9047\u5230\u4e86 Tree Shaking \u4e0d\u751f\u6548\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u68c0\u67e5\u4e0b\u76f8\u5173 npm \u5305\u7684 sideEffects \u914d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u5982\u679c\u4e0d\u4e86\u89e3 sideEffects\n\u662f\u4ec0\u4e48\uff0c\u53ef\u4ee5\u9605\u8bfb\u4ee5\u4e0b\u4e24\u7bc7\u6587\u6863\uff1a\n\n * webpack \u5b98\u65b9\u6587\u6863 - Tree Shaking\n * Tree Shaking \u95ee\u9898\u6392\u67e5\u6307\u5357\n\n\n\u6253\u5305\u65f6\u51fa\u73b0 JAVASCRIPT HEAP OUT OF MEMORY?\n\n\u8be5\u62a5\u9519\u8868\u793a\u6253\u5305\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u5185\u5b58\u6ea2\u51fa\u95ee\u9898\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u662f\u7531\u4e8e\u6253\u5305\u7684\u5185\u5bb9\u8f83\u591a\uff0c\u8d85\u51fa\u4e86 Node.js \u9ed8\u8ba4\u7684\u5185\u5b58\u4e0a\u9650\u3002\n\n\u5982\u679c\u51fa\u73b0 OOM \u95ee\u9898\uff0c\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u901a\u8fc7\u589e\u52a0\u5185\u5b58\u4e0a\u9650\u6765\u89e3\u51b3\uff0cNode.js \u63d0\u4f9b\u4e86 --max-old-space-size \u9009\u9879\u6765\u5bf9\u6b64\u8fdb\u884c\u8bbe\u7f6e\u3002\u4f60\u53ef\u4ee5\u5728\nCLI \u547d\u4ee4\u524d\u6dfb\u52a0 NODE_OPTIONS \u6765\u8bbe\u7f6e\u6b64\u53c2\u6570\uff1a\n\nNODE_OPTIONS=--max_old_space_size=16384 modern build\n\n\n\u53c2\u6570\u7684\u503c\u4ee3\u8868\u5185\u5b58\u4e0a\u9650\u5927\u5c0f\uff08MB)\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u8bbe\u7f6e\u4e3a 16384\uff0816GB\uff09\u5373\u53ef\u3002\n\nNode.js \u5b98\u65b9\u6587\u6863\u4e2d\u6709\u5bf9\u4ee5\u4e0b\u53c2\u6570\u66f4\u8be6\u7ec6\u7684\u89e3\u91ca\uff1a\n\n * NODE_OPTIONS\n * --max-old-space-size\n\n\u9664\u4e86\u589e\u52a0\u5185\u5b58\u4e0a\u9650\uff0c\u901a\u8fc7\u5f00\u542f\u4e00\u4e9b\u7f16\u8bd1\u7b56\u7565\u6765\u63d0\u5347\u6548\u7387\u4e5f\u662f\u4e00\u4e2a\u89e3\u51b3\u65b9\u6848\u3002\n\n\nLESS \u6587\u4ef6\u4e2d\u7684\u9664\u6cd5\u4e0d\u751f\u6548\uff1f\n\nLess v4 \u7248\u672c\u4e0e v3 \u7248\u672c\u76f8\u6bd4\uff0c\u9664\u6cd5\u7684\u5199\u6cd5\u6709\u4e00\u4e9b\u533a\u522b\uff1a\n\n// Less v3\n.math {\n  width: 2px / 2; // 1px\n  width: 2px ./ 2; // 1px\n  width: (2px / 2); // 1px\n}\n\n// Less v4\n.math {\n  width: 2px / 2; // 2px / 2\n  width: 2px ./ 2; // 1px\n  width: (2px / 2); // 1px\n}\n\n\nBuilder \u5185\u7f6e\u7684 Less \u7248\u672c\u4e3a v4\uff0c\u4f4e\u7248\u672c\u7684\u5199\u6cd5\u4e0d\u4f1a\u751f\u6548\uff0c\u8bf7\u6ce8\u610f\u533a\u5206\u3002\n\nLess \u4e2d\u9664\u6cd5\u7684\u5199\u6cd5\u4e5f\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u9879\u6765\u4fee\u6539\uff0c\u8be6\u89c1 Less - Math\u3002\n\n\n\u4fee\u6539\u914d\u7f6e\u540e\uff0c\u62a5\u9519 \u2018TYPEERROR: CANNOT DELETE PROPERTY 'XXX' OF #<OBJECT>\u2019\n\n\u8be5\u62a5\u9519\u8868\u793a\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u5bf9\u4e00\u4e2a\u53ea\u8bfb\u914d\u7f6e\u9879\u8fdb\u884c\u4e86\u5220\u9664\u64cd\u4f5c\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u5e0c\u671b\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u7684\u4efb\u4f55\u64cd\u4f5c\u4f1a\u76f4\u63a5\u5bf9\u4f20\u5165\u7684\u914d\u7f6e\u8fdb\u884c\u4fee\u6539\uff0c\u4f46\u96be\u4ee5\u9650\u5236\u5e95\u5c42\u63d2\u4ef6\uff08\u5982\npostcss-loader \u7b49\uff09\u7684\u884c\u4e3a\uff0c\u5982\u679c\u51fa\u73b0\u8be5\u62a5\u9519\uff0c\u8bf7\u8054\u7cfb builder \u5f00\u53d1\u4eba\u5458\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u8be5\u914d\u7f6e\u8fdb\u884c\u5355\u72ec\u5904\u7406\u3002\n\n\u540c\u7c7b\u578b\u62a5\u9519\u8fd8\u6709\uff1a\n\n * 'TypeError: Cannot add property xxx, object is not extensible'\n * 'TypeError: Cannot assign to read only property 'xxx' of object '#<Object>'",frontmatter:{}},{id:283,title:"\u529f\u80fd\u7c7b\u95ee\u9898",routePath:"/builder/guide/faq/features",toc:[{id:"\u5982\u4f55\u914d\u7f6e\u7ec4\u4ef6\u5e93\u6309\u9700\u5f15\u5165",text:"\u5982\u4f55\u914d\u7f6e\u7ec4\u4ef6\u5e93\u6309\u9700\u5f15\u5165\uff1f",depth:2},{id:"\u5982\u4f55\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u8fdb\u884c-eslint-\u4ee3\u7801\u6821\u9a8c",text:"\u5982\u4f55\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u8fdb\u884c ESLint \u4ee3\u7801\u6821\u9a8c\uff1f",depth:2},{id:"\u5982\u4f55\u914d\u7f6e\u9759\u6001\u8d44\u6e90\u7684-cdn-\u8def\u5f84",text:"\u5982\u4f55\u914d\u7f6e\u9759\u6001\u8d44\u6e90\u7684 CDN \u8def\u5f84\uff1f",depth:2},{id:"\u5982\u4f55\u6e05\u7a7a-webpack-\u7f16\u8bd1\u7f13\u5b58",text:"\u5982\u4f55\u6e05\u7a7a webpack \u7f16\u8bd1\u7f13\u5b58\uff1f",depth:2},{id:"\u5982\u4f55\u79fb\u9664\u4ee3\u7801\u4e2d\u7684-console",text:"\u5982\u4f55\u79fb\u9664\u4ee3\u7801\u4e2d\u7684 console\uff1f",depth:2}],content:"\u529f\u80fd\u7c7b\u95ee\u9898\n\n\n\u5982\u4f55\u914d\u7f6e\u7ec4\u4ef6\u5e93\u6309\u9700\u5f15\u5165\uff1f\n\n\u5982\u679c\u9700\u8981\u914d\u7f6e\u7ec4\u4ef6\u5e93\u7684\u6309\u9700\u5f15\u5165\uff0c\u53ef\u4ee5\u901a\u8fc7 tools.babel \u914d\u7f6e babel-plugin-import \u63d2\u4ef6\u3002\n\nexport default {\n  tools: {\n    babel: (config, { addPlugins }) => {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          {\n            libraryName: 'xxx-components',\n            libraryDirectory: 'es',\n            style: true,\n          },\n        ],\n      ]);\n    },\n  },\n};\n\n\n\n\u5982\u4f55\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u8fdb\u884c ESLINT \u4ee3\u7801\u6821\u9a8c\uff1f\n\n\u51fa\u4e8e\u7f16\u8bd1\u6027\u80fd\u7684\u8003\u8651\uff0cBuilder \u9ed8\u8ba4\u4e0d\u4f1a\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u8fdb\u884c ESLint \u6821\u9a8c\uff0c\u5982\u679c\u9700\u8981\u8be5\u529f\u80fd\uff0c\u53ef\u4ee5\u624b\u52a8\u5b89\u88c5\u5e76\u6ce8\u518c\u793e\u533a\u4e2d\u7684\neslint-webpack-plugin\u3002\n\n\u6ce8\u518c\u8be5\u63d2\u4ef6\u7684\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a\n\n\n\nexport default {\n  tools: {\n    webpackChain(chain) {\n      chain.plugin('eslint-plugin').use(ESLintPlugin, [\n        {\n          extensions: ['.js', '.ts', '.jsx', 'tsx', '.mjs'],\n        },\n      ]);\n    },\n  },\n};\n\n\n> \u66f4\u8be6\u7ec6\u7684\u7528\u6cd5\u8bf7\u53c2\u8003 eslint-webpack-plugin \u6587\u6863\u3002\n\n\n\u5982\u4f55\u914d\u7f6e\u9759\u6001\u8d44\u6e90\u7684 CDN \u8def\u5f84\uff1f\n\n\u5982\u679c\u9700\u8981\u5c06 JS\u3001CSS \u7b49\u9759\u6001\u8d44\u6e90\u4e0a\u4f20\u5230 CDN \u4f7f\u7528\uff0c\u90a3\u4e48\u53ef\u4ee5\u901a\u8fc7 output.assetPrefix \u914d\u7f6e\u6765\u8bbe\u7f6e\u9759\u6001\u8d44\u6e90\u7684 URL \u524d\u7f00\u3002\n\nexport default {\n  output: {\n    assetPrefix: 'https://cdn.example.com/assets/',\n  },\n};\n\n\n\n\u5982\u4f55\u6e05\u7a7a WEBPACK \u7f16\u8bd1\u7f13\u5b58\uff1f\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u7684 webpack \u7f16\u8bd1\u7f13\u5b58\u751f\u6210\u5728 ./node_modules/.cache/webpack \u76ee\u5f55\u4e0b\u3002\n\n\u5982\u679c\u9700\u8981\u6e05\u7a7a\u672c\u5730\u7684\u7f16\u8bd1\u7f13\u5b58\uff0c\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n\nrm -rf ./node_modules/.cache\n\n\n\n\u5982\u4f55\u79fb\u9664\u4ee3\u7801\u4e2d\u7684 CONSOLE\uff1f\n\n\u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u79fb\u9664\u4ee3\u7801\u4e2d\u7684 console\uff0c\u4ece\u800c\u907f\u514d\u5f00\u53d1\u73af\u5883\u7684\u65e5\u5fd7\u88ab\u8f93\u51fa\u5230\u751f\u4ea7\u73af\u5883\u3002\n\nBuilder \u9ed8\u8ba4\u63d0\u4f9b\u4e86\u79fb\u9664 console \u7684\u914d\u7f6e\u9879\uff0c\u8bf7\u67e5\u770b performance.removeConsole\u3002",frontmatter:{}},{id:284,title:"\u901a\u7528\u7c7b\u95ee\u9898",routePath:"/builder/guide/faq/general",toc:[{id:"modernjs-builder-\u548c-modernjs-\u7684\u5173\u7cfb",text:"Modern.js Builder \u548c Modern.js \u7684\u5173\u7cfb\uff1f",depth:2},{id:"builder-\u80fd\u5426\u7528\u4e8e\u6784\u5efa\u5de5\u5177\u5e93\u6216\u7ec4\u4ef6\u5e93",text:"Builder \u80fd\u5426\u7528\u4e8e\u6784\u5efa\u5de5\u5177\u5e93\u6216\u7ec4\u4ef6\u5e93\uff1f",depth:2},{id:"builder-\u662f\u5426\u4f1a\u63a5\u5165-turbopack",text:"Builder \u662f\u5426\u4f1a\u63a5\u5165 Turbopack\uff1f",depth:2},{id:"builder-\u662f\u5426\u4f1a\u63a5\u5165-vite",text:"Builder \u662f\u5426\u4f1a\u63a5\u5165 Vite\uff1f",depth:2}],content:"\u901a\u7528\u7c7b\u95ee\u9898\n\n\nMODERN.JS BUILDER \u548c MODERN.JS \u7684\u5173\u7cfb\uff1f\n\nModern.js \u7684\u6784\u5efa\u80fd\u529b\u662f\u57fa\u4e8e Modern.js Builder \u5b9e\u73b0\u7684\u3002\n\n\u5728\u5f00\u53d1 Modern.js \u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u628a Builder \u4f5c\u4e3a\u72ec\u7acb\u7684\u6a21\u5757\u8fdb\u884c\u8bbe\u8ba1\uff0c\u5e76\u660e\u786e\u5212\u5206 Builder \u4e0e Modern.js \u7684\u804c\u8d23\u754c\u9650\u3002\n\u56e0\u6b64\uff0cBuilder \u53ef\u4ee5\u8131\u79bb Modern.js \u6846\u67b6\u4f7f\u7528\uff0c\u88ab\u5355\u72ec\u5e94\u7528\u4e8e\u5176\u4ed6\u6846\u67b6\u6216\u573a\u666f\u3002\n\n\nBUILDER \u80fd\u5426\u7528\u4e8e\u6784\u5efa\u5de5\u5177\u5e93\u6216\u7ec4\u4ef6\u5e93\uff1f\n\nBuilder \u4e13\u6ce8\u4e8e\u89e3\u51b3 Web \u5e94\u7528\u6784\u5efa\u573a\u666f\uff0c\u6211\u4eec\u4e0d\u63a8\u8350\u4f60\u4f7f\u7528 Builder \u6765\u6784\u5efa\u5de5\u5177\u5e93\u6216\u7ec4\u4ef6\u5e93\u3002\n\n\u5982\u679c\u9700\u8981\u6784\u5efa\u5de5\u5177\u5e93\u6216\u7ec4\u4ef6\u5e93\uff0c\u63a8\u8350\u4f7f\u7528 Modern.js \u6a21\u5757\u5de5\u7a0b\u65b9\u6848\u3002\n\n\nBUILDER \u662f\u5426\u4f1a\u63a5\u5165 TURBOPACK\uff1f\n\n\u5c3d\u7ba1 Builder \u5df2\u7ecf\u5728\u5bf9\u63a5 rspack\uff0c\u5bf9\u4e8e webpack \u7684\u7ee7\u4efb\u8005 \u2014\u2014 Turbopack\uff0c\u6211\u4eec\u4e5f\u4f1a\u6301\u7eed\u5173\u6ce8\u5b83\u540e\u7eed\u7684\u53d1\u5c55\u60c5\u51b5\u3002\n\n\u76ee\u524d Turbopack \u4ec5\u652f\u6301\u5728 Next.js \u4e2d\u4f7f\u7528\uff0c\u5f53 Turbopack \u652f\u6301\u72ec\u7acb\u4f7f\u7528\uff0c\u5e76\u4e14\u5b8c\u6210\u5ea6\u548c\u793e\u533a\u751f\u6001\u8fbe\u5230\u4e00\u5b9a\u6c34\u5e73\u65f6\uff0c\u6211\u4eec\u4f1a\u8003\u8651\u8fdb\u884c\u63a5\u5165\u3002\n\n\nBUILDER \u662f\u5426\u4f1a\u63a5\u5165 VITE\uff1f\n\nVite \u662f\u4e00\u4e2a\u975e\u5e38\u4f18\u79c0\u7684\u5de5\u5177\uff0c\u4f46 Builder \u7684\u76ee\u6807\u662f\u4f7f\u7528 Rust Bundler \u66ff\u6362 webpack\uff0cRust Builder\n\u80fd\u63d0\u4f9b\u6781\u81f4\u7684\u7f16\u8bd1\u901f\u5ea6\uff0c\u540c\u65f6\u80fd\u4fdd\u6301\u5f00\u53d1\u73af\u5883\u548c\u751f\u4ea7\u73af\u5883\u7684\u6253\u5305\u884c\u4e3a\u4e00\u81f4\u3002\n\nBuilder \u4f1a\u805a\u7126\u4e8e\u4ece webpack \u6f14\u8fdb\u81f3 Rust Builder \u7684\u8fc7\u7a0b\uff0c\u56e0\u6b64\u4e0d\u4f1a\u63a5\u5165 Vite\u3002",frontmatter:{}},{id:285,title:"\u529f\u80fd\u5bfc\u822a",routePath:"/builder/guide/features",toc:[{id:"javascript-\u7f16\u8bd1",text:"JavaScript \u7f16\u8bd1",depth:2},{id:"css-\u7f16\u8bd1",text:"CSS \u7f16\u8bd1",depth:2},{id:"html-\u7f16\u8bd1",text:"HTML \u7f16\u8bd1",depth:2},{id:"\u5f00\u53d1\u8c03\u8bd5\u76f8\u5173",text:"\u5f00\u53d1\u8c03\u8bd5\u76f8\u5173",depth:2},{id:"react-\u76f8\u5173",text:"React \u76f8\u5173",depth:2},{id:"\u9759\u6001\u8d44\u6e90\u76f8\u5173",text:"\u9759\u6001\u8d44\u6e90\u76f8\u5173",depth:2},{id:"\u6027\u80fd\u76f8\u5173",text:"\u6027\u80fd\u76f8\u5173",depth:2}],content:"\u529f\u80fd\u5bfc\u822a\n\n\u5728\u8fd9\u91cc\uff0c\u4f60\u53ef\u4ee5\u4e86\u89e3\u5230 Modern.js Builder \u652f\u6301\u7684\u4e3b\u8981\u529f\u80fd\u3002\n\n\nJAVASCRIPT \u7f16\u8bd1\n\n| \u529f\u80fd | \u63cf\u8ff0 | \u76f8\u5173\u94fe\u63a5 | | --------------- |\n--------------------------------------------------------------------------------\n----- |\n--------------------------------------------------------------------------------\n--------------------------------------------------------------------------------\n---------------------------------------------------- | | Babel \u7f16\u8bd1 | \u9ed8\u8ba4\u5f00\u542f Babel\n\u7f16\u8bd1\uff0c\u5c06 JavaScript \u548c TypeScript \u4ee3\u7801\u8f6c\u6362\u4e3a\u5411\u540e\u517c\u5bb9\u7684 JavaScript \u8bed\u6cd5 | tools.babel | | TS \u7f16\u8bd1 |\n\u9ed8\u8ba4\u901a\u8fc7 Babel \u7f16\u8bd1 TS \u6587\u4ef6\uff0c\u652f\u6301\u5207\u6362\u4e3a ts-loader \u7f16\u8bd1 | TypeScript \u8f6c\u8bd1tools.babeltools.tsLoader\n| | TS \u7c7b\u578b\u68c0\u67e5 | \u9ed8\u8ba4\u901a\u8fc7 TS Checker \u68c0\u67e5\u7c7b\u578b\u95ee\u9898 | \u7c7b\u578b\u68c0\u67e5tools.tsChecker | | JS \u538b\u7f29 |\n\u9ed8\u8ba4\u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u65f6\u5f00\u542f\u538b\u7f29 | tools.terser | | Polyfill \u6ce8\u5165 | \u9ed8\u8ba4\u4f1a\u6ce8\u5165 core-js \u7b49 Polyfill |\n\u6d4f\u89c8\u5668\u517c\u5bb9\u6027output.polyfill | | SourceMap \u751f\u6210 | \u9ed8\u8ba4\u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u65f6\u751f\u6210\u9ad8\u8d28\u91cf SourceMap |\noutput.disableSourceMap | | \u6587\u4ef6\u522b\u540d | \u53ef\u9009\u529f\u80fd\uff0c\u901a\u8fc7 alias \u8bbe\u7f6e\u6587\u4ef6\u522b\u540d | \u8def\u5f84\u522b\u540dsource.alias | |\n\u9650\u5236\u6e90\u4ee3\u7801\u8def\u5f84 | \u53ef\u9009\u529f\u80fd\uff0c\u9650\u5236\u6e90\u4ee3\u7801\u7684\u5f15\u7528\u8def\u5f84 | source.moduleScopes | | esbuild \u7f16\u8bd1 | \u53ef\u9009\u529f\u80fd\uff0c\u901a\u8fc7 esbuild\n\u5bf9 JavaScript \u548c TypeScript \u4ee3\u7801\u8fdb\u884c\u8f6c\u8bd1\u548c\u538b\u7f29 | esbuild \u63d2\u4ef6 | | SWC \u7f16\u8bd1 | \u53ef\u9009\u529f\u80fd\uff0c\u901a\u8fc7 SWC \u5bf9\nJavaScript \u548c TypeScript \u4ee3\u7801\u8fdb\u884c\u8f6c\u8bd1\u548c\u538b\u7f29 | SWC \u63d2\u4ef6 | | Node \u4ea7\u7269 | \u53ef\u9009\u529f\u80fd\uff0c\u652f\u6301\u6784\u5efa\u51fa\u8fd0\u884c\u5728 Node.js\n\u73af\u5883\u7684 JavaScript \u4ea7\u7269 | Node \u4ea7\u7269 | | Web Worker \u4ea7\u7269 | \u53ef\u9009\u529f\u80fd\uff0c\u652f\u6301\u6784\u5efa\u51fa\u8fd0\u884c\u5728 Web Worker \u73af\u5883\u7684\nJavaScript \u4ea7\u7269 | Web Worker \u4ea7\u7269 | | \u6d4f\u89c8\u5668\u8303\u56f4 | \u53ef\u9009\u529f\u80fd\uff0c\u901a\u8fc7 browserslist \u6765\u8bbe\u7f6e Web\n\u5e94\u7528\u9700\u8981\u517c\u5bb9\u7684\u6d4f\u89c8\u5668\u8303\u56f4 | \u6d4f\u89c8\u5668\u8303\u56f4 |\n\n\nCSS \u7f16\u8bd1\n\n| \u529f\u80fd | \u63cf\u8ff0 | \u76f8\u5173\u94fe\u63a5 | | -------------------- |\n--------------------------------------------------- |\n--------------------------------------------------------------------------------\n--------------------------------------------------------------------------------\n--------------------------------------------- | | PostCSS \u7f16\u8bd1 | \u9ed8\u8ba4\u5f00\u542f PostCSS\n\u7f16\u8bd1\uff0c\u5185\u7f6e autoprefixer \u7b49\u591a\u4e2a\u63d2\u4ef6 | \u5f15\u7528\u6837\u5f0f\u8d44\u6e90tools.postcsstools.autoprefixer | | Sass \u9884\u5904\u7406 |\n\u9ed8\u8ba4\u652f\u6301\u7f16\u8bd1 Sass/Scss \u6587\u4ef6 | \u5f15\u7528\u6837\u5f0f\u8d44\u6e90tools.sass | | Less \u9884\u5904\u7406 | \u9ed8\u8ba4\u652f\u6301\u7f16\u8bd1 Less \u6587\u4ef6 |\n\u5f15\u7528\u6837\u5f0f\u8d44\u6e90tools.less | | Stylus \u9884\u5904\u7406 | \u53ef\u9009\u529f\u80fd\uff0c\u7f16\u8bd1 Stylus \u6587\u4ef6 | Stylus \u63d2\u4ef6 | | CSS Modules\n\u7f16\u8bd1 | \u9ed8\u8ba4\u652f\u6301\u7f16\u8bd1 CSS Modules \u6587\u4ef6 | \u4f7f\u7528 CSS Modulestools.cssLoader | | CSS Modules \u7c7b\u578b\u63d0\u793a\n| \u53ef\u9009\u529f\u80fd\uff0c\u81ea\u52a8\u751f\u6210 CSS Modules \u7684\u7c7b\u578b\u5b9a\u4e49\u6587\u4ef6 | \u4f7f\u7528 CSS ModulesenableCssModuleTSDeclaration | |\nCSS \u538b\u7f29 | \u9ed8\u8ba4\u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u65f6\u5f00\u542f\u538b\u7f29 | \u5f15\u7528\u6837\u5f0f\u8d44\u6e90tools.minifyCss | | \u62bd\u53d6 CSS \u6587\u4ef6 | \u9ed8\u8ba4\u4f1a\u5c06 CSS\n\u62bd\u53d6\u4e3a\u72ec\u7acb\u7684\u6587\u4ef6 | tools.cssExtract | | Styled Components | \u9ed8\u8ba4\u652f\u6301 styled-components \u7f16\u8bd1 |\ntools.styledComponents | | \u5185\u8054 CSS \u5230 JS \u4e2d | \u53ef\u9009\u529f\u80fd\uff0c\u5c06 CSS \u6587\u4ef6\u5185\u8054\u5230 JS \u6587\u4ef6\u4e2d |\n\u5f15\u7528\u6837\u5f0f\u8d44\u6e90output.disableCssExtract |\n\n\nHTML \u7f16\u8bd1\n\n| \u529f\u80fd | \u63cf\u8ff0 | \u76f8\u5173\u94fe\u63a5 | | ----------------- | ------------------------------- |\n--------------------------------------------------------------------------------\n--------------------------------------------------------------------------------\n--------------------------------------------------------------- | | \u8bbe\u7f6e\u6807\u9898 | \u8bbe\u7f6e\nHTML \u7684 title \u6807\u7b7e | \u8bbe\u7f6e\u9875\u9762\u6807\u9898html.titlehtml.titleByEntries | | \u8bbe\u7f6e meta | \u8bbe\u7f6e HTML \u7684\nmeta \u6807\u7b7e | \u8bbe\u7f6e meta \u6807\u7b7ehtml.metahtml.metaByEntries | | \u8bbe\u7f6e favicon | \u8bbe\u7f6e\u9875\u9762\u7684 favicon\n\u56fe\u6807 | \u8bbe\u7f6e\u9875\u9762\u56fe\u6807html.faviconhtml.faviconByEntries | | \u8bbe\u7f6e app \u56fe\u6807 | \u8bbe\u7f6e iOS \u7cfb\u7edf\u4e0b\u7684 apple\nicon | \u8bbe\u7f6e\u9875\u9762\u56fe\u6807html.appIcon | | \u4f7f\u7528 EJS \u6a21\u677f\u5f15\u64ce | \u53ef\u9009\u529f\u80fd\uff0c\u4f7f\u7528 EJS \u6a21\u677f\u8bed\u6cd5 | \u6a21\u677f\u5f15\u64ce - EJS | | \u4f7f\u7528\nPug \u6a21\u677f\u5f15\u64ce | \u53ef\u9009\u529f\u80fd\uff0c\u4f7f\u7528 Pug \u6a21\u677f\u8bed\u6cd5 | \u6a21\u677f\u5f15\u64ce - Pug | | \u5185\u8054 JS \u6587\u4ef6 | \u53ef\u9009\u529f\u80fd\uff0c\u5c06 JS \u5185\u8054\u5230 HTML \u4e2d |\n\u9759\u6001\u8d44\u6e90\u5185\u8054output.enableInlineScripts | | \u5185\u8054 CSS \u6587\u4ef6 | \u53ef\u9009\u529f\u80fd\uff0c\u5c06 CSS \u5185\u8054\u5230 HTML \u4e2d |\n\u9759\u6001\u8d44\u6e90\u5185\u8054output.enableInlineStyles |\n\n\n\u5f00\u53d1\u8c03\u8bd5\u76f8\u5173\n\n| \u529f\u80fd | \u63cf\u8ff0 | \u76f8\u5173\u94fe\u63a5 | | ---------------- |\n-------------------------------------------------------- |\n---------------------------------------------------------------------- | |\n\u81ea\u52a8\u6253\u5f00\u9875\u9762 | \u53ef\u9009\u529f\u80fd\uff0c\u5728\u542f\u52a8 Dev Server \u65f6\u81ea\u52a8\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u9875\u9762 URL | dev.startUrl | | HTTPS Dev\nServer | \u53ef\u9009\u529f\u80fd\uff0c\u5f00\u542f Dev Server \u5bf9 HTTPS \u7684\u652f\u6301 | dev.https |\n\n\nREACT \u76f8\u5173\n\n| \u529f\u80fd | \u63cf\u8ff0 | \u76f8\u5173\u94fe\u63a5 | | ----------------- |\n---------------------------------------- |\n--------------------------------------------------------------------------------\n--------------------------------------------------------------------- | | React\nRefresh | \u9ed8\u8ba4\u652f\u6301 React Refresh \u70ed\u66f4\u65b0 | \u6a21\u5757\u70ed\u66ff\u6362dev.hmr | | SVG \u8f6c React \u7ec4\u4ef6 | \u9ed8\u8ba4\u652f\u6301\u5728 React\n\u7ec4\u4ef6\u4e2d\u5f15\u7528 SVG \u4f5c\u4e3a\u7ec4\u4ef6 | \u5f15\u7528 SVG \u8d44\u6e90output.svgDefaultExport |\n\n\n\u9759\u6001\u8d44\u6e90\u76f8\u5173\n\n| \u529f\u80fd | \u63cf\u8ff0 | \u76f8\u5173\u94fe\u63a5 | | ------------------ |\n---------------------------------------------- |\n--------------------------------------------------------------------------------\n---------------------------------------------------------------------- | |\n\u5f15\u7528\u56fe\u7247\u8d44\u6e90 | \u652f\u6301\u5728\u4ee3\u7801\u4e2d\u5f15\u7528\u56fe\u7247\u8d44\u6e90 | \u5f15\u7528\u9759\u6001\u8d44\u6e90 | | \u5f15\u7528\u5b57\u4f53\u8d44\u6e90 | \u652f\u6301\u5728\u4ee3\u7801\u4e2d\u5f15\u7528\u5b57\u4f53\u8d44\u6e90 | \u5f15\u7528\u9759\u6001\u8d44\u6e90 | | \u5f15\u7528\u89c6\u9891\u8d44\u6e90 |\n\u652f\u6301\u5728\u4ee3\u7801\u4e2d\u5f15\u7528\u89c6\u9891\u8d44\u6e90 | \u5f15\u7528\u9759\u6001\u8d44\u6e90 | | \u9759\u6001\u8d44\u6e90\u5185\u8054 | \u9ed8\u8ba4\u5c06\u4f53\u79ef\u8f83\u5c0f\u7684\u56fe\u7247\u7b49\u8d44\u6e90\u5185\u8054\u5230 JS \u4e2d |\n\u9759\u6001\u8d44\u6e90\u5185\u8054output.dataUriLimit | | \u6e05\u7406\u9759\u6001\u8d44\u6e90 | \u6bcf\u6b21\u5f00\u59cb\u6784\u5efa\u524d\uff0c\u81ea\u52a8\u6e05\u7406 dist \u76ee\u5f55\u4e0b\u7684\u9759\u6001\u8d44\u6e90 |\noutput.cleanDistPath | | \u62f7\u8d1d\u9759\u6001\u8d44\u6e90 | \u53ef\u9009\u529f\u80fd\uff0c\u5c06\u9759\u6001\u8d44\u6e90\u62f7\u8d1d\u5230 dist \u76ee\u5f55\u4e0b | output.copy | | \u751f\u6210\nmanifest \u6587\u4ef6 | \u53ef\u9009\u529f\u80fd\uff0c\u751f\u6210\u5305\u542b\u9759\u6001\u8d44\u6e90\u4fe1\u606f\u7684 manifest \u6587\u4ef6 | output.enableAssetManifest |\n\n\n\u6027\u80fd\u76f8\u5173\n\n| \u529f\u80fd | \u63cf\u8ff0 | \u76f8\u5173\u94fe\u63a5 | | ------------------- |\n-------------------------------------------------------------- |\n--------------------------------------------------------------------------------\n-------------------------------------------------------------------------------\n| | \u4ea7\u7269\u81ea\u52a8\u62c6\u5305 | Builder \u4e2d\u5185\u7f6e\u4e86\u591a\u79cd\u62c6\u5305\u7b56\u7565\uff0c\u81ea\u52a8\u5c06\u4ee3\u7801\u5305\u62c6\u5206\u4e3a\u4f53\u79ef\u9002\u4e2d\u7684\u6587\u4ef6 | \u62c6\u5305\u6700\u4f73\u5b9e\u8df5performance.chunkSplit\n| | \u5c55\u793a\u4ea7\u7269\u4f53\u79ef | \u5728\u751f\u4ea7\u73af\u5883\u6784\u5efa\u540e\uff0c\u9ed8\u8ba4\u5c55\u793a\u6240\u6709\u9759\u6001\u8d44\u6e90\u7684\u4f53\u79ef\u4fe1\u606f | performance.printFileSize | | \u5206\u6790\u4ea7\u7269\u4f53\u79ef |\n\u53ef\u9009\u529f\u80fd\uff0c\u901a\u8fc7 Bundle Analyzer \u5206\u6790\u4ea7\u7269\u4f53\u79ef | performance.bundleAnalyze | | \u79fb\u9664 console |\n\u53ef\u9009\u529f\u80fd\uff0c\u79fb\u9664\u4ee3\u7801\u4e2d\u7684 console.xx | performance.removeConsole | | \u4f18\u5316 moment.js \u4f53\u79ef | \u53ef\u9009\u529f\u80fd\uff0c\u79fb\u9664\nmoment.js \u591a\u4f59\u7684 locale \u6587\u4ef6 | performance.removeMomentLocale |",frontmatter:{}},{id:286,title:"\u540d\u8bcd\u89e3\u91ca",routePath:"/builder/guide/glossary",toc:[{id:"bundler-1",text:"Bundler",depth:2},{id:"rspack-1",text:"Rspack",depth:2},{id:"builder-1",text:"Builder",depth:2},{id:"builder-provider-1",text:"Builder Provider",depth:2},{id:"modern_js-1",text:"{MODERN_JS}",depth:2},{id:"edenx-1",text:"EdenX",depth:2}],content:"\u540d\u8bcd\u89e3\u91ca\n\n\nBUNDLER\n\n\u6307 webpack\u3001turbopack\u3001rspack \u7b49\u6a21\u5757\u6253\u5305\u5de5\u5177\u3002\n\n\u6253\u5305\u5de5\u5177\u7684\u4e3b\u8981\u76ee\u6807\u662f\u5c06 JavaScript\u3001CSS \u7b49\u6587\u4ef6\u6253\u5305\u5728\u4e00\u8d77\uff0c\u6253\u5305\u540e\u7684\u6587\u4ef6\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u3001Node.js \u7b49\u73af\u5883\u4e2d\u4f7f\u7528\u3002\u5f53 Bundler \u5904\u7406 Web\n\u5e94\u7528\u65f6\uff0c\u5b83\u4f1a\u6784\u5efa\u4e00\u4e2a\u4f9d\u8d56\u5173\u7cfb\u56fe\uff0c\u5176\u4e2d\u5305\u542b\u5e94\u7528\u9700\u8981\u7684\u5404\u4e2a\u6a21\u5757\uff0c\u7136\u540e\u5c06\u6240\u6709\u6a21\u5757\u6253\u5305\u6210\u4e00\u4e2a\u6216\u591a\u4e2a bundle\u3002\n\n\nRSPACK\n\n\u5b57\u8282\u8df3\u52a8 Web Infra \u56e2\u961f\u81ea\u7814\u7684 Rust Bundler\uff0c\u6838\u5fc3\u67b6\u6784\u5bf9\u9f50 webpack\n\u5b9e\u73b0\uff0c\u5e76\u5bf9\u793e\u533a\u5e38\u7528\u7684\u6784\u5efa\u80fd\u529b\u505a\u4e86\u5f00\u7bb1\u5373\u7528\u7684\u652f\u6301\u3002\u4ece\u957f\u671f\u6765\u770b\uff0crspack \u4f1a\u5bf9\u9f50 webpack \u7684\u4e3b\u8981 API\uff0c\u517c\u5bb9\u4e3b\u6d41\u7684 webpack loader \u4e0e\nplugin \u751f\u6001\uff0c\u4ee5\u4fdd\u8bc1\u5f00\u53d1\u8005\u53ef\u4ee5\u5e73\u6ed1\u5730\u4ece webpack \u8fc1\u79fb\u5230 rspack\u3002\n\nRspack \u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u6765\u63d0\u5347\u7f16\u8bd1\u6027\u80fd\uff1a\n\n * \u9ad8\u5ea6 LTO \u4f18\u5316\u7684 Native code\u3002\n * \u5145\u5206\u5229\u7528\u591a\u6838\u4f18\u52bf\uff0c\u6574\u4e2a\u7f16\u8bd1\u8fc7\u7a0b\u5145\u5206\u8fdb\u884c\u591a\u7ebf\u7a0b\u4f18\u5316\u3002\n * \u57fa\u4e8e\u8bf7\u6c42\u7684\u6309\u9700\u7f16\u8bd1\uff08Lazy Compilation\uff09\uff0c\u51cf\u5c0f\u6bcf\u6b21\u7f16\u8bd1\u7684\u6a21\u5757\u6570\u76ee\uff0c\u4ee5\u63d0\u5347\u51b7\u542f\u52a8\u7684\u901f\u5ea6\u3002\n\nRspack \u76ee\u524d\u4ecd\u5728\u7814\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u5c1a\u672a\u5f00\u6e90\u3002\n\n\nBUILDER\n\nBuilder \u53ef\u4ee5\u7ffb\u8bd1\u4e3a\u300c\u6784\u5efa\u5f15\u64ce\u300d\uff0cBuilder \u7684\u76ee\u6807\u662f\u300c\u590d\u7528\u6784\u5efa\u5de5\u5177\u7684\u6700\u4f73\u5b9e\u8df5\u300d\u3002\n\n\u56e0\u4e3a webpack \u7b49 Bundler \u662f\u6bd4\u8f83\u5e95\u5c42\u7684\uff0c\u5982\u679c\u6211\u4eec\u57fa\u4e8e webpack \u6765\u6784\u5efa\u4e00\u4e2a\u9879\u76ee\uff0c\u9700\u8981\u5145\u5206\u7406\u89e3 webpack\n\u7684\u5404\u4e2a\u914d\u7f6e\u9879\u548c\u4e09\u65b9\u63d2\u4ef6\uff0c\u5e76\u8fdb\u884c\u5927\u91cf\u7684\u914d\u7f6e\u7ec4\u88c5\u548c\u6027\u80fd\u8c03\u4f18\u7b49\u5de5\u4f5c\u3002\n\nBuilder \u6bd4 Bundler \u7684\u5c01\u88c5\u7a0b\u5ea6\u66f4\u9ad8\uff0c\u9ed8\u8ba4\u96c6\u6210\u4ee3\u7801\u8f6c\u6362\u3001\u4ee3\u7801\u538b\u7f29\u7b49\u80fd\u529b\u3002\u901a\u8fc7\u63a5\u5165 Builder\uff0c\u53ef\u4ee5\u5feb\u901f\u83b7\u5f97\u6784\u5efa Web \u5e94\u7528\u7684\u80fd\u529b\u3002\n\nBuilder \u5185\u90e8\u7684\u5206\u5c42\u5982\u4e0b\uff1a\n\n\n\n\nBUILDER PROVIDER\n\nBuilder Provider \u662f Builder \u7684\u7ec4\u6210\u90e8\u5206\u4e4b\u4e00\uff0cProvider \u57fa\u4e8e\u7279\u5b9a bundler \u5b9e\u73b0\u4e86\u5bf9\u5e94\u7684\u6784\u5efa\u80fd\u529b\u3002\n\n\u76ee\u524d Builder \u63d0\u4f9b\u4e86\u4e24\u4e2a Provider\uff1a\n\n * @modern-js/builder-webpack-provider\uff1a\u5e95\u5c42\u57fa\u4e8e webpack \u6765\u5b9e\u73b0\u3002\n * @modern-js/builder-rspack-provider\uff1a\u5e95\u5c42\u57fa\u4e8e rspack \u6765\u5b9e\u73b0\u3002\n\n\n{MODERN_JS}\n\nWeb \u5de5\u7a0b\u65b9\u6848\u3002\n\n{MODERN_JS} \u7531\u5b57\u8282\u8df3\u52a8 Web Infra \u56e2\u961f\u5f00\u6e90\uff0c\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217 Web \u5f00\u53d1\u7684\u6700\u4f73\u5de5\u7a0b\u5b9e\u8df5\uff0c\u5982\u524d\u540e\u7aef\u4e00\u4f53\u5316\u3001\u7ea6\u5b9a\u5f0f\u8def\u7531\u3001\u6784\u5efa\u65b9\u6848\u3001\u6837\u5f0f\u65b9\u6848\u7b49\u3002\n\n * {MODERN_JS} \u4ee3\u7801\u4ed3\u5e93\u3002\n\n\nEDENX\n\n\u5b57\u8282\u8df3\u52a8\u5185\u90e8\u7684 Web \u5de5\u7a0b\u65b9\u6848\uff0c\u57fa\u4e8e {MODERN_JS} \u5b9e\u73b0\u3002",frontmatter:{}},{id:287,title:"\u4ecb\u7ecd",routePath:"/builder/guide/introduction",toc:[{id:"rust-\u5316",text:"Rust \u5316",depth:2},{id:"\u5b9a\u4f4d",text:"\u5b9a\u4f4d",depth:2},{id:"\u7279\u6027",text:"\u7279\u6027",depth:2},{id:"\u652f\u6301\u591a\u79cd\u6253\u5305\u5de5\u5177",text:"\u652f\u6301\u591a\u79cd\u6253\u5305\u5de5\u5177",depth:3},{id:"\u6df1\u5ea6\u4f18\u5316\u6784\u5efa\u4ea7\u7269",text:"\u6df1\u5ea6\u4f18\u5316\u6784\u5efa\u4ea7\u7269",depth:3},{id:"\u6613\u4e8e\u6269\u5c55\u7684\u63d2\u4ef6\u7cfb\u7edf",text:"\u6613\u4e8e\u6269\u5c55\u7684\u63d2\u4ef6\u7cfb\u7edf",depth:3},{id:"npm-\u5305",text:"npm \u5305",depth:2},{id:"\u4e0b\u4e00\u6b65",text:"\u4e0b\u4e00\u6b65",depth:2}],content:"\u4ecb\u7ecd\n\nModern.js Builder \u662f\u4e00\u4e2a\u9762\u5411 Web \u5f00\u53d1\u573a\u666f\u7684\u6784\u5efa\u5f15\u64ce\u3002\n\n\u968f\u7740\u524d\u7aef\u751f\u6001\u7684\u53d1\u5c55\uff0c\u793e\u533a\u4e2d\u51fa\u73b0\u4e86\u591a\u6837\u5316\u7684\u7f16\u8bd1\u5de5\u5177\u548c\u63d2\u4ef6\u3002\u5bf9\u4e8e\u5927\u90e8\u5206\u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u6784\u5efa\u4e00\u4e2a Web\n\u5e94\u7528\u6240\u9700\u7684\u914d\u7f6e\u548c\u4f9d\u8d56\u5df2\u53d8\u5f97\u5341\u5206\u590d\u6742\u3002\u5728\u8ffd\u6c42\u6700\u4f73\u5b9e\u8df5\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5f00\u53d1\u8005\u9700\u8981\u4ed8\u51fa\u7684\u6210\u672c\u4e5f\u5728\u4e0d\u65ad\u4e0a\u5347\u3002\n\n\u4e3a\u4e86\u51cf\u5c11\u6784\u5efa\u7684\u590d\u6742\u6027\uff0c\u964d\u4f4e\u4e0a\u624b\u95e8\u69db\uff0c\u6211\u4eec\u57fa\u4e8e Modern.js \u5728 Web \u5e94\u7528\u6784\u5efa\u65b9\u9762\u7684\u5b9e\u8df5\u7ecf\u9a8c\uff0c\u62bd\u8c61\u5176\u4e2d\u7684\u6784\u5efa\u80fd\u529b\uff0c\u6253\u9020\u51fa Modern.js\nBuilder \u8fd9\u4e2a\u5f00\u6e90\u5de5\u5177\u3002\n\n\nRUST \u5316\n\n\u8fd1\u5e74\u6765\uff0c\u524d\u7aef\u5de5\u5177\u94fe\u7684\u53d1\u5c55\u8d8b\u52bf\u662f\u4f7f\u7528 Rust \u7b49\u7f16\u7a0b\u8bed\u8a00\u91cd\u65b0\u5b9e\u73b0 \u2014\u2014 \u4ee5\u83b7\u5f97\u66f4\u597d\u7684\u6027\u80fd\u8868\u73b0\u3002\u793e\u533a\u4e2d\u51fa\u73b0 SWC\u3001esbuild\u3001Turbopack\n\u7b49\u9ad8\u6027\u80fd\u5de5\u5177\uff0c\u5e76\u4e14\u5e94\u7528\u9886\u57df\u5728\u9010\u6b65\u6269\u5bbd\u3002\u4f46\u8fd9\u4e9b Rust \u5de5\u5177\u4e0e JavaScript\n\u5de5\u5177\u4e4b\u95f4\u5b58\u5728\u8f83\u591a\u5dee\u5f02\uff0c\u5305\u62ec\u529f\u80fd\u4e0d\u5b8c\u6574\u3001\u914d\u7f6e\u4e0d\u4e00\u81f4\u7b49\uff0c\u5bfc\u81f4\u4f7f\u7528\u8005\u9700\u8981\u627f\u62c5\u4e00\u5b9a\u7684\u8fc1\u79fb\u6210\u672c\u3002\n\n\u524d\u7aef\u5de5\u5177\u94fe Rust \u5316\u7684\u8fdb\u7a0b\u8fd8\u4f1a\u6301\u7eed\u8f83\u957f\u4e00\u6bb5\u65f6\u95f4\uff0cModern.js Builder \u671f\u671b\u80fd\u5e2e\u52a9\u5f00\u53d1\u8005\u66f4\u597d\u5730\u8fc7\u6e21\u5230 Rust \u5de5\u5177\u3002\u4e0d\u7ba1\u662f\nJavaScript \u5de5\u5177\uff0c\u8fd8\u662f Rust \u5de5\u5177\uff0c\u751a\u81f3\u662f webpack \u7b49\u5e95\u5c42 bundler\uff0c\u5728 Modern.js Builder\n\u4e2d\u90fd\u662f\u53ef\u66ff\u6362\u7684\u96f6\u90e8\u4ef6\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u5f00\u542f\u914d\u7f6e\u6216\u542f\u7528\u63d2\u4ef6\u7684\u65b9\u5f0f\uff0c\u5bf9\u8fd9\u4e9b\u96f6\u90e8\u4ef6\u8fdb\u884c\u6e10\u8fdb\u5f0f\u66ff\u6362\uff0cModern.js Builder\n\u4f1a\u62b9\u5e73\u5176\u4e2d\u7684\u4e3b\u8981\u5dee\u5f02\uff0c\u5e2e\u52a9\u4f7f\u7528\u8005\u8fdb\u884c\u4f4e\u6210\u672c\u8fc1\u79fb\u3002\n\n\n\u5b9a\u4f4d\n\nModern.js Builder (\u7b80\u79f0 Builder) \u7684\u5b9a\u4f4d\u662f\u670d\u52a1\u4e8e\u4e0a\u5c42\u6846\u67b6\u7684\u6784\u5efa\u5f15\u64ce\uff0c\u5b83\u4e13\u6ce8\u4e8e\u89e3\u51b3 Web\n\u5e94\u7528\u6784\u5efa\u9762\u4e34\u7684\u5404\u7c7b\u95ee\u9898\uff0c\u671f\u671b\u80fd\u4e3a\u524d\u7aef\u6846\u67b6\u63d0\u4f9b\u5f00\u7bb1\u5373\u7528\u7684\u6784\u5efa\u80fd\u529b\u3002\n\n<img\nsrc=\"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp\n/builder-layers-1117.png\" style={{ maxWidth: '80%', marginLeft: '10%' }} />\n\n\u5982\u679c\u4f60\u6b63\u5728\u5f00\u53d1\u4e00\u4e2a\u524d\u7aef\u6846\u67b6\uff0c\u6216\u662f\u5f00\u53d1\u4e00\u4e2a\u524d\u7aef\u5e94\u7528\u7684\u811a\u624b\u67b6\uff0c\u90a3\u4e48 Builder \u53ef\u4ee5\u4e3a\u4f60\u5b8c\u6210\u524d\u7aef\u6846\u67b6\u4e2d\u5927\u90e8\u5206\u4e0e\u6784\u5efa\u6709\u5173\u7684\u903b\u8f91\uff0c\u8ba9\u4f60\u80fd\u591f\u805a\u7126\u4e8e\u5b9e\u73b0\u6846\u67b6\u7684\u5176\u4ed6\u529f\u80fd\u3002\n\n\u5982\u679c\u4f60\u662f\u4e00\u540d\u4e1a\u52a1\u5f00\u53d1\u8005\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u4f60\u4e0d\u9700\u8981\u5728\u4e1a\u52a1\u9879\u76ee\u4e2d\u624b\u52a8\u63a5\u5165 Builder\uff0c\u6211\u4eec\u63a8\u8350\u4f60\u76f4\u63a5\u4f7f\u7528\u4e00\u4e9b\u57fa\u4e8e Builder \u7684\u4e0a\u5c42\u6846\u67b6\u3002\n\n\u76ee\u524d\u5df2\u7ecf\u63a5\u5165 Builder \u7684\u524d\u7aef\u6846\u67b6\u6709\uff1a\n\n * \u5f00\u6e90\u7684 {MODERN_JS} \u6846\u67b6\u3002\n * \u5b57\u8282\u8df3\u52a8\u5185\u90e8\u7684 EdenX\u3001PIA \u7b49\u6846\u67b6\u3002\n\n\n\u7279\u6027\n\n\n\u652f\u6301\u591a\u79cd\u6253\u5305\u5de5\u5177\n\n\u5728\u67b6\u6784\u4e0a\uff0cBuilder \u652f\u6301\u591a\u79cd\u6253\u5305\u5de5\u5177\uff0c\u4f7f\u7528\u8005\u53ef\u4ee5\u6839\u636e\u81ea\u8eab\u9700\u6c42\u6765\u4f7f\u7528\u4e0d\u540c\u7684\u6253\u5305\u5de5\u5177\u3002\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4f7f\u7528 webpack 5 \u4f5c\u4e3a\u6253\u5305\u5de5\u5177\uff0c\u5c3d\u7ba1 webpack\n\u7684\u7f16\u8bd1\u901f\u5ea6\u4e0d\u662f\u5f88\u7406\u60f3\uff0c\u4f46\u5b83\u4f9d\u7136\u662f\u793e\u533a\u4e2d\u529f\u80fd\u6700\u5b8c\u6574\u3001\u751f\u6001\u6700\u4e30\u5bcc\u7684\u6253\u5305\u5de5\u5177\u3002Builder \u5728 webpack \u7684\u57fa\u7840\u4e0a\uff0c\u96c6\u6210\u4e86\nbabel\u3001postcss\u3001terser \u7b49\u5de5\u5177\u8fdb\u884c\u4ee3\u7801\u8f6c\u4e49\u548c\u538b\u7f29\u3002Builder \u4e5f\u652f\u6301\u66ff\u6362\u90e8\u5206\u7f16\u8bd1\u80fd\u529b\u4e3a\u539f\u751f\u5de5\u5177\u6765\u63d0\u5347\u7f16\u8bd1\u901f\u5ea6\uff0c\u6bd4\u5982\u5c06\nbabel/terser \u66ff\u6362\u4e3a swc \u6216 esbuild\u3002\n\n\u9664\u4e86 webpack \u6253\u5305\uff0cBuilder \u4e5f\u6b63\u5728\u5bf9\u63a5\u5b57\u8282\u8df3\u52a8 Web Infra \u56e2\u961f\u81ea\u7814\u7684 Rust Bundler \u2014\u2014\nrspack\uff0c\u4ee5\u63d0\u4f9b\u66f4\u5feb\u7684\u7f16\u8bd1\u901f\u5ea6\u3002\n\n\u76ee\u524d\uff0cBuilder \u57fa\u4e8e webpack \u7684\u6784\u5efa\u5df2\u7ecf\u6210\u719f\u53ef\u7528\uff0c\u57fa\u4e8e rspack \u7684\u6784\u5efa\u4ecd\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u656c\u8bf7\u671f\u5f85\u3002\n\n:::tip \u5173\u4e8e Turbopack \u5c3d\u7ba1 Builder \u5df2\u7ecf\u5728\u5bf9\u63a5 rspack\uff0c\u5bf9\u4e8e webpack \u7684\u7ee7\u4efb\u8005 \u2014\u2014\nTurbopack\uff0c\u6211\u4eec\u4e5f\u4f1a\u6301\u7eed\u5173\u6ce8\u5b83\u540e\u7eed\u7684\u53d1\u5c55\u60c5\u51b5\u3002\n\n\u76ee\u524d Turbopack \u4ec5\u652f\u6301\u5728 Next.js \u4e2d\u4f7f\u7528\uff0c\u5f53 Turbopack \u652f\u6301\u72ec\u7acb\u4f7f\u7528\uff0c\u5e76\u4e14\u5b8c\u6210\u5ea6\u548c\u793e\u533a\u751f\u6001\u8fbe\u5230\u4e00\u5b9a\u6c34\u5e73\u65f6\uff0c\u6211\u4eec\u4f1a\u8003\u8651\u8fdb\u884c\u63a5\u5165\u3002\n:::\n\n\n\u6df1\u5ea6\u4f18\u5316\u6784\u5efa\u4ea7\u7269\n\nBuilder \u5145\u5206\u5229\u7528 webpack \u751f\u6001\u5185\u7684\u5404\u79cd\u4f18\u5316\u624b\u6bb5\uff0c\u4fdd\u8bc1\u751f\u4ea7\u73af\u5883\u7684\u4ea7\u7269\u6027\u80fd\u5f97\u5230\u6df1\u5ea6\u4f18\u5316\uff0c\u5e76\u5728\u7a33\u5b9a\u6027\u4e0a\u63d0\u4f9b\u4fdd\u969c\u3002\n\n\u4ee5\u62c6\u5305\u573a\u666f\u4e3a\u4f8b\uff0cwebpack \u539f\u751f\u7684 splitChunks \u914d\u7f6e\u8f83\u4e3a\u590d\u6742\uff0cBuilder \u5c06\u5176\u5c01\u88c5\u4e3a\u5f00\u7bb1\u5373\u7528\u7684 performance.chunkSplit\n\u914d\u7f6e\u9879\uff0c\u9ed8\u8ba4\u5c06\u5e38\u89c1\u7684\u4e09\u65b9\u5e93\u62c6\u5206\u4e3a\u4f53\u79ef\u9002\u4e2d\u7684 chunk\uff0c\u4f7f\u9875\u9762\u52a0\u8f7d\u901f\u5ea6\u8fbe\u5230\u6700\u4f18\u72b6\u6001\u3002\n\n\n\u6613\u4e8e\u6269\u5c55\u7684\u63d2\u4ef6\u7cfb\u7edf\n\nBuilder \u63d0\u4f9b\u4e30\u5bcc\u7684\u914d\u7f6e\u9879\u548c\u53ef\u63d2\u62d4\u7684\u63d2\u4ef6\u7cfb\u7edf\uff0c\u652f\u6301\u5bf9\u5404\u9879\u80fd\u529b\u8fdb\u884c\u6269\u5c55\u548c\u5b9a\u5236\u3002\n\n\u5bf9\u4e8e Builder \u6765\u8bf4\uff0c\u6240\u6709\u7684\u6784\u5efa\u80fd\u529b\u90fd\u662f\u901a\u8fc7\u63d2\u4ef6\u6765\u5b9e\u73b0\u7684\uff1a\n\n * \u5927\u90e8\u5206\u63d2\u4ef6\u8f83\u4e3a\u8f7b\u91cf\uff0c\u88ab\u5185\u7f6e\u5728 Builder \u5185\u90e8\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u9879\u6765\u63a7\u5236\u542f\u7528\u3002\n * \u5c11\u90e8\u5206\u63d2\u4ef6\u8f83\u4e3a\u590d\u6742\uff0c\u88ab\u5916\u7f6e\u4e3a\u72ec\u7acb npm \u5305\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u6309\u9700\u8fdb\u884c\u5b89\u88c5\u548c\u4f7f\u7528\u3002\n\nBuilder \u4e5f\u652f\u6301\u81ea\u5b9a\u4e49\u63d2\u4ef6\uff0c\u56e0\u6b64\u6846\u67b6\u5f00\u53d1\u8005\u53ef\u4ee5\u5f00\u53d1\u81ea\u5b9a\u4e49\u7684\u63d2\u4ef6\uff0c\u5b9e\u73b0\u5b9a\u5236\u5316\u7684\u6784\u5efa\u9700\u6c42\u3002\n\n\nNPM \u5305\n\nBuilder \u5df2\u53d1\u5e03\u7684 npm \u5305\u6709\uff1a\n\n| \u5305\u540d | \u7248\u672c | \u63cf\u8ff0 | |\n--------------------------------------------------------------------------------\n---------------------------------- |\n--------------------------------------------------------------------------------\n------------ | ---------------------- | | @modern-js/builder | | Builder \u6838\u5fc3\u5305 | |\n@modern-js/builder-webpack-provider | | \u63d0\u4f9b webpack \u6784\u5efa\u80fd\u529b | |\n@modern-js/builder-rspack-provider | | \u63d0\u4f9b rspack \u6784\u5efa\u80fd\u529b | |\n@modern-js/builder-plugin-swc | | SWC \u63d2\u4ef6 | | @modern-js/builder-plugin-stylus |\n| Stylus \u63d2\u4ef6 | | @modern-js/builder-plugin-esbuild | | Esbuild \u63d2\u4ef6 | |\n@modern-js/builder-plugin-node-polyfill | | Node Polyfill \u63d2\u4ef6 | |\n@modern-js/builder-plugin-image-compress | | Image Compress \u63d2\u4ef6 | |\n@modern-js/builder-shared | | Builder \u5185\u90e8\u7684\u516c\u5171\u6a21\u5757 | | @modern-js/builder-doc | |\n\u63d0\u4f9b\u53ef\u590d\u7528\u7684\u6587\u6863\u7247\u6bb5 |\n\n\u4f60\u53ef\u4ee5\u5728 modern.js \u4ed3\u5e93\u7684 packages/builder \u76ee\u5f55\u4e0b\u67e5\u770b\u8fd9\u4e9b\u5305\u7684\u6e90\u4ee3\u7801\u3002\n\n\n\u4e0b\u4e00\u6b65\n\n\u4f60\u53ef\u80fd\u60f3\u8981\uff1a",frontmatter:{}},{id:288,title:"\u63d0\u5347\u6784\u5efa\u6027\u80fd",routePath:"/builder/guide/optimization/build-performance",toc:[{id:"\u901a\u7528\u4f18\u5316\u7b56\u7565",text:"\u901a\u7528\u4f18\u5316\u7b56\u7565",depth:2},{id:"\u5347\u7ea7-nodejs-\u7248\u672c",text:"\u5347\u7ea7 Node.js \u7248\u672c",depth:3},{id:"\u4f7f\u7528-swc-\u6216-esbuild-\u7f16\u8bd1",text:"\u4f7f\u7528 SWC \u6216 esbuild \u7f16\u8bd1",depth:3},{id:"\u907f\u514d\u4f7f\u7528-ts-loader",text:"\u907f\u514d\u4f7f\u7528 ts-loader",depth:3},{id:"\u5f00\u53d1\u73af\u5883\u4f18\u5316\u7b56\u7565",text:"\u5f00\u53d1\u73af\u5883\u4f18\u5316\u7b56\u7565",depth:2},{id:"\u5f00\u542f\u5ef6\u8fdf\u7f16\u8bd1",text:"\u5f00\u542f\u5ef6\u8fdf\u7f16\u8bd1",depth:3},{id:"\u8c03\u6574-source-map-\u683c\u5f0f",text:"\u8c03\u6574 Source Map \u683c\u5f0f",depth:3},{id:"\u8c03\u6574-browserslist-\u8303\u56f4",text:"\u8c03\u6574 Browserslist \u8303\u56f4",depth:3},{id:"\u751f\u4ea7\u73af\u5883\u4f18\u5316\u7b56\u7565",text:"\u751f\u4ea7\u73af\u5883\u4f18\u5316\u7b56\u7565",depth:2},{id:"\u7981\u7528-source-map",text:"\u7981\u7528 Source Map",depth:3}],content:'\u63d0\u5347\u6784\u5efa\u6027\u80fd\n\nModern.js Builder \u9ed8\u8ba4\u5bf9\u6784\u5efa\u6027\u80fd\u8fdb\u884c\u4e86\u5145\u5206\u4f18\u5316\uff0c\u4f46\u662f\u968f\u7740\u4e1a\u52a1\u573a\u666f\u53d8\u590d\u6742\u3001\u9879\u76ee\u4ee3\u7801\u91cf\u53d8\u5927\uff0c\u4f60\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u4e9b\u6784\u5efa\u6027\u80fd\u7684\u95ee\u9898\u3002\n\n\u672c\u6587\u6863\u63d0\u4f9b\u4e86\u4e00\u4e9b\u53ef\u9009\u7684\u63d0\u901f\u7b56\u7565\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u573a\u666f\u9009\u53d6\u5176\u4e2d\u7684\u90e8\u5206\u7b56\u7565\uff0c\u4ece\u800c\u8fdb\u4e00\u6b65\u63d0\u5347\u6784\u5efa\u901f\u5ea6\u3002\n\n:::tip \ud83d\udce2 \u6ce8\u610f \u5728\u4f18\u5316\u4ea7\u7269\u4f53\u79ef\u4e00\u6587\u4e2d\u4ecb\u7ecd\u7684\u7b56\u7565\u4e5f\u53ef\u4ee5\u7528\u4e8e\u63d0\u5347\u6784\u5efa\u6027\u80fd\uff0c\u8fd9\u91cc\u4e0d\u518d\u91cd\u590d\u4ecb\u7ecd\u3002 :::\n\n\n\u901a\u7528\u4f18\u5316\u7b56\u7565\n\n\u4ee5\u4e0b\u662f\u4e00\u4e9b\u901a\u7528\u7684\u4f18\u5316\u7b56\u7565\uff0c\u5bf9\u5f00\u53d1\u73af\u5883\u548c\u751f\u4ea7\u73af\u5883\u5747\u6709\u63d0\u901f\u6548\u679c\uff0c\u5176\u4e2d\u90e8\u5206\u7b56\u7565\u5bf9\u5305\u4f53\u79ef\u4e5f\u6709\u4f18\u5316\u3002\n\n\n\u5347\u7ea7 NODE.JS \u7248\u672c\n\n\u901a\u5e38\u6765\u8bf4\uff0c\u5c06 Node.js \u66f4\u65b0\u5230\u6700\u65b0\u7684 LTS \u7248\u672c\uff0c\u6709\u52a9\u4e8e\u63d0\u5347\u6784\u5efa\u6027\u80fd\u3002\n\n\u5c24\u5176\u662f\u5bf9\u4e8e Apple M1/M2 \u82af\u7247\u7684\u673a\u578b\uff0c\u63a8\u8350\u4f7f\u7528 Node 16 \u6216 Node 18 \u8fdb\u884c\u6784\u5efa\u3002\n\nNode 16 \u9ed8\u8ba4\u63d0\u4f9b\u4e86 Apple Silicon binaries\uff0c\u56e0\u6b64\u5728 M1/M2 \u673a\u578b\u4e0a\u6027\u80fd\u4f1a\u6bd4 Node 14 \u6709\u5927\u5e45\u5ea6\u63d0\u5347\u3002\u6839\u636e\u6211\u4eec\u7684\u6d4b\u8bd5\uff0c\u4ece\nNode 14 \u5207\u6362\u5230 Node 16 \u540e\uff0c\u7f16\u8bd1\u901f\u5ea6\u53ef\u4ee5\u63d0\u5347 100% \u4ee5\u4e0a\u3002\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u6765\u5207\u6362\u5230 Node 16\uff1a\n\n# \u5b89\u88c5 Node.js v16\nnvm install 16\n\n# \u5207\u6362\u5230 Node 16\nnvm use 16\n\n# \u5c06 Node 16 \u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u7248\u672c\nnvm default 16\n\n# \u67e5\u770b Node \u7248\u672c\nnode -v\n\n\n\n\u4f7f\u7528 SWC \u6216 ESBUILD \u7f16\u8bd1\n\nSWC (Speedy Web Compiler) \u662f\u57fa\u4e8e Rust \u8bed\u8a00\u7f16\u5199\u7684\u9ad8\u6027\u80fd JavaScript \u548c TypeScript \u8f6c\u8bd1\u548c\u538b\u7f29\u5de5\u5177\u3002\u5728\nPolyfill \u548c\u8bed\u6cd5\u964d\u7ea7\u65b9\u9762\u53ef\u4ee5\u548c Babel \u63d0\u4f9b\u4e00\u81f4\u7684\u80fd\u529b\uff0c\u5e76\u4e14\u6027\u80fd\u6bd4 Babel \u9ad8\u51fa\u4e00\u4e2a\u6570\u91cf\u7ea7\u3002\n\nesbuild \u662f\u4e00\u6b3e\u57fa\u4e8e Golang \u5f00\u53d1\u7684\u524d\u7aef\u6784\u5efa\u5de5\u5177\uff0c\u5177\u6709\u6253\u5305\u3001\u7f16\u8bd1\u548c\u538b\u7f29 JavaScript \u4ee3\u7801\u7684\u529f\u80fd\uff0c\u76f8\u6bd4\u4f20\u7edf\u7684\u6253\u5305\u7f16\u8bd1\u5de5\u5177\uff0cesbuild\n\u5728\u6027\u80fd\u4e0a\u6709\u663e\u8457\u63d0\u5347\u3002\n\nBuilder \u63d0\u4f9b\u4e86 SWC \u63d2\u4ef6\u548c esbuild \u63d2\u4ef6\uff0c\u8ba9\u4f60\u80fd\u4f7f\u7528 SWC \u6216 esbuild \u4ee3\u66ff babel-loader\u3001ts-loader \u548c\nterser \u7b49\u5e93\u8fdb\u884c\u4ee3\u7801\u7f16\u8bd1\u548c\u538b\u7f29\u3002\u8be6\u89c1\uff1a\n\n * SWC \u63d2\u4ef6\u6587\u6863\n * esbuild \u63d2\u4ef6\u6587\u6863\n\n:::tip SWC vs esbuild SWC \u7f16\u8bd1\u4ea7\u7269\u7684\u517c\u5bb9\u6027\u8f83\u597d\uff0c\u652f\u6301\u6ce8\u5165 core-js \u7b49 Polyfill\uff0c\u5e76\u4e14\u529f\u80fd\u66f4\u52a0\u5b8c\u5907\uff0c\u56e0\u6b64\u63a8\u8350\u4f18\u5148\u4f7f\u7528\nSWC \u63d2\u4ef6\u3002 :::\n\n\n\u907f\u514d\u4f7f\u7528 TS-LOADER\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4f7f\u7528 Babel \u7f16\u8bd1 TS \u6587\u4ef6\uff0c\u5f00\u542f tools.tsLoader \u9009\u9879\u540e\uff0c\u4f1a\u4f7f\u7528 ts-loader \u7f16\u8bd1 TS \u6587\u4ef6\u3002\n\n\u7531\u4e8e ts-loader \u9700\u8981\u8fdb\u884c\u989d\u5916\u7684\u8bed\u6cd5\u89e3\u6790\u548c\u7c7b\u578b\u68c0\u67e5\uff0c\u56e0\u6b64\u4f1a\u5bfc\u81f4\u9879\u76ee\u6784\u5efa\u901f\u5ea6\u53d8\u6162\uff0c\u8bf7\u907f\u514d\u4f7f\u7528\u3002\n\nexport default {\n  tools: {\n    // \u79fb\u9664\u8fd9\u9879\u914d\u7f6e\n    tsLoader: {},\n  },\n};\n\n\n\u8be6\u89c1 tools.tsLoader \u6587\u6863\u3002\n\n\n\u5f00\u53d1\u73af\u5883\u4f18\u5316\u7b56\u7565\n\n\u4ee5\u4e0b\u662f\u9488\u5bf9\u5f00\u53d1\u73af\u5883\u8fdb\u884c\u63d0\u901f\u7684\u7b56\u7565\u3002\n\n\n\u5f00\u542f\u5ef6\u8fdf\u7f16\u8bd1\n\n\u4f60\u53ef\u4ee5\u5f00\u542f\u5ef6\u8fdf\u7f16\u8bd1\uff08\u5373\u6309\u9700\u7f16\u8bd1\uff09\u529f\u80fd\uff0c\u6765\u63d0\u5347\u7f16\u8bd1\u542f\u52a8\u901f\u5ea6\u3002\n\nexport default {\n  experiments: {\n    lazyCompilation: {\n      imports: true,\n      entries: false,\n    },\n  },\n};\n\n\n\u8fd9\u662f\u4e00\u9879\u5b9e\u9a8c\u6027\u529f\u80fd\uff0c\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\u53ef\u80fd\u65e0\u6cd5\u6b63\u786e\u5de5\u4f5c\uff0c\u8bf7\u67e5\u770b experiments.lazyCompilation \u6765\u4e86\u89e3\u5177\u4f53\u7528\u6cd5\u3002\n\n\n\u8c03\u6574 SOURCE MAP \u683c\u5f0f\n\n\u4e3a\u4e86\u63d0\u4f9b\u826f\u597d\u7684\u8c03\u8bd5\u4f53\u9a8c\uff0cBuilder \u5728\u5f00\u53d1\u73af\u5883\u4e0b\u9ed8\u8ba4\u4f7f\u7528 cheap-module-source-map \u683c\u5f0f Source Map\uff0c\u8fd9\u662f\u4e00\u79cd\u9ad8\u8d28\u91cf\u7684\nSource Map \u683c\u5f0f\uff0c\u4f1a\u5e26\u6765\u4e00\u5b9a\u7684\u6027\u80fd\u5f00\u9500\u3002\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574\u5f00\u53d1\u73af\u5883\u7684 Source Map \u683c\u5f0f\u6765\u63d0\u5347\u6784\u5efa\u901f\u5ea6\u3002\n\n\u6bd4\u5982\u7981\u7528 Source Map\uff1a\n\nexport default {\n  tools: {\n    webpackChain(chain, { env }) {\n      if (env === \'development\') {\n        chain.devtool(false);\n      }\n    },\n  },\n};\n\n\n\u6216\u662f\u628a\u5f00\u53d1\u73af\u5883\u7684 Source Map \u683c\u5f0f\u8bbe\u7f6e\u4e3a\u5f00\u9500\u6700\u5c0f\u7684 eval \u683c\u5f0f\uff1a\n\nexport default {\n  tools: {\n    webpackChain(chain, { env }) {\n      if (env === \'development\') {\n        chain.devtool(\'eval\');\n      }\n    },\n  },\n};\n\n\n> \u5173\u4e8e\u4e0d\u540c Source Map \u683c\u5f0f\u4e4b\u95f4\u7684\u8be6\u7ec6\u5dee\u5f02\uff0c\u8bf7\u67e5\u770b webpack - devtool\u3002\n\n\n\u8c03\u6574 BROWSERSLIST \u8303\u56f4\n\n\u8fd9\u9879\u4f18\u5316\u7684\u539f\u7406\u4e0e\u300c\u63d0\u5347 Browserslist \u8303\u56f4\u300d\u7c7b\u4f3c\uff0c\u533a\u522b\u5728\u4e8e\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a\u5f00\u53d1\u73af\u5883\u548c\u751f\u4ea7\u73af\u5883\u8bbe\u7f6e\u4e0d\u540c\u7684\nbrowserslist\uff0c\u4ece\u800c\u51cf\u5c11\u5f00\u53d1\u73af\u5883\u4e0b\u7684\u7f16\u8bd1\u5f00\u9500\u3002\n\n\u6bd4\u5982\uff0c\u4f60\u53ef\u4ee5\u5728 package.json \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\uff0c\u8868\u793a\u5728\u5f00\u53d1\u73af\u5883\u4e0b\u53ea\u517c\u5bb9\u6700\u65b0\u7684\u6d4f\u89c8\u5668\uff0c\u5728\u751f\u4ea7\u73af\u5883\u4e0b\u517c\u5bb9\u5b9e\u9645\u9700\u8981\u7684\u6d4f\u89c8\u5668\uff1a\n\n{\n  "browserslist": {\n    "production": [">0.2%", "not dead", "not op_mini all"],\n    "development": [\n      "last 1 chrome version",\n      "last 1 firefox version",\n      "last 1 safari version"\n    ]\n  }\n}\n\n\n\u6ce8\u610f\uff0c\u8fd9\u9879\u4f18\u5316\u7b56\u7565\u4f1a\u5bfc\u81f4\u5f00\u53d1\u73af\u5883\u4e0e\u751f\u4ea7\u73af\u5883\u7684\u6784\u5efa\u4ea7\u7269\u5b58\u5728\u4e00\u5b9a\u5dee\u5f02\u3002\n\n\n\u751f\u4ea7\u73af\u5883\u4f18\u5316\u7b56\u7565\n\n\u4ee5\u4e0b\u662f\u9488\u5bf9\u751f\u4ea7\u73af\u5883\u8fdb\u884c\u63d0\u901f\u7684\u7b56\u7565\u3002\n\n\n\u7981\u7528 SOURCE MAP\n\n\u5982\u679c\u9879\u76ee\u5728\u751f\u4ea7\u73af\u5883\u4e0b\u4e0d\u9700\u8981 Source Map\uff0c\u53ef\u4ee5\u901a\u8fc7 disableSourceMap \u914d\u7f6e\u9879\u5173\u95ed\uff0c\u4ece\u800c\u63d0\u5347 build \u6784\u5efa\u7684\u901f\u5ea6\u3002\n\nexport default {\n  output: {\n    disableSourceMap: true,\n  },\n};\n\n\n\u8be6\u89c1 output.disableSourceMap\u3002',frontmatter:{}},{id:289,title:"\u9759\u6001\u8d44\u6e90\u5185\u8054",routePath:"/builder/guide/optimization/inline-assets",toc:[{id:"\u81ea\u52a8\u5185\u8054",text:"\u81ea\u52a8\u5185\u8054",depth:2},{id:"\u5f3a\u5236\u5185\u8054",text:"\u5f3a\u5236\u5185\u8054",depth:2},{id:"\u4ece-css-\u6587\u4ef6\u4e2d\u5f15\u7528",text:"\u4ece CSS \u6587\u4ef6\u4e2d\u5f15\u7528",depth:3},{id:"\u5f3a\u5236\u4e0d\u5185\u8054",text:"\u5f3a\u5236\u4e0d\u5185\u8054",depth:2},{id:"\u4ece-css-\u6587\u4ef6\u4e2d\u5f15\u7528-1",text:"\u4ece CSS \u6587\u4ef6\u4e2d\u5f15\u7528",depth:3},{id:"\u5185\u8054-js-\u6587\u4ef6",text:"\u5185\u8054 JS \u6587\u4ef6",depth:2},{id:"\u5185\u8054-css-\u6587\u4ef6-1",text:"\u5185\u8054 CSS \u6587\u4ef6",depth:2},{id:"\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e-5",text:"\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e",depth:2}],content:"\u9759\u6001\u8d44\u6e90\u5185\u8054\n\n\u9759\u6001\u8d44\u6e90\u5185\u8054\u662f\u4e00\u79cd\u4f18\u5316\u7f51\u9875\u6027\u80fd\u7684\u65b9\u6cd5\uff0c\u5b83\u6307\u7684\u662f\u5c06\u9759\u6001\u8d44\u6e90\u76f4\u63a5\u5185\u8054\u5230 HTML \u6216 JS\n\u6587\u4ef6\u4e2d\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u5916\u90e8\u6587\u4ef6\u5f15\u7528\u7684\u65b9\u5f0f\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\u51cf\u5c11\u4e86\u6d4f\u89c8\u5668\u53d1\u8d77\u7684\u8bf7\u6c42\u6570\uff0c\u4ece\u800c\u63d0\u9ad8\u9875\u9762\u7684\u52a0\u8f7d\u901f\u5ea6\u3002\n\n\u4e0d\u8fc7\uff0c\u9759\u6001\u8d44\u6e90\u5185\u8054\u4e5f\u6709\u4e00\u4e9b\u7f3a\u70b9\uff0c\u6bd4\u5982\u589e\u52a0\u4e86\u5355\u4e2a\u6587\u4ef6\u7684\u4f53\u79ef\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u52a0\u8f7d\u53d8\u6162\u3002\u6240\u4ee5\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u9700\u8981\u6839\u636e\u5177\u4f53\u60c5\u51b5\u6765\u51b3\u5b9a\u662f\u5426\u4f7f\u7528\u9759\u6001\u8d44\u6e90\u5185\u8054\u3002\n\nBuilder \u9ed8\u8ba4\u4f1a\u81ea\u52a8\u5185\u8054\u4f53\u79ef\u5c0f\u4e8e 10KB\n\u7684\u9759\u6001\u8d44\u6e90\uff0c\u4f46\u6709\u65f6\u5019\u4f60\u53ef\u80fd\u9700\u8981\u624b\u52a8\u63a7\u5236\u67d0\u4e9b\u7279\u6b8a\u8d44\u6e90\uff0c\u8ba9\u5176\u5f3a\u5236\u5185\u8054\u6216\u8005\u5f3a\u5236\u4e0d\u5185\u8054\uff0c\u8fd9\u7bc7\u6587\u6863\u9610\u8ff0\u4e86\u5982\u4f55\u8fdb\u884c\u7cbe\u786e\u5730\u63a7\u5236\u9759\u6001\u8d44\u6e90\u5185\u8054\u884c\u4e3a\u3002\n\n\n\u81ea\u52a8\u5185\u8054\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5f53\u56fe\u7247\u3001\u5b57\u4f53\u3001\u5a92\u4f53\u7b49\u7c7b\u578b\u7684\u6587\u4ef6\u4f53\u79ef\u5c0f\u4e8e\u9608\u503c\uff08\u9ed8\u8ba4\u4e3a 10KB\uff09\u65f6\uff0cBuilder \u4f1a\u5c06\u8d44\u6e90\u8fdb\u884c\u5185\u8054\u5904\u7406\uff0c\u8d44\u6e90\u5185\u8054\u540e\uff0c\u4f1a\u88ab\u8f6c\u6362\u6210\u4e00\u4e2a Base64\n\u7f16\u7801\u7684\u5b57\u7b26\u4e32\uff0c\u4e0d\u518d\u4f1a\u53d1\u9001\u72ec\u7acb\u7684 HTTP \u8bf7\u6c42\u3002\u5f53\u6587\u4ef6\u4f53\u79ef\u5927\u4e8e\u6216\u7b49\u4e8e\u8be5\u9608\u503c\u65f6\uff0c\u5219\u4f1a\u88ab\u4f5c\u4e3a\u5355\u72ec\u7684\u8d44\u6e90\u6587\u4ef6\uff0c\u901a\u8fc7\u72ec\u7acb\u7684 HTTP \u8bf7\u6c42\u6765\u52a0\u8f7d\u3002\n\n\u81ea\u52a8\u5185\u8054\u7684\u4f53\u79ef\u9608\u503c\u53ef\u4ee5\u901a\u8fc7 output.dataUriLimit \u914d\u7f6e\u9879\u4fee\u6539\u3002\u4f8b\u5982\uff0c\u4fee\u6539\u56fe\u7247\u8d44\u6e90\u7684\u9608\u503c\u4e3a 5000 \u5b57\u8282\uff0c\u8bbe\u7f6e\u89c6\u9891\u8d44\u6e90\u4e0d\u5185\u8054\uff1a\n\nexport default {\n  output: {\n    dataUriLimit: {\n      image: 5000,\n      media: 0,\n    },\n  },\n};\n\n\n\n\u5f3a\u5236\u5185\u8054\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u5728\u5f15\u5165\u8d44\u6e90\u65f6\u6dfb\u52a0 inline URL \u53c2\u6570\u6765\u5f3a\u5236\u5185\u8054\u8be5\u8d44\u6e90\uff0c\u65e0\u8bba\u8be5\u8d44\u6e90\u7684\u4f53\u79ef\u662f\u5426\u5c0f\u4e8e\u9608\u503c\u3002\n\n\n\n\nexport default function Foo() {\n  return <img src={img} />;\n}\n\n\n\u5728\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0cfoo.png \u56fe\u7247\u5c06\u59cb\u7ec8\u88ab\u5185\u8054\uff0c\u65e0\u8bba\u8be5\u56fe\u7247\u7684\u5927\u5c0f\u662f\u5426\u5927\u4e8e\u9608\u503c\u3002\n\n\u9664\u4e86 inline \u53c2\u6570\u4ee5\u5916\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 __inline \u53c2\u6570\u6765\u5f3a\u5236\u5185\u8054\u8be5\u8d44\u6e90\uff1a\n\n\n\n\n\u4ece CSS \u6587\u4ef6\u4e2d\u5f15\u7528\n\n\u5f53\u4f60\u5728 CSS \u6587\u4ef6\u4e2d\u5f15\u7528\u9759\u6001\u8d44\u6e90\u65f6\uff0c\u540c\u6837\u53ef\u4ee5\u901a\u8fc7 inline \u6216 __inline \u53c2\u6570\u6765\u5f3a\u5236\u5185\u8054\u8d44\u6e90\u3002\n\n.foo {\n  background-image: url('./icon.png?inline');\n}\n\n\n:::tip \u4f60\u771f\u7684\u9700\u8981\u5f3a\u5236\u5185\u8054\u5417\uff1f \u5185\u8054\u4f53\u79ef\u8fc7\u5927\u7684\u8d44\u6e90\u65f6\uff0c\u4f1a\u663e\u8457\u589e\u52a0\u9875\u9762\u7684\u767d\u5c4f\u65f6\u95f4\u6216\u9996\u6b21\u53ef\u4ea4\u4e92\u65f6\u95f4\uff0c\u8fd9\u4f1a\u635f\u5bb3\u7528\u6237\u4f53\u9a8c\u3002\u5e76\u4e14\u5f53\u4f60\u5c06\u4e00\u4e2a\u9759\u6001\u8d44\u6e90\u591a\u6b21\u5185\u8054\u5230 CSS\n\u6587\u4ef6\u4e2d\u65f6\uff0cbase64 \u5185\u5bb9\u4f1a\u91cd\u590d\u6ce8\u5165\uff0c\u5bfc\u81f4\u4ea7\u7269\u4f53\u79ef\u589e\u5927\u3002\u56e0\u6b64\uff0c\u8bf7\u914c\u60c5\u4f7f\u7528\u5f3a\u5236\u5185\u8054\u3002 :::\n\n\n\u5f3a\u5236\u4e0d\u5185\u8054\n\n\u5f53\u4f60\u60f3\u628a\u4e00\u4e9b\u8d44\u6e90\u59cb\u7ec8\u4f5c\u4e3a\u5355\u72ec\u7684\u8d44\u6e90\u6587\u4ef6\u6765\u5904\u7406\uff0c\u65e0\u8bba\u8be5\u8d44\u6e90\u7684\u4f53\u79ef\u591a\u5c0f\u65f6\uff0c\u4f60\u53ef\u4ee5\u6dfb\u52a0 url URL \u53c2\u6570\u6765\u5f3a\u5236\u4e0d\u5185\u8054\u8be5\u8d44\u6e90\u3002\n\n\n\n\nexport default function Foo() {\n  return <img src={img} />;\n}\n\n\n\u5728\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0cfoo.png \u56fe\u7247\u5c06\u59cb\u7ec8\u901a\u8fc7\u5355\u72ec\u7684\u8d44\u6e90\u6587\u4ef6\u52a0\u8f7d\uff0c\u65e0\u8bba\u8be5\u56fe\u7247\u7684\u5927\u5c0f\u662f\u5426\u5c0f\u4e8e\u9608\u503c\u3002\n\n\u9664\u4e86 url \u53c2\u6570\u4ee5\u5916\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 __inline=false \u53c2\u6570\u6765\u5f3a\u5236\u4e0d\u5185\u8054\u8be5\u8d44\u6e90\uff1a\n\n\n\n\n\u4ece CSS \u6587\u4ef6\u4e2d\u5f15\u7528\n\n\u5f53\u4f60\u5728 CSS \u6587\u4ef6\u4e2d\u5f15\u7528\u9759\u6001\u8d44\u6e90\u65f6\uff0c\u540c\u6837\u53ef\u4ee5\u901a\u8fc7 url \u6216 __inline=false \u53c2\u6570\u6765\u5f3a\u5236\u4e0d\u5185\u8054\u8d44\u6e90\u3002\n\n.foo {\n  background-image: url('./icon.png?url');\n}\n\n\n:::tip \u4f60\u771f\u7684\u9700\u8981\u628a\u8d44\u6e90\u6392\u9664\u5185\u8054\u5417\uff1f \u5c06\u8d44\u6e90\u6392\u9664\u5185\u8054\u5c06\u589e\u52a0 Web App \u9700\u8981\u52a0\u8f7d\u7684\u8d44\u6e90\u6570\u91cf\uff0c\u8fd9\u5bf9\u4e8e\u5f31\u7f51\u73af\u5883\uff0c\u6216\u662f\u672a\u5f00\u542f HTTP2\n\u7684\u573a\u666f\u4e0b\uff0c\u5c06\u4f1a\u964d\u4f4e\u8d44\u6e90\u52a0\u8f7d\u6548\u7387\uff0c\u56e0\u6b64\uff0c\u8bf7\u914c\u60c5\u4f7f\u7528\u5f3a\u5236\u4e0d\u5185\u8054\u3002 :::\n\n\n\u5185\u8054 JS \u6587\u4ef6\n\n\u9664\u4e86\u5c06\u9759\u6001\u8d44\u6e90\u6587\u4ef6\u5185\u8054\u5230 JS \u6587\u4ef6\u91cc\uff0cBuilder \u4e5f\u652f\u6301\u5c06 JS \u6587\u4ef6\u5185\u8054\u5230 HTML \u6587\u4ef6\u4e2d\u3002\n\n\u53ea\u9700\u8981\u5f00\u542f output.enableInlineScripts \u914d\u7f6e\u9879\uff0c\u6784\u5efa\u751f\u6210\u7684 JS \u6587\u4ef6\u5c06\u4e0d\u4f1a\u88ab\u5199\u5165\u4ea7\u7269\u76ee\u5f55\u4e0b\uff0c\u800c\u662f\u4f1a\u76f4\u63a5\u5185\u8054\u5230\u5bf9\u5e94\u7684 HTML\n\u6587\u4ef6\u4e2d\u3002\n\nexport default {\n  output: {\n    enableInlineScripts: true,\n  },\n};\n\n\n\u5185\u8054 JS \u6587\u4ef6\u53ef\u80fd\u4f1a\u5bfc\u81f4 HTML \u5355\u6587\u4ef6\u4f53\u79ef\u8fc7\u5927\uff0c\u5e76\u4e14\u4e0d\u5229\u4e8e\u9759\u6001\u8d44\u6e90\u7f13\u5b58\uff0c\u8bf7\u914c\u60c5\u4f7f\u7528\u3002\n\n\n\u5185\u8054 CSS \u6587\u4ef6\n\n\u4f60\u4e5f\u53ef\u4ee5\u5c06 CSS \u6587\u4ef6\u5185\u8054\u5230 HTML \u6587\u4ef6\u4e2d\u3002\n\n\u53ea\u9700\u8981\u5f00\u542f output.enableInlineStyles \u914d\u7f6e\u9879\uff0c\u6784\u5efa\u751f\u6210\u7684 CSS \u6587\u4ef6\u5c06\u4e0d\u4f1a\u88ab\u5199\u5165\u4ea7\u7269\u76ee\u5f55\u4e0b\uff0c\u800c\u662f\u4f1a\u76f4\u63a5\u5185\u8054\u5230\u5bf9\u5e94\u7684 HTML\n\u6587\u4ef6\u4e2d\u3002\n\nexport default {\n  output: {\n    enableInlineStyles: true,\n  },\n};\n\n\n\n\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\n\n\u5f53\u4f60\u5728 TypeScript \u4ee3\u7801\u4e2d\u4f7f\u7528 ?inline \u548c ?url \u7b49 URL \u53c2\u6570\u65f6\uff0cTypeScript \u53ef\u80fd\u4f1a\u63d0\u793a\u8be5\u6a21\u5757\u7f3a\u5c11\u7c7b\u578b\u5b9a\u4e49\uff1a\n\nTS2307: Cannot find module './logo.png?inline' or its corresponding type declarations.\n\n\n\u6b64\u65f6\u4f60\u9700\u8981\u4e3a\u8fd9\u4e9b URL \u53c2\u6570\u6dfb\u52a0\u7c7b\u578b\u58f0\u660e\uff0c\u8bf7\u5728\u9879\u76ee\u4e2d\u521b\u5efa src/global.d.ts \u6587\u4ef6\uff0c\u5e76\u6dfb\u52a0\u4ee5\u4e0b\u7c7b\u578b\u58f0\u660e\uff1a\n\ndeclare module '*?inline' {\n  const content: string;\n  export default content;\n}\n\ndeclare module '*?inline' {\n  const content: string;\n  export default content;\n}\n\ndeclare module '*?__inline' {\n  const content: string;\n  export default content;\n}\n\ndeclare module '*?inline=false' {\n  const content: string;\n  export default content;\n}\n",frontmatter:{}},{id:290,title:"\u4ea7\u7269\u4f53\u79ef\u4f18\u5316",routePath:"/builder/guide/optimization/optimize-bundle",toc:[{id:"\u51cf\u5c11\u91cd\u590d\u4f9d\u8d56",text:"\u51cf\u5c11\u91cd\u590d\u4f9d\u8d56",depth:2},{id:"\u4f7f\u7528\u66f4\u8f7b\u91cf\u7684\u5e93",text:"\u4f7f\u7528\u66f4\u8f7b\u91cf\u7684\u5e93",depth:2},{id:"\u63d0\u5347-browserslist-\u8303\u56f4",text:"\u63d0\u5347 Browserslist \u8303\u56f4",depth:2},{id:"\u6309\u9700\u5f15\u5165-polyfill",text:"\u6309\u9700\u5f15\u5165 polyfill",depth:2},{id:"\u4f7f\u7528\u56fe\u7247\u538b\u7f29",text:"\u4f7f\u7528\u56fe\u7247\u538b\u7f29",depth:2},{id:"\u4ee3\u7801\u62c6\u5305",text:"\u4ee3\u7801\u62c6\u5305",depth:2}],content:"\u4ea7\u7269\u4f53\u79ef\u4f18\u5316\n\n\u4ea7\u7269\u4f53\u79ef\u7684\u4f18\u5316\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u662f\u975e\u5e38\u91cd\u8981\u7684\uff0c\u56e0\u4e3a\u5b83\u76f4\u63a5\u5f71\u54cd\u5230\u4e86\u7ebf\u4e0a\u7684\u7528\u6237\u4f53\u9a8c\u3002\u5728\u8fd9\u7bc7\u6587\u6863\u4e2d\uff0c\u6211\u4eec\u5c06\u4ecb\u7ecd\u5728 Builder \u4e2d\u4e00\u4e9b\u5e38\u89c1\u7684\u4ea7\u7269\u4f53\u79ef\u4f18\u5316\u65b9\u5f0f\u3002\n\n\n\u51cf\u5c11\u91cd\u590d\u4f9d\u8d56\n\n\u5728\u4e1a\u52a1\u9879\u76ee\u4e2d\uff0c\u4f1a\u5b58\u5728\u67d0\u4e9b\u7b2c\u4e09\u65b9\u4f9d\u8d56\u88ab\u5b89\u88c5\u4e86\u591a\u4e2a\u7248\u672c\u7684\u73b0\u8c61\u3002\u91cd\u590d\u4f9d\u8d56\u4f1a\u5bfc\u81f4\u5305\u4f53\u79ef\u53d8\u5927\u3001\u6784\u5efa\u901f\u5ea6\u53d8\u6162\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u793e\u533a\u4e2d\u7684\u4e00\u4e9b\u5de5\u5177\u6765\u68c0\u6d4b\u6216\u6d88\u9664\u91cd\u590d\u4f9d\u8d56\u3002\n\n\u5982\u679c\u4f60\u5728\u4f7f\u7528 pnpm\uff0c\u53ef\u4ee5\u4f7f\u7528 pnpm-deduplicate \u6765\u5206\u6790\u51fa\u6240\u6709\u7684\u91cd\u590d\u4f9d\u8d56\uff0c\u5e76\u901a\u8fc7\u5347\u7ea7\u4f9d\u8d56\u6216\u58f0\u660e pnpm overrides \u8fdb\u884c\u7248\u672c\u5408\u5e76\u3002\n\nnpx pnpm-deduplicate --list\n\n\n\u5982\u679c\u4f60\u5728\u4f7f\u7528 yarn\uff0c\u53ef\u4ee5\u4f7f\u7528 yarn-deduplicate \u6765\u81ea\u52a8\u5408\u5e76\u91cd\u590d\u4f9d\u8d56\uff1a\n\nnpx yarn-deduplicate && yarn\n\n\n\n\u4f7f\u7528\u66f4\u8f7b\u91cf\u7684\u5e93\n\n\u5efa\u8bae\u5c06\u9879\u76ee\u4e2d\u4f53\u79ef\u8f83\u5927\u7684\u4e09\u65b9\u5e93\u66ff\u6362\u4e3a\u66f4\u8f7b\u91cf\u7684\u5e93\uff0c\u6bd4\u5982\u5c06 moment \u66ff\u6362\u4e3a day.js\u3002\n\n\u5982\u679c\u4f60\u9700\u8981\u627e\u51fa\u9879\u76ee\u4e2d\u4f53\u79ef\u8f83\u5927\u7684\u4e09\u65b9\u5e93\uff0c\u53ef\u4ee5\u5728\u6267\u884c\u6784\u5efa\u65f6\u6dfb\u52a0 BUNDLE_ANALYZE=true \u73af\u5883\u53d8\u91cf\uff1a\n\nBUNDLE_ANALYZE=true pnpm build\n\n\n\u6dfb\u52a0\u8be5\u53c2\u6570\u540e\uff0cBuilder \u4f1a\u751f\u6210\u4e00\u4e2a\u5206\u6790\u6784\u5efa\u4ea7\u7269\u4f53\u79ef\u7684 HTML\n\u6587\u4ef6\uff0c\u624b\u52a8\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u8be5\u6587\u4ef6\uff0c\u53ef\u4ee5\u770b\u5230\u6253\u5305\u4ea7\u7269\u7684\u74e6\u7247\u56fe\u3002\u533a\u5757\u7684\u9762\u79ef\u8d8a\u5927\uff0c\u8bf4\u660e\u8be5\u6a21\u5757\u7684\u4f53\u79ef\u8d8a\u5927\u3002\n\n\n\n\n\u63d0\u5347 BROWSERSLIST \u8303\u56f4\n\nBuilder \u4f1a\u6839\u636e\u9879\u76ee\u7684 Browserslist \u914d\u7f6e\u8303\u56f4\u8fdb\u884c\u4ee3\u7801\u7f16\u8bd1\uff0c\u5e76\u6ce8\u5165\u76f8\u5e94\u7684\nPolyfill\u3002\u5982\u679c\u9879\u76ee\u4e0d\u9700\u8981\u517c\u5bb9\u65e7\u7248\u6d4f\u89c8\u5668\uff0c\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u6765\u63d0\u5347 Browserslist \u8303\u56f4\uff0c\u4ece\u800c\u51cf\u5c11\u5728\u8bed\u6cd5\u548c Polyfill \u4e0a\u7684\u7f16\u8bd1\u5f00\u9500\u3002\n\nBuilder \u9ed8\u8ba4\u7684 Browserslist \u914d\u7f6e\u4e3a\uff1a\n\n['> 0.01%', 'not dead', 'not op_mini all'];\n\n\n\u6bd4\u5982\u53ea\u517c\u5bb9 Chrome 61 \u4ee5\u4e0a\u7684\u6d4f\u89c8\u5668\uff0c\u53ef\u4ee5\u6539\u6210\uff1a\n\n['Chrome >= 61'];\n\n\n\u8bf7\u9605\u8bfb \u8bbe\u7f6e\u6d4f\u89c8\u5668\u8303\u56f4 \u7ae0\u8282\u6765\u4e86\u89e3\u66f4\u591a\u5173\u4e8e Browserslist \u7684\u7528\u6cd5\u3002\n\n\n\u6309\u9700\u5f15\u5165 POLYFILL\n\n\u5728\u660e\u786e\u7b2c\u4e09\u65b9\u4f9d\u8d56\u4e0d\u9700\u8981\u989d\u5916 polyfill \u7684\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u5c06 output.polyfill \u8bbe\u7f6e\u4e3a usage\u3002\n\n\u5728 usage \u6a21\u5f0f\u4e0b\uff0cBuilder \u4f1a\u5206\u6790\u6e90\u4ee3\u7801\u4e2d\u4f7f\u7528\u7684\u8bed\u6cd5\uff0c\u6309\u9700\u6ce8\u5165\u6240\u9700\u7684 polyfill \u4ee3\u7801\uff0c\u4ece\u800c\u51cf\u5c11 polyfill \u7684\u4ee3\u7801\u91cf\u3002\n\nexport default {\n  output: {\n    polyfill: 'usage',\n  },\n};\n\n\n\u8bf7\u9605\u8bfb \u6d4f\u89c8\u5668\u517c\u5bb9\u6027 \u7ae0\u8282\u6765\u4e86\u89e3\u66f4\u591a\u5173\u4e8e polyfill \u7684\u7528\u6cd5\u3002\n\n\n\u4f7f\u7528\u56fe\u7247\u538b\u7f29\n\n\u5728\u4e00\u822c\u7684\u524d\u7aef\u9879\u76ee\u4e2d\uff0c\u56fe\u7247\u8d44\u6e90\u7684\u4f53\u79ef\u5f80\u5f80\u662f\u9879\u76ee\u4ea7\u7269\u4f53\u79ef\u7684\u5927\u5934\uff0c\u56e0\u6b64\u5982\u679c\u80fd\u5c3d\u53ef\u80fd\u7cbe\u7b80\u56fe\u7247\u7684\u4f53\u79ef\uff0c\u90a3\u4e48\u5c06\u4f1a\u5bf9\u9879\u76ee\u7684\u6253\u5305\u4ea7\u7269\u4f53\u79ef\u8d77\u5230\u660e\u663e\u7684\u4f18\u5316\u6548\u679c\u3002\u4f60\u53ef\u4ee5\u5728\nBuilder \u4e2d\u6ce8\u518c\u63d2\u4ef6\u6765\u542f\u7528\u56fe\u7247\u538b\u7f29\u529f\u80fd:\n\n\n\n// \u5f80 builder \u5b9e\u4f8b\u4e0a\u6dfb\u52a0\u63d2\u4ef6\nbuilder.addPlugins([PluginImageCompress()]);\n\n\n\u8be6\u89c1 Image Compress \u63d2\u4ef6\u3002\n\n\n\u4ee3\u7801\u62c6\u5305\n\n\u826f\u597d\u7684\u62c6\u5305\u7b56\u7565\u5bf9\u4e8e\u63d0\u5347\u5e94\u7528\u7684\u52a0\u8f7d\u6027\u80fd\u662f\u5341\u5206\u91cd\u8981\u7684\uff0c\u53ef\u4ee5\u5145\u5206\u5229\u7528\u6d4f\u89c8\u5668\u7684\u7f13\u5b58\u673a\u5236\uff0c\u51cf\u5c11\u8bf7\u6c42\u6570\u91cf\uff0c\u52a0\u5feb\u9875\u9762\u52a0\u8f7d\u901f\u5ea6\u3002\n\n\u5728 Builder \u4e2d\u5185\u7f6e\u4e86\u591a\u79cd\u62c6\u5305\u7b56\u7565\uff0c\u53ef\u4ee5\u6ee1\u8db3\u5927\u90e8\u5206\u5e94\u7528\u7684\u9700\u6c42\uff0c\u4f60\u4e5f\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u4e1a\u52a1\u573a\u666f\uff0c\u81ea\u5b9a\u4e49\u62c6\u5305\u914d\u7f6e\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u914d\u7f6e:\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      forceSplitting: {\n        // \u6bd4\u5982\u5c06 react-query \u5305\u62c6\u5206\u4e3a\u4e00\u4e2a Chunk\n        react_query: [/node_modules\\/react-query/],\n      },\n    },\n  },\n};\n",frontmatter:{}},{id:291,title:"\u62c6\u5305\u6700\u4f73\u5b9e\u8df5",routePath:"/builder/guide/optimization/split-chunk",toc:[{id:"\u62c6\u5305\u7b56\u7565",text:"\u62c6\u5305\u7b56\u7565",depth:2},{id:"split-by-experience-1",text:"split-by-experience",depth:3},{id:"\u5206\u5305\u7b56\u7565",text:"\u5206\u5305\u7b56\u7565",depth:4},{id:"\u914d\u7f6e",text:"\u914d\u7f6e",depth:4},{id:"split-by-module-1",text:"split-by-module",depth:3},{id:"\u5206\u5305\u7b56\u7565-1",text:"\u5206\u5305\u7b56\u7565",depth:4},{id:"\u914d\u7f6e-1",text:"\u914d\u7f6e",depth:4},{id:"all-in-one-1",text:"all-in-one",depth:3},{id:"\u5206\u5305\u7b56\u7565-2",text:"\u5206\u5305\u7b56\u7565",depth:4},{id:"\u914d\u7f6e-2",text:"\u914d\u7f6e",depth:4},{id:"single-vendor-1",text:"single-vendor",depth:3},{id:"\u5206\u5305\u7b56\u7565-3",text:"\u5206\u5305\u7b56\u7565",depth:4},{id:"\u914d\u7f6e-3",text:"\u914d\u7f6e",depth:4},{id:"split-by-size-1",text:"split-by-size",depth:3},{id:"\u5206\u5305\u7b56\u7565-4",text:"\u5206\u5305\u7b56\u7565",depth:4},{id:"\u914d\u7f6e-4",text:"\u914d\u7f6e",depth:4},{id:"\u81ea\u5b9a\u4e49\u62c6\u5305",text:"\u81ea\u5b9a\u4e49\u62c6\u5305",depth:2},{id:"\u81ea\u5b9a\u4e49\u5206\u7ec4",text:"\u81ea\u5b9a\u4e49\u5206\u7ec4",depth:3},{id:"\u81ea\u5b9a\u4e49-webpack-\u62c6\u5305\u914d\u7f6e",text:"\u81ea\u5b9a\u4e49 webpack \u62c6\u5305\u914d\u7f6e",depth:3}],content:"\u62c6\u5305\u6700\u4f73\u5b9e\u8df5\n\n\u826f\u597d\u7684\u62c6\u5305\u7b56\u7565\u5bf9\u4e8e\u63d0\u5347\u5e94\u7528\u7684\u52a0\u8f7d\u6027\u80fd\u662f\u5341\u5206\u91cd\u8981\u7684\uff0c\u53ef\u4ee5\u5145\u5206\u5229\u7528\u6d4f\u89c8\u5668\u7684\u7f13\u5b58\u673a\u5236\uff0c\u51cf\u5c11\u8bf7\u6c42\u6570\u91cf\uff0c\u52a0\u5feb\u9875\u9762\u52a0\u8f7d\u901f\u5ea6\u3002\n\n\u5728 Builder \u4e2d\u5185\u7f6e\u4e86\u591a\u79cd\u62c6\u5305\u7b56\u7565\uff0c\u53ef\u4ee5\u6ee1\u8db3\u5927\u90e8\u5206\u5e94\u7528\u7684\u9700\u6c42\uff0c\u4f60\u4e5f\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u4e1a\u52a1\u573a\u666f\uff0c\u81ea\u5b9a\u4e49\u62c6\u5305\u914d\u7f6e\u3002\n\n\n\u62c6\u5305\u7b56\u7565\n\n> Builder \u7684\u62c6\u5305\u914d\u7f6e\u96c6\u4e2d\u5728 performance.chunkSplit \u4e2d\u3002\n\nBuilder \u4e2d\u5305\u62ec\u5982\u4e0b\u7684\u62c6\u5305\u7b56\u7565\uff1a\n\n * split-by-experience: \u6839\u636e\u7ecf\u9a8c\u5185\u7f6e\u62c6\u5206\u7b56\u7565\uff08\u7531 Builder \u6839\u636e\u7ecf\u9a8c\u5236\u5b9a\u7684\u62c6\u5206\u7b56\u7565\uff09\u3002\n * split-by-module: \u6839\u636e\u6a21\u5757\u8fdb\u884c\u62c6\u5206\uff0c\u6bcf\u4e00\u4e2a NPM \u5305\u5c31\u662f\u4e00\u4e2a chunk\u3002\n * all-in-one: \u4e1a\u52a1\u4ee3\u7801\u548c\u7b2c\u4e09\u65b9\u4ee3\u7801\u90fd\u5728\u4e00\u4e2a chunk \u4e2d\u3002\n * single-vendor: \u7b2c\u4e09\u65b9\u4ee3\u7801\u5728\u4e00\u4e2a vendor chunk \u4e2d\u3002\n * split-by-size: \u6839\u636e\u6a21\u5757\u5927\u5c0f\u8fdb\u884c\u62c6\u5206\u3002\n\n\nSPLIT-BY-EXPERIENCE\n\n\u5206\u5305\u7b56\u7565\n\n\u6839\u636e\u4ee5\u5f80\u7684\u7ecf\u9a8c\uff0c\u5185\u7f6e\u7684\u62c6\u5206\u7ec4\u5305\u62ec\uff1a\n\n * React (react, react-dom)\n * Router (react-router, react-router-dom, history)\n * Polyfill (core-js, @babel/runtime)\n * Semi (@ies/semi, @douyinfe/semi-ui)\n * Arco (@arco-design/web-react)\n * Lodash (lodash, lodash-es)\n\n\u8fd9\u79cd\u62c6\u5305\u7b56\u7565\u5c06\u5e38\u7528\u7684\u5305\u8fdb\u884c\u5206\u7ec4\uff0c\u7136\u540e\u62c6\u5206\u4e3a\u5355\u72ec\u7684 Chunk\uff0c\u4e00\u822c Chunk \u7684\u6570\u91cf\u4e0d\u4f1a\u5f88\u591a\uff0c\u9002\u5408\u7edd\u5927\u90e8\u5206\u5e94\u7528\uff0c\u540c\u65f6\u4e5f\u662f\u6211\u4eec\u63a8\u8350\u7684\u62c6\u5305\u7b56\u7565\u3002\n\n\u914d\u7f6e\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n    },\n  },\n};\n\n\n\nSPLIT-BY-MODULE\n\n\u5206\u5305\u7b56\u7565\n\n\u5c06\u6bcf\u4e00\u4e2a NPM \u5305\u62c6\u5206\u4e3a\u4e00\u4e2a Chunk\u3002\n\n::: warning \u6ce8\u610f \u8fd9\u6837\u4f1a\u6700\u7ec6\u5316\u5730\u62c6\u5206 node_modules\uff0c\u540c\u65f6\u5728 HTTP/2 \u4e0b\u56e0\u4e3a\u591a\u8def\u590d\u7528\u4f1a\u52a0\u5feb\u8d44\u6e90\u7684\u52a0\u8f7d\u65f6\u95f4\uff0c\u4e0d\u8fc7\u5728\u975e HTTP/2\n\u7684\u73af\u5883\u4e0b\u56e0\u4e3a HTTP \u961f\u5934\u963b\u585e\u95ee\u9898\u9700\u8981\u614e\u7528\u3002 :::\n\n\u914d\u7f6e\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-module',\n    },\n  },\n};\n\n\n\nALL-IN-ONE\n\n\u5206\u5305\u7b56\u7565\n\n\u6b64\u5206\u5305\u7b56\u7565\u5c06\u4e1a\u52a1\u4ee3\u7801\u3001\u7b2c\u4e09\u65b9\u4f9d\u8d56\u6253\u5305\u5728\u540c\u4e00\u4e2a Chunk \u4e2d\u3002\n\n\u914d\u7f6e\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'all-in-one',\n    },\n  },\n};\n\n\n\nSINGLE-VENDOR\n\n\u5206\u5305\u7b56\u7565\n\n\u6b64\u5206\u5305\u7b56\u7565\u5c06\u7b2c\u4e09\u65b9\u4f9d\u8d56\u6253\u5305\u5728\u4e00\u4e2a Chunk \u4e2d\uff0c\u4e1a\u52a1\u4ee3\u7801\u6253\u5305\u5728\u53e6\u5916\u7684 Chunk \u4e2d\u3002\n\n\u914d\u7f6e\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'single-vendor',\n    },\n  },\n};\n\n\n\nSPLIT-BY-SIZE\n\n\u5206\u5305\u7b56\u7565\n\n\u8be5\u7b56\u7565\u4e0b\uff0c\u8bbe\u7f6e minSize\u3001maxSize \u4e3a\u4e00\u4e2a\u56fa\u5b9a\u503c\u540e\uff0cWebpack \u4f1a\u81ea\u52a8\u8fdb\u884c\u62c6\u5206\uff0c\u65e0\u9700\u5e72\u9884\u3002\n\n\u914d\u7f6e\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-size',\n      minSize: 30000,\n      maxSize: 50000,\n    },\n  },\n};\n\n\n\n\u81ea\u5b9a\u4e49\u62c6\u5305\n\n\u9664\u4e86\u4f7f\u7528\u5185\u7f6e\u7684\u62c6\u5305\u7b56\u7565\u5916\uff0c\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7 Builder \u81ea\u5b9a\u4e49\u62c6\u5305\u529f\u80fd\u6765\u6ee1\u8db3\u66f4\u591a\u7684\u5b9a\u5236\u5316\u9700\u6c42\u3002\u81ea\u5b9a\u4e49\u62c6\u5305\u5206\u4e3a\u4e24\u90e8\u5206:\n\n * \u81ea\u5b9a\u4e49\u62c6\u5305\u5206\u7ec4\n * \u81ea\u5b9a\u4e49\u539f\u751f webpack \u62c6\u5305\u914d\u7f6e\n\n\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e24\u79cd\u81ea\u5b9a\u4e49\u62c6\u5305\u80fd\u529b\u53ef\u4ee5\u548c\u5185\u7f6e\u7684\u62c6\u5305\u7b56\u7565\u4e00\u8d77\u4f7f\u7528\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5185\u7f6e\u7684\u62c6\u5305\u7b56\u7565\u6765\u62c6\u5206\u5e38\u7528\u7684\u5305\uff0c\u7136\u540e\u518d\u4f7f\u7528\u81ea\u5b9a\u4e49\u62c6\u5305\u529f\u80fd\u6765\u62c6\u5206\u5176\u4ed6\u7684\u5305\u3002\n\n\n\u81ea\u5b9a\u4e49\u5206\u7ec4\n\nBuilder \u652f\u6301\u81ea\u5b9a\u4e49\u62c6\u5305\u5206\u7ec4\uff0c\u8fd9\u6837\u6bd4\u5185\u7f6e\u62c6\u5305\u7b56\u7565\u66f4\u7075\u6d3b\uff0c\u540c\u65f6\u6bd4\u624b\u5199 webpack \u914d\u7f6e\u66f4\u7b80\u5355\u3002\u6bd4\u5982:\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      forceSplitting: {\n        // \u5c06 lodash \u62c6\u5206\u4e3a\u4e00\u4e2a Chunk\n        lodash: [/node_modules\\/lodash/, /node_modules\\/lodash-es/],\n      },\n    }\n  }\n}\n\n\n\u901a\u8fc7 forceSplitting \u914d\u7f6e\uff0c\u4f60\u53ef\u4ee5\u5f88\u65b9\u4fbf\u628a\u67d0\u4e9b\u5305\u62c6\u5206\u4e3a\u4e00\u4e2a Chunk\u3002\n\n\n\u81ea\u5b9a\u4e49 WEBPACK \u62c6\u5305\u914d\u7f6e\n\n\u9664\u4e86\u4f7f\u7528\u81ea\u5b9a\u4e49\u5206\u7ec4\u5916\uff0c\u4f60\u8fd8\u53ef\u4ee5\u901a\u8fc7 override \u914d\u7f6e\u9879\u6765\u81ea\u5b9a\u4e49\u539f\u751f webpack \u62c6\u5305\u914d\u7f6e\uff0c\u6bd4\u5982:\n\nexport default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      override: {\n        chunks: 'all',\n        minSize: 30000,\n      }\n    }\n  }\n}\n\n\n\u5176\u4e2d override \u4e2d\u7684\u914d\u7f6e\u4f1a\u548c webpack \u7684\u914d\u7f6e\u8fdb\u884c\u5408\u5e76\uff0c\u5177\u4f53\u914d\u7f6e\u9879\u8bf7\u53c2\u8003 webpack \u5b98\u65b9\u6587\u6863\u3002",frontmatter:{}},{id:292,title:"\u5feb\u901f\u4e0a\u624b",routePath:"/builder/guide/quick-start",toc:[{id:"\u73af\u5883\u51c6\u5907",text:"\u73af\u5883\u51c6\u5907",depth:2},{id:"\u4f7f\u7528-modernjs-\u6846\u67b6",text:"\u4f7f\u7528 Modern.js \u6846\u67b6",depth:2},{id:"\u5728\u524d\u7aef\u6846\u67b6\u4e2d\u63a5\u5165",text:"\u5728\u524d\u7aef\u6846\u67b6\u4e2d\u63a5\u5165",depth:2},{id:"1-\u5b89\u88c5-builder",text:"1. \u5b89\u88c5 Builder",depth:3},{id:"2-\u521b\u5efa-builder-\u5b9e\u4f8b",text:"2. \u521b\u5efa Builder \u5b9e\u4f8b",depth:3},{id:"3-\u8c03\u7528-builder-\u5b9e\u4f8b\u65b9\u6cd5",text:"3. \u8c03\u7528 Builder \u5b9e\u4f8b\u65b9\u6cd5",depth:3},{id:"\u4e0b\u4e00\u6b65-1",text:"\u4e0b\u4e00\u6b65",depth:2}],content:"\u5feb\u901f\u4e0a\u624b\n\n\n\u73af\u5883\u51c6\u5907\n\n\u5728\u4f7f\u7528 Modern.js Builder \u524d\uff0c\u4f60\u9700\u8981\u5b89\u88c5 Node.js\uff0c\u5e76\u4fdd\u8bc1 Node.js \u7248\u672c\u4e0d\u4f4e\u4e8e 14.17.6\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528 Node.js\n16 \u7684 LTS \u7248\u672c\u3002\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u5f53\u524d\u4f7f\u7528\u7684 Node.js \u7248\u672c\uff1a\n\nnode -v\n# v14.20.0\n\n\n\u5982\u679c\u4f60\u5f53\u524d\u7684\u73af\u5883\u4e2d\u5c1a\u672a\u5b89\u88c5 Node.js\uff0c\u6216\u662f\u5b89\u88c5\u7684\u7248\u672c\u4f4e\u4e8e 14.17.6\uff0c\u53ef\u4ee5\u901a\u8fc7 nvm \u6216 fnm \u5b89\u88c5\u9700\u8981\u7684\u7248\u672c\u3002\n\n\u4e0b\u9762\u662f\u901a\u8fc7 nvm \u5b89\u88c5 Node.js 16 LTS \u7248\u672c\u7684\u4f8b\u5b50\uff1a\n\n# \u5b89\u88c5 Node.js 16 \u7684\u957f\u671f\u652f\u6301\u7248\u672c\nnvm install 16 --lts\n\n# \u5c06\u521a\u5b89\u88c5\u7684 Node.js 16 \u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u7248\u672c\nnvm alias default 16\n\n# \u5207\u6362\u5230\u521a\u5b89\u88c5\u7684 Node.js 16\nnvm use 16\n\n\n:::tip nvm \u548c fnm nvm \u548c fnm \u90fd\u662f Node.js \u7248\u672c\u7ba1\u7406\u5de5\u5177\u3002\u76f8\u5bf9\u6765\u8bf4\uff0cnvm \u8f83\u4e3a\u6210\u719f\u548c\u7a33\u5b9a\uff0c\u800c fnm \u662f\u4f7f\u7528 Rust\n\u5b9e\u73b0\u7684\uff0c\u6bd4 nvm \u63d0\u4f9b\u4e86\u66f4\u597d\u7684\u6027\u80fd\u3002 :::\n\n\n\u4f7f\u7528 MODERN.JS \u6846\u67b6\n\nModern.js \u6846\u67b6\u9ed8\u8ba4\u4f7f\u7528 Modern.js Builder \u4f5c\u4e3a\u6784\u5efa\u5f15\u64ce\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u662f\u4e00\u540d\u4e1a\u52a1\u5f00\u53d1\u8005\uff0c\u90a3\u4e48\u4e0d\u9700\u8981\u624b\u52a8\u63a5\u5165\nBuilder\uff0c\u53ea\u9700\u8981\u521b\u5efa\u4e00\u4e2a Modern.js \u9879\u76ee\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528 Builder \u63d0\u4f9b\u7684\u6240\u6709\u80fd\u529b\u3002\n\n\u8bf7\u67e5\u770b Modern.js \u6846\u67b6\u6587\u6863 \u6765\u4e86\u89e3 Modern.js \u6846\u67b6\u7684\u4f7f\u7528\u65b9\u6cd5\u3002\n\n:::tip \u5173\u4e8e\u6587\u6863 Modern.js \u6846\u67b6\u6587\u6863\u548c Modern.js Builder \u6587\u6863\u90e8\u7f72\u5728\u4e24\u4e2a\u72ec\u7acb\u7684\u7ad9\u70b9\u4e0b\u3002\u5982\u679c\u4f60\u5728\u4f7f\u7528 Modern.js\n\u6846\u67b6\u7684\u8fc7\u7a0b\u4e2d\u9047\u5230\u4efb\u4f55\u6784\u5efa\u76f8\u5173\u7684\u95ee\u9898\uff0c\u4f60\u53ef\u4ee5\u968f\u65f6\u67e5\u9605 Modern.js Builder \u7684\u6587\u6863\u6765\u5bfb\u627e\u76f8\u5e94\u7684\u89e3\u51b3\u65b9\u6848\u3002 :::\n\n\n\u5728\u524d\u7aef\u6846\u67b6\u4e2d\u63a5\u5165\n\n\u5982\u679c\u4f60\u6b63\u5728\u5f00\u53d1\u4e00\u4e2a\u524d\u7aef\u6846\u67b6\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u6b65\u9aa4\u6765\u63a5\u5165 Builder:\n\n\n1. \u5b89\u88c5 BUILDER\n\n\u4f60\u9700\u8981\u5b89\u88c5\u4e24\u4e2a\u5305\uff0c\u5176\u4e2d\uff1a\n\n * @modern-js/builder \u4e3a Builder \u7684\u6838\u5fc3\u5305\uff0c\u5bfc\u51fa\u4e86 Builder \u7684\u6838\u5fc3 API\u3002\n * @modern-js/builder-webpack-provider \u4e3a Builder \u7684\u4e00\u4e2a Provider\uff0c\u63d0\u4f9b\u4e86\u57fa\u4e8e webpack\n   \u7684\u6784\u5efa\u80fd\u529b\u3002\n\npnpm add @modern-js/builder @modern-js/builder-webpack-provider -D\n\n\n> \u5728\u8fdb\u884c\u7248\u672c\u5347\u7ea7\u65f6\uff0c\u8bf7\u786e\u4fdd\u4f60\u5b89\u88c5\u7684 builder \u548c provider \u4e3a\u540c\u4e00\u4e2a\u7248\u672c\u3002\n\n\n2. \u521b\u5efa BUILDER \u5b9e\u4f8b\n\n\u521b\u5efa Builder \u5b9e\u4f8b\u7684\u8fc7\u7a0b\u5206\u4e24\u6b65\uff1a\n\n\u9996\u5148\u4f60\u9700\u8981\u521d\u59cb\u5316 Builder Provider\uff0c\u5e76\u4f20\u5165 builderConfig \u914d\u7f6e\u5bf9\u8c61\u3002Builder\n\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u914d\u7f6e\u9879\uff0c\u5141\u8bb8\u4f60\u5bf9\u6784\u5efa\u884c\u4e3a\u8fdb\u884c\u7075\u6d3b\u5b9a\u5236\u3002\u6b64\u65f6\u4f60\u8fd8\u4e0d\u9700\u8981\u4e86\u89e3\u914d\u7f6e\u9879\u7684\u5177\u4f53\u5185\u5bb9\uff0c\u4f20\u5165\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u5373\u53ef\u3002\u4f60\u53ef\u4ee5\u5728 API - \u914d\u7f6e \u4e2d\u627e\u5230\u6240\u6709\u53ef\u7528\u7684\u914d\u7f6e\u9879\u3002\n\n\n\n\nconst provider = builderWebpackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n\n\n\u62ff\u5230 provider \u5bf9\u8c61\u540e\uff0c\u4f60\u53ef\u4ee5\u8c03\u7528 createBuilder \u65b9\u6cd5\u6765\u521b\u5efa\u4e00\u4e2a Builder \u5b9e\u4f8b\u5bf9\u8c61\uff1a\n\nconst builder = await createBuilder(provider, {\n  entry: {\n    index: './src/index.ts',\n  },\n});\n\n\n\u9664\u4e86\u4e0a\u8ff0\u793a\u4f8b\u4e2d\u7684 entry \u9009\u9879\uff0ccreateBuilder \u65b9\u6cd5\u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5176\u4ed6\u7684\u9009\u9879\uff0c\u4f60\u53ef\u4ee5\u5728 API - createBuilder \u4e2d\u8fdb\u4e00\u6b65\u4e86\u89e3\u3002\n\n\n3. \u8c03\u7528 BUILDER \u5b9e\u4f8b\u65b9\u6cd5\n\nBuilder \u5b9e\u4f8b\u63d0\u4f9b\u4e86\u4e0e\u6784\u5efa\u76f8\u5173\u7684\u5404\u4e2a\u65b9\u6cd5\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u573a\u666f\u6765\u8fdb\u884c\u4f7f\u7528\u3002\n\n\u5728\u672c\u5730\u5f00\u53d1\u573a\u666f\uff0c\u5efa\u8bae\u4f7f\u7528 builder.startDevServer \u65b9\u6cd5\uff0c\u8c03\u7528\u540e\u4f1a\u542f\u52a8\u672c\u5730 Dev Server\u3002\n\nawait builder.startDevServer();\n\n\n\u6210\u529f\u542f\u52a8 Dev Server \u540e\uff0c\u53ef\u4ee5\u770b\u5230\u4ee5\u4e0b\u65e5\u5fd7\u4fe1\u606f\uff1a\n\ninfo    Starting dev server...\ninfo    Dev server running at:\n\n  > Local:    http://localhost:8081\n  > Network:  http://192.168.0.1:8081\n\n\n\u5728\u751f\u4ea7\u73af\u5883\u90e8\u7f72\u573a\u666f\uff0c\u5efa\u8bae\u4f7f\u7528 builder.build \u65b9\u6cd5\uff0c\u8c03\u7528\u540e\u4f1a\u6784\u5efa\u51fa\u751f\u4ea7\u73af\u5883\u4ea7\u7269\u3002\n\nawait builder.build();\n\n\n> \u5173\u4e8e Builder \u5b9e\u4f8b\u65b9\u6cd5\u7684\u66f4\u591a\u4ecb\u7ecd\uff0c\u8bf7\u9605\u8bfb Builder Instance \u7ae0\u8282\u3002\n\n\u901a\u8fc7\u4ee5\u4e0a\u4e09\u4e2a\u6b65\u9aa4\uff0c\u4f60\u5df2\u7ecf\u4e86\u89e3\u4e86 Builder \u57fa\u672c\u7684\u4f7f\u7528\u65b9\u6cd5\u3002\u63a5\u4e0b\u6765\u4f60\u53ef\u4ee5\u901a\u8fc7 Builder \u63d2\u4ef6\u548c Builder \u914d\u7f6e\u6765\u5bf9\u6784\u5efa\u6d41\u7a0b\u8fdb\u884c\u5b9a\u5236\u3002\n\n\n\u4e0b\u4e00\u6b65\n\n\u4f60\u53ef\u80fd\u60f3\u8981\uff1a",frontmatter:{}},{id:293,title:"",routePath:"/builder/",toc:[],content:"",frontmatter:{pageType:"home",hero:{name:"Modern.js Builder",tagline:"\u4e00\u4e2a\u9762\u5411 Web \u5f00\u53d1\u573a\u666f\u7684\u6784\u5efa\u5f15\u64ce",actions:[{theme:"brand",text:"\u4ecb\u7ecd",link:"/guide/introduction.html"},{theme:"alt",text:"\u5feb\u901f\u4e0a\u624b",link:"/guide/quick-start.html"}]},features:[{title:"\u5f00\u7bb1\u5373\u7528",details:"\u57fa\u4e8e\u5b57\u8282\u8df3\u52a8\u6570\u5343\u4e2a\u5e94\u7528\u6c89\u6dc0\u7684\u5b9e\u8df5\u7ecf\u9a8c\uff0c\u9ed8\u8ba4\u63d0\u4f9b Web \u5e94\u7528\u6784\u5efa\u6240\u9700\u7684\u5404\u7c7b\u80fd\u529b\u3002",icon:"\ud83d\udce6"},{title:"\u6df1\u5ea6\u4f18\u5316",details:"\u5185\u7f6e\u591a\u79cd\u62c6\u5305\u7b56\u7565\uff0c\u81ea\u52a8\u4f18\u5316\u5404\u7c7b\u9759\u6001\u8d44\u6e90\uff0c\u4fdd\u969c\u751f\u4ea7\u73af\u5883\u4ea7\u7269\u6027\u80fd\u3002",icon:"\ud83d\ude80"},{title:"\u6613\u4e8e\u6269\u5c55",details:"\u63d0\u4f9b\u4e30\u5bcc\u7684\u914d\u7f6e\u9879\u548c\u53ef\u63d2\u62d4\u7684\u63d2\u4ef6\u7cfb\u7edf\uff0c\u652f\u6301\u5bf9\u5404\u9879\u80fd\u529b\u8fdb\u884c\u6269\u5c55\u548c\u5b9a\u5236\u3002",icon:"\u2728"}]}},{id:294,title:"\u63a5\u5165\u6846\u67b6",routePath:"/builder/plugins/integration",toc:[],content:"\u63a5\u5165\u6846\u67b6\n\nTODO",frontmatter:{}},{id:295,title:"\u63d2\u4ef6\u7cfb\u7edf",routePath:"/builder/plugins/introduction",toc:[{id:"\u5f00\u53d1\u63d2\u4ef6",text:"\u5f00\u53d1\u63d2\u4ef6",depth:2},{id:"\u751f\u547d\u5468\u671f\u94a9\u5b50",text:"\u751f\u547d\u5468\u671f\u94a9\u5b50",depth:2},{id:"\u4f7f\u7528\u914d\u7f6e\u9879",text:"\u4f7f\u7528\u914d\u7f6e\u9879",depth:2},{id:"\u4fee\u6539-webpack-\u914d\u7f6e",text:"\u4fee\u6539 webpack \u914d\u7f6e",depth:2},{id:"\u53c2\u8003\u8303\u4f8b",text:"\u53c2\u8003\u8303\u4f8b",depth:2},{id:"\u4fee\u6539-loader",text:"\u4fee\u6539 Loader",depth:3},{id:"\u6dfb\u52a0\u6a21\u5757\u5165\u53e3",text:"\u6dfb\u52a0\u6a21\u5757\u5165\u53e3",depth:3},{id:"\u63a5\u5165-webpack-\u63d2\u4ef6",text:"\u63a5\u5165 webpack \u63d2\u4ef6",depth:3}],content:"\u63d2\u4ef6\u7cfb\u7edf\n\nBuilder \u63d0\u4f9b\u4e86\u4e00\u5957\u8f7b\u91cf\u5f3a\u5927\u7684\u63d2\u4ef6\u7cfb\u7edf\uff0c\u7528\u4ee5\u5b9e\u73b0\u81ea\u8eab\u7684\u5927\u591a\u6570\u529f\u80fd\uff0c\u5e76\u5141\u8bb8\u7528\u6237\u8fdb\u884c\u6269\u5c55\u3002 \u5f00\u53d1\u8005\u7f16\u5199\u7684\u63d2\u4ef6\u80fd\u591f\u4fee\u6539 Builder\n\u7684\u9ed8\u8ba4\u884c\u4e3a\u5e76\u6dfb\u52a0\u5404\u7c7b\u989d\u5916\u529f\u80fd\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a\n\n * \u4fee\u6539 bundler \u914d\u7f6e\n * \u5904\u7406\u65b0\u7684\u6587\u4ef6\u7c7b\u578b\n * \u4fee\u6539\u6216\u7f16\u8bd1\u6587\u4ef6\n * \u90e8\u7f72\u4ea7\u7269\n\nBuilder \u5e95\u5c42\u652f\u6301 webpack \u548c rspack \u7b49 bundler\uff0c\u5e76\u63d0\u4f9b\u7edf\u4e00\u7684 Node.js API \u6765\u62b9\u5e73\u63d2\u4ef6\u5f00\u53d1\u7684\u5dee\u5f02\uff0c\n\u8fdb\u800c\u63a5\u5165\u4e0d\u540c\u7684\u4e0a\u5c42\u6846\u67b6\u3001\u964d\u4f4e\u7528\u6237\u5bf9\u5e95\u5c42 bundler \u5207\u6362\u7684\u611f\u77e5\u3002\n\n\u7528\u6237\u53ef\u80fd\u65e0\u6cd5\u5728\u4e0a\u5c42\u6846\u67b6\u4e2d\u76f4\u63a5\u4f7f\u7528 Builder \u63d2\u4ef6\u3002\u56e0\u4e3a\u8fd9\u4e9b\u6846\u67b6\uff08\u5982 modern.js\uff09\u53ea\u590d\u7528\u4e86 Builder \u63d0\u4f9b\u7684\u6784\u5efa\u80fd\u529b\uff0c\n\u9488\u5bf9\u5176\u5e94\u7528\u573a\u666f\u8fd8\u4f1a\u6dfb\u52a0\u8bb8\u591a\u989d\u5916\u8bbe\u8ba1\u3002\n\n\n\u5f00\u53d1\u63d2\u4ef6\n\n\u63d2\u4ef6\u63d0\u4f9b\u7c7b\u4f3c (options?: PluginOptions) => BuilderPlugin \u7684\u51fd\u6570\u4f5c\u4e3a\u5165\u53e3\u3002\n\n\n\nexport interface PluginFooOptions {\n  message?: string;\n}\n\nexport const PluginFoo = (options?: PluginFooOptions): BuilderPlugin => ({\n  name: 'plugin-foo',\n  setup(api) {\n    api.onExit(() => {\n      const msg = options.message || 'finish.';\n      console.log(msg)\n    });\n  }\n});\n\nbuilder.addPlugins([\n  PluginFoo({ message: 'some other message.' })\n]);\n\n\n\u51fd\u6570\u5f62\u5f0f\u7684\u63d2\u4ef6\u53ef\u4ee5 \u63a5\u53d7\u9009\u9879\u5bf9\u8c61 \u5e76 \u8fd4\u56de\u63d2\u4ef6\u5b9e\u4f8b\uff0c\u5e76\u901a\u8fc7\u95ed\u5305\u673a\u5236\u7ba1\u7406\u5185\u90e8\u72b6\u6001\u3002\n\n\u5176\u4e2d\u5404\u90e8\u5206\u7684\u4f5c\u7528\u5206\u522b\u4e3a\uff1a\n\n * name \u5c5e\u6027\u7528\u4e8e\u6807\u6ce8\u63d2\u4ef6\u540d\u79f0\n * setup \u4f5c\u4e3a\u63d2\u4ef6\u903b\u8f91\u7684\u4e3b\u5165\u53e3\n * api \u5bf9\u8c61\u5305\u542b\u4e86\u5404\u7c7b\u94a9\u5b50\u548c\u5de5\u5177\u51fd\u6570\n\n\u4e3a\u4e86\u4fbf\u4e8e\u8bc6\u522b\uff0c\u63d2\u4ef6\u540d\u79f0\u9700\u8981\u5305\u542b\u7ea6\u5b9a\u7684 builder-plugin \u524d\u7f00\uff0c\u4f8b\u5982 builder-plugin-foo\n@scope/builder-plugin-bar \u7b49\u3002\n\n\n\u751f\u547d\u5468\u671f\u94a9\u5b50\n\nBuilder \u5728\u5185\u90e8\u6309\u7167\u7ea6\u5b9a\u7684\u751f\u547d\u5468\u671f\u8fdb\u884c\u4efb\u52a1\u8c03\u5ea6\uff0c\u63d2\u4ef6\u53ef\u4ee5\u901a\u8fc7\u6ce8\u518c\u94a9\u5b50\u6765\u4ecb\u5165\u5de5\u4f5c\u6d41\u7a0b\u7684\u4efb\u610f\u9636\u6bb5\uff0c\u5e76\u5b9e\u73b0\u81ea\u5df1\u7684\u529f\u80fd\u3002\n\nBuilder \u751f\u547d\u5468\u671f\u94a9\u5b50\u7684\u5b8c\u6574\u5217\u8868\u53c2\u8003 API \u6587\u6863\u3002\n\nBuilder \u4e0d\u4f1a\u63a5\u7ba1\u5e95\u5c42 Bundler \u7684\u751f\u547d\u5468\u671f\uff0c\u76f8\u5173\u751f\u547d\u5468\u671f\u94a9\u5b50\u7684\u4f7f\u7528\u65b9\u5f0f\u89c1\u5bf9\u5e94\u6587\u6863\uff1awebpack hooks\n\n\n\u4f7f\u7528\u914d\u7f6e\u9879\n\n\u81ea\u884c\u7f16\u5199\u7684\u63d2\u4ef6\u901a\u5e38\u4f7f\u7528\u521d\u59cb\u5316\u65f6\u4f20\u5165\u51fd\u6570\u7684\u53c2\u6570\u4f5c\u4e3a\u914d\u7f6e\u9879\u5373\u53ef\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u968f\u610f\u5b9a\u4e49\u548c\u4f7f\u7528\u51fd\u6570\u7684\u5165\u53c2\u3002\n\n\u4f46\u67d0\u4e9b\u60c5\u51b5\u4e0b\u63d2\u4ef6\u53ef\u80fd\u9700\u8981\u8bfb\u53d6 / \u4fee\u6539 Builder \u516c\u7528\u7684\u914d\u7f6e\u9879\uff0c\u8fd9\u65f6\u5c31\u9700\u8981\u4e86\u89e3 Builder \u5185\u90e8\u5bf9\u914d\u7f6e\u9879\u7684\u751f\u4ea7\u548c\u6d88\u8d39\u6d41\u7a0b\uff1a\n\n * \u8bfb\u53d6\u3001\u89e3\u6790\u914d\u7f6e\u5e76\u5408\u5e76\u9ed8\u8ba4\u503c\n * \u63d2\u4ef6\u901a\u8fc7 api.modifyBuilderConfig(...) \u56de\u8c03\u4fee\u6539\u914d\u7f6e\u9879\n * \u5f52\u4e00\u5316\u914d\u7f6e\u9879\u5e76\u63d0\u4f9b\u7ed9\u63d2\u4ef6\u540e\u7eed\u6d88\u8d39\uff0c\u6b64\u540e\u65e0\u6cd5\u518d\u4fee\u6539\u914d\u7f6e\u9879\n\n\u6574\u5957\u6d41\u7a0b\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u7b80\u5355\u7684\u63d2\u4ef6\u4f53\u73b0\uff1a\n\nexport const PluginUploadDist = (): BuilderPlugin => ({\n  name: 'plugin-upload-dist',\n  setup(api) {\n    api.modifyBuilderConfig(config => {\n      // \u5c1d\u8bd5\u5173\u95ed\u4ee3\u7801\u538b\u7f29\uff0c\u9700\u8981\u81ea\u5df1\u586b\u5145\u9ed8\u8ba4\u503c\n      config.output ||= {};\n      config.output.disableMinimize = true;\n      // \u8f6e\u5230\u5176\u5b83\u63d2\u4ef6\u4fee\u6539\u914d\u7f6e...\n    });\n    api.onBeforeBuild(() => {\n      // \u8bfb\u53d6\u6700\u7ec8\u7684\u914d\u7f6e\n      const config = api.getNormalizedConfig();\n      if (!config.output.disableMinimize) {\n        // \u5176\u5b83\u63d2\u4ef6\u53c8\u542f\u7528\u4e86\u538b\u7f29\u5219\u62a5\u9519\n        throw new Error('You must disable minimize to upload readable dist files.');\n      }\n    });\n    api.onAfterBuild(() => {\n      const config = api.getNormalizedConfig();\n      const distRoot = config.output.distPath.root;\n      // TODO: \u4e0a\u4f20 `distRoot` \u76ee\u5f55\u4e0b\u6240\u6709\u4ea7\u7269\u6587\u4ef6\n    });\n  }\n});\n\n\n\u63d2\u4ef6\u4e2d\u6709\u4e09\u79cd\u65b9\u5f0f\u4f7f\u7528\u914d\u7f6e\u9879\u5bf9\u8c61\uff1a\n\n * api.modifyBuilderConfig(config => {}) \u5728\u56de\u8c03\u4e2d\u4fee\u6539\u914d\u7f6e\n * api.getBuilderConfig() \u83b7\u53d6\u914d\u7f6e\u9879\n * api.getNormalizedConfig() \u83b7\u53d6\u5f52\u4e00\u5316\u540e\u7684\u914d\u7f6e\u9879\n\n\u5f52\u4e00\u5316\u7684\u914d\u7f6e\u9879\u4f1a\u518d\u6b21\u5408\u5e76\u9ed8\u8ba4\u503c\u5e76\u79fb\u9664\u5927\u90e8\u5206\u53ef\u9009\u7c7b\u578b\uff0c\u5bf9\u4e8e PluginUploadDist \u7684\u4f8b\u5b50\u5176\u90e8\u5206\u7c7b\u578b\u5b9a\u4e49\u4e3a\uff1a\n\napi.modifyBuilderConfig((config: BuilderConfig) => {});\napi.getBuilderConfig() as BuilderConfig;\ntype BuilderConfig = {\n  output?: {\n    disableMinimize?: boolean;\n    distPath?: { root?: string };\n  };\n};\n\napi.getNormalizedConfig() as NormalizedConfig;\ntype NormalizedConfig = {\n  output: {\n    disableMinimize: boolean;\n    distPath: { root: string };\n  };\n};\n\n\ngetNormalizedConfig() \u7684\u8fd4\u56de\u503c\u7c7b\u578b\u4e0e BuilderConfig \u7684\u7565\u6709\u4e0d\u540c\u3001\u76f8\u6bd4\u6587\u6863\u5176\u5b83\u5730\u65b9\u63cf\u8ff0\u7684\u7c7b\u578b\u8fdb\u884c\u4e86\u6536\u7a84\uff0c\n\u5728\u4f7f\u7528\u65f6\u65e0\u9700\u81ea\u884c\u5224\u7a7a\u3001\u586b\u5145\u9ed8\u8ba4\u503c\u3002\n\n\u56e0\u6b64\u4f7f\u7528\u914d\u7f6e\u9879\u7684\u6700\u4f73\u65b9\u5f0f\u5e94\u8be5\u662f\uff1a\n\n * \u901a\u8fc7 api.modifyBuilderConfig(config => {}) \u6765\u4fee\u6539\u914d\u7f6e\n * \u5728\u5176\u540e\u7684\u751f\u547d\u5468\u671f\u4e2d\u8bfb\u53d6 api.getNormalizedConfig() \u4f5c\u4e3a\u63d2\u4ef6\u5b9e\u9645\u4f7f\u7528\u7684\u914d\u7f6e\n\n\n\u4fee\u6539 WEBPACK \u914d\u7f6e\n\n\u63d2\u4ef6\u53ef\u4ee5\u901a\u8fc7\u591a\u79cd\u65b9\u5f0f\u4fee\u6539 webpack \u7684\u914d\u7f6e\u9879\u3002\n\n * api.modifyWebpackChain(chain => {}) \u4fee\u6539 webpack-chain\n * api.modifyWebpackConfig(config => {}) \u4fee\u6539\u6700\u7ec8\u7684 webpack \u914d\u7f6e\n * api.onAfterCreateCompiler(compiler => {}) \u76f4\u63a5\u64cd\u4f5c webpack \u5b9e\u4f8b\n\n\u901a\u5e38\u63a8\u8350\u4f7f\u7528 neutrinojs/webpack-chain \u63d0\u4f9b\u7684\u94fe\u5f0f API \u6765\u4fee\u6539 webpack \u914d\u7f6e\u7684\u5de5\u4f5c\u3002\n\nBuilder \u4f7f\u7528\u7684\u662f\u517c\u5bb9 webpack5 \u7684\u4fee\u6539\u7248\u672c\uff1asorrycc/webpack-chain\u3002\n\n\n\u53c2\u8003\u8303\u4f8b\n\n\n\u4fee\u6539 LOADER\n\nLoader \u53ef\u4ee5\u8bfb\u53d6\u548c\u5904\u7406\u4e0d\u540c\u7c7b\u578b\u7684\u6587\u4ef6\u6a21\u5757\uff0c\u5177\u4f53\u53c2\u8003 concepts \u548c loaders\u3002\n\n\n\nexport const PluginTypeScriptExt = (): BuilderPlugin => ({\n  name: 'builder-typescript-ext',\n  setup(api) {\n    api.modifyWebpackChain(async chain => {\n      // \u8bbe\u7f6e ts-loader \u5c06\u66f4\u591a\u7684\u6587\u4ef6\u8bc6\u522b\u4e3a typescript \u6a21\u5757\n      chain.module\n        .rule(CHAIN_ID.RULE.TS)\n        .test(/\\.(ts|mts|cts|tsx|tss|tsm)$/);\n    });\n  },\n});\n\n\n\n\u6dfb\u52a0\u6a21\u5757\u5165\u53e3\n\n\n\nexport const PluginAdminPanel = (): BuilderPlugin => ({\n  name: 'builder-admin-panel',\n  setup(api) {\n    api.modifyWebpackChain(async chain => {\n      config\n        .entry('admin-panel')\n        .add('src/admin/panel.js');\n    });\n  },\n});\n\n\n\n\u63a5\u5165 WEBPACK \u63d2\u4ef6\n\n\u5f00\u53d1\u8005\u53ef\u4ee5\u5728 Builder \u63d2\u4ef6\u4e2d\u63a5\u5165\u5df2\u6709\u7684 webpack \u63d2\u4ef6\u6765\u5e73\u7f13\u8fc1\u79fb\u9879\u76ee\uff1a\n\n\n\n\nexport const PluginInspector = (options?: Options): BuilderPlugin => ({\n  name: 'builder-plugin-inspector',\n  setup(api) {\n    api.modifyWebpackChain(async chain => {\n      // \u4ec5\u5728\u9700\u8981\u7684\u65f6\u5019\u52a8\u6001\u52a0\u8f7d\u6a21\u5757\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u6027\u80fd\u6d88\u8017\n      const { InspectorWebpackPlugin } = await import(\n        '@modern-js/inspector-webpack-plugin'\n      );\n      // \u4fee\u6539 webpack chain \u63a5\u5165\u63d2\u4ef6\n      chain\n        .plugin('inspector-webpack-plugin')\n        .use(InspectorWebpackPlugin, [inspectorOptions]);\n    });\n  },\n});\n",frontmatter:{}},{id:296,title:"\u603b\u89c8",routePath:"/builder/plugins/list",toc:[{id:"\u5b98\u65b9\u63d2\u4ef6",text:"\u5b98\u65b9\u63d2\u4ef6",depth:2}],content:"\u603b\u89c8\n\n\n\u5b98\u65b9\u63d2\u4ef6\n\n * @modern-js/builder-plugin-swc\uff1a\u4f7f\u7528 SWC \u8fdb\u884c\u4ee3\u7801\u7f16\u8bd1\u548c\u538b\u7f29\u4ee5\u63d0\u5347\u6784\u5efa\u6027\u80fd\u3002\n * @modern-js/builder-plugin-stylus\uff1a\u4f7f\u7528 Stylus \u4f5c\u4e3a CSS \u9884\u5904\u7406\u5668\u3002\n * @modern-js/builder-plugin-esbuild\uff1a\u4f7f\u7528 esbuild \u8fdb\u884c\u4ee3\u7801\u7f16\u8bd1\u548c\u538b\u7f29\u4ee5\u63d0\u5347\u6784\u5efa\u6027\u80fd\u3002\n * @modern-js/builder-plugin-node-polyfill\uff1a\u6ce8\u5165 Node \u6838\u5fc3\u6a21\u5757\u5728\u6d4f\u89c8\u5668\u7aef\u7684 Polyfills\u3002\n * @modern-js/builder-plugin-image-compress\uff1a\u5c06\u9879\u76ee\u4e2d\u7528\u5230\u7684\u56fe\u7247\u8d44\u6e90\u8fdb\u884c\u538b\u7f29\u5904\u7406\u3002\n\n\u4f60\u53ef\u4ee5\u5728 modern.js/packages/builder \u76ee\u5f55\u4e0b\u627e\u5230\u8fd9\u4e9b\u63d2\u4ef6\u7684\u6e90\u4ee3\u7801\u3002",frontmatter:{}},{id:297,title:"Esbuild \u63d2\u4ef6",routePath:"/builder/plugins/plugin-esbuild",toc:[{id:"\u5feb\u901f\u5f00\u59cb",text:"\u5feb\u901f\u5f00\u59cb",depth:2},{id:"\u5b89\u88c5\u63d2\u4ef6",text:"\u5b89\u88c5\u63d2\u4ef6",depth:3},{id:"\u6ce8\u518c\u63d2\u4ef6",text:"\u6ce8\u518c\u63d2\u4ef6",depth:3},{id:"\u914d\u7f6e-5",text:"\u914d\u7f6e",depth:2},{id:"loader-1",text:"loader",depth:3},{id:"\u4fee\u6539\u76ee\u6807\u73af\u5883",text:"\u4fee\u6539\u76ee\u6807\u73af\u5883",depth:4},{id:"\u5173\u95ed\u4ee3\u7801\u8f6c\u8bd1",text:"\u5173\u95ed\u4ee3\u7801\u8f6c\u8bd1",depth:4},{id:"minimize-1",text:"minimize",depth:3},{id:"\u4fee\u6539\u76ee\u6807\u73af\u5883-1",text:"\u4fee\u6539\u76ee\u6807\u73af\u5883",depth:4},{id:"\u5173\u95ed\u4ee3\u7801\u538b\u7f29",text:"\u5173\u95ed\u4ee3\u7801\u538b\u7f29",depth:4},{id:"esbuild-\u5c40\u9650\u6027",text:"esbuild \u5c40\u9650\u6027",depth:2},{id:"\u517c\u5bb9\u6027",text:"\u517c\u5bb9\u6027",depth:3},{id:"\u4e0d\u652f\u6301-babel-\u63d2\u4ef6",text:"\u4e0d\u652f\u6301 Babel \u63d2\u4ef6",depth:3},{id:"\u4ea7\u7269\u4f53\u79ef",text:"\u4ea7\u7269\u4f53\u79ef",depth:3}],content:"ESBUILD \u63d2\u4ef6\n\n:::tip esbuild \u4ecb\u7ecd esbuild \u662f\u4e00\u6b3e\u57fa\u4e8e Golang \u5f00\u53d1\u7684\u524d\u7aef\u6784\u5efa\u5de5\u5177\uff0c\u5177\u6709\u6253\u5305\u3001\u7f16\u8bd1\u548c\u538b\u7f29 JavaScript\n\u4ee3\u7801\u7684\u529f\u80fd\uff0c\u76f8\u6bd4\u4f20\u7edf\u7684\u6253\u5305\u7f16\u8bd1\u5de5\u5177\uff0cesbuild \u5728\u6027\u80fd\u4e0a\u6709\u663e\u8457\u63d0\u5347\u3002\u5728\u4ee3\u7801\u538b\u7f29\u65b9\u9762\uff0c\u76f8\u6bd4 webpack \u5185\u7f6e\u7684 terser \u538b\u7f29\u5668\uff0cesbuild\n\u5728\u6027\u80fd\u4e0a\u6709\u6570\u5341\u500d\u7684\u63d0\u5347\u3002 :::\n\nBuilder \u63d0\u4f9b\u4e86 esbuild \u63d2\u4ef6\uff0c\u8ba9\u4f60\u80fd\u4f7f\u7528 esbuild \u4ee3\u66ff babel-loader\u3001ts-loader \u548c terser\n\u7b49\u5e93\u8fdb\u884c\u4ee3\u7801\u7f16\u8bd1\u548c\u538b\u7f29\u3002\u5728\u5927\u578b\u5de5\u7a0b\u4e2d\u542f\u7528 esbuild \u540e\uff0c\u53ef\u4ee5\u5927\u5e45\u5ea6\u51cf\u5c11\u4ee3\u7801\u7f16\u8bd1\u548c\u538b\u7f29\u6240\u9700\u7684\u65f6\u95f4\uff0c\u540c\u65f6\u6709\u6548\u907f\u514d OOM (heap out of\nmemory) \u95ee\u9898\u3002\n\n\n\u5feb\u901f\u5f00\u59cb\n\n\n\u5b89\u88c5\u63d2\u4ef6\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u7684\u547d\u4ee4\u5b89\u88c5\u63d2\u4ef6:\n\n# npm\nnpm install @modern-js/builder-plugin-esbuild -D\n\n# yarn\nyarn add @modern-js/builder-plugin-esbuild -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-esbuild -D\n\n\n\n\u6ce8\u518c\u63d2\u4ef6\n\n\u5728 {MODERN_JS} / EdenX \u7b49\u4e0a\u5c42\u6846\u67b6\u4e2d\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 builderPlugins \u914d\u7f6e\u9879\u6765\u6ce8\u518c esbuild \u63d2\u4ef6\uff1a\n\n\n\nexport default {\n  builderPlugins: [PluginEsbuild()],\n};\n\n\n\u5f53\u4f60\u76f4\u63a5\u8c03\u7528 Builder \u7684 Node API \u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 addPlugins \u65b9\u6cd5\u6765\u6ce8\u518c esbuild \u63d2\u4ef6\uff1a\n\n\n\n// \u5f80 builder \u5b9e\u4f8b\u4e0a\u6dfb\u52a0\u63d2\u4ef6\nbuilder.addPlugins([PluginEsbuild()]);\n\n\n\n\u914d\u7f6e\n\n\u63d2\u4ef6\u9ed8\u8ba4\u4f1a\u5f00\u542f\u4ee3\u7801\u8f6c\u8bd1\u548c\u4ee3\u7801\u538b\u7f29\u7684\u529f\u80fd\uff0c\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u6765\u81ea\u5b9a\u4e49\u63d2\u4ef6\u7684\u884c\u4e3a\u3002\n\n\nLOADER\n\n * Type:\n\ntype LoaderOptions = EsbuildLoaderOptions | false | undefined;\n\n\n * Default:\n\nconst defaultOptions = {\n  target: 'es2015',\n  charset: builderConfig.output.charset,\n};\n\n\n\u8fd9\u4e2a\u9009\u9879\u7528\u4e8e\u542f\u7528 JavaScript \u548c TypeScript \u7684\u8f6c\u8bd1\uff0c\u542f\u7528\u65f6\u5c06\u4f1a\u4f7f\u7528 esbuild-loader \u66ff\u6362 babel-loader \u548c\nts-loader\u3002\n\n\u5982\u679c\u4f60\u9700\u8981\u4fee\u6539\u8f6c\u8bd1\u53c2\u6570\uff0c\u53ef\u4ee5\u67e5\u770b esbuild-loader \u6587\u6863\u3002\n\n\u4fee\u6539\u76ee\u6807\u73af\u5883\n\n\u901a\u8fc7 target \u9009\u9879\u6765\u4fee\u6539\u4ee3\u7801\u8f6c\u8bd1\u7684\u76ee\u6807\u73af\u5883\u3002target \u53ef\u4ee5\u76f4\u63a5\u8bbe\u7f6e\u4e3a JavaScript \u8bed\u8a00\u7248\u672c\uff0c\u6bd4\u5982\nes6\uff0ces2020\uff1b\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u82e5\u5e72\u4e2a\u76ee\u6807\u73af\u5883\uff0c\u6bcf\u4e2a\u76ee\u6807\u73af\u5883\u90fd\u662f\u4e00\u4e2a\u73af\u5883\u540d\u79f0\u540e\u8ddf\u4e00\u4e2a\u7248\u672c\u53f7\uff0c\u6bd4\u5982 ['chrome58', 'edge16'\n,'firefox57']\u3002target \u5b57\u6bb5\u7684\u8be6\u7ec6\u4ecb\u7ecd\u53ef\u4ee5\u53c2\u8003 esbuild - target\u3002\n\ntarget \u652f\u6301\u8bbe\u7f6e\u4e3a\u4ee5\u4e0b\u73af\u5883\uff1a\n\n * chrome\n * edge\n * firefox\n * ie\n * ios\n * node\n * opera\n * safari\n\nPluginEsbuild({\n  loader: {\n    target: 'chrome61',\n  },\n});\n\n\n\u5173\u95ed\u4ee3\u7801\u8f6c\u8bd1\n\n\u5c06 loader \u8bbe\u7f6e\u4e3a false \u6765\u5173\u95ed esbuild \u4ee3\u7801\u8f6c\u8bd1\uff0c\u6b64\u65f6 Builder \u4f1a\u7ee7\u7eed\u4f7f\u7528 Babel \u6765\u8fdb\u884c\u4ee3\u7801\u8f6c\u8bd1\u3002\n\nPluginEsbuild({\n  loader: false,\n});\n\n\n\nMINIMIZE\n\n * Type:\n\ntype MinimizeOptions = EsbuildMinifyOptions | false | undefined;\n\n\n * Default:\n\nconst defaultOptions = {\n  css: true,\n  target: 'es2015',\n};\n\n\n\u8fd9\u4e2a\u9009\u9879\u7528\u4e8e\u542f\u7528 JavaScript \u548c CSS \u7684\u4ee3\u7801\u538b\u7f29\u3002\n\n\u5982\u679c\u4f60\u9700\u8981\u4fee\u6539\u538b\u7f29\u53c2\u6570\uff0c\u53ef\u4ee5\u67e5\u770b esbuild-loader \u6587\u6863\u3002\n\n\u4fee\u6539\u76ee\u6807\u73af\u5883\n\n\u901a\u8fc7 target \u9009\u9879\u6765\u4fee\u6539\u4ee3\u7801\u538b\u7f29\u7684\u76ee\u6807\u73af\u5883\u3002\n\nPluginEsbuild({\n  minimize: {\n    target: 'chrome61',\n  },\n});\n\n\n\u5173\u95ed\u4ee3\u7801\u538b\u7f29\n\n\u5c06 minimize \u8bbe\u7f6e\u4e3a false \u6765\u5173\u95ed esbuild \u4ee3\u7801\u538b\u7f29\uff0c\u6b64\u65f6 Builder \u4f1a\u7ee7\u7eed\u4f7f\u7528 Terser \u8fdb\u884c\u4ee3\u7801\u538b\u7f29\u3002\n\nPluginEsbuild({\n  minimize: false,\n});\n\n\n\nESBUILD \u5c40\u9650\u6027\n\n\u867d\u7136 esbuild \u80fd\u7ed9\u73b0\u6709\u7684 webpack \u9879\u76ee\u5e26\u6765\u660e\u663e\u7684\u6784\u5efa\u6027\u80fd\u63d0\u5347\uff0c\u4f46\u8fd9\u4e2a\u5de5\u5177\u5728\u63a5\u5165 Builder\n\u65f6\u8fd8\u5b58\u5728\u4e00\u5b9a\u7684\u5c40\u9650\u6027\uff0c\u9700\u8981\u5927\u5bb6\u5728\u63a5\u5165\u7684\u65f6\u5019\u683c\u5916\u6ce8\u610f\u3002\n\n\n\u517c\u5bb9\u6027\n\n\u4f7f\u7528 esbuild \u8fdb\u884c\u4ee3\u7801\u8f6c\u8bd1\u65f6\uff08\u5373 loader \u80fd\u529b\uff09\uff0cesbuild \u901a\u5e38\u6700\u4f4e\u652f\u6301\u5230 ES2015\uff08\u5373 ES6\uff09\u8bed\u6cd5\uff0c\u5e76\u4e14\u4e0d\u5177\u5907\u81ea\u52a8\u6ce8\u5165\nPolyfill \u7684\u80fd\u529b\u3002\u5982\u679c\u751f\u4ea7\u73af\u5883\u9700\u8981\u964d\u7ea7\u5230 ES5 \u53ca\u4ee5\u4e0b\u7684\u8bed\u6cd5\uff0c\u5efa\u8bae\u4f7f\u7528 SWC \u7f16\u8bd1\u3002\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u7684\u914d\u7f6e\u6307\u5b9a\u76ee\u6807\u8bed\u6cd5\u7248\u672c:\n\nPluginEsbuild({\n  loader: {\n    target: 'es2015',\n  },\n});\n\n\n\u4f7f\u7528 esbuild \u8fdb\u884c\u4ee3\u7801\u538b\u7f29\u65f6\uff08\u5373 minimize \u80fd\u529b\uff09\uff0cesbuild \u53ef\u4ee5\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u8fdb\u884c\u538b\u7f29\u548c\u6df7\u6dc6\uff0c\u901a\u5e38\u6700\u4f4e\u652f\u6301\u5230 ES2015 \u8bed\u6cd5\u3002\n\n\u5982\u679c\u8bbe\u7f6e\u538b\u7f29\u7684 target \u4e3a es5\uff0c\u9700\u8981\u4fdd\u8bc1\u6240\u6709\u4ee3\u7801\u5df2\u7ecf\u88ab\u8f6c\u4e49\u4e3a ES5 \u4ee3\u7801\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4 esbuild \u7f16\u8bd1\u62a5\u9519\uff1aTransforming 'xxx'\nto the configured target environment (\"es5\") is not supported yet\u3002\n\n\u56e0\u6b64\uff0c\u5bf9\u4e8e\u751f\u4ea7\u73af\u5883\u9700\u8981\u517c\u5bb9 ES5 \u53ca\u4ee5\u4e0b\u8bed\u6cd5\u7684\u9879\u76ee\uff0c\u8bf7\u8c28\u614e\u5f00\u542f minimize \u80fd\u529b\uff0c\u5efa\u8bae\u4f7f\u7528 SWC \u538b\u7f29\u3002\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u7684\u914d\u7f6e\u6307\u5b9a\u76ee\u6807\u8bed\u6cd5\u7248\u672c:\n\nPluginEsbuild({\n  minimize: {\n    target: 'es2015',\n  },\n});\n\n\n\n\u4e0d\u652f\u6301 BABEL \u63d2\u4ef6\n\n\u4f7f\u7528 esbuild \u8fdb\u884c\u4ee3\u7801\u8f6c\u8bd1\u65f6\uff0c\u8bf8\u5982 babel-plugin-import \u7b49\u539f\u6709 Babel \u63d2\u4ef6\u7684\u8bed\u6cd5\u7f16\u8bd1\u529f\u80fd\u5728\u5f00\u542f esbuild\n\u540e\u65e0\u6cd5\u4f7f\u7528\u3002\u5e76\u4e14\u7531\u4e8e Builder \u5e95\u5c42\u4f7f\u7528\u7684\u662f esbuild \u7684 Transform API\uff0c\u56e0\u6b64\u4e0d\u652f\u6301\u4f7f\u7528\u989d\u5916 esbuild\n\u63d2\u4ef6\u6765\u8fdb\u884c\u81ea\u5b9a\u4e49\u7f16\u8bd1\u8fc7\u7a0b\u3002\n\n\u5982\u679c\u4f60\u6709 babel-plugin-import \u7b49 Babel \u63d2\u4ef6\u76f8\u5173\u8bc9\u6c42\uff0c\u53ef\u4ee5\u4f7f\u7528 SWC \u63d2\u4ef6\u3002\n\n\n\u4ea7\u7269\u4f53\u79ef\n\n\u4f7f\u7528 esbuild \u538b\u7f29\u867d\u7136\u5e26\u6765\u4e86\u6784\u5efa\u6548\u7387\u4e0a\u7684\u63d0\u5347\uff0c\u4f46 esbuild \u7684\u538b\u7f29\u6bd4\u4f8b\u662f\u4f4e\u4e8e terser\n\u7684\uff0c\u56e0\u6b64\u6784\u5efa\u4ea7\u7269\u7684\u4f53\u79ef\u4f1a\u589e\u5927\uff0c\u8bf7\u6839\u636e\u4e1a\u52a1\u60c5\u51b5\u914c\u60c5\u4f7f\u7528\u3002\u901a\u5e38\u6765\u8bf4\uff0cesbuild \u6bd4\u8f83\u9002\u5408\u4e2d\u540e\u53f0\u7b49\u5bf9\u4f53\u79ef\u4e0d\u654f\u611f\u7684\u573a\u666f\u3002\n\n\u5bf9\u4e8e\u538b\u7f29\u5de5\u5177\u4e4b\u95f4\u7684\u8be6\u7ec6\u5bf9\u6bd4\uff0c\u53ef\u4ee5\u53c2\u8003 minification-benchmarks\u3002",frontmatter:{}},{id:298,title:"Image Compress \u63d2\u4ef6",routePath:"/builder/plugins/plugin-image-compress",toc:[{id:"\u5feb\u901f\u5f00\u59cb-1",text:"\u5feb\u901f\u5f00\u59cb",depth:2},{id:"\u5b89\u88c5\u63d2\u4ef6-1",text:"\u5b89\u88c5\u63d2\u4ef6",depth:3},{id:"\u6ce8\u518c\u63d2\u4ef6-1",text:"\u6ce8\u518c\u63d2\u4ef6",depth:3},{id:"\u914d\u7f6e\u9879-1",text:"\u914d\u7f6e\u9879",depth:2}],content:"IMAGE COMPRESS \u63d2\u4ef6\n\nImage Compress \u63d2\u4ef6\u4f1a\u5c06\u9879\u76ee\u4e2d\u7528\u5230\u7684\u56fe\u7247\u8d44\u6e90\u8fdb\u884c\u538b\u7f29\u5904\u7406\uff0c\u8fdb\u800c\u5728\u56fe\u7247\u89c6\u89c9\u89c2\u611f\u4e0d\u53d7\u5f71\u54cd\u7684\u540c\u65f6\u51cf\u5c0f\u4ea7\u7269\u4f53\u79ef\u3002\n\n\n\u5feb\u901f\u5f00\u59cb\n\n\n\u5b89\u88c5\u63d2\u4ef6\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u7684\u547d\u4ee4\u5b89\u88c5\u63d2\u4ef6:\n\n# npm\nnpm install @modern-js/builder-plugin-image-compress -D\n\n# yarn\nyarn add @modern-js/builder-plugin-image-compress -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-image-compress -D\n\n\n\n\u6ce8\u518c\u63d2\u4ef6\n\n\u5728 {MODERN_JS} / EdenX \u7b49\u4e0a\u5c42\u6846\u67b6\u4e2d\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 builderPlugins \u914d\u7f6e\u9879\u6765\u6ce8\u518c Image Compress \u63d2\u4ef6\uff1a\n\n\n\nexport default {\n  builderPlugins: [PluginImageCompress()],\n};\n\n\n\u5f53\u4f60\u76f4\u63a5\u8c03\u7528 Builder \u7684 Node API \u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 addPlugins \u65b9\u6cd5\u6765\u6ce8\u518c Image Compress \u63d2\u4ef6\uff1a\n\n\n\n// \u5f80 builder \u5b9e\u4f8b\u4e0a\u6dfb\u52a0\u63d2\u4ef6\nbuilder.addPlugins([PluginImageCompress()]);\n\n\n\n\u914d\u7f6e\u9879\n\n\u63d2\u4ef6\u63a5\u53d7\u4e00\u7cfb\u5217\u538b\u7f29\u5668\u914d\u7f6e\u9879\u7ec4\u6210\u7684\u6570\u7ec4\uff0c\u6570\u7ec4\u7684\u6bcf\u4e00\u9879\u65e2\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u4e5f\u53ef\u4ee5\u662f\u5bf9\u8c61\u3002\u5b57\u7b26\u4e32\u4ee3\u8868\u4f7f\u7528\u5bf9\u5e94\u540d\u79f0\u7684\u538b\u7f29\u5668\u5e76\u542f\u7528\u5176\u9ed8\u8ba4\u914d\u7f6e\uff0c \u6216\u662f\u4f7f\u7528\u5bf9\u8c61\u683c\u5f0f\u914d\u7f6e\u5e76\u5728 use\n\u5b57\u6bb5\u6307\u5b9a\u538b\u7f29\u5668\uff0c\u5bf9\u8c61\u7684\u5269\u4f59\u5b57\u6bb5\u5c06\u4f5c\u4e3a\u538b\u7f29\u5668\u7684\u914d\u7f6e\u9879\u3002\n\n\u63d2\u4ef6\u9ed8\u8ba4\u4f1a\u5f00\u542f jpeg, png, ico \u4e09\u79cd\u56fe\u7247\u538b\u7f29\u5668\uff0c\u5373\u7b49\u540c\u4e8e\u5982\u4e0b\u4e24\u79cd\u5199\u6cd5\u7684\u914d\u7f6e\uff1a\n\nPluginImageCompress(['jpeg', 'png', 'ico']);\n\n\nPluginImageCompress([\n  { use: 'jpeg' },\n  { use: 'png' },\n  { use: 'ico' },\n]);\n\n\n\u901a\u8fc7\u6307\u5b9a\u914d\u7f6e\u9879\u53ef\u4ee5\u8986\u76d6\u9ed8\u8ba4\u914d\u7f6e\uff0c\u4f8b\u5982\u8ba9 jpeg \u538b\u7f29\u5668\u8bc6\u522b\u65b0\u7684\u62d3\u5c55\u540d\u5e76\u8bbe\u7f6e png \u538b\u7f29\u5668\u7684\u8d28\u91cf\uff1a\n\nPluginImageCompress([\n  { use: 'jpeg', test: /\\.(jpg|jpeg|jpe)$/ },\n  { use: 'png', minQuality: 50 },\n  'ico',\n]);\n\n\n\u9ed8\u8ba4\u7684 png \u538b\u7f29\u5668\u4e3a\u6709\u635f\u538b\u7f29\uff0c\u5982\u679c\u9700\u8981\u5c06\u5176\u66ff\u6362\u4e3a\u65e0\u635f\u538b\u7f29\u5668\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u914d\u7f6e\uff1a\n\nPluginImageCompress(['jpeg', 'pngLossless', 'ico']);\n\n\n\u914d\u7f6e\u9879\u5217\u8868\u6700\u7ec8\u4f1a\u8f6c\u6362\u6210\u5bf9\u5e94\u7684 bundler loader \u914d\u7f6e\uff0c\u56e0\u6b64\u538b\u7f29\u5668\u4e5f\u9075\u5faa\u4ece\u4e0b\u5230\u4e0a\u4f9d\u6b21\u5339\u914d\u7684\u89c4\u5219\u3002 \u4f8b\u5982\u5bf9\u4e8e\u5982\u4e0b\u914d\u7f6e\uff0cpng \u538b\u7f29\u5668\u4f1a\u4f18\u5148\u4e8e\npngLossless \u538b\u7f29\u5668\u751f\u6548\uff1a\n\nPluginImageCompress(['jpeg', 'pngLossless', 'ico', 'png']);\n\n\n\u538b\u7f29\u5668\u7684\u5177\u4f53\u914d\u7f6e\u9879\u8bf7\u53c2\u8003 @napi-rs/image\u3002",frontmatter:{}},{id:299,title:"Node Polyfill \u63d2\u4ef6",routePath:"/builder/plugins/plugin-node-polyfill",toc:[{id:"\u5feb\u901f\u5f00\u59cb-2",text:"\u5feb\u901f\u5f00\u59cb",depth:2},{id:"\u5b89\u88c5\u63d2\u4ef6-2",text:"\u5b89\u88c5\u63d2\u4ef6",depth:3},{id:"\u6ce8\u518c\u63d2\u4ef6-2",text:"\u6ce8\u518c\u63d2\u4ef6",depth:3},{id:"node-polyfills-1",text:"Node Polyfills",depth:2},{id:"globals-1",text:"Globals",depth:3},{id:"modules-1",text:"Modules",depth:3}],content:"NODE POLYFILL \u63d2\u4ef6\n\n:::tip Node Polyfill \u4ecb\u7ecd \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u4f1a\u5728\u6d4f\u89c8\u5668\u7aef\u4f7f\u7528 Node \u6a21\u5757\u3002\u4f46\u5728\u5f53\u524d\u4ee3\u7801\u9700\u8981\u540c\u65f6\u5728 Node\n\u7aef\u548c\u6d4f\u89c8\u5668\u7aef\u8fd0\u884c\u65f6\uff0c\u7528\u5230\u4e00\u4e9b Node \u6a21\u5757\u662f\u6709\u53ef\u80fd\u7684\u3002Node Polyfill \u4e3a\u8fd9\u4e9b Node \u6a21\u5757\u63d0\u4f9b\u4e86\u6d4f\u89c8\u5668\u7248\u672c\u7684 polyfills\u3002 :::\n\n\u901a\u8fc7\u4f7f\u7528 Node Polyfill \u63d2\u4ef6\uff0c\u4f1a\u81ea\u52a8\u6ce8\u5165 Node \u6838\u5fc3\u6a21\u5757\u5728\u6d4f\u89c8\u5668\u7aef\u7684 polyfills\uff0c\u8ba9\u4f60\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u7aef\u653e\u5fc3\u4f7f\u7528\u8fd9\u4e9b\u6a21\u5757\u3002\n\n\n\u5feb\u901f\u5f00\u59cb\n\n\n\u5b89\u88c5\u63d2\u4ef6\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u7684\u547d\u4ee4\u5b89\u88c5\u63d2\u4ef6:\n\n# npm\nnpm install @modern-js/builder-plugin-node-polyfill -D\n\n# yarn\nyarn add @modern-js/builder-plugin-node-polyfill -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-node-polyfill -D\n\n\n\n\u6ce8\u518c\u63d2\u4ef6\n\n\u5728 {MODERN_JS} / EdenX \u7b49\u4e0a\u5c42\u6846\u67b6\u4e2d\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 builderPlugins \u914d\u7f6e\u9879\u6765\u6ce8\u518c node polyfill \u63d2\u4ef6\uff1a\n\n\n\nexport default {\n  builderPlugins: [PluginNodePolyfill()],\n};\n\n\n\u5f53\u4f60\u76f4\u63a5\u8c03\u7528 Builder \u7684 Node API \u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 addPlugins \u65b9\u6cd5\u6765\u6ce8\u518c node polyfill \u63d2\u4ef6\uff1a\n\n\n\n// \u5f80 builder \u5b9e\u4f8b\u4e0a\u6dfb\u52a0\u63d2\u4ef6\nbuilder.addPlugins([PluginNodePolyfill()]);\n\n\n\nNODE POLYFILLS\n\n\nGLOBALS\n\n * Buffer\n * process\n\n\u5f53\u76f4\u63a5\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528\u4ee5\u4e0a\u6a21\u5757\u65f6\uff0c\u5bf9\u5e94 polyfill \u4f1a\u88ab\u6ce8\u5165\u3002\n\nconst bufferData = Buffer.from('xxxx');\n\n\n\nMODULES\n\n * assert\n * buffer\n * console\n * constants\n * crypto\n * domain\n * events\n * http\n * https\n * os\n * path\n * punycode\n * process\n * querystring\n * stream\n * _stream_duplex\n * _stream_passthrough\n * _stream_readable\n * _stream_transform\n * _stream_writable\n * string_decoder\n * sys\n * timers\n * tty\n * url\n * util\n * vm\n * zlib\n\n\u5f53\u901a\u8fc7 import / require \u7b49\u8bed\u6cd5\u5728\u4ee3\u7801\u4e2d\u5f15\u7528\u4ee5\u4e0a\u6a21\u5757\u65f6\uff0c\u5bf9\u5e94 polyfill \u4f1a\u88ab\u6ce8\u5165\u3002\n\n\n\nconst bufferData = Buffer.from('xxxx');\n",frontmatter:{}},{id:300,title:"Stylus \u63d2\u4ef6",routePath:"/builder/plugins/plugin-stylus",toc:[{id:"\u5feb\u901f\u5f00\u59cb-3",text:"\u5feb\u901f\u5f00\u59cb",depth:2},{id:"\u5b89\u88c5\u63d2\u4ef6-3",text:"\u5b89\u88c5\u63d2\u4ef6",depth:3},{id:"\u6ce8\u518c\u63d2\u4ef6-3",text:"\u6ce8\u518c\u63d2\u4ef6",depth:3},{id:"\u793a\u4f8b-47",text:"\u793a\u4f8b",depth:2},{id:"\u914d\u7f6e-6",text:"\u914d\u7f6e",depth:2},{id:"stylusoptions-1",text:"stylusOptions",depth:3},{id:"sourcemap-1",text:"sourceMap",depth:3}],content:"STYLUS \u63d2\u4ef6\n\nStylus \u662f\u4e00\u4e2a\u5bcc\u4e8e\u8868\u73b0\u529b\u3001\u52a8\u6001\u7684\u3001\u5065\u58ee\u7684 CSS \u9884\u5904\u7406\u5668\uff0c\u672c\u7ae0\u8282\u4ecb\u7ecd\u5982\u4f55\u5728 Builder \u4e2d\u4f7f\u7528 Stylus\u3002\n\n\n\u5feb\u901f\u5f00\u59cb\n\n\n\u5b89\u88c5\u63d2\u4ef6\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u7684\u547d\u4ee4\u5b89\u88c5\u63d2\u4ef6:\n\n# npm\nnpm install @modern-js/builder-plugin-stylus -D\n\n# yarn\nyarn add @modern-js/builder-plugin-stylus -D\n\n# pnpm\npnpm install @modern-js/builder-plugin-stylus -D\n\n\n\n\u6ce8\u518c\u63d2\u4ef6\n\n\u5728 {MODERN_JS} / EdenX \u7b49\u4e0a\u5c42\u6846\u67b6\u4e2d\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 builderPlugins \u914d\u7f6e\u9879\u6765\u6ce8\u518c Stylus \u63d2\u4ef6\uff1a\n\n\n\nexport default {\n  builderPlugins: [PluginStylus()],\n};\n\n\n\u5f53\u4f60\u76f4\u63a5\u8c03\u7528 Builder \u7684 Node API \u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 addPlugins \u65b9\u6cd5\u6765\u6ce8\u518c Stylus \u63d2\u4ef6\uff1a\n\n\n\n// \u5f80 builder \u5b9e\u4f8b\u4e0a\u6dfb\u52a0\u63d2\u4ef6\nbuilder.addPlugins([PluginStylus()]);\n\n\n\n\u793a\u4f8b\n\n\u5b89\u88c5\u5b8c\u63d2\u4ef6\u540e\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u5728\u4ee3\u7801\u4e2d\u5f15\u5165 *.styl \u6216 *.module.styl \u6587\u4ef6\uff0c\u65e0\u987b\u6dfb\u52a0\u5176\u4ed6\u914d\u7f6e\u3002\n\n * normalize.styl:\n\nbody\n  color #000\n  font 14px Arial, sans-serif\n\n\n * title.module.styl:\n\n.title\n  font-size: 14px;\n\n\n * index.js:\n\nimport './normalize.styl';\n\n\nconsole.log(style.title);\n\n\n\n\u914d\u7f6e\n\n\u5982\u679c\u4f60\u9700\u8981\u81ea\u5b9a\u4e49 Stylus \u7684\u7f16\u8bd1\u884c\u4e3a\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u9879\u3002\n\n\nSTYLUSOPTIONS\n\n * Type:\n\ntype StylusOptions = {\n  use?: string[];\n  include?: string;\n  import?: string;\n  resolveURL?: boolean;\n  lineNumbers?: boolean;\n  hoistAtrules?: boolean;\n};\n\n\n * Default: undefined\n\n\u4f20\u9012\u7ed9 Stylus \u7684\u9009\u9879\uff0c\u8bf7\u67e5\u9605 Stylus \u6587\u6863 \u6765\u4e86\u89e3\u5177\u4f53\u7528\u6cd5\u3002\n\nPluginStylus({\n  stylusOptions: {\n    lineNumbers: false,\n  },\n});\n\n\n\nSOURCEMAP\n\n * Type: boolean\n * Default: isDev\n\n\u662f\u5426\u751f\u6210 Source Map\uff0c\u9ed8\u8ba4\u5728\u5f00\u53d1\u73af\u5883\u4e0b\u542f\u7528\u3002\n\nPluginStylus({\n  sourceMap: false,\n});\n",frontmatter:{}},{id:301,title:"SWC \u63d2\u4ef6",routePath:"/builder/plugins/plugin-swc",toc:[{id:"\u5feb\u901f\u5f00\u59cb-4",text:"\u5feb\u901f\u5f00\u59cb",depth:2},{id:"\u5b89\u88c5",text:"\u5b89\u88c5",depth:3},{id:"\u6ce8\u518c\u63d2\u4ef6-4",text:"\u6ce8\u518c\u63d2\u4ef6",depth:3},{id:"\u914d\u7f6e-7",text:"\u914d\u7f6e",depth:2},{id:"presetreact-1",text:"presetReact",depth:3},{id:"presetenv-1",text:"presetEnv",depth:3},{id:"jsminify-1",text:"jsMinify",depth:3},{id:"extensions-1",text:"extensions",depth:3},{id:"extensionspluginimport-1",text:"extensions.pluginImport",depth:4},{id:"extensionsreactutils-1",text:"extensions.reactUtils",depth:4},{id:"extensionslodash-1",text:"extensions.lodash",depth:4},{id:"\u9650\u5236",text:"\u9650\u5236",depth:2}],content:"SWC \u63d2\u4ef6\n\nSWC (Speedy Web Compiler) \u662f\u57fa\u4e8e Rust \u8bed\u8a00\u7f16\u5199\u7684\u9ad8\u6027\u80fd JavaScript \u548c TypeScript \u8f6c\u8bd1\u548c\u538b\u7f29\u5de5\u5177\u3002\u5728\nPolyfill \u548c\u8bed\u6cd5\u964d\u7ea7\u65b9\u9762\u53ef\u4ee5\u548c Babel \u63d0\u4f9b\u4e00\u81f4\u7684\u80fd\u529b\uff0c\u5e76\u4e14\u6027\u80fd\u6bd4 Babel \u9ad8\u51fa\u4e00\u4e2a\u6570\u91cf\u7ea7\u3002\n\nModern.js Builder \u63d0\u4f9b\u4e86\u5f00\u7bb1\u5373\u7528\u7684 SWC \u63d2\u4ef6\uff0c\u53ef\u4ee5\u4e3a\u4f60\u7684 Web \u5e94\u7528\u63d0\u4f9b\u8bed\u6cd5\u964d\u7ea7\u3001Polyfill \u4ee5\u53ca\u538b\u7f29\uff0c\u5e76\u4e14\u79fb\u690d\u4e86\u4e00\u4e9b\u989d\u5916\u5e38\u89c1\u7684\nBabel \u63d2\u4ef6\u3002\n\n\n\u5feb\u901f\u5f00\u59cb\n\n\n\u5b89\u88c5\n\n\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u7684\u547d\u4ee4\u5b89\u88c5\u63d2\u4ef6:\n\n# npm\nnpm install @modern-js/builder-plugin-swc -D\n\n# yarn\nyarn add @modern-js/builder-plugin-swc -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-swc -D\n\n\n\n\u6ce8\u518c\u63d2\u4ef6\n\n\u5728 {MODERN_JS} / EdenX \u7b49\u4e0a\u5c42\u6846\u67b6\u4e2d\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 builderPlugins \u914d\u7f6e\u9879\u6765\u6ce8\u518c SWC \u63d2\u4ef6\uff1a\n\n\n\nexport default {\n  builderPlugins: [PluginSwc()],\n};\n\n\n\u5f53\u4f60\u76f4\u63a5\u8c03\u7528 Builder \u7684 Node API \u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 addPlugins \u65b9\u6cd5\u6765\u6ce8\u518c SWC \u63d2\u4ef6\uff1a\n\n\n\n// \u5f80 builder \u5b9e\u4f8b\u4e0a\u6dfb\u52a0\u63d2\u4ef6\nbuilder.addPlugins([PluginSwc()]);\n\n\nThat's it !\n\n\u73b0\u5728\u4f60\u53ef\u4ee5\u5728\u9879\u76ee\u4e2d\u65e0\u7f1d\u4f7f\u7528 SWC \u7684\u8f6c\u8bd1\u548c\u538b\u7f29\u80fd\u529b\u4e86\u3002\n\n\n\u914d\u7f6e\n\n * \u7c7b\u578b: PluginConfig\n\ntype PluginConfig = {\n  presetReact?: ReactConfig;\n  presetEnv?: EnvConfig;\n  jsMinify?: boolean | JsMinifyOptions;\n  extensions?: Extensions;\n};\n\n\n\nPRESETREACT\n\n * \u7c7b\u578b: SWC \u4e2d\u7684 presetReact\u3002\n\n\u5bf9\u6807 @babel/preset-react\u3002\u4f20\u5165\u7684\u503c\u4f1a\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u8fdb\u884c\u5408\u5e76\u3002\n\n\u63d2\u4ef6\u9ed8\u8ba4\u4f1a\u81ea\u52a8\u6839\u636e\u4f60\u7684 react \u7248\u672c\u786e\u5b9a runtime \u5b57\u6bb5\uff0c\u5982\u679c react \u7248\u672c\u5927\u4e8e 17.0.0\uff0c\u4f1a\u8bbe\u7f6e\u6210 automatic\uff0c\u5426\u5219\u8bbe\u7f6e\u6210\nclassic\u3002\n\n\nPRESETENV\n\n * \u7c7b\u578b: SWC \u4e2d\u7684 presetEnv\u3002\n\n\u5bf9\u6807 @babel/preset-env\u3002\u4f20\u5165\u7684\u503c\u4f1a\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u8fdb\u884c\u5408\u5e76\u3002 \u9ed8\u8ba4\u914d\u7f6e\u4e3a:\n\n{\n  targets: '', // \u81ea\u52a8\u4ece\u9879\u76ee\u4e2d\u83b7\u53d6 browserslist\n  mode: 'usage',\n}\n\n\n\nJSMINIFY\n\n * \u7c7b\u578b: boolean \u6216\u8005 terser \u4e2d\u7684 compress \u914d\u7f6e\u3002\n\n\u9ed8\u8ba4\u914d\u7f6e\u4e3a: { compress: {}, mangle: true }\u3002\n\n\u5982\u679c\u914d\u7f6e false \u5c06\u4e0d\u4f1a\u4f7f\u7528 SWC \u7684\u538b\u7f29\u80fd\u529b\uff0c\u914d\u7f6e true \u4f1a\u542f\u7528\u9ed8\u8ba4\u538b\u7f29\u914d\u7f6e\uff0c\u5982\u679c\u914d\u7f6e\u662f\u5bf9\u8c61\uff0c\u5219\u4f1a\u4e0e\u9ed8\u8ba4\u914d\u7f6e\u8fdb\u884c\u5408\u5e76\u3002\n\n\nEXTENSIONS\n\n * \u7c7b\u578b: Object\n\n\u4ece Babel \u79fb\u690d\u8fc7\u6765\u7684\u4e00\u4e9b\u63d2\u4ef6\u80fd\u529b\u3002\n\nEXTENSIONS.PLUGINIMPORT\n\n\u79fb\u690d\u81ea babel-plugin-import\uff0c\u914d\u7f6e\u9009\u9879\u4fdd\u6301\u4e00\u81f4\u3002\n\n\u4e00\u4e9b\u914d\u7f6e\u53ef\u4ee5\u4f20\u5165\u51fd\u6570\uff0c\u4f8b\u5982 customName\uff0ccustomStyleName \u7b49\uff0c\u8fd9\u4e9b JavaScript \u51fd\u6570\u4f1a\u7531 Rust \u901a\u8fc7 Node-API\n\u8c03\u7528\uff0c\u8fd9\u79cd\u8c03\u7528\u4f1a\u9020\u6210\u4e00\u4e9b\u6027\u80fd\u52a3\u5316\u3002\n\n\u7b80\u5355\u7684\u51fd\u6570\u903b\u8f91\u5176\u5b9e\u53ef\u4ee5\u901a\u8fc7\u6a21\u7248\u8bed\u8a00\u6765\u4ee3\u66ff\uff0c\u56e0\u6b64customName\uff0ccustomStyleName\n\u7b49\u8fd9\u4e9b\u914d\u7f6e\u9664\u4e86\u53ef\u4ee5\u4f20\u5165\u51fd\u6570\uff0c\u4e5f\u53ef\u4ee5\u4f20\u5165\u5b57\u7b26\u4e32\u4f5c\u4e3a\u6a21\u7248\u6765\u4ee3\u66ff\u51fd\u6570\uff0c\u63d0\u9ad8\u6027\u80fd\u3002\n\n\u6211\u4eec\u4ee5\u4e0b\u9762\u4ee3\u7801\u4e3a\u4f8b\u8bf4\u660e:\n\n\n\n\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\uff1a\n\nPluginSWC({\n  extensions: {\n    pluginImport: [\n      {\n        libraryName: 'foo',\n        customName: 'foo/es/{{ member }}'\n      },\n    ],\n  },\n});\n\n\n\u5176\u4e2d\u7684 {{ member }} \u4f1a\u88ab\u66ff\u6362\u4e3a\u76f8\u5e94\u7684\u5f15\u5165\u6210\u5458\uff0c\u8f6c\u6362\u540e:\n\n\n\n\u53ef\u4ee5\u770b\u51fa\u914d\u7f6e customName: \"foo/es/{{ member }}\" \u7684\u6548\u679c\u7b49\u540c\u4e8e\u914d\u7f6e customName: (member) =>\n`foo/es/${member}` \uff0c\u4f46\u662f\u4e0d\u4f1a\u6709 Node-API \u7684\u8c03\u7528\u5f00\u9500\u3002\n\n\u8fd9\u91cc\u4f7f\u7528\u5230\u7684\u6a21\u7248\u662f handlebars\uff0c\u6a21\u7248\u914d\u7f6e\u4e2d\u8fd8\u5185\u7f6e\u4e86\u4e00\u4e9b\u6709\u7528\u7684\u8f85\u52a9\u5de5\u5177\uff0c\u8fd8\u662f\u4ee5\u4e0a\u9762\u7684\u5bfc\u5165\u8bed\u53e5\u4e3a\u4f8b\uff0c\u914d\u7f6e\u6210\uff1a\n\nPluginSWC({\n  extensions: {\n    pluginImport: [\n      {\n        libraryName: 'foo',\n        customName: 'foo/es/{{ kebabCase member }}',\n      },\n    ],\n  },\n});\n\n\n\u4f1a\u8f6c\u6362\u6210\u4e0b\u9762\u7684\u7ed3\u679c:\n\n\n\n\u9664\u4e86 kebabCase \u4ee5\u5916\u8fd8\u6709 camelCase\uff0csnakeCase\uff0cupperCase\uff0clowerCase \u53ef\u4ee5\u4f7f\u7528\u3002\n\nEXTENSIONS.REACTUTILS\n\n * \u7c7b\u578b: Object\n\ntype ReactUtilsOptions = {\n  autoImportReact?: boolean;\n  removeEffect?: boolean;\n  removePropTypes?: {\n    mode?: 'remove' | 'unwrap' | 'unsafe-wrap';\n    removeImport?: boolean;\n    ignoreFilenames?: string[];\n    additionalLibraries?: string[];\n    classNameMatchers?: string[];\n  };\n};\n\n\n\u4e00\u4e9b\u7528\u4e8e React \u7684\u5de5\u5177\uff0c\u5305\u62ec\u4ee5\u4e0b\u914d\u7f6e\u9879:\n\nreactUtils.autoImportReact\n\n * \u7c7b\u578b: boolean\n\n\u81ea\u52a8\u5f15\u5165 React, ``\uff0c\u7528\u4e8e jsx \u8f6c\u6362\u4f7f\u7528 React.createElement\u3002\n\nreactUtils.removeEffect\n\n * \u7c7b\u578b: boolean\n\n\u79fb\u9664 useEffect \u8c03\u7528\u3002\n\nreactUtils.removePropTypes\n\n * \u7c7b\u578b:\n\ntype RemovePropTypesOptions = {\n  mode?: 'remove' | 'unwrap' | 'unsafe-wrap';\n  removeImport?: boolean;\n  ignoreFilenames?: string[];\n  additionalLibraries?: string[];\n  classNameMatchers?: string[];\n};\n\n\n\u79fb\u9664 React \u7ec4\u4ef6\u5728\u8fd0\u884c\u65f6\u7684\u7c7b\u578b\u5224\u65ad\u3002\u79fb\u690d\u81ea @babel/plugin-react-transform-remove-prop-types\u3002\n\n\u76f8\u5e94\u914d\u7f6e\u548c @babel/plugin-react-transform-remove-prop-types \u63d2\u4ef6\u4fdd\u6301\u4e00\u81f4\u3002\n\nEXTENSIONS.LODASH\n\n * \u7c7b\u578b: { cwd?: string; ids?: string;}\n * \u9ed8\u8ba4\u503c: { cwd: process.cwd(), ids: [] }\n\n\u79fb\u690d\u81ea @babel/plugin-lodash\u3002\n\n\n\u9650\u5236\n\n\u4e0d\u652f\u6301 @babel/plugin-transform-runtime \u4ee5\u53ca\u5176\u4ed6\u81ea\u5b9a\u4e49\u7684 Babel \u63d2\u4ef6\u3002",frontmatter:{}},{id:302,title:"\u6d4b\u8bd5",routePath:"/builder/plugins/testing",toc:[],content:"\u6d4b\u8bd5",frontmatter:{}},{id:303,title:"",routePath:"/builder/shared/getBuilderConfig",toc:[],content:"\u83b7\u53d6 Builder \u914d\u7f6e\uff0c\u8be5\u65b9\u6cd5\u5fc5\u987b\u5728 modifyBuilderConfig \u94a9\u5b50\u6267\u884c\u5b8c\u6210\u540e\u624d\u80fd\u88ab\u8c03\u7528\u3002\n\n * Type\n\nfunction GetBuilderConfig(): Readonly<BuilderConfig>;\n",frontmatter:{}},{id:304,title:"",routePath:"/builder/shared/getHTMLPaths",toc:[],content:"\u83b7\u53d6\u6240\u6709 HTML \u4ea7\u7269\u7684\u8def\u5f84\u4fe1\u606f\u3002\n\n\u8be5\u65b9\u6cd5\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u7684 key \u4e3a entry \u540d\u79f0\uff0cvalue \u4e3a HTML \u6587\u4ef6\u5728\u4ea7\u7269\u76ee\u5f55\u4e0b\u7684\u76f8\u5bf9\u8def\u5f84\u3002\n\n * Type\n\nfunction GetHTMLPaths(): Record<string, string>;\n",frontmatter:{}},{id:305,title:"",routePath:"/builder/shared/getNormalizedConfig",toc:[],content:"\u83b7\u53d6\u5f52\u4e00\u5316\u540e\u7684 Builder \u914d\u7f6e\uff0c\u8be5\u65b9\u6cd5\u5fc5\u987b\u5728 modifyBuilderConfig \u94a9\u5b50\u6267\u884c\u5b8c\u6210\u540e\u624d\u80fd\u88ab\u8c03\u7528\u3002\n\n\u76f8\u8f83\u4e8e getBuilderConfig \u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u7684\u914d\u7f6e\u7ecf\u8fc7\u4e86\u5f52\u4e00\u5316\u5904\u7406\uff0c\u914d\u7f6e\u7684\u7c7b\u578b\u5b9a\u4e49\u4f1a\u5f97\u5230\u6536\u655b\uff0c\u6bd4\u5982 config.html \u7684 undefined\n\u7c7b\u578b\u5c06\u88ab\u79fb\u9664\u3002\n\n\u63a8\u8350\u4f18\u5148\u4f7f\u7528\u8be5\u65b9\u6cd5\u83b7\u53d6\u914d\u7f6e\u3002\n\n * Type\n\nfunction GetNormalizedConfig(): Readonly<NormalizedConfig>;\n",frontmatter:{}},{id:306,title:"",routePath:"/builder/shared/isPluginExists",toc:[],content:"\u5224\u65ad\u67d0\u4e2a\u63d2\u4ef6\u662f\u5426\u5df2\u7ecf\u88ab\u6ce8\u518c\u3002\n\n * Type\n\nfunction IsPluginExists(pluginName: string): boolean;\n",frontmatter:{}},{id:307,title:"",routePath:"/builder/shared/onAfterBuild",toc:[],content:"\u5728\u6267\u884c\u751f\u4ea7\u73af\u5883\u6784\u5efa\u540e\u8c03\u7528\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 stats \u53c2\u6570\u83b7\u53d6\u5230\u6784\u5efa\u7ed3\u679c\u4fe1\u606f\u3002\n\n * Type\n\nfunction OnAfterBuild(\n  callback: (params: { stats?: Stats | MultiStats }) => Promise<void> | void,\n): void;\n",frontmatter:{}},{id:308,title:"",routePath:"/builder/shared/onAfterCreateCompiler",toc:[],content:"\u5728\u521b\u5efa compiler \u5b9e\u4f8b\u540e\u3001\u6267\u884c\u6784\u5efa\u524d\u8c03\u7528\uff0c\u5f53\u4f60\u6267\u884c builder.startDevServer\u3001builder.build \u6216\nbuilder.createCompiler \u65f6\uff0c\u90fd\u4f1a\u8c03\u7528\u6b64\u94a9\u5b50\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 compiler \u53c2\u6570\u83b7\u53d6\u5230 compiler \u5b9e\u4f8b\u5bf9\u8c61\u3002\n\n * Type\n\nfunction OnAfterCreateCompiler(callback: (params: {\n  compiler: Compiler | MultiCompiler;\n}) => Promise<void> | void;): void;\n",frontmatter:{}},{id:309,title:"",routePath:"/builder/shared/onAfterStartDevServer",toc:[],content:"\u5728\u542f\u52a8\u5f00\u53d1\u670d\u52a1\u5668\u540e\u8c03\u7528\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 port \u53c2\u6570\u83b7\u5f97\u5f00\u53d1\u670d\u52a1\u5668\u76d1\u542c\u7684\u7aef\u53e3\u53f7\u3002\n\n * Type\n\nfunction OnAfterStartDevServer(\n  callback: (params: { port: number }) => Promise<void> | void,\n): void;\n",frontmatter:{}},{id:310,title:"",routePath:"/builder/shared/onBeforeBuild",toc:[],content:"\u5728\u6267\u884c\u751f\u4ea7\u73af\u5883\u6784\u5efa\u524d\u8c03\u7528\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 bundlerConfigs \u53c2\u6570\u83b7\u53d6\u5230\u5e95\u5c42\u6253\u5305\u5de5\u5177\u7684\u6700\u7ec8\u914d\u7f6e\u5bf9\u8c61\u3002\n\n * Type\n\nfunction OnBeforeBuild(\n  callback: (params: {\n    bundlerConfigs?: WebpackConfig[] | RspackConfig[];\n  }) => Promise<void> | void,\n): void;\n",frontmatter:{}},{id:311,title:"",routePath:"/builder/shared/onBeforeCreateCompiler",toc:[],content:"\u5728\u521b\u5efa compiler \u5b9e\u4f8b\u524d\u8c03\u7528\uff0c\u5f53\u4f60\u6267\u884c builder.startDevServer\u3001builder.build \u6216\nbuilder.createCompiler \u65f6\uff0c\u90fd\u4f1a\u8c03\u7528\u6b64\u94a9\u5b50\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 bundlerConfigs \u53c2\u6570\u83b7\u53d6\u5230\u5e95\u5c42\u6253\u5305\u5de5\u5177\u7684\u6700\u7ec8\u914d\u7f6e\u5bf9\u8c61\u3002\n\n * Type\n\nfunction OnBeforeCreateCompiler(\n  callback: (params: {\n    bundlerConfigs: WebpackConfig[] | RspackConfig[];\n  }) => Promise<void> | void,\n): void;\n",frontmatter:{}},{id:312,title:"",routePath:"/builder/shared/onBeforeStartDevServer",toc:[],content:"\u5728\u542f\u52a8\u5f00\u53d1\u670d\u52a1\u5668\u524d\u8c03\u7528\u3002\n\n * Type\n\nfunction OnBeforeStartDevServer(callback: () => Promise<void> | void): void;\n",frontmatter:{}},{id:313,title:"",routePath:"/builder/shared/onDevCompileDone",toc:[],content:"\u5728\u6bcf\u6b21\u5f00\u53d1\u73af\u5883\u6784\u5efa\u7ed3\u675f\u540e\u8c03\u7528\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 isFirstCompile \u6765\u5224\u65ad\u662f\u5426\u4e3a\u9996\u6b21\u6784\u5efa\u3002\n\n * Type\n\nfunction OnDevCompileDone(\n  callback: (params: { isFirstCompile: boolean }) => Promise<void> | void,\n): void;\n",frontmatter:{}},{id:314,title:"",routePath:"/builder/shared/onExit",toc:[],content:"\u5728\u8fdb\u7a0b\u5373\u5c06\u9000\u51fa\u65f6\u8c03\u7528\uff0c\u8fd9\u4e2a\u94a9\u5b50\u53ea\u80fd\u6267\u884c\u540c\u6b65\u4ee3\u7801\u3002\n\n * Type\n\nfunction OnExit(callback: () => void): void;\n",frontmatter:{}}]}},4936:function(e,n,t){"use strict";t.d(n,{_:function(){return $i}});var o=t(2363),i=t(22897);const r=(0,i.kz)((()=>t.e(5521).then(t.bind(t,25688)))),a=(0,i.kz)((()=>t.e(7629).then(t.bind(t,77226)))),s=(0,i.kz)((()=>t.e(2797).then(t.bind(t,89301)))),l=(0,i.kz)((()=>t.e(2213).then(t.bind(t,91752)))),d=(0,i.kz)((()=>t.e(4578).then(t.bind(t,66416)))),c=(0,i.kz)((()=>Promise.all([t.e(9119),t.e(3978)]).then(t.bind(t,48441)))),u=(0,i.kz)((()=>t.e(4933).then(t.bind(t,94932)))),p=(0,i.kz)((()=>Promise.all([t.e(6819),t.e(2634),t.e(4960),t.e(2456),t.e(7480),t.e(5430)]).then(t.bind(t,93437)))),h=(0,i.kz)((()=>Promise.all([t.e(6690),t.e(5064),t.e(3942),t.e(7429),t.e(1773),t.e(6119),t.e(7962),t.e(9675),t.e(5867)]).then(t.bind(t,25812)))),m=(0,i.kz)((()=>Promise.all([t.e(1387),t.e(8246),t.e(7622),t.e(9438)]).then(t.bind(t,59833)))),f=(0,i.kz)((()=>t.e(7917).then(t.bind(t,11719)))),g=(0,i.kz)((()=>Promise.all([t.e(5923),t.e(2847),t.e(8395),t.e(1743),t.e(8930),t.e(5386),t.e(3310),t.e(9878),t.e(659)]).then(t.bind(t,61841)))),b=(0,i.kz)((()=>Promise.all([t.e(2331),t.e(6194),t.e(2897),t.e(826),t.e(1596),t.e(9762),t.e(9935),t.e(6952),t.e(7680),t.e(1436),t.e(2727),t.e(3256),t.e(2401),t.e(4831),t.e(2403),t.e(2477),t.e(8705)]).then(t.bind(t,21517)))),y=(0,i.kz)((()=>t.e(1085).then(t.bind(t,33941)))),x=(0,i.kz)((()=>t.e(8684).then(t.bind(t,60709)))),S=(0,i.kz)((()=>t.e(9364).then(t.bind(t,54462)))),w=(0,i.kz)((()=>t.e(3722).then(t.bind(t,50715)))),E=(0,i.kz)((()=>t.e(3062).then(t.bind(t,70273)))),v=(0,i.kz)((()=>t.e(9119).then(t.bind(t,67413)))),k=(0,i.kz)((()=>t.e(4639).then(t.bind(t,75574)))),T=(0,i.kz)((()=>t.e(5506).then(t.bind(t,42400)))),P=(0,i.kz)((()=>t.e(5001).then(t.bind(t,32761)))),C=(0,i.kz)((()=>t.e(285).then(t.bind(t,41165)))),I=(0,i.kz)((()=>t.e(2315).then(t.bind(t,65404)))),B=(0,i.kz)((()=>t.e(8254).then(t.bind(t,49493)))),O=(0,i.kz)((()=>t.e(5464).then(t.bind(t,95856)))),R=(0,i.kz)((()=>t.e(2025).then(t.bind(t,32488)))),j=(0,i.kz)((()=>t.e(6592).then(t.bind(t,97419)))),N=(0,i.kz)((()=>t.e(2456).then(t.bind(t,50165)))),L=(0,i.kz)((()=>t.e(8829).then(t.bind(t,9942)))),A=(0,i.kz)((()=>t.e(4960).then(t.bind(t,54751)))),D=(0,i.kz)((()=>t.e(902).then(t.bind(t,2027)))),M=(0,i.kz)((()=>t.e(9313).then(t.bind(t,87830)))),U=(0,i.kz)((()=>t.e(6819).then(t.bind(t,44635)))),z=(0,i.kz)((()=>t.e(7480).then(t.bind(t,20380)))),F=(0,i.kz)((()=>t.e(1969).then(t.bind(t,3542)))),W=(0,i.kz)((()=>t.e(806).then(t.bind(t,1555)))),H=(0,i.kz)((()=>t.e(2634).then(t.bind(t,19926)))),G=(0,i.kz)((()=>t.e(9308).then(t.bind(t,24061)))),_=(0,i.kz)((()=>t.e(2570).then(t.bind(t,51898)))),J=(0,i.kz)((()=>t.e(6520).then(t.bind(t,63981)))),V=(0,i.kz)((()=>t.e(6236).then(t.bind(t,18818)))),Y=(0,i.kz)((()=>t.e(6690).then(t.bind(t,12891)))),q=(0,i.kz)((()=>t.e(6593).then(t.bind(t,88009)))),X=(0,i.kz)((()=>t.e(4321).then(t.bind(t,29450)))),K=(0,i.kz)((()=>t.e(3942).then(t.bind(t,67668)))),Z=(0,i.kz)((()=>t.e(4132).then(t.bind(t,5560)))),$=(0,i.kz)((()=>t.e(9742).then(t.bind(t,18620)))),Q=(0,i.kz)((()=>t.e(7962).then(t.bind(t,70642)))),ee=(0,i.kz)((()=>t.e(4227).then(t.bind(t,34351)))),ne=(0,i.kz)((()=>t.e(195).then(t.bind(t,21011)))),te=(0,i.kz)((()=>t.e(9200).then(t.bind(t,86754)))),oe=(0,i.kz)((()=>t.e(3991).then(t.bind(t,61033)))),ie=(0,i.kz)((()=>t.e(6870).then(t.bind(t,69043)))),re=(0,i.kz)((()=>t.e(1773).then(t.bind(t,1621)))),ae=(0,i.kz)((()=>t.e(9675).then(t.bind(t,23247)))),se=(0,i.kz)((()=>t.e(7429).then(t.bind(t,67240)))),le=(0,i.kz)((()=>t.e(7762).then(t.bind(t,30673)))),de=(0,i.kz)((()=>t.e(1989).then(t.bind(t,7042)))),ce=(0,i.kz)((()=>t.e(4632).then(t.bind(t,12924)))),ue=(0,i.kz)((()=>t.e(6219).then(t.bind(t,95780)))),pe=(0,i.kz)((()=>t.e(3317).then(t.bind(t,39587)))),he=(0,i.kz)((()=>t.e(901).then(t.bind(t,28309)))),me=(0,i.kz)((()=>t.e(6086).then(t.bind(t,29559)))),fe=(0,i.kz)((()=>t.e(5064).then(t.bind(t,92826)))),ge=(0,i.kz)((()=>t.e(805).then(t.bind(t,50757)))),be=(0,i.kz)((()=>t.e(6119).then(t.bind(t,24601)))),ye=(0,i.kz)((()=>t.e(8737).then(t.bind(t,88437)))),xe=(0,i.kz)((()=>t.e(7828).then(t.bind(t,62022)))),Se=(0,i.kz)((()=>t.e(8246).then(t.bind(t,10447)))),we=(0,i.kz)((()=>t.e(7381).then(t.bind(t,28179)))),Ee=(0,i.kz)((()=>t.e(1387).then(t.bind(t,64239)))),ve=(0,i.kz)((()=>t.e(1780).then(t.bind(t,10558)))),ke=(0,i.kz)((()=>t.e(5868).then(t.bind(t,62740)))),Te=(0,i.kz)((()=>t.e(7622).then(t.bind(t,23590)))),Pe=(0,i.kz)((()=>t.e(9553).then(t.bind(t,68108)))),Ce=(0,i.kz)((()=>t.e(3784).then(t.bind(t,60925)))),Ie=(0,i.kz)((()=>t.e(5386).then(t.bind(t,45505)))),Be=(0,i.kz)((()=>t.e(301).then(t.bind(t,11933)))),Oe=(0,i.kz)((()=>t.e(3310).then(t.bind(t,2838)))),Re=(0,i.kz)((()=>t.e(7708).then(t.bind(t,71919)))),je=(0,i.kz)((()=>t.e(2847).then(t.bind(t,65924)))),Ne=(0,i.kz)((()=>t.e(5923).then(t.bind(t,24902)))),Le=(0,i.kz)((()=>t.e(8395).then(t.bind(t,54314)))),Ae=(0,i.kz)((()=>t.e(9878).then(t.bind(t,8986)))),De=(0,i.kz)((()=>t.e(8930).then(t.bind(t,68167)))),Me=(0,i.kz)((()=>t.e(1743).then(t.bind(t,16240)))),Ue=(0,i.kz)((()=>t.e(2477).then(t.bind(t,36714)))),ze=(0,i.kz)((()=>t.e(826).then(t.bind(t,8407)))),Fe=(0,i.kz)((()=>t.e(7680).then(t.bind(t,79681)))),We=(0,i.kz)((()=>t.e(3256).then(t.bind(t,90074)))),He=(0,i.kz)((()=>t.e(2331).then(t.bind(t,17126)))),Ge=(0,i.kz)((()=>t.e(9935).then(t.bind(t,49498)))),_e=(0,i.kz)((()=>t.e(4513).then(t.bind(t,29272)))),Je=(0,i.kz)((()=>t.e(6952).then(t.bind(t,36197)))),Ve=(0,i.kz)((()=>t.e(2727).then(t.bind(t,35402)))),Ye=(0,i.kz)((()=>t.e(1596).then(t.bind(t,27958)))),qe=(0,i.kz)((()=>t.e(2403).then(t.bind(t,70406)))),Xe=(0,i.kz)((()=>t.e(1436).then(t.bind(t,76882)))),Ke=(0,i.kz)((()=>t.e(771).then(t.bind(t,42352)))),Ze=(0,i.kz)((()=>t.e(4871).then(t.bind(t,41555)))),$e=(0,i.kz)((()=>t.e(4831).then(t.bind(t,83779)))),Qe=(0,i.kz)((()=>t.e(2401).then(t.bind(t,75373)))),en=(0,i.kz)((()=>t.e(9762).then(t.bind(t,34326)))),nn=(0,i.kz)((()=>t.e(6194).then(t.bind(t,36302)))),tn=(0,i.kz)((()=>t.e(2897).then(t.bind(t,71930)))),on=(0,i.kz)((()=>t.e(3873).then(t.bind(t,28205)))),rn=(0,i.kz)((()=>t.e(7370).then(t.bind(t,89680)))),an=(0,i.kz)((()=>t.e(3431).then(t.bind(t,50222)))),sn=(0,i.kz)((()=>t.e(27).then(t.bind(t,59921)))),ln=(0,i.kz)((()=>t.e(6504).then(t.bind(t,19990)))),dn=(0,i.kz)((()=>t.e(7403).then(t.bind(t,17200)))),cn=(0,i.kz)((()=>t.e(4094).then(t.bind(t,29708)))),un=(0,i.kz)((()=>t.e(6785).then(t.bind(t,62745)))),pn=(0,i.kz)((()=>t.e(1167).then(t.bind(t,45389)))),hn=(0,i.kz)((()=>t.e(9711).then(t.bind(t,20849)))),mn=(0,i.kz)((()=>t.e(6472).then(t.bind(t,92112)))),fn=(0,i.kz)((()=>t.e(6210).then(t.bind(t,89046)))),gn=(0,i.kz)((()=>t.e(652).then(t.bind(t,88172)))),bn=(0,i.kz)((()=>t.e(5841).then(t.bind(t,92142)))),yn=(0,i.kz)((()=>t.e(6066).then(t.bind(t,34119)))),xn=(0,i.kz)((()=>t.e(1677).then(t.bind(t,62505)))),Sn=(0,i.kz)((()=>t.e(2061).then(t.bind(t,50941)))),wn=(0,i.kz)((()=>t.e(7578).then(t.bind(t,40083)))),En=(0,i.kz)((()=>t.e(6093).then(t.bind(t,17723)))),vn=(0,i.kz)((()=>t.e(4904).then(t.bind(t,813)))),kn=(0,i.kz)((()=>t.e(9082).then(t.bind(t,5795)))),Tn=(0,i.kz)((()=>t.e(8403).then(t.bind(t,87164)))),Pn=(0,i.kz)((()=>t.e(2893).then(t.bind(t,55499)))),Cn=(0,i.kz)((()=>t.e(8421).then(t.bind(t,61352)))),In=(0,i.kz)((()=>t.e(9209).then(t.bind(t,82563)))),Bn=(0,i.kz)((()=>t.e(3065).then(t.bind(t,33241)))),On=(0,i.kz)((()=>t.e(8717).then(t.bind(t,35193)))),Rn=(0,i.kz)((()=>t.e(4919).then(t.bind(t,85876)))),jn=(0,i.kz)((()=>t.e(551).then(t.bind(t,27955)))),Nn=(0,i.kz)((()=>t.e(1911).then(t.bind(t,54796)))),Ln=(0,i.kz)((()=>t.e(315).then(t.bind(t,10724)))),An=(0,i.kz)((()=>t.e(6811).then(t.bind(t,65470)))),Dn=(0,i.kz)((()=>t.e(8006).then(t.bind(t,8980)))),Mn=(0,i.kz)((()=>t.e(207).then(t.bind(t,63333)))),Un=(0,i.kz)((()=>t.e(3778).then(t.bind(t,66483)))),zn=(0,i.kz)((()=>t.e(9038).then(t.bind(t,45011)))),Fn=(0,i.kz)((()=>t.e(1447).then(t.bind(t,78845)))),Wn=(0,i.kz)((()=>t.e(6972).then(t.bind(t,77257)))),Hn=(0,i.kz)((()=>t.e(6825).then(t.bind(t,36059)))),Gn=(0,i.kz)((()=>t.e(6080).then(t.bind(t,32629)))),_n=(0,i.kz)((()=>t.e(5791).then(t.bind(t,11201)))),Jn=(0,i.kz)((()=>t.e(8610).then(t.bind(t,28126)))),Vn=(0,i.kz)((()=>t.e(3670).then(t.bind(t,61142)))),Yn=(0,i.kz)((()=>t.e(8975).then(t.bind(t,87631)))),qn=(0,i.kz)((()=>t.e(7409).then(t.bind(t,77249)))),Xn=(0,i.kz)((()=>t.e(583).then(t.bind(t,89808)))),Kn=(0,i.kz)((()=>t.e(6596).then(t.bind(t,56992)))),Zn=(0,i.kz)((()=>t.e(2271).then(t.bind(t,54327)))),$n=(0,i.kz)((()=>t.e(9769).then(t.bind(t,52578)))),Qn=(0,i.kz)((()=>t.e(8835).then(t.bind(t,47202)))),et=(0,i.kz)((()=>t.e(4877).then(t.bind(t,56886)))),nt=(0,i.kz)((()=>t.e(3811).then(t.bind(t,95873)))),tt=(0,i.kz)((()=>t.e(4784).then(t.t.bind(t,13143,19)))),ot=(0,i.kz)((()=>t.e(9656).then(t.bind(t,27229)))),it=(0,i.kz)((()=>t.e(1813).then(t.bind(t,99069)))),rt=(0,i.kz)((()=>t.e(9611).then(t.bind(t,53875)))),at=(0,i.kz)((()=>Promise.all([t.e(9483),t.e(3839)]).then(t.bind(t,8034)))),st=(0,i.kz)((()=>t.e(613).then(t.bind(t,98792)))),lt=(0,i.kz)((()=>Promise.all([t.e(9350),t.e(288),t.e(9927),t.e(6805),t.e(6602),t.e(3766)]).then(t.bind(t,75168)))),dt=(0,i.kz)((()=>Promise.all([t.e(7320),t.e(4854),t.e(6418),t.e(7681),t.e(8599),t.e(2140),t.e(9024),t.e(2760),t.e(1001)]).then(t.bind(t,17702)))),ct=(0,i.kz)((()=>Promise.all([t.e(789),t.e(818),t.e(6477),t.e(9929)]).then(t.bind(t,90695)))),ut=(0,i.kz)((()=>t.e(7687).then(t.bind(t,19887)))),pt=(0,i.kz)((()=>Promise.all([t.e(5391),t.e(9836),t.e(3143),t.e(7545),t.e(3827),t.e(8651),t.e(6385),t.e(3608),t.e(557)]).then(t.bind(t,45406)))),ht=(0,i.kz)((()=>Promise.all([t.e(8667),t.e(44),t.e(7021),t.e(6925),t.e(3372),t.e(3756),t.e(5974),t.e(6575),t.e(8630),t.e(3119),t.e(7784),t.e(3020),t.e(8893),t.e(4285),t.e(4780),t.e(234),t.e(1655)]).then(t.bind(t,82654)))),mt=(0,i.kz)((()=>t.e(1189).then(t.bind(t,64792)))),ft=(0,i.kz)((()=>t.e(5531).then(t.bind(t,43857)))),gt=(0,i.kz)((()=>t.e(299).then(t.bind(t,95690)))),bt=(0,i.kz)((()=>t.e(2870).then(t.bind(t,10233)))),yt=(0,i.kz)((()=>t.e(5077).then(t.bind(t,55776)))),xt=(0,i.kz)((()=>t.e(9483).then(t.bind(t,31261)))),St=(0,i.kz)((()=>t.e(951).then(t.bind(t,79404)))),wt=(0,i.kz)((()=>t.e(4263).then(t.bind(t,27915)))),Et=(0,i.kz)((()=>t.e(4572).then(t.bind(t,12188)))),vt=(0,i.kz)((()=>t.e(8161).then(t.bind(t,54595)))),kt=(0,i.kz)((()=>t.e(5224).then(t.bind(t,39686)))),Tt=(0,i.kz)((()=>t.e(2540).then(t.bind(t,14125)))),Pt=(0,i.kz)((()=>t.e(1963).then(t.bind(t,3836)))),Ct=(0,i.kz)((()=>t.e(3209).then(t.bind(t,52208)))),It=(0,i.kz)((()=>t.e(3490).then(t.bind(t,12105)))),Bt=(0,i.kz)((()=>t.e(6805).then(t.bind(t,65264)))),Ot=(0,i.kz)((()=>t.e(1320).then(t.bind(t,65261)))),Rt=(0,i.kz)((()=>t.e(9927).then(t.bind(t,14759)))),jt=(0,i.kz)((()=>t.e(6489).then(t.bind(t,93870)))),Nt=(0,i.kz)((()=>t.e(163).then(t.bind(t,8669)))),Lt=(0,i.kz)((()=>t.e(9350).then(t.bind(t,73412)))),At=(0,i.kz)((()=>t.e(6602).then(t.bind(t,23164)))),Dt=(0,i.kz)((()=>t.e(2566).then(t.bind(t,52819)))),Mt=(0,i.kz)((()=>t.e(1108).then(t.bind(t,14522)))),Ut=(0,i.kz)((()=>t.e(288).then(t.bind(t,78337)))),zt=(0,i.kz)((()=>t.e(2638).then(t.bind(t,19525)))),Ft=(0,i.kz)((()=>t.e(7202).then(t.bind(t,89035)))),Wt=(0,i.kz)((()=>t.e(3272).then(t.bind(t,65250)))),Ht=(0,i.kz)((()=>t.e(4298).then(t.bind(t,12797)))),Gt=(0,i.kz)((()=>t.e(7320).then(t.bind(t,79877)))),_t=(0,i.kz)((()=>t.e(1786).then(t.bind(t,80179)))),Jt=(0,i.kz)((()=>t.e(591).then(t.bind(t,40606)))),Vt=(0,i.kz)((()=>t.e(6418).then(t.bind(t,25690)))),Yt=(0,i.kz)((()=>t.e(6753).then(t.bind(t,4834)))),qt=(0,i.kz)((()=>t.e(7809).then(t.bind(t,98307)))),Xt=(0,i.kz)((()=>t.e(9024).then(t.bind(t,80331)))),Kt=(0,i.kz)((()=>t.e(2011).then(t.bind(t,18745)))),Zt=(0,i.kz)((()=>t.e(8425).then(t.bind(t,2057)))),$t=(0,i.kz)((()=>t.e(1164).then(t.bind(t,53461)))),Qt=(0,i.kz)((()=>t.e(1778).then(t.bind(t,41009)))),eo=(0,i.kz)((()=>t.e(6551).then(t.bind(t,52614)))),no=(0,i.kz)((()=>t.e(8599).then(t.bind(t,16903)))),to=(0,i.kz)((()=>t.e(2760).then(t.bind(t,83138)))),oo=(0,i.kz)((()=>t.e(7681).then(t.bind(t,72759)))),io=(0,i.kz)((()=>t.e(8801).then(t.bind(t,28821)))),ro=(0,i.kz)((()=>t.e(7544).then(t.bind(t,90604)))),ao=(0,i.kz)((()=>t.e(461).then(t.bind(t,8688)))),so=(0,i.kz)((()=>t.e(4912).then(t.bind(t,36420)))),lo=(0,i.kz)((()=>t.e(6226).then(t.bind(t,12963)))),co=(0,i.kz)((()=>t.e(9011).then(t.bind(t,50523)))),uo=(0,i.kz)((()=>t.e(6824).then(t.bind(t,24796)))),po=(0,i.kz)((()=>t.e(4854).then(t.bind(t,77785)))),ho=(0,i.kz)((()=>t.e(5952).then(t.bind(t,98257)))),mo=(0,i.kz)((()=>t.e(2140).then(t.bind(t,8139)))),fo=(0,i.kz)((()=>t.e(4738).then(t.bind(t,57514)))),go=(0,i.kz)((()=>t.e(4615).then(t.bind(t,6802)))),bo=(0,i.kz)((()=>t.e(818).then(t.bind(t,90428)))),yo=(0,i.kz)((()=>t.e(5688).then(t.bind(t,21366)))),xo=(0,i.kz)((()=>t.e(789).then(t.bind(t,210)))),So=(0,i.kz)((()=>t.e(4395).then(t.bind(t,54114)))),wo=(0,i.kz)((()=>t.e(3059).then(t.bind(t,30659)))),Eo=(0,i.kz)((()=>t.e(6477).then(t.bind(t,33567)))),vo=(0,i.kz)((()=>t.e(2855).then(t.bind(t,82603)))),ko=(0,i.kz)((()=>t.e(4709).then(t.bind(t,24446)))),To=(0,i.kz)((()=>t.e(8651).then(t.bind(t,79554)))),Po=(0,i.kz)((()=>t.e(5451).then(t.bind(t,69329)))),Co=(0,i.kz)((()=>t.e(6385).then(t.bind(t,28960)))),Io=(0,i.kz)((()=>t.e(9797).then(t.bind(t,9175)))),Bo=(0,i.kz)((()=>t.e(9836).then(t.bind(t,63378)))),Oo=(0,i.kz)((()=>t.e(5391).then(t.bind(t,8806)))),Ro=(0,i.kz)((()=>t.e(3143).then(t.bind(t,98482)))),jo=(0,i.kz)((()=>t.e(3608).then(t.bind(t,51057)))),No=(0,i.kz)((()=>t.e(3827).then(t.bind(t,6e3)))),Lo=(0,i.kz)((()=>t.e(7545).then(t.bind(t,57042)))),Ao=(0,i.kz)((()=>t.e(234).then(t.bind(t,13770)))),Do=(0,i.kz)((()=>t.e(6925).then(t.bind(t,62266)))),Mo=(0,i.kz)((()=>t.e(3119).then(t.bind(t,35351)))),Uo=(0,i.kz)((()=>t.e(3020).then(t.bind(t,2494)))),zo=(0,i.kz)((()=>t.e(8667).then(t.bind(t,77001)))),Fo=(0,i.kz)((()=>t.e(5974).then(t.bind(t,88414)))),Wo=(0,i.kz)((()=>t.e(5697).then(t.bind(t,47137)))),Ho=(0,i.kz)((()=>t.e(6575).then(t.bind(t,90356)))),Go=(0,i.kz)((()=>t.e(7784).then(t.bind(t,92133)))),_o=(0,i.kz)((()=>t.e(3372).then(t.bind(t,82130)))),Jo=(0,i.kz)((()=>t.e(4780).then(t.bind(t,59158)))),Vo=(0,i.kz)((()=>t.e(8630).then(t.bind(t,78302)))),Yo=(0,i.kz)((()=>t.e(7787).then(t.bind(t,8295)))),qo=(0,i.kz)((()=>t.e(9031).then(t.bind(t,79318)))),Xo=(0,i.kz)((()=>t.e(4285).then(t.bind(t,2206)))),Ko=(0,i.kz)((()=>t.e(8893).then(t.bind(t,43937)))),Zo=(0,i.kz)((()=>t.e(3756).then(t.bind(t,13120)))),$o=(0,i.kz)((()=>t.e(44).then(t.bind(t,19842)))),Qo=(0,i.kz)((()=>t.e(7021).then(t.bind(t,28283)))),ei=(0,i.kz)((()=>t.e(4932).then(t.bind(t,2029)))),ni=(0,i.kz)((()=>t.e(3092).then(t.bind(t,71924)))),ti=(0,i.kz)((()=>t.e(7737).then(t.bind(t,83791)))),oi=(0,i.kz)((()=>t.e(3406).then(t.bind(t,4668)))),ii=(0,i.kz)((()=>t.e(7907).then(t.bind(t,20860)))),ri=(0,i.kz)((()=>t.e(570).then(t.bind(t,56219)))),ai=(0,i.kz)((()=>t.e(5222).then(t.bind(t,68287)))),si=(0,i.kz)((()=>t.e(1722).then(t.bind(t,54361)))),li=(0,i.kz)((()=>t.e(1767).then(t.bind(t,4403)))),di=(0,i.kz)((()=>t.e(8308).then(t.bind(t,3645)))),ci=(0,i.kz)((()=>t.e(4175).then(t.bind(t,65625)))),ui=(0,i.kz)((()=>t.e(54).then(t.bind(t,15635)))),pi=(0,i.kz)((()=>t.e(4170).then(t.bind(t,18904)))),hi=(0,i.kz)((()=>t.e(3181).then(t.bind(t,28857)))),mi=(0,i.kz)((()=>t.e(7099).then(t.bind(t,45078)))),fi=(0,i.kz)((()=>t.e(6887).then(t.bind(t,98658)))),gi=(0,i.kz)((()=>t.e(2642).then(t.bind(t,33340)))),bi=(0,i.kz)((()=>t.e(1999).then(t.bind(t,60791)))),yi=(0,i.kz)((()=>t.e(2232).then(t.bind(t,14608)))),xi=(0,i.kz)((()=>t.e(7892).then(t.bind(t,59987)))),Si=(0,i.kz)((()=>t.e(8021).then(t.bind(t,85645)))),wi=(0,i.kz)((()=>t.e(2029).then(t.bind(t,12284)))),Ei=(0,i.kz)((()=>t.e(707).then(t.bind(t,41511)))),vi=(0,i.kz)((()=>t.e(5637).then(t.bind(t,63244)))),ki=(0,i.kz)((()=>t.e(4764).then(t.bind(t,77641)))),Ti=(0,i.kz)((()=>t.e(3459).then(t.bind(t,17097)))),Pi=(0,i.kz)((()=>t.e(1816).then(t.bind(t,59279)))),Ci=(0,i.kz)((()=>t.e(9584).then(t.bind(t,91592)))),Ii=(0,i.kz)((()=>t.e(213).then(t.bind(t,2671)))),Bi=(0,i.kz)((()=>t.e(5979).then(t.bind(t,77899)))),Oi=(0,i.kz)((()=>t.e(1895).then(t.bind(t,22342)))),Ri=(0,i.kz)((()=>t.e(3952).then(t.bind(t,65706)))),ji=(0,i.kz)((()=>t.e(9733).then(t.bind(t,54708)))),Ni=(0,i.kz)((()=>t.e(5492).then(t.bind(t,24033)))),Li=(0,i.kz)((()=>t.e(4080).then(t.bind(t,90874)))),Ai=(0,i.kz)((()=>t.e(2693).then(t.bind(t,74864)))),Di=(0,i.kz)((()=>t.e(3614).then(t.bind(t,13855)))),Mi=(0,i.kz)((()=>t.e(7666).then(t.bind(t,56713)))),Ui=(0,i.kz)((()=>t.e(8884).then(t.bind(t,64650)))),zi=(0,i.kz)((()=>t.e(8977).then(t.bind(t,4895)))),Fi=(0,i.kz)((()=>t.e(4697).then(t.bind(t,6615)))),Wi=(0,i.kz)((()=>t.e(4768).then(t.bind(t,45599)))),Hi=(0,i.kz)((()=>t.e(7747).then(t.bind(t,78712)))),Gi=(0,i.kz)((()=>t.e(8426).then(t.bind(t,70939)))),_i=(0,i.kz)((()=>t.e(99).then(t.bind(t,56750)))),Ji=(0,i.kz)((()=>t.e(1680).then(t.bind(t,25104)))),Vi=(0,i.kz)((()=>t.e(5495).then(t.bind(t,10386)))),Yi=(0,i.kz)((()=>t.e(2278).then(t.bind(t,92850)))),qi=(0,i.kz)((()=>t.e(2008).then(t.bind(t,10069)))),Xi=(0,i.kz)((()=>t.e(8126).then(t.bind(t,87780)))),Ki=(0,i.kz)((()=>t.e(3751).then(t.bind(t,69797)))),Zi=(0,i.kz)((()=>t.e(4349).then(t.bind(t,48905)))),$i=[{path:"/builder/components/NextSteps",element:o.createElement(r),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/components/NextSteps.tsx",preload:async()=>(await r.preload(),t.e(5521).then(t.bind(t,25688)))},{path:"/builder/components/Step",element:o.createElement(a),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/components/Step.tsx",preload:async()=>(await a.preload(),t.e(7629).then(t.bind(t,77226)))},{path:"/builder/en/api/builder-core",element:o.createElement(s),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/api/builder-core.mdx",preload:async()=>(await s.preload(),t.e(2797).then(t.bind(t,89301)))},{path:"/builder/en/api/builder-instance",element:o.createElement(l),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/api/builder-instance.mdx",preload:async()=>(await l.preload(),t.e(2213).then(t.bind(t,91752)))},{path:"/builder/en/api/builder-types",element:o.createElement(d),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/api/builder-types.mdx",preload:async()=>(await d.preload(),t.e(4578).then(t.bind(t,66416)))},{path:"/builder/en/api/config-dev",element:o.createElement(c),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/api/config-dev.mdx",preload:async()=>(await c.preload(),Promise.all([t.e(9119),t.e(3978)]).then(t.bind(t,48441)))},{path:"/builder/en/api/config-experiments",element:o.createElement(u),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/api/config-experiments.mdx",preload:async()=>(await u.preload(),t.e(4933).then(t.bind(t,94932)))},{path:"/builder/en/api/config-html",element:o.createElement(p),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/api/config-html.mdx",preload:async()=>(await p.preload(),Promise.all([t.e(6819),t.e(2634),t.e(4960),t.e(2456),t.e(7480),t.e(5430)]).then(t.bind(t,93437)))},{path:"/builder/en/api/config-output",element:o.createElement(h),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/api/config-output.mdx",preload:async()=>(await h.preload(),Promise.all([t.e(6690),t.e(5064),t.e(3942),t.e(7429),t.e(1773),t.e(6119),t.e(7962),t.e(9675),t.e(5867)]).then(t.bind(t,25812)))},{path:"/builder/en/api/config-performance",element:o.createElement(m),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/api/config-performance.mdx",preload:async()=>(await m.preload(),Promise.all([t.e(1387),t.e(8246),t.e(7622),t.e(9438)]).then(t.bind(t,59833)))},{path:"/builder/en/api/config-security",element:o.createElement(f),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/api/config-security.mdx",preload:async()=>(await f.preload(),t.e(7917).then(t.bind(t,11719)))},{path:"/builder/en/api/config-source",element:o.createElement(g),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/api/config-source.mdx",preload:async()=>(await g.preload(),Promise.all([t.e(5923),t.e(2847),t.e(8395),t.e(1743),t.e(8930),t.e(5386),t.e(3310),t.e(9878),t.e(659)]).then(t.bind(t,61841)))},{path:"/builder/en/api/config-tools",element:o.createElement(b),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/api/config-tools.mdx",preload:async()=>(await b.preload(),Promise.all([t.e(2331),t.e(6194),t.e(2897),t.e(826),t.e(1596),t.e(9762),t.e(9935),t.e(6952),t.e(7680),t.e(1436),t.e(2727),t.e(3256),t.e(2401),t.e(4831),t.e(2403),t.e(2477),t.e(8705)]).then(t.bind(t,21517)))},{path:"/builder/en/api/",element:o.createElement(y),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/api/index.mdx",preload:async()=>(await y.preload(),t.e(1085).then(t.bind(t,33941)))},{path:"/builder/en/api/plugin-core",element:o.createElement(x),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/api/plugin-core.mdx",preload:async()=>(await x.preload(),t.e(8684).then(t.bind(t,60709)))},{path:"/builder/en/api/plugin-hooks",element:o.createElement(S),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/api/plugin-hooks.mdx",preload:async()=>(await S.preload(),t.e(9364).then(t.bind(t,54462)))},{path:"/builder/en/config/dev/assetPrefix",element:o.createElement(w),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/dev/assetPrefix.md",preload:async()=>(await w.preload(),t.e(3722).then(t.bind(t,50715)))},{path:"/builder/en/config/dev/hmr",element:o.createElement(E),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/dev/hmr.md",preload:async()=>(await E.preload(),t.e(3062).then(t.bind(t,70273)))},{path:"/builder/en/config/dev/https",element:o.createElement(v),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/dev/https.md",preload:async()=>(await v.preload(),t.e(9119).then(t.bind(t,67413)))},{path:"/builder/en/config/dev/port",element:o.createElement(k),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/dev/port.md",preload:async()=>(await k.preload(),t.e(4639).then(t.bind(t,75574)))},{path:"/builder/en/config/dev/progressBar",element:o.createElement(T),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/dev/progressBar.md",preload:async()=>(await T.preload(),t.e(5506).then(t.bind(t,42400)))},{path:"/builder/en/config/dev/startUrl",element:o.createElement(P),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/dev/startUrl.md",preload:async()=>(await P.preload(),t.e(5001).then(t.bind(t,32761)))},{path:"/builder/en/config/experiments/lazyCompilation",element:o.createElement(C),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/experiments/lazyCompilation.md",preload:async()=>(await C.preload(),t.e(285).then(t.bind(t,41165)))},{path:"/builder/en/config/html/appIcon",element:o.createElement(I),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/appIcon.md",preload:async()=>(await I.preload(),t.e(2315).then(t.bind(t,65404)))},{path:"/builder/en/config/html/crossorigin",element:o.createElement(B),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/crossorigin.md",preload:async()=>(await B.preload(),t.e(8254).then(t.bind(t,49493)))},{path:"/builder/en/config/html/disableHtmlFolder",element:o.createElement(O),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/disableHtmlFolder.md",preload:async()=>(await O.preload(),t.e(5464).then(t.bind(t,95856)))},{path:"/builder/en/config/html/favicon",element:o.createElement(R),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/favicon.md",preload:async()=>(await R.preload(),t.e(2025).then(t.bind(t,32488)))},{path:"/builder/en/config/html/faviconByEntries",element:o.createElement(j),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/faviconByEntries.md",preload:async()=>(await j.preload(),t.e(6592).then(t.bind(t,97419)))},{path:"/builder/en/config/html/inject",element:o.createElement(N),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/inject.md",preload:async()=>(await N.preload(),t.e(2456).then(t.bind(t,50165)))},{path:"/builder/en/config/html/injectByEntries",element:o.createElement(L),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/injectByEntries.md",preload:async()=>(await L.preload(),t.e(8829).then(t.bind(t,9942)))},{path:"/builder/en/config/html/meta",element:o.createElement(A),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/meta.md",preload:async()=>(await A.preload(),t.e(4960).then(t.bind(t,54751)))},{path:"/builder/en/config/html/metaByEntries",element:o.createElement(D),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/metaByEntries.md",preload:async()=>(await D.preload(),t.e(902).then(t.bind(t,2027)))},{path:"/builder/en/config/html/mountId",element:o.createElement(M),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/mountId.md",preload:async()=>(await M.preload(),t.e(9313).then(t.bind(t,87830)))},{path:"/builder/en/config/html/tags",element:o.createElement(U),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/tags.md",preload:async()=>(await U.preload(),t.e(6819).then(t.bind(t,44635)))},{path:"/builder/en/config/html/tagsByEntries",element:o.createElement(z),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/tagsByEntries.md",preload:async()=>(await z.preload(),t.e(7480).then(t.bind(t,20380)))},{path:"/builder/en/config/html/template",element:o.createElement(F),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/template.md",preload:async()=>(await F.preload(),t.e(1969).then(t.bind(t,3542)))},{path:"/builder/en/config/html/templateByEntries",element:o.createElement(W),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/templateByEntries.md",preload:async()=>(await W.preload(),t.e(806).then(t.bind(t,1555)))},{path:"/builder/en/config/html/templateParameters",element:o.createElement(H),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/templateParameters.md",preload:async()=>(await H.preload(),t.e(2634).then(t.bind(t,19926)))},{path:"/builder/en/config/html/templateParametersByEntries",element:o.createElement(G),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/templateParametersByEntries.md",preload:async()=>(await G.preload(),t.e(9308).then(t.bind(t,24061)))},{path:"/builder/en/config/html/title",element:o.createElement(_),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/title.md",preload:async()=>(await _.preload(),t.e(2570).then(t.bind(t,51898)))},{path:"/builder/en/config/html/titleByEntries",element:o.createElement(J),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/html/titleByEntries.md",preload:async()=>(await J.preload(),t.e(6520).then(t.bind(t,63981)))},{path:"/builder/en/config/output/assetPrefix",element:o.createElement(V),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/assetPrefix.md",preload:async()=>(await V.preload(),t.e(6236).then(t.bind(t,18818)))},{path:"/builder/en/config/output/assetsRetry",element:o.createElement(Y),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/assetsRetry.md",preload:async()=>(await Y.preload(),t.e(6690).then(t.bind(t,12891)))},{path:"/builder/en/config/output/charset",element:o.createElement(q),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/charset.md",preload:async()=>(await q.preload(),t.e(6593).then(t.bind(t,88009)))},{path:"/builder/en/config/output/cleanDistPath",element:o.createElement(X),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/cleanDistPath.md",preload:async()=>(await X.preload(),t.e(4321).then(t.bind(t,29450)))},{path:"/builder/en/config/output/convertToRem",element:o.createElement(K),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/convertToRem.md",preload:async()=>(await K.preload(),t.e(3942).then(t.bind(t,67668)))},{path:"/builder/en/config/output/copy",element:o.createElement(Z),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/copy.md",preload:async()=>(await Z.preload(),t.e(4132).then(t.bind(t,5560)))},{path:"/builder/en/config/output/cssModuleLocalIdentName",element:o.createElement($),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/cssModuleLocalIdentName.md",preload:async()=>(await $.preload(),t.e(9742).then(t.bind(t,18620)))},{path:"/builder/en/config/output/dataUriLimit",element:o.createElement(Q),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/dataUriLimit.md",preload:async()=>(await Q.preload(),t.e(7962).then(t.bind(t,70642)))},{path:"/builder/en/config/output/disableCssExtract",element:o.createElement(ee),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/disableCssExtract.md",preload:async()=>(await ee.preload(),t.e(4227).then(t.bind(t,34351)))},{path:"/builder/en/config/output/disableCssModuleExtension",element:o.createElement(ne),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/disableCssModuleExtension.md",preload:async()=>(await ne.preload(),t.e(195).then(t.bind(t,21011)))},{path:"/builder/en/config/output/disableFilenameHash",element:o.createElement(te),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/disableFilenameHash.md",preload:async()=>(await te.preload(),t.e(9200).then(t.bind(t,86754)))},{path:"/builder/en/config/output/disableInlineRuntimeChunk",element:o.createElement(oe),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/disableInlineRuntimeChunk.md",preload:async()=>(await oe.preload(),t.e(3991).then(t.bind(t,61033)))},{path:"/builder/en/config/output/disableMinimize",element:o.createElement(ie),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/disableMinimize.md",preload:async()=>(await ie.preload(),t.e(6870).then(t.bind(t,69043)))},{path:"/builder/en/config/output/disableSourceMap",element:o.createElement(re),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/disableSourceMap.md",preload:async()=>(await re.preload(),t.e(1773).then(t.bind(t,1621)))},{path:"/builder/en/config/output/disableTsChecker",element:o.createElement(ae),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/disableTsChecker.md",preload:async()=>(await ae.preload(),t.e(9675).then(t.bind(t,23247)))},{path:"/builder/en/config/output/distPath",element:o.createElement(se),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/distPath.md",preload:async()=>(await se.preload(),t.e(7429).then(t.bind(t,67240)))},{path:"/builder/en/config/output/enableAssetFallback",element:o.createElement(le),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/enableAssetFallback.md",preload:async()=>(await le.preload(),t.e(7762).then(t.bind(t,30673)))},{path:"/builder/en/config/output/enableAssetManifest",element:o.createElement(de),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/enableAssetManifest.md",preload:async()=>(await de.preload(),t.e(1989).then(t.bind(t,7042)))},{path:"/builder/en/config/output/enableCssModuleTSDeclaration",element:o.createElement(ce),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/enableCssModuleTSDeclaration.md",preload:async()=>(await ce.preload(),t.e(4632).then(t.bind(t,12924)))},{path:"/builder/en/config/output/enableInlineScripts",element:o.createElement(ue),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/enableInlineScripts.md",preload:async()=>(await ue.preload(),t.e(6219).then(t.bind(t,95780)))},{path:"/builder/en/config/output/enableInlineStyles",element:o.createElement(pe),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/enableInlineStyles.md",preload:async()=>(await pe.preload(),t.e(3317).then(t.bind(t,39587)))},{path:"/builder/en/config/output/enableLatestDecorators",element:o.createElement(he),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/enableLatestDecorators.md",preload:async()=>(await he.preload(),t.e(901).then(t.bind(t,28309)))},{path:"/builder/en/config/output/externals",element:o.createElement(me),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/externals.md",preload:async()=>(await me.preload(),t.e(6086).then(t.bind(t,29559)))},{path:"/builder/en/config/output/filename",element:o.createElement(fe),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/filename.md",preload:async()=>(await fe.preload(),t.e(5064).then(t.bind(t,92826)))},{path:"/builder/en/config/output/legalComments",element:o.createElement(ge),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/legalComments.md",preload:async()=>(await ge.preload(),t.e(805).then(t.bind(t,50757)))},{path:"/builder/en/config/output/overrideBrowserslist",element:o.createElement(be),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/overrideBrowserslist.md",preload:async()=>(await be.preload(),t.e(6119).then(t.bind(t,24601)))},{path:"/builder/en/config/output/polyfill",element:o.createElement(ye),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/polyfill.md",preload:async()=>(await ye.preload(),t.e(8737).then(t.bind(t,88437)))},{path:"/builder/en/config/output/svgDefaultExport",element:o.createElement(xe),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/output/svgDefaultExport.md",preload:async()=>(await xe.preload(),t.e(7828).then(t.bind(t,62022)))},{path:"/builder/en/config/performance/buildCache",element:o.createElement(Se),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/performance/buildCache.md",preload:async()=>(await Se.preload(),t.e(8246).then(t.bind(t,10447)))},{path:"/builder/en/config/performance/bundleAnalyze",element:o.createElement(we),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/performance/bundleAnalyze.md",preload:async()=>(await we.preload(),t.e(7381).then(t.bind(t,28179)))},{path:"/builder/en/config/performance/chunkSplit",element:o.createElement(Ee),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/performance/chunkSplit.md",preload:async()=>(await Ee.preload(),t.e(1387).then(t.bind(t,64239)))},{path:"/builder/en/config/performance/printFileSize",element:o.createElement(ve),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/performance/printFileSize.md",preload:async()=>(await ve.preload(),t.e(1780).then(t.bind(t,10558)))},{path:"/builder/en/config/performance/profile",element:o.createElement(ke),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/performance/profile.md",preload:async()=>(await ke.preload(),t.e(5868).then(t.bind(t,62740)))},{path:"/builder/en/config/performance/removeConsole",element:o.createElement(Te),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/performance/removeConsole.md",preload:async()=>(await Te.preload(),t.e(7622).then(t.bind(t,23590)))},{path:"/builder/en/config/performance/removeMomentLocale",element:o.createElement(Pe),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/performance/removeMomentLocale.md",preload:async()=>(await Pe.preload(),t.e(9553).then(t.bind(t,68108)))},{path:"/builder/en/config/security/sri",element:o.createElement(Ce),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/security/sri.md",preload:async()=>(await Ce.preload(),t.e(3784).then(t.bind(t,60925)))},{path:"/builder/en/config/source/alias",element:o.createElement(Ie),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/source/alias.md",preload:async()=>(await Ie.preload(),t.e(5386).then(t.bind(t,45505)))},{path:"/builder/en/config/source/compileJsDataURI",element:o.createElement(Be),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/source/compileJsDataURI.md",preload:async()=>(await Be.preload(),t.e(301).then(t.bind(t,11933)))},{path:"/builder/en/config/source/define",element:o.createElement(Oe),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/source/define.md",preload:async()=>(await Oe.preload(),t.e(3310).then(t.bind(t,2838)))},{path:"/builder/en/config/source/exclude",element:o.createElement(Re),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/source/exclude.md",preload:async()=>(await Re.preload(),t.e(7708).then(t.bind(t,71919)))},{path:"/builder/en/config/source/globalVars",element:o.createElement(je),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/source/globalVars.md",preload:async()=>(await je.preload(),t.e(2847).then(t.bind(t,65924)))},{path:"/builder/en/config/source/include",element:o.createElement(Ne),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/source/include.md",preload:async()=>(await Ne.preload(),t.e(5923).then(t.bind(t,24902)))},{path:"/builder/en/config/source/moduleScopes",element:o.createElement(Le),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/source/moduleScopes.md",preload:async()=>(await Le.preload(),t.e(8395).then(t.bind(t,54314)))},{path:"/builder/en/config/source/preEntry",element:o.createElement(Ae),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/source/preEntry.md",preload:async()=>(await Ae.preload(),t.e(9878).then(t.bind(t,8986)))},{path:"/builder/en/config/source/resolveExtensionPrefix",element:o.createElement(De),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/source/resolveExtensionPrefix.md",preload:async()=>(await De.preload(),t.e(8930).then(t.bind(t,68167)))},{path:"/builder/en/config/source/resolveMainFields",element:o.createElement(Me),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/source/resolveMainFields.md",preload:async()=>(await Me.preload(),t.e(1743).then(t.bind(t,16240)))},{path:"/builder/en/config/tools/autoprefixer",element:o.createElement(Ue),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/autoprefixer.md",preload:async()=>(await Ue.preload(),t.e(2477).then(t.bind(t,36714)))},{path:"/builder/en/config/tools/babel",element:o.createElement(ze),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/babel.md",preload:async()=>(await ze.preload(),t.e(826).then(t.bind(t,8407)))},{path:"/builder/en/config/tools/cssExtract",element:o.createElement(Fe),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/cssExtract.md",preload:async()=>(await Fe.preload(),t.e(7680).then(t.bind(t,79681)))},{path:"/builder/en/config/tools/cssLoader",element:o.createElement(We),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/cssLoader.md",preload:async()=>(await We.preload(),t.e(3256).then(t.bind(t,90074)))},{path:"/builder/en/config/tools/devServer",element:o.createElement(He),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/devServer.md",preload:async()=>(await He.preload(),t.e(2331).then(t.bind(t,17126)))},{path:"/builder/en/config/tools/htmlPlugin",element:o.createElement(Ge),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/htmlPlugin.md",preload:async()=>(await Ge.preload(),t.e(9935).then(t.bind(t,49498)))},{path:"/builder/en/config/tools/inspector",element:o.createElement(_e),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/inspector.md",preload:async()=>(await _e.preload(),t.e(4513).then(t.bind(t,29272)))},{path:"/builder/en/config/tools/less",element:o.createElement(Je),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/less.md",preload:async()=>(await Je.preload(),t.e(6952).then(t.bind(t,36197)))},{path:"/builder/en/config/tools/minifyCss",element:o.createElement(Ve),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/minifyCss.md",preload:async()=>(await Ve.preload(),t.e(2727).then(t.bind(t,35402)))},{path:"/builder/en/config/tools/postcss",element:o.createElement(Ye),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/postcss.md",preload:async()=>(await Ye.preload(),t.e(1596).then(t.bind(t,27958)))},{path:"/builder/en/config/tools/pug",element:o.createElement(qe),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/pug.md",preload:async()=>(await qe.preload(),t.e(2403).then(t.bind(t,70406)))},{path:"/builder/en/config/tools/sass",element:o.createElement(Xe),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/sass.md",preload:async()=>(await Xe.preload(),t.e(1436).then(t.bind(t,76882)))},{path:"/builder/en/config/tools/styleLoader",element:o.createElement(Ke),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/styleLoader.md",preload:async()=>(await Ke.preload(),t.e(771).then(t.bind(t,42352)))},{path:"/builder/en/config/tools/styledComponents",element:o.createElement(Ze),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/styledComponents.md",preload:async()=>(await Ze.preload(),t.e(4871).then(t.bind(t,41555)))},{path:"/builder/en/config/tools/terser",element:o.createElement($e),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/terser.md",preload:async()=>(await $e.preload(),t.e(4831).then(t.bind(t,83779)))},{path:"/builder/en/config/tools/tsChecker",element:o.createElement(Qe),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/tsChecker.md",preload:async()=>(await Qe.preload(),t.e(2401).then(t.bind(t,75373)))},{path:"/builder/en/config/tools/tsLoader",element:o.createElement(en),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/tsLoader.md",preload:async()=>(await en.preload(),t.e(9762).then(t.bind(t,34326)))},{path:"/builder/en/config/tools/webpack",element:o.createElement(nn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/webpack.md",preload:async()=>(await nn.preload(),t.e(6194).then(t.bind(t,36302)))},{path:"/builder/en/config/tools/webpackChain",element:o.createElement(tn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/config/tools/webpackChain.md",preload:async()=>(await tn.preload(),t.e(2897).then(t.bind(t,71930)))},{path:"/builder/en/guide/advanced/alias",element:o.createElement(on),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/advanced/alias.md",preload:async()=>(await on.preload(),t.e(3873).then(t.bind(t,28205)))},{path:"/builder/en/guide/advanced/browser-compatibility",element:o.createElement(rn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/advanced/browser-compatibility.md",preload:async()=>(await rn.preload(),t.e(7370).then(t.bind(t,89680)))},{path:"/builder/en/guide/advanced/browserslist",element:o.createElement(an),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/advanced/browserslist.md",preload:async()=>(await an.preload(),t.e(3431).then(t.bind(t,50222)))},{path:"/builder/en/guide/advanced/custom-webpack-config",element:o.createElement(sn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/advanced/custom-webpack-config.md",preload:async()=>(await sn.preload(),t.e(27).then(t.bind(t,59921)))},{path:"/builder/en/guide/advanced/define",element:o.createElement(ln),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/advanced/define.md",preload:async()=>(await ln.preload(),t.e(6504).then(t.bind(t,19990)))},{path:"/builder/en/guide/advanced/hmr",element:o.createElement(dn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/advanced/hmr.md",preload:async()=>(await dn.preload(),t.e(7403).then(t.bind(t,17200)))},{path:"/builder/en/guide/advanced/rem",element:o.createElement(cn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/advanced/rem.md",preload:async()=>(await cn.preload(),t.e(4094).then(t.bind(t,29708)))},{path:"/builder/en/guide/basic/build-target",element:o.createElement(un),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/basic/build-target.md",preload:async()=>(await un.preload(),t.e(6785).then(t.bind(t,62745)))},{path:"/builder/en/guide/basic/builder-config",element:o.createElement(pn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/basic/builder-config.mdx",preload:async()=>(await pn.preload(),t.e(1167).then(t.bind(t,45389)))},{path:"/builder/en/guide/basic/css-modules",element:o.createElement(hn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/basic/css-modules.md",preload:async()=>(await hn.preload(),t.e(9711).then(t.bind(t,20849)))},{path:"/builder/en/guide/basic/css-usage",element:o.createElement(mn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/basic/css-usage.md",preload:async()=>(await mn.preload(),t.e(6472).then(t.bind(t,92112)))},{path:"/builder/en/guide/basic/html-template",element:o.createElement(fn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/basic/html-template.md",preload:async()=>(await fn.preload(),t.e(6210).then(t.bind(t,89046)))},{path:"/builder/en/guide/basic/json-files",element:o.createElement(gn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/basic/json-files.md",preload:async()=>(await gn.preload(),t.e(652).then(t.bind(t,88172)))},{path:"/builder/en/guide/basic/output-files",element:o.createElement(bn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/basic/output-files.md",preload:async()=>(await bn.preload(),t.e(5841).then(t.bind(t,92142)))},{path:"/builder/en/guide/basic/static-assets",element:o.createElement(yn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/basic/static-assets.md",preload:async()=>(await yn.preload(),t.e(6066).then(t.bind(t,34119)))},{path:"/builder/en/guide/basic/svg-assets",element:o.createElement(xn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/basic/svg-assets.md",preload:async()=>(await xn.preload(),t.e(1677).then(t.bind(t,62505)))},{path:"/builder/en/guide/basic/typescript",element:o.createElement(Sn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/basic/typescript.md",preload:async()=>(await Sn.preload(),t.e(2061).then(t.bind(t,50941)))},{path:"/builder/en/guide/debug/debug-mode",element:o.createElement(wn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/debug/debug-mode.md",preload:async()=>(await wn.preload(),t.e(7578).then(t.bind(t,40083)))},{path:"/builder/en/guide/debug/inspector",element:o.createElement(En),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/debug/inspector.md",preload:async()=>(await En.preload(),t.e(6093).then(t.bind(t,17723)))},{path:"/builder/en/guide/faq/exceptions",element:o.createElement(vn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/faq/exceptions.md",preload:async()=>(await vn.preload(),t.e(4904).then(t.bind(t,813)))},{path:"/builder/en/guide/faq/features",element:o.createElement(kn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/faq/features.md",preload:async()=>(await kn.preload(),t.e(9082).then(t.bind(t,5795)))},{path:"/builder/en/guide/faq/general",element:o.createElement(Tn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/faq/general.md",preload:async()=>(await Tn.preload(),t.e(8403).then(t.bind(t,87164)))},{path:"/builder/en/guide/features",element:o.createElement(Pn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/features.md",preload:async()=>(await Pn.preload(),t.e(2893).then(t.bind(t,55499)))},{path:"/builder/en/guide/glossary",element:o.createElement(Cn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/glossary.mdx",preload:async()=>(await Cn.preload(),t.e(8421).then(t.bind(t,61352)))},{path:"/builder/en/guide/introduction",element:o.createElement(In),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/introduction.mdx",preload:async()=>(await In.preload(),t.e(9209).then(t.bind(t,82563)))},{path:"/builder/en/guide/optimization/build-performance",element:o.createElement(Bn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/optimization/build-performance.md",preload:async()=>(await Bn.preload(),t.e(3065).then(t.bind(t,33241)))},{path:"/builder/en/guide/optimization/inline-assets",element:o.createElement(On),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/optimization/inline-assets.md",preload:async()=>(await On.preload(),t.e(8717).then(t.bind(t,35193)))},{path:"/builder/en/guide/optimization/optimize-bundle",element:o.createElement(Rn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/optimization/optimize-bundle.md",preload:async()=>(await Rn.preload(),t.e(4919).then(t.bind(t,85876)))},{path:"/builder/en/guide/optimization/split-chunk",element:o.createElement(jn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/optimization/split-chunk.md",preload:async()=>(await jn.preload(),t.e(551).then(t.bind(t,27955)))},{path:"/builder/en/guide/quick-start",element:o.createElement(Nn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/guide/quick-start.mdx",preload:async()=>(await Nn.preload(),t.e(1911).then(t.bind(t,54796)))},{path:"/builder/en/",element:o.createElement(Ln),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/index.md",preload:async()=>(await Ln.preload(),t.e(315).then(t.bind(t,10724)))},{path:"/builder/en/plugins/integration",element:o.createElement(An),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/plugins/integration.md",preload:async()=>(await An.preload(),t.e(6811).then(t.bind(t,65470)))},{path:"/builder/en/plugins/introduction",element:o.createElement(Dn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/plugins/introduction.md",preload:async()=>(await Dn.preload(),t.e(8006).then(t.bind(t,8980)))},{path:"/builder/en/plugins/list",element:o.createElement(Mn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/plugins/list.md",preload:async()=>(await Mn.preload(),t.e(207).then(t.bind(t,63333)))},{path:"/builder/en/plugins/plugin-esbuild",element:o.createElement(Un),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/plugins/plugin-esbuild.mdx",preload:async()=>(await Un.preload(),t.e(3778).then(t.bind(t,66483)))},{path:"/builder/en/plugins/plugin-image-compress",element:o.createElement(zn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/plugins/plugin-image-compress.mdx",preload:async()=>(await zn.preload(),t.e(9038).then(t.bind(t,45011)))},{path:"/builder/en/plugins/plugin-node-polyfill",element:o.createElement(Fn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/plugins/plugin-node-polyfill.mdx",preload:async()=>(await Fn.preload(),t.e(1447).then(t.bind(t,78845)))},{path:"/builder/en/plugins/plugin-stylus",element:o.createElement(Wn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/plugins/plugin-stylus.mdx",preload:async()=>(await Wn.preload(),t.e(6972).then(t.bind(t,77257)))},{path:"/builder/en/plugins/plugin-swc",element:o.createElement(Hn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/plugins/plugin-swc.mdx",preload:async()=>(await Hn.preload(),t.e(6825).then(t.bind(t,36059)))},{path:"/builder/en/plugins/testing",element:o.createElement(Gn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/plugins/testing.md",preload:async()=>(await Gn.preload(),t.e(6080).then(t.bind(t,32629)))},{path:"/builder/en/shared/getBuilderConfig",element:o.createElement(_n),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/shared/getBuilderConfig.md",preload:async()=>(await _n.preload(),t.e(5791).then(t.bind(t,11201)))},{path:"/builder/en/shared/getHTMLPaths",element:o.createElement(Jn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/shared/getHTMLPaths.md",preload:async()=>(await Jn.preload(),t.e(8610).then(t.bind(t,28126)))},{path:"/builder/en/shared/getNormalizedConfig",element:o.createElement(Vn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/shared/getNormalizedConfig.md",preload:async()=>(await Vn.preload(),t.e(3670).then(t.bind(t,61142)))},{path:"/builder/en/shared/isPluginExists",element:o.createElement(Yn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/shared/isPluginExists.md",preload:async()=>(await Yn.preload(),t.e(8975).then(t.bind(t,87631)))},{path:"/builder/en/shared/onAfterBuild",element:o.createElement(qn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/shared/onAfterBuild.md",preload:async()=>(await qn.preload(),t.e(7409).then(t.bind(t,77249)))},{path:"/builder/en/shared/onAfterCreateCompiler",element:o.createElement(Xn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/shared/onAfterCreateCompiler.md",preload:async()=>(await Xn.preload(),t.e(583).then(t.bind(t,89808)))},{path:"/builder/en/shared/onAfterStartDevServer",element:o.createElement(Kn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/shared/onAfterStartDevServer.md",preload:async()=>(await Kn.preload(),t.e(6596).then(t.bind(t,56992)))},{path:"/builder/en/shared/onBeforeBuild",element:o.createElement(Zn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/shared/onBeforeBuild.md",preload:async()=>(await Zn.preload(),t.e(2271).then(t.bind(t,54327)))},{path:"/builder/en/shared/onBeforeCreateCompiler",element:o.createElement($n),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/shared/onBeforeCreateCompiler.md",preload:async()=>(await $n.preload(),t.e(9769).then(t.bind(t,52578)))},{path:"/builder/en/shared/onBeforeStartDevServer",element:o.createElement(Qn),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/shared/onBeforeStartDevServer.md",preload:async()=>(await Qn.preload(),t.e(8835).then(t.bind(t,47202)))},{path:"/builder/en/shared/onDevCompileDone",element:o.createElement(et),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/shared/onDevCompileDone.md",preload:async()=>(await et.preload(),t.e(4877).then(t.bind(t,56886)))},{path:"/builder/en/shared/onExit",element:o.createElement(nt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/en/shared/onExit.md",preload:async()=>(await nt.preload(),t.e(3811).then(t.bind(t,95873)))},{path:"/builder/global.d",element:o.createElement(tt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/global.d.ts",preload:async()=>(await tt.preload(),t.e(4784).then(t.t.bind(t,13143,19)))},{path:"/builder/api/builder-core",element:o.createElement(ot),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/api/builder-core.mdx",preload:async()=>(await ot.preload(),t.e(9656).then(t.bind(t,27229)))},{path:"/builder/api/builder-instance",element:o.createElement(it),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/api/builder-instance.mdx",preload:async()=>(await it.preload(),t.e(1813).then(t.bind(t,99069)))},{path:"/builder/api/builder-types",element:o.createElement(rt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/api/builder-types.mdx",preload:async()=>(await rt.preload(),t.e(9611).then(t.bind(t,53875)))},{path:"/builder/api/config-dev",element:o.createElement(at),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/api/config-dev.mdx",preload:async()=>(await at.preload(),Promise.all([t.e(9483),t.e(3839)]).then(t.bind(t,8034)))},{path:"/builder/api/config-experiments",element:o.createElement(st),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/api/config-experiments.mdx",preload:async()=>(await st.preload(),t.e(613).then(t.bind(t,98792)))},{path:"/builder/api/config-html",element:o.createElement(lt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/api/config-html.mdx",preload:async()=>(await lt.preload(),Promise.all([t.e(9350),t.e(288),t.e(9927),t.e(6805),t.e(6602),t.e(3766)]).then(t.bind(t,75168)))},{path:"/builder/api/config-output",element:o.createElement(dt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/api/config-output.mdx",preload:async()=>(await dt.preload(),Promise.all([t.e(7320),t.e(4854),t.e(6418),t.e(7681),t.e(8599),t.e(2140),t.e(9024),t.e(2760),t.e(1001)]).then(t.bind(t,17702)))},{path:"/builder/api/config-performance",element:o.createElement(ct),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/api/config-performance.mdx",preload:async()=>(await ct.preload(),Promise.all([t.e(789),t.e(818),t.e(6477),t.e(9929)]).then(t.bind(t,90695)))},{path:"/builder/api/config-security",element:o.createElement(ut),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/api/config-security.mdx",preload:async()=>(await ut.preload(),t.e(7687).then(t.bind(t,19887)))},{path:"/builder/api/config-source",element:o.createElement(pt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/api/config-source.mdx",preload:async()=>(await pt.preload(),Promise.all([t.e(5391),t.e(9836),t.e(3143),t.e(7545),t.e(3827),t.e(8651),t.e(6385),t.e(3608),t.e(557)]).then(t.bind(t,45406)))},{path:"/builder/api/config-tools",element:o.createElement(ht),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/api/config-tools.mdx",preload:async()=>(await ht.preload(),Promise.all([t.e(8667),t.e(44),t.e(7021),t.e(6925),t.e(3372),t.e(3756),t.e(5974),t.e(6575),t.e(8630),t.e(3119),t.e(7784),t.e(3020),t.e(8893),t.e(4285),t.e(4780),t.e(234),t.e(1655)]).then(t.bind(t,82654)))},{path:"/builder/api/",element:o.createElement(mt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/api/index.mdx",preload:async()=>(await mt.preload(),t.e(1189).then(t.bind(t,64792)))},{path:"/builder/api/plugin-core",element:o.createElement(ft),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/api/plugin-core.mdx",preload:async()=>(await ft.preload(),t.e(5531).then(t.bind(t,43857)))},{path:"/builder/api/plugin-hooks",element:o.createElement(gt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/api/plugin-hooks.mdx",preload:async()=>(await gt.preload(),t.e(299).then(t.bind(t,95690)))},{path:"/builder/config/dev/assetPrefix",element:o.createElement(bt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/dev/assetPrefix.md",preload:async()=>(await bt.preload(),t.e(2870).then(t.bind(t,10233)))},{path:"/builder/config/dev/hmr",element:o.createElement(yt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/dev/hmr.md",preload:async()=>(await yt.preload(),t.e(5077).then(t.bind(t,55776)))},{path:"/builder/config/dev/https",element:o.createElement(xt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/dev/https.md",preload:async()=>(await xt.preload(),t.e(9483).then(t.bind(t,31261)))},{path:"/builder/config/dev/port",element:o.createElement(St),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/dev/port.md",preload:async()=>(await St.preload(),t.e(951).then(t.bind(t,79404)))},{path:"/builder/config/dev/progressBar",element:o.createElement(wt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/dev/progressBar.md",preload:async()=>(await wt.preload(),t.e(4263).then(t.bind(t,27915)))},{path:"/builder/config/dev/startUrl",element:o.createElement(Et),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/dev/startUrl.md",preload:async()=>(await Et.preload(),t.e(4572).then(t.bind(t,12188)))},{path:"/builder/config/experiments/lazyCompilation",element:o.createElement(vt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/experiments/lazyCompilation.md",preload:async()=>(await vt.preload(),t.e(8161).then(t.bind(t,54595)))},{path:"/builder/config/html/appIcon",element:o.createElement(kt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/appIcon.md",preload:async()=>(await kt.preload(),t.e(5224).then(t.bind(t,39686)))},{path:"/builder/config/html/crossorigin",element:o.createElement(Tt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/crossorigin.md",preload:async()=>(await Tt.preload(),t.e(2540).then(t.bind(t,14125)))},{path:"/builder/config/html/disableHtmlFolder",element:o.createElement(Pt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/disableHtmlFolder.md",preload:async()=>(await Pt.preload(),t.e(1963).then(t.bind(t,3836)))},{path:"/builder/config/html/favicon",element:o.createElement(Ct),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/favicon.md",preload:async()=>(await Ct.preload(),t.e(3209).then(t.bind(t,52208)))},{path:"/builder/config/html/faviconByEntries",element:o.createElement(It),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/faviconByEntries.md",preload:async()=>(await It.preload(),t.e(3490).then(t.bind(t,12105)))},{path:"/builder/config/html/inject",element:o.createElement(Bt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/inject.md",preload:async()=>(await Bt.preload(),t.e(6805).then(t.bind(t,65264)))},{path:"/builder/config/html/injectByEntries",element:o.createElement(Ot),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/injectByEntries.md",preload:async()=>(await Ot.preload(),t.e(1320).then(t.bind(t,65261)))},{path:"/builder/config/html/meta",element:o.createElement(Rt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/meta.md",preload:async()=>(await Rt.preload(),t.e(9927).then(t.bind(t,14759)))},{path:"/builder/config/html/metaByEntries",element:o.createElement(jt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/metaByEntries.md",preload:async()=>(await jt.preload(),t.e(6489).then(t.bind(t,93870)))},{path:"/builder/config/html/mountId",element:o.createElement(Nt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/mountId.md",preload:async()=>(await Nt.preload(),t.e(163).then(t.bind(t,8669)))},{path:"/builder/config/html/tags",element:o.createElement(Lt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/tags.md",preload:async()=>(await Lt.preload(),t.e(9350).then(t.bind(t,73412)))},{path:"/builder/config/html/tagsByEntries",element:o.createElement(At),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/tagsByEntries.md",preload:async()=>(await At.preload(),t.e(6602).then(t.bind(t,23164)))},{path:"/builder/config/html/template",element:o.createElement(Dt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/template.md",preload:async()=>(await Dt.preload(),t.e(2566).then(t.bind(t,52819)))},{path:"/builder/config/html/templateByEntries",element:o.createElement(Mt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/templateByEntries.md",preload:async()=>(await Mt.preload(),t.e(1108).then(t.bind(t,14522)))},{path:"/builder/config/html/templateParameters",element:o.createElement(Ut),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/templateParameters.md",preload:async()=>(await Ut.preload(),t.e(288).then(t.bind(t,78337)))},{path:"/builder/config/html/templateParametersByEntries",element:o.createElement(zt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/templateParametersByEntries.md",preload:async()=>(await zt.preload(),t.e(2638).then(t.bind(t,19525)))},{path:"/builder/config/html/title",element:o.createElement(Ft),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/title.md",preload:async()=>(await Ft.preload(),t.e(7202).then(t.bind(t,89035)))},{path:"/builder/config/html/titleByEntries",element:o.createElement(Wt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/html/titleByEntries.md",preload:async()=>(await Wt.preload(),t.e(3272).then(t.bind(t,65250)))},{path:"/builder/config/output/assetPrefix",element:o.createElement(Ht),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/assetPrefix.md",preload:async()=>(await Ht.preload(),t.e(4298).then(t.bind(t,12797)))},{path:"/builder/config/output/assetsRetry",element:o.createElement(Gt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/assetsRetry.md",preload:async()=>(await Gt.preload(),t.e(7320).then(t.bind(t,79877)))},{path:"/builder/config/output/charset",element:o.createElement(_t),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/charset.md",preload:async()=>(await _t.preload(),t.e(1786).then(t.bind(t,80179)))},{path:"/builder/config/output/cleanDistPath",element:o.createElement(Jt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/cleanDistPath.md",preload:async()=>(await Jt.preload(),t.e(591).then(t.bind(t,40606)))},{path:"/builder/config/output/convertToRem",element:o.createElement(Vt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/convertToRem.md",preload:async()=>(await Vt.preload(),t.e(6418).then(t.bind(t,25690)))},{path:"/builder/config/output/copy",element:o.createElement(Yt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/copy.md",preload:async()=>(await Yt.preload(),t.e(6753).then(t.bind(t,4834)))},{path:"/builder/config/output/cssModuleLocalIdentName",element:o.createElement(qt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/cssModuleLocalIdentName.md",preload:async()=>(await qt.preload(),t.e(7809).then(t.bind(t,98307)))},{path:"/builder/config/output/dataUriLimit",element:o.createElement(Xt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/dataUriLimit.md",preload:async()=>(await Xt.preload(),t.e(9024).then(t.bind(t,80331)))},{path:"/builder/config/output/disableCssExtract",element:o.createElement(Kt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/disableCssExtract.md",preload:async()=>(await Kt.preload(),t.e(2011).then(t.bind(t,18745)))},{path:"/builder/config/output/disableCssModuleExtension",element:o.createElement(Zt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/disableCssModuleExtension.md",preload:async()=>(await Zt.preload(),t.e(8425).then(t.bind(t,2057)))},{path:"/builder/config/output/disableFilenameHash",element:o.createElement($t),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/disableFilenameHash.md",preload:async()=>(await $t.preload(),t.e(1164).then(t.bind(t,53461)))},{path:"/builder/config/output/disableInlineRuntimeChunk",element:o.createElement(Qt),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/disableInlineRuntimeChunk.md",preload:async()=>(await Qt.preload(),t.e(1778).then(t.bind(t,41009)))},{path:"/builder/config/output/disableMinimize",element:o.createElement(eo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/disableMinimize.md",preload:async()=>(await eo.preload(),t.e(6551).then(t.bind(t,52614)))},{path:"/builder/config/output/disableSourceMap",element:o.createElement(no),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/disableSourceMap.md",preload:async()=>(await no.preload(),t.e(8599).then(t.bind(t,16903)))},{path:"/builder/config/output/disableTsChecker",element:o.createElement(to),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/disableTsChecker.md",preload:async()=>(await to.preload(),t.e(2760).then(t.bind(t,83138)))},{path:"/builder/config/output/distPath",element:o.createElement(oo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/distPath.md",preload:async()=>(await oo.preload(),t.e(7681).then(t.bind(t,72759)))},{path:"/builder/config/output/enableAssetFallback",element:o.createElement(io),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/enableAssetFallback.md",preload:async()=>(await io.preload(),t.e(8801).then(t.bind(t,28821)))},{path:"/builder/config/output/enableAssetManifest",element:o.createElement(ro),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/enableAssetManifest.md",preload:async()=>(await ro.preload(),t.e(7544).then(t.bind(t,90604)))},{path:"/builder/config/output/enableCssModuleTSDeclaration",element:o.createElement(ao),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/enableCssModuleTSDeclaration.md",preload:async()=>(await ao.preload(),t.e(461).then(t.bind(t,8688)))},{path:"/builder/config/output/enableInlineScripts",element:o.createElement(so),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/enableInlineScripts.md",preload:async()=>(await so.preload(),t.e(4912).then(t.bind(t,36420)))},{path:"/builder/config/output/enableInlineStyles",element:o.createElement(lo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/enableInlineStyles.md",preload:async()=>(await lo.preload(),t.e(6226).then(t.bind(t,12963)))},{path:"/builder/config/output/enableLatestDecorators",element:o.createElement(co),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/enableLatestDecorators.md",preload:async()=>(await co.preload(),t.e(9011).then(t.bind(t,50523)))},{path:"/builder/config/output/externals",element:o.createElement(uo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/externals.md",preload:async()=>(await uo.preload(),t.e(6824).then(t.bind(t,24796)))},{path:"/builder/config/output/filename",element:o.createElement(po),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/filename.md",preload:async()=>(await po.preload(),t.e(4854).then(t.bind(t,77785)))},{path:"/builder/config/output/legalComments",element:o.createElement(ho),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/legalComments.md",preload:async()=>(await ho.preload(),t.e(5952).then(t.bind(t,98257)))},{path:"/builder/config/output/overrideBrowserslist",element:o.createElement(mo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/overrideBrowserslist.md",preload:async()=>(await mo.preload(),t.e(2140).then(t.bind(t,8139)))},{path:"/builder/config/output/polyfill",element:o.createElement(fo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/polyfill.md",preload:async()=>(await fo.preload(),t.e(4738).then(t.bind(t,57514)))},{path:"/builder/config/output/svgDefaultExport",element:o.createElement(go),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/output/svgDefaultExport.md",preload:async()=>(await go.preload(),t.e(4615).then(t.bind(t,6802)))},{path:"/builder/config/performance/buildCache",element:o.createElement(bo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/performance/buildCache.md",preload:async()=>(await bo.preload(),t.e(818).then(t.bind(t,90428)))},{path:"/builder/config/performance/bundleAnalyze",element:o.createElement(yo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/performance/bundleAnalyze.md",preload:async()=>(await yo.preload(),t.e(5688).then(t.bind(t,21366)))},{path:"/builder/config/performance/chunkSplit",element:o.createElement(xo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/performance/chunkSplit.md",preload:async()=>(await xo.preload(),t.e(789).then(t.bind(t,210)))},{path:"/builder/config/performance/printFileSize",element:o.createElement(So),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/performance/printFileSize.md",preload:async()=>(await So.preload(),t.e(4395).then(t.bind(t,54114)))},{path:"/builder/config/performance/profile",element:o.createElement(wo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/performance/profile.md",preload:async()=>(await wo.preload(),t.e(3059).then(t.bind(t,30659)))},{path:"/builder/config/performance/removeConsole",element:o.createElement(Eo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/performance/removeConsole.md",preload:async()=>(await Eo.preload(),t.e(6477).then(t.bind(t,33567)))},{path:"/builder/config/performance/removeMomentLocale",element:o.createElement(vo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/performance/removeMomentLocale.md",preload:async()=>(await vo.preload(),t.e(2855).then(t.bind(t,82603)))},{path:"/builder/config/security/sri",element:o.createElement(ko),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/security/sri.md",preload:async()=>(await ko.preload(),t.e(4709).then(t.bind(t,24446)))},{path:"/builder/config/source/alias",element:o.createElement(To),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/source/alias.md",preload:async()=>(await To.preload(),t.e(8651).then(t.bind(t,79554)))},{path:"/builder/config/source/compileJsDataURI",element:o.createElement(Po),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/source/compileJsDataURI.md",preload:async()=>(await Po.preload(),t.e(5451).then(t.bind(t,69329)))},{path:"/builder/config/source/define",element:o.createElement(Co),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/source/define.md",preload:async()=>(await Co.preload(),t.e(6385).then(t.bind(t,28960)))},{path:"/builder/config/source/exclude",element:o.createElement(Io),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/source/exclude.md",preload:async()=>(await Io.preload(),t.e(9797).then(t.bind(t,9175)))},{path:"/builder/config/source/globalVars",element:o.createElement(Bo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/source/globalVars.md",preload:async()=>(await Bo.preload(),t.e(9836).then(t.bind(t,63378)))},{path:"/builder/config/source/include",element:o.createElement(Oo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/source/include.md",preload:async()=>(await Oo.preload(),t.e(5391).then(t.bind(t,8806)))},{path:"/builder/config/source/moduleScopes",element:o.createElement(Ro),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/source/moduleScopes.md",preload:async()=>(await Ro.preload(),t.e(3143).then(t.bind(t,98482)))},{path:"/builder/config/source/preEntry",element:o.createElement(jo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/source/preEntry.md",preload:async()=>(await jo.preload(),t.e(3608).then(t.bind(t,51057)))},{path:"/builder/config/source/resolveExtensionPrefix",element:o.createElement(No),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/source/resolveExtensionPrefix.md",preload:async()=>(await No.preload(),t.e(3827).then(t.bind(t,6e3)))},{path:"/builder/config/source/resolveMainFields",element:o.createElement(Lo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/source/resolveMainFields.md",preload:async()=>(await Lo.preload(),t.e(7545).then(t.bind(t,57042)))},{path:"/builder/config/tools/autoprefixer",element:o.createElement(Ao),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/autoprefixer.md",preload:async()=>(await Ao.preload(),t.e(234).then(t.bind(t,13770)))},{path:"/builder/config/tools/babel",element:o.createElement(Do),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/babel.md",preload:async()=>(await Do.preload(),t.e(6925).then(t.bind(t,62266)))},{path:"/builder/config/tools/cssExtract",element:o.createElement(Mo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/cssExtract.md",preload:async()=>(await Mo.preload(),t.e(3119).then(t.bind(t,35351)))},{path:"/builder/config/tools/cssLoader",element:o.createElement(Uo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/cssLoader.md",preload:async()=>(await Uo.preload(),t.e(3020).then(t.bind(t,2494)))},{path:"/builder/config/tools/devServer",element:o.createElement(zo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/devServer.md",preload:async()=>(await zo.preload(),t.e(8667).then(t.bind(t,77001)))},{path:"/builder/config/tools/htmlPlugin",element:o.createElement(Fo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/htmlPlugin.md",preload:async()=>(await Fo.preload(),t.e(5974).then(t.bind(t,88414)))},{path:"/builder/config/tools/inspector",element:o.createElement(Wo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/inspector.md",preload:async()=>(await Wo.preload(),t.e(5697).then(t.bind(t,47137)))},{path:"/builder/config/tools/less",element:o.createElement(Ho),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/less.md",preload:async()=>(await Ho.preload(),t.e(6575).then(t.bind(t,90356)))},{path:"/builder/config/tools/minifyCss",element:o.createElement(Go),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/minifyCss.md",preload:async()=>(await Go.preload(),t.e(7784).then(t.bind(t,92133)))},{path:"/builder/config/tools/postcss",element:o.createElement(_o),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/postcss.md",preload:async()=>(await _o.preload(),t.e(3372).then(t.bind(t,82130)))},{path:"/builder/config/tools/pug",element:o.createElement(Jo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/pug.md",preload:async()=>(await Jo.preload(),t.e(4780).then(t.bind(t,59158)))},{path:"/builder/config/tools/sass",element:o.createElement(Vo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/sass.md",preload:async()=>(await Vo.preload(),t.e(8630).then(t.bind(t,78302)))},{path:"/builder/config/tools/styleLoader",element:o.createElement(Yo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/styleLoader.md",preload:async()=>(await Yo.preload(),t.e(7787).then(t.bind(t,8295)))},{path:"/builder/config/tools/styledComponents",element:o.createElement(qo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/styledComponents.md",preload:async()=>(await qo.preload(),t.e(9031).then(t.bind(t,79318)))},{path:"/builder/config/tools/terser",element:o.createElement(Xo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/terser.md",preload:async()=>(await Xo.preload(),t.e(4285).then(t.bind(t,2206)))},{path:"/builder/config/tools/tsChecker",element:o.createElement(Ko),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/tsChecker.md",preload:async()=>(await Ko.preload(),t.e(8893).then(t.bind(t,43937)))},{path:"/builder/config/tools/tsLoader",element:o.createElement(Zo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/tsLoader.md",preload:async()=>(await Zo.preload(),t.e(3756).then(t.bind(t,13120)))},{path:"/builder/config/tools/webpack",element:o.createElement($o),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/webpack.md",preload:async()=>(await $o.preload(),t.e(44).then(t.bind(t,19842)))},{path:"/builder/config/tools/webpackChain",element:o.createElement(Qo),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/config/tools/webpackChain.md",preload:async()=>(await Qo.preload(),t.e(7021).then(t.bind(t,28283)))},{path:"/builder/guide/advanced/alias",element:o.createElement(ei),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/advanced/alias.md",preload:async()=>(await ei.preload(),t.e(4932).then(t.bind(t,2029)))},{path:"/builder/guide/advanced/browser-compatibility",element:o.createElement(ni),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/advanced/browser-compatibility.md",preload:async()=>(await ni.preload(),t.e(3092).then(t.bind(t,71924)))},{path:"/builder/guide/advanced/browserslist",element:o.createElement(ti),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/advanced/browserslist.md",preload:async()=>(await ti.preload(),t.e(7737).then(t.bind(t,83791)))},{path:"/builder/guide/advanced/custom-webpack-config",element:o.createElement(oi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/advanced/custom-webpack-config.md",preload:async()=>(await oi.preload(),t.e(3406).then(t.bind(t,4668)))},{path:"/builder/guide/advanced/define",element:o.createElement(ii),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/advanced/define.md",preload:async()=>(await ii.preload(),t.e(7907).then(t.bind(t,20860)))},{path:"/builder/guide/advanced/hmr",element:o.createElement(ri),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/advanced/hmr.md",preload:async()=>(await ri.preload(),t.e(570).then(t.bind(t,56219)))},{path:"/builder/guide/advanced/rem",element:o.createElement(ai),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/advanced/rem.md",preload:async()=>(await ai.preload(),t.e(5222).then(t.bind(t,68287)))},{path:"/builder/guide/basic/build-target",element:o.createElement(si),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/basic/build-target.md",preload:async()=>(await si.preload(),t.e(1722).then(t.bind(t,54361)))},{path:"/builder/guide/basic/builder-config",element:o.createElement(li),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/basic/builder-config.mdx",preload:async()=>(await li.preload(),t.e(1767).then(t.bind(t,4403)))},{path:"/builder/guide/basic/css-modules",element:o.createElement(di),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/basic/css-modules.md",preload:async()=>(await di.preload(),t.e(8308).then(t.bind(t,3645)))},{path:"/builder/guide/basic/css-usage",element:o.createElement(ci),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/basic/css-usage.md",preload:async()=>(await ci.preload(),t.e(4175).then(t.bind(t,65625)))},{path:"/builder/guide/basic/html-template",element:o.createElement(ui),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/basic/html-template.md",preload:async()=>(await ui.preload(),t.e(54).then(t.bind(t,15635)))},{path:"/builder/guide/basic/json-files",element:o.createElement(pi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/basic/json-files.md",preload:async()=>(await pi.preload(),t.e(4170).then(t.bind(t,18904)))},{path:"/builder/guide/basic/output-files",element:o.createElement(hi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/basic/output-files.md",preload:async()=>(await hi.preload(),t.e(3181).then(t.bind(t,28857)))},{path:"/builder/guide/basic/static-assets",element:o.createElement(mi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/basic/static-assets.md",preload:async()=>(await mi.preload(),t.e(7099).then(t.bind(t,45078)))},{path:"/builder/guide/basic/svg-assets",element:o.createElement(fi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/basic/svg-assets.md",preload:async()=>(await fi.preload(),t.e(6887).then(t.bind(t,98658)))},{path:"/builder/guide/basic/typescript",element:o.createElement(gi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/basic/typescript.md",preload:async()=>(await gi.preload(),t.e(2642).then(t.bind(t,33340)))},{path:"/builder/guide/debug/debug-mode",element:o.createElement(bi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/debug/debug-mode.md",preload:async()=>(await bi.preload(),t.e(1999).then(t.bind(t,60791)))},{path:"/builder/guide/debug/inspector",element:o.createElement(yi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/debug/inspector.md",preload:async()=>(await yi.preload(),t.e(2232).then(t.bind(t,14608)))},{path:"/builder/guide/faq/exceptions",element:o.createElement(xi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/faq/exceptions.md",preload:async()=>(await xi.preload(),t.e(7892).then(t.bind(t,59987)))},{path:"/builder/guide/faq/features",element:o.createElement(Si),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/faq/features.md",preload:async()=>(await Si.preload(),t.e(8021).then(t.bind(t,85645)))},{path:"/builder/guide/faq/general",element:o.createElement(wi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/faq/general.md",preload:async()=>(await wi.preload(),t.e(2029).then(t.bind(t,12284)))},{path:"/builder/guide/features",element:o.createElement(Ei),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/features.md",preload:async()=>(await Ei.preload(),t.e(707).then(t.bind(t,41511)))},{path:"/builder/guide/glossary",element:o.createElement(vi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/glossary.mdx",preload:async()=>(await vi.preload(),t.e(5637).then(t.bind(t,63244)))},{path:"/builder/guide/introduction",element:o.createElement(ki),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/introduction.mdx",preload:async()=>(await ki.preload(),t.e(4764).then(t.bind(t,77641)))},{path:"/builder/guide/optimization/build-performance",element:o.createElement(Ti),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/optimization/build-performance.md",preload:async()=>(await Ti.preload(),t.e(3459).then(t.bind(t,17097)))},{path:"/builder/guide/optimization/inline-assets",element:o.createElement(Pi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/optimization/inline-assets.md",preload:async()=>(await Pi.preload(),t.e(1816).then(t.bind(t,59279)))},{path:"/builder/guide/optimization/optimize-bundle",element:o.createElement(Ci),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/optimization/optimize-bundle.md",preload:async()=>(await Ci.preload(),t.e(9584).then(t.bind(t,91592)))},{path:"/builder/guide/optimization/split-chunk",element:o.createElement(Ii),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/optimization/split-chunk.md",preload:async()=>(await Ii.preload(),t.e(213).then(t.bind(t,2671)))},{path:"/builder/guide/quick-start",element:o.createElement(Bi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/guide/quick-start.mdx",preload:async()=>(await Bi.preload(),t.e(5979).then(t.bind(t,77899)))},{path:"/builder/",element:o.createElement(Oi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/index.md",preload:async()=>(await Oi.preload(),t.e(1895).then(t.bind(t,22342)))},{path:"/builder/plugins/integration",element:o.createElement(Ri),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/plugins/integration.md",preload:async()=>(await Ri.preload(),t.e(3952).then(t.bind(t,65706)))},{path:"/builder/plugins/introduction",element:o.createElement(ji),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/plugins/introduction.md",preload:async()=>(await ji.preload(),t.e(9733).then(t.bind(t,54708)))},{path:"/builder/plugins/list",element:o.createElement(Ni),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/plugins/list.md",preload:async()=>(await Ni.preload(),t.e(5492).then(t.bind(t,24033)))},{path:"/builder/plugins/plugin-esbuild",element:o.createElement(Li),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/plugins/plugin-esbuild.mdx",preload:async()=>(await Li.preload(),t.e(4080).then(t.bind(t,90874)))},{path:"/builder/plugins/plugin-image-compress",element:o.createElement(Ai),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/plugins/plugin-image-compress.mdx",preload:async()=>(await Ai.preload(),t.e(2693).then(t.bind(t,74864)))},{path:"/builder/plugins/plugin-node-polyfill",element:o.createElement(Di),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/plugins/plugin-node-polyfill.mdx",preload:async()=>(await Di.preload(),t.e(3614).then(t.bind(t,13855)))},{path:"/builder/plugins/plugin-stylus",element:o.createElement(Mi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/plugins/plugin-stylus.mdx",preload:async()=>(await Mi.preload(),t.e(7666).then(t.bind(t,56713)))},{path:"/builder/plugins/plugin-swc",element:o.createElement(Ui),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/plugins/plugin-swc.mdx",preload:async()=>(await Ui.preload(),t.e(8884).then(t.bind(t,64650)))},{path:"/builder/plugins/testing",element:o.createElement(zi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/plugins/testing.md",preload:async()=>(await zi.preload(),t.e(8977).then(t.bind(t,4895)))},{path:"/builder/shared/getBuilderConfig",element:o.createElement(Fi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/shared/getBuilderConfig.md",preload:async()=>(await Fi.preload(),t.e(4697).then(t.bind(t,6615)))},{path:"/builder/shared/getHTMLPaths",element:o.createElement(Wi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/shared/getHTMLPaths.md",preload:async()=>(await Wi.preload(),t.e(4768).then(t.bind(t,45599)))},{path:"/builder/shared/getNormalizedConfig",element:o.createElement(Hi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/shared/getNormalizedConfig.md",preload:async()=>(await Hi.preload(),t.e(7747).then(t.bind(t,78712)))},{path:"/builder/shared/isPluginExists",element:o.createElement(Gi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/shared/isPluginExists.md",preload:async()=>(await Gi.preload(),t.e(8426).then(t.bind(t,70939)))},{path:"/builder/shared/onAfterBuild",element:o.createElement(_i),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/shared/onAfterBuild.md",preload:async()=>(await _i.preload(),t.e(99).then(t.bind(t,56750)))},{path:"/builder/shared/onAfterCreateCompiler",element:o.createElement(Ji),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/shared/onAfterCreateCompiler.md",preload:async()=>(await Ji.preload(),t.e(1680).then(t.bind(t,25104)))},{path:"/builder/shared/onAfterStartDevServer",element:o.createElement(Vi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/shared/onAfterStartDevServer.md",preload:async()=>(await Vi.preload(),t.e(5495).then(t.bind(t,10386)))},{path:"/builder/shared/onBeforeBuild",element:o.createElement(Yi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/shared/onBeforeBuild.md",preload:async()=>(await Yi.preload(),t.e(2278).then(t.bind(t,92850)))},{path:"/builder/shared/onBeforeCreateCompiler",element:o.createElement(qi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/shared/onBeforeCreateCompiler.md",preload:async()=>(await qi.preload(),t.e(2008).then(t.bind(t,10069)))},{path:"/builder/shared/onBeforeStartDevServer",element:o.createElement(Xi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/shared/onBeforeStartDevServer.md",preload:async()=>(await Xi.preload(),t.e(8126).then(t.bind(t,87780)))},{path:"/builder/shared/onDevCompileDone",element:o.createElement(Ki),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/shared/onDevCompileDone.md",preload:async()=>(await Ki.preload(),t.e(3751).then(t.bind(t,69797)))},{path:"/builder/shared/onExit",element:o.createElement(Zi),filePath:"/home/runner/work/modern.js/modern.js/packages/builder/builder-doc/docs/zh/shared/onExit.md",preload:async()=>(await Zi.preload(),t.e(4349).then(t.bind(t,48905)))}]}}]);