"use strict";(self.webpackChunk_modern_js_builder_doc=self.webpackChunk_modern_js_builder_doc||[]).push([[7892],{59987:function(s,e,l){l.r(e),l.d(e,{content:function(){return a},frontmatter:function(){return r},title:function(){return o},toc:function(){return c}});var n=l(39980);const r=void 0,c=[{id:"webpack-\u7f16\u8bd1\u51fa\u73b0-compilation-argument-\u62a5\u9519",text:"webpack \u7f16\u8bd1\u51fa\u73b0 'compilation' argument \u62a5\u9519\uff1f",depth:2},{id:"\u7f16\u8bd1\u4ea7\u7269\u4e2d\u5b58\u5728\u672a\u7f16\u8bd1\u7684-es6-\u4ee3\u7801",text:"\u7f16\u8bd1\u4ea7\u7269\u4e2d\u5b58\u5728\u672a\u7f16\u8bd1\u7684 ES6+ \u4ee3\u7801\uff1f",depth:2},{id:"\u5728-monorepo-\u4e2d\u5f15\u7528\u5176\u4ed6\u6a21\u5757\u4ee3\u7801\u6ca1\u6709\u88ab\u6b63\u786e\u7f16\u8bd1",text:"\u5728 Monorepo \u4e2d\u5f15\u7528\u5176\u4ed6\u6a21\u5757\uff0c\u4ee3\u7801\u6ca1\u6709\u88ab\u6b63\u786e\u7f16\u8bd1\uff1f",depth:2},{id:"\u7f16\u8bd1\u65f6\u62a5\u9519-you-may-need-additional-loader",text:"\u7f16\u8bd1\u65f6\u62a5\u9519 You may need additional loader\uff1f",depth:2},{id:"\u6253\u5f00\u9875\u9762\u540e\u62a5\u9519\u63d0\u793a-exports-is-not-defined",text:"\u6253\u5f00\u9875\u9762\u540e\u62a5\u9519\uff0c\u63d0\u793a exports is not defined\uff1f",depth:2},{id:"\u7f16\u8bd1\u65f6\u62a5\u9519-error-es-modules-may-not-assign-moduleexports-or-exports-use-esm-export-syntax",text:'\u7f16\u8bd1\u65f6\u62a5\u9519 "Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax"\uff1f',depth:2},{id:"\u7f16\u8bd1\u8fdb\u5ea6\u6761\u5361\u6b7b\u4f46\u7ec8\u7aef\u65e0-error-\u65e5\u5fd7",text:"\u7f16\u8bd1\u8fdb\u5ea6\u6761\u5361\u6b7b\uff0c\u4f46\u7ec8\u7aef\u65e0 Error \u65e5\u5fd7\uff1f",depth:2},{id:"webpack-\u7f16\u8bd1\u7f13\u5b58\u672a\u751f\u6548\u5e94\u8be5\u5982\u4f55\u6392\u67e5",text:"webpack \u7f16\u8bd1\u7f13\u5b58\u672a\u751f\u6548\uff0c\u5e94\u8be5\u5982\u4f55\u6392\u67e5\uff1f",depth:2},{id:"\u6253\u5305\u540e\u53d1\u73b0-tree-shaking-\u6ca1\u6709\u751f\u6548",text:"\u6253\u5305\u540e\u53d1\u73b0 Tree Shaking \u6ca1\u6709\u751f\u6548\uff1f",depth:2},{id:"\u6253\u5305\u65f6\u51fa\u73b0-javascript-heap-out-of-memory",text:"\u6253\u5305\u65f6\u51fa\u73b0 JavaScript heap out of memory?",depth:2},{id:"less-\u6587\u4ef6\u4e2d\u7684\u9664\u6cd5\u4e0d\u751f\u6548",text:"Less \u6587\u4ef6\u4e2d\u7684\u9664\u6cd5\u4e0d\u751f\u6548\uff1f",depth:2},{id:"\u4fee\u6539\u914d\u7f6e\u540e\u62a5\u9519-typeerror-cannot-delete-property-xxx-of-object",text:"\u4fee\u6539\u914d\u7f6e\u540e\uff0c\u62a5\u9519 \u2018TypeError: Cannot delete property 'xxx' of #<Object>\u2019",depth:2}],o="\u5f02\u5e38\u7c7b\u95ee\u9898",a="\"# \u5f02\u5e38\u7c7b\u95ee\u9898\\n\\n## webpack \u7f16\u8bd1\u51fa\u73b0 'compilation' argument \u62a5\u9519\uff1f\\n\\n\u5982\u679c\u7f16\u8bd1\u65f6\u51fa\u73b0\u4ee5\u4e0b\u62a5\u9519\uff0c\u901a\u5e38\u662f\u7531\u4e8e\u9879\u76ee\u4e2d\u5b89\u88c5\u4e86\u9519\u8bef\u7684 webpack \u7248\u672c\uff0c\u6216\u8005\u5b89\u88c5\u4e86\u591a\u4e2a webpack \u7248\u672c\u5f15\u8d77\uff1a\\n\\n```bash\\nTypeError: The 'compilation' argument must be an instance of Compilation\\n```\\n\\nwebpack \u7248\u672c\u95ee\u9898\u6709\u4ee5\u4e0b\u51e0\u79cd\u60c5\u51b5\uff1a\\n\\n1. \u9879\u76ee\u7684 package.json \u4e2d\u76f4\u63a5\u58f0\u660e\u4e86 webpack \u4f9d\u8d56\uff0c\u5e76\u4e14\u4e0e Builder \u4f9d\u8d56\u7684 webpack \u7248\u672c\u8303\u56f4\u4e0d\u540c\uff0c\u65e0\u6cd5\u5339\u914d\u5230\u540c\u4e00\u4e2a\u7248\u672c\u3002\\n2. \u9879\u76ee\u91cc\u5b89\u88c5\u7684\u591a\u4e2a npm \u5305\u90fd\u4f9d\u8d56\u4e86 webpack\uff0c\u5e76\u4e14\u5b83\u4eec\u4f9d\u8d56\u7684 webpack \u7248\u672c\u8303\u56f4\u4e0d\u540c\uff0c\u65e0\u6cd5\u5339\u914d\u5230\u540c\u4e00\u4e2a\u7248\u672c\u3002\\n3. \u7531\u4e8e\u5305\u7ba1\u7406\u5668\u7684 lock \u673a\u5236\uff0c\u5bfc\u81f4 lock \u6587\u4ef6\u4e2d\u4ea7\u751f\u4e86\u591a\u4e2a webpack \u7248\u672c\u3002\\n\\n\u5982\u679c\u662f\u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u5efa\u8bae\u4ece\u9879\u76ee\u7684 package.json \u4e2d\u79fb\u9664 webpack \u4f9d\u8d56\u3002\u56e0\u4e3a Builder \u9ed8\u8ba4\u5c01\u88c5\u4e86 webpack \u76f8\u5173\u80fd\u529b\uff0c\u5e76\u4e14\u4f1a\u5728 [tools.webpack](/api/config-tools.html#tools-webpack) \u914d\u7f6e\u9879\u4e2d\u4f20\u5165 webpack \u5bf9\u8c61\u3002\u56e0\u6b64\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4e0d\u5efa\u8bae\u5728\u9879\u76ee\u4e2d\u989d\u5916\u5b89\u88c5 webpack \u4f9d\u8d56\u3002\\n\\n\u5982\u679c\u662f\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u5efa\u8bae\u770b\u770b\u80fd\u5426\u5347\u7ea7\u67d0\u4e2a npm \u5305\uff0c\u4f7f\u5176\u4f9d\u8d56\u7684 webpack \u7248\u672c\u8303\u56f4\u4e0e Builder \u4fdd\u6301\u4e00\u81f4\u3002\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5305\u7ba1\u7406\u5668\u7684\u80fd\u529b\u6765\u624b\u52a8\u7edf\u4e00\u7248\u672c\uff0c\u6bd4\u5982\u4f7f\u7528 [yarn resolutions](https://classic.yarnpkg.com/lang/en/docs/selective-version-resolutions/) \u6216 [pnpm overrides](https://pnpm.io/package_json#pnpmoverrides)\u3002\\n\\n\u5982\u679c\u662f\u7b2c\u4e09\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e8c\u79cd\u60c5\u51b5\u4e2d\u63d0\u5230\u7684\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u5c1d\u8bd5\u5220\u9664 lock \u6587\u4ef6\u540e\u91cd\u65b0\u5b89\u88c5\u6765\u89e3\u51b3\u3002\\n\\n:::tip\\n\u5220\u9664 lock \u6587\u4ef6\u4f1a\u4f7f\u9879\u76ee\u4e2d\u7684\u4f9d\u8d56\u7248\u672c\u81ea\u52a8\u5347\u7ea7\u5230\u6307\u5b9a\u8303\u56f4\u4e0b\u7684\u6700\u65b0\u7248\uff0c\u8bf7\u8fdb\u884c\u5145\u5206\u7684\u6d4b\u8bd5\u3002\\n:::\\n\\n## \u7f16\u8bd1\u4ea7\u7269\u4e2d\u5b58\u5728\u672a\u7f16\u8bd1\u7684 ES6+ \u4ee3\u7801\uff1f\\n\\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4e0d\u4f1a\u901a\u8fc7 `babel-loader` \u6216 `ts-loader` \u6765\u7f16\u8bd1 `node_modules` \u4e0b\u7684\u6587\u4ef6\u3002\u5982\u679c\u9879\u76ee\u5f15\u5165\u7684 npm \u5305\u4e2d\u542b\u6709 ES6+ \u8bed\u6cd5\uff0c\u4f1a\u88ab\u6253\u5305\u8fdb\u4ea7\u7269\u4e2d\u3002\\n\\n\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 [source.include](/api/config-source.html#source-include) \u914d\u7f6e\u9879\u6765\u6307\u5b9a\u9700\u8981\u989d\u5916\u8fdb\u884c\u7f16\u8bd1\u7684\u76ee\u5f55\u6216\u6a21\u5757\u3002\\n\\n## \u5728 Monorepo \u4e2d\u5f15\u7528\u5176\u4ed6\u6a21\u5757\uff0c\u4ee3\u7801\u6ca1\u6709\u88ab\u6b63\u786e\u7f16\u8bd1\uff1f\\n\\n\u51fa\u4e8e\u7f16\u8bd1\u6027\u80fd\u7684\u8003\u8651\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4e0d\u4f1a\u901a\u8fc7 `babel-loader` \u6216 `ts-loader` \u6765\u7f16\u8bd1 `node_modules` \u4e0b\u7684\u6587\u4ef6\uff0c\u4e5f\u4e0d\u4f1a\u7f16\u8bd1\u5f53\u524d\u5de5\u7a0b\u76ee\u5f55\u5916\u90e8\u7684\u6587\u4ef6\u3002\\n\\n\u901a\u8fc7 `source.include` \u914d\u7f6e\u9879\uff0c\u53ef\u4ee5\u6307\u5b9a\u9700\u8981\u989d\u5916\u8fdb\u884c\u7f16\u8bd1\u7684\u76ee\u5f55\u6216\u6a21\u5757\u3002\\n\\n\u8be6\u89c1 [source.include \u7528\u6cd5\u4ecb\u7ecd](/api/config-source.html#source-include)\u3002\\n\\n## \u7f16\u8bd1\u65f6\u62a5\u9519 `You may need additional loader`\uff1f\\n\\n\u5982\u679c\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u9047\u5230\u4e86\u4ee5\u4e0b\u62a5\u9519\u63d0\u793a\uff0c\u8868\u793a\u5b58\u5728\u4e2a\u522b\u6587\u4ef6\u65e0\u6cd5\u88ab\u6b63\u786e\u7f16\u8bd1\u3002\\n\\n```bash\\nModule parse failed: Unexpected token\\nFile was processed with these loaders:\\n * some-loader/index.js\\n\\nYou may need an additional loader to handle the result of these loaders.\\n```\\n\\n\u89e3\u51b3\u65b9\u6cd5\uff1a\\n\\n- \u5982\u679c\u662f\u5f15\u7528\u4e86\u5f53\u524d\u5de5\u7a0b\u5916\u90e8\u7684 `.ts` \u6587\u4ef6\uff0c\u6216\u8005\u662f node_modules \u4e0b\u7684 `.ts` \u6587\u4ef6\uff0c\u8bf7\u6dfb\u52a0 [source.include](/api/config-source.html#source-include) \u914d\u7f6e\u9879\uff0c\u6307\u5b9a\u9700\u8981\u989d\u5916\u8fdb\u884c\u7f16\u8bd1\u7684\u6587\u4ef6\u3002\\n- \u5982\u679c\u662f\u5f15\u7528\u4e86 Builder \u4e0d\u652f\u6301\u7684\u6587\u4ef6\u683c\u5f0f\uff0c\u8bf7\u81ea\u884c\u914d\u7f6e\u5bf9\u5e94\u7684 webpack loader \u8fdb\u884c\u7f16\u8bd1\u3002\\n\\n## \u6253\u5f00\u9875\u9762\u540e\u62a5\u9519\uff0c\u63d0\u793a exports is not defined\uff1f\\n\\n\u5982\u679c\u7f16\u8bd1\u6b63\u5e38\uff0c\u4f46\u662f\u6253\u5f00\u9875\u9762\u540e\u51fa\u73b0 `exports is not defined` \u62a5\u9519\uff0c\u901a\u5e38\u662f\u56e0\u4e3a\u5728\u9879\u76ee\u4e2d\u4f7f\u7528 babel \u7f16\u8bd1\u4e86\u4e00\u4e2a CommonJS \u6a21\u5757\uff0c\u5bfc\u81f4 babel \u51fa\u73b0\u5f02\u5e38\u3002\\n\\n\u5728\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0cBuilder \u662f\u4e0d\u4f1a\u4f7f\u7528 babel \u6765\u7f16\u8bd1 CommonJS \u6a21\u5757\u7684\u3002\u5982\u679c\u9879\u76ee\u4e2d\u4f7f\u7528\u4e86 [source.include]() \u914d\u7f6e\u9879\uff0c\u6216\u4f7f\u7528\u4e86 [tools.babel](/api/config-tools.html#tools-babel) \u7684 `addIncludes` \u65b9\u6cd5\uff0c\u5219\u53ef\u80fd\u4f1a\u628a\u4e00\u4e9b CommonJS \u6a21\u5757\u52a0\u5165\u5230 babel \u7f16\u8bd1\u4e2d\u3002\\n\\n\u8be5\u95ee\u9898\u6709\u4e24\u79cd\u89e3\u51b3\u65b9\u6cd5\uff1a\\n\\n1. \u907f\u514d\u5c06 CommonJS \u6a21\u5757\u52a0\u5165\u5230 babel \u7f16\u8bd1\u4e2d\u3002\\n2. \u5c06 babel \u7684 `sourceType` \u914d\u7f6e\u9879\u8bbe\u7f6e\u4e3a `unambiguous`\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a\\n\\n```js\\nexport default {\\n  tools: {\\n    babel(config) {\\n      config.sourceType = 'unambiguous';\\n    },\\n  },\\n};\\n```\\n\\n\u5c06 `sourceType` \u8bbe\u7f6e\u4e3a `unambiguous` \u53ef\u80fd\u4f1a\u4ea7\u751f\u4e00\u4e9b\u5176\u4ed6\u5f71\u54cd\uff0c\u8bf7\u53c2\u8003 [babel \u5b98\u65b9\u6587\u6863](https://babeljs.io/docs/en/options#sourcetype)\u3002\\n\\n## \u7f16\u8bd1\u65f6\u62a5\u9519 \\\"Error: ES Modules may not assign module.exports or exports.\\\\*, Use ESM export syntax\\\"\uff1f\\n\\n\u5982\u679c\u7f16\u8bd1\u65f6\u51fa\u73b0\u4ee5\u4e0b\u62a5\u9519\uff0c\u901a\u5e38\u4e5f\u662f\u56e0\u4e3a\u5728\u9879\u76ee\u4e2d\u4f7f\u7528 babel \u7f16\u8bd1\u4e86\u4e00\u4e2a CommonJS \u6a21\u5757\uff0c\u89e3\u51b3\u65b9\u6cd5\u4e0e\u4e0a\u8ff0\u7684 `exports is not defined` \u95ee\u9898\u4e00\u81f4\u3002\\n\\n```bash\\nError: ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: 581\\n```\\n\\n\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u8003 issue\uff1a[babel#12731](https://github.com/babel/babel/issues/12731)\u3002\\n\\n## \u7f16\u8bd1\u8fdb\u5ea6\u6761\u5361\u6b7b\uff0c\u4f46\u7ec8\u7aef\u65e0 Error \u65e5\u5fd7\uff1f\\n\\n\u5f53\u7f16\u8bd1\u8fdb\u5ea6\u6761\u5361\u6b7b\uff0c\u4f46\u7ec8\u7aef\u65e0 Error \u65e5\u5fd7\u65f6\uff0c\u901a\u5e38\u662f\u56e0\u4e3a\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u5f02\u5e38\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5f53 Error \u88ab webpack \u6216\u5176\u4ed6\u6a21\u5757\u6355\u83b7\u540e\uff0c\u9519\u8bef\u65e5\u5fd7\u4e0d\u4f1a\u88ab\u6b63\u786e\u8f93\u51fa\u3002\u6700\u4e3a\u5e38\u89c1\u7684\u573a\u666f\u662f Babel \u914d\u7f6e\u51fa\u73b0\u5f02\u5e38\uff0c\u629b\u51fa Error \u540e\u88ab webpack \u6355\u83b7\uff0c\u800c webpack \u5728\u4e2a\u522b\u60c5\u51b5\u4e0b\u541e\u6389\u4e86 Error\u3002\\n\\n**\u89e3\u51b3\u65b9\u6cd5\uff1a**\\n\\n\u5982\u679c\u4f60\u4fee\u6539 Babel \u914d\u7f6e\u540e\u51fa\u73b0\u6b64\u95ee\u9898\uff0c\u5efa\u8bae\u68c0\u67e5\u662f\u5426\u6709\u4ee5\u4e0b\u9519\u8bef\u7528\u6cd5\uff1a\\n\\n1. \u914d\u7f6e\u4e86\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684 plugin \u6216 preset\uff0c\u53ef\u80fd\u662f\u540d\u79f0\u62fc\u5199\u9519\u8bef\uff0c\u6216\u662f\u672a\u6b63\u786e\u5b89\u88c5\u3002\\n\\n```ts\\n// \u9519\u8bef\u793a\u4f8b\\nexport default {\\n  tools: {\\n    babel(config, { addPlugins }) {\\n      // \u8be5\u63d2\u4ef6\u540d\u79f0\u9519\u8bef\uff0c\u6216\u8005\u672a\u5b89\u88c5\\n      addPlugins('babel-plugin-not-exists');\\n    },\\n  },\\n};\\n```\\n\\n2. \u662f\u5426\u914d\u7f6e\u4e86\u591a\u4e2a babel-plugin-import\uff0c\u4f46\u662f\u6ca1\u6709\u5728\u6570\u7ec4\u7684\u7b2c\u4e09\u9879\u58f0\u660e\u6bcf\u4e00\u4e2a babel-plugin-import \u7684\u540d\u79f0\u3002\\n\\n```ts\\n// \u9519\u8bef\u793a\u4f8b\\nexport default {\\n  tools: {\\n    babel(config, { addPlugins }) {\\n      addPlugins([\\n        [\\n          'babel-plugin-import',\\n          { libraryName: 'antd', libraryDirectory: 'es' },\\n        ],\\n        [\\n          'babel-plugin-import',\\n          { libraryName: 'antd-mobile', libraryDirectory: 'es' },\\n        ],\\n      ]);\\n    },\\n  },\\n};\\n```\\n\\n```ts\\n// \u6b63\u786e\u793a\u4f8b\\nexport default {\\n  tools: {\\n    babel(config, { addPlugins }) {\\n      addPlugins([\\n        [\\n          'babel-plugin-import',\\n          { libraryName: 'antd', libraryDirectory: 'es' },\\n          'antd',\\n        ],\\n        [\\n          'babel-plugin-import',\\n          { libraryName: 'antd-mobile', libraryDirectory: 'es' },\\n          'antd-mobile',\\n        ],\\n      ]);\\n    },\\n  },\\n};\\n```\\n\\n## webpack \u7f16\u8bd1\u7f13\u5b58\u672a\u751f\u6548\uff0c\u5e94\u8be5\u5982\u4f55\u6392\u67e5\uff1f\\n\\nBuilder \u9ed8\u8ba4\u5f00\u542f\u4e86 webpack \u7684\u6301\u4e45\u5316\u7f13\u5b58\u3002\\n\\n\u9996\u6b21\u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u4f1a\u81ea\u52a8\u751f\u6210\u7f13\u5b58\u6587\u4ef6\uff0c\u5e76\u8f93\u51fa\u5230 `./node_modules/.cache/webpack` \u76ee\u5f55\u4e0b\u3002\u6267\u884c\u7b2c\u4e8c\u6b21\u7f16\u8bd1\u65f6\uff0c\u4f1a\u547d\u4e2d\u7f13\u5b58\uff0c\u5e76\u5927\u5e45\u5ea6\u63d0\u9ad8\u7f16\u8bd1\u901f\u5ea6\u3002\\n\\n\u5f53 `package.json` \u7b49\u914d\u7f6e\u6587\u4ef6\u88ab\u4fee\u6539\u65f6\uff0c\u7f13\u5b58\u4f1a\u81ea\u52a8\u5931\u6548\u3002\\n\\n\u5982\u679c\u9879\u76ee\u4e2d webpack \u7f16\u8bd1\u7f13\u5b58\u4e00\u76f4\u672a\u751f\u6548\uff0c\u53ef\u4ee5\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\u8fdb\u884c\u6392\u67e5\uff1a\\n\\n```ts\\nexport default {\\n  tools: {\\n    webpack(config) {\\n      config.infrastructureLogging = {\\n        ...config.infrastructureLogging,\\n        debug: /webpack\\\\.cache/,\\n      };\\n    },\\n  },\\n};\\n```\\n\\n\u6dfb\u52a0\u4ee5\u4e0a\u914d\u7f6e\u540e\uff0cwebpack \u4f1a\u8f93\u51fa\u65e5\u5fd7\u7528\u4e8e debug\uff0c\u8bf7\u53c2\u8003 `PackFileCacheStrategy` \u76f8\u5173\u7684\u65e5\u5fd7\u6765\u4e86\u89e3\u7f13\u5b58\u5931\u6548\u7684\u539f\u56e0\u3002\\n\\n## \u6253\u5305\u540e\u53d1\u73b0 Tree Shaking \u6ca1\u6709\u751f\u6548\uff1f\\n\\nBuilder \u5728\u751f\u4ea7\u6784\u5efa\u65f6\u4f1a\u9ed8\u8ba4\u5f00\u542f webpack \u7684 Tree Shaking \u529f\u80fd\uff0cTree Shaking \u662f\u5426\u80fd\u591f\u751f\u6548\uff0c\u53d6\u51b3\u4e8e\u4e1a\u52a1\u4ee3\u7801\u80fd\u5426\u6ee1\u8db3 webpack \u7684 Tree Shaking \u6761\u4ef6\u3002\\n\\n\u5982\u679c\u4f60\u9047\u5230\u4e86 Tree Shaking \u4e0d\u751f\u6548\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u68c0\u67e5\u4e0b\u76f8\u5173 npm \u5305\u7684 `sideEffects` \u914d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u5982\u679c\u4e0d\u4e86\u89e3 `sideEffects` \u662f\u4ec0\u4e48\uff0c\u53ef\u4ee5\u9605\u8bfb\u4ee5\u4e0b\u4e24\u7bc7\u6587\u6863\uff1a\\n\\n- [webpack \u5b98\u65b9\u6587\u6863 - Tree Shaking](https://webpack.docschina.org/guides/tree-shaking/)\\n- [Tree Shaking \u95ee\u9898\u6392\u67e5\u6307\u5357](https://bytedance.feishu.cn/docs/doccn8E1ldDct5uv1EEDQs8Ycwe)\\n\\n## \u6253\u5305\u65f6\u51fa\u73b0 JavaScript heap out of memory?\\n\\n\u8be5\u62a5\u9519\u8868\u793a\u6253\u5305\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u5185\u5b58\u6ea2\u51fa\u95ee\u9898\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u662f\u7531\u4e8e\u6253\u5305\u7684\u5185\u5bb9\u8f83\u591a\uff0c\u8d85\u51fa\u4e86 Node.js \u9ed8\u8ba4\u7684\u5185\u5b58\u4e0a\u9650\u3002\\n\\n\u5982\u679c\u51fa\u73b0 OOM \u95ee\u9898\uff0c\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u901a\u8fc7\u589e\u52a0\u5185\u5b58\u4e0a\u9650\u6765\u89e3\u51b3\uff0cNode.js \u63d0\u4f9b\u4e86 `--max-old-space-size` \u9009\u9879\u6765\u5bf9\u6b64\u8fdb\u884c\u8bbe\u7f6e\u3002\u4f60\u53ef\u4ee5\u5728 CLI \u547d\u4ee4\u524d\u6dfb\u52a0 [NODE_OPTIONS](https://nodejs.org/api/cli.html#node_optionsoptions) \u6765\u8bbe\u7f6e\u6b64\u53c2\u6570\uff1a\\n\\n```bash\\nNODE_OPTIONS=--max_old_space_size=16384 modern build\\n```\\n\\n\u53c2\u6570\u7684\u503c\u4ee3\u8868\u5185\u5b58\u4e0a\u9650\u5927\u5c0f\uff08MB)\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u8bbe\u7f6e\u4e3a `16384`\uff0816GB\uff09\u5373\u53ef\u3002\\n\\nNode.js \u5b98\u65b9\u6587\u6863\u4e2d\u6709\u5bf9\u4ee5\u4e0b\u53c2\u6570\u66f4\u8be6\u7ec6\u7684\u89e3\u91ca\uff1a\\n\\n- [NODE_OPTIONS](https://nodejs.org/api/cli.html#node_optionsoptions)\\n- [--max-old-space-size](https://nodejs.org/api/cli.html#--max-old-space-sizesize-in-megabytes)\\n\\n\u9664\u4e86\u589e\u52a0\u5185\u5b58\u4e0a\u9650\uff0c\u901a\u8fc7\u5f00\u542f\u4e00\u4e9b\u7f16\u8bd1\u7b56\u7565\u6765\u63d0\u5347\u6548\u7387\u4e5f\u662f\u4e00\u4e2a\u89e3\u51b3\u65b9\u6848\u3002\\n\\n## Less \u6587\u4ef6\u4e2d\u7684\u9664\u6cd5\u4e0d\u751f\u6548\uff1f\\n\\nLess v4 \u7248\u672c\u4e0e v3 \u7248\u672c\u76f8\u6bd4\uff0c\u9664\u6cd5\u7684\u5199\u6cd5\u6709\u4e00\u4e9b\u533a\u522b\uff1a\\n\\n```less\\n// Less v3\\n.math {\\n  width: 2px / 2; // 1px\\n  width: 2px ./ 2; // 1px\\n  width: (2px / 2); // 1px\\n}\\n\\n// Less v4\\n.math {\\n  width: 2px / 2; // 2px / 2\\n  width: 2px ./ 2; // 1px\\n  width: (2px / 2); // 1px\\n}\\n```\\n\\nBuilder \u5185\u7f6e\u7684 Less \u7248\u672c\u4e3a v4\uff0c\u4f4e\u7248\u672c\u7684\u5199\u6cd5\u4e0d\u4f1a\u751f\u6548\uff0c\u8bf7\u6ce8\u610f\u533a\u5206\u3002\\n\\nLess \u4e2d\u9664\u6cd5\u7684\u5199\u6cd5\u4e5f\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u9879\u6765\u4fee\u6539\uff0c\u8be6\u89c1 [Less - Math](https://lesscss.org/usage/#less-options-math)\u3002\\n\\n## \u4fee\u6539\u914d\u7f6e\u540e\uff0c\u62a5\u9519 \u2018TypeError: Cannot delete property 'xxx' of #\\\\<Object\\\\>\u2019\\n\\n\u8be5\u62a5\u9519\u8868\u793a\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u5bf9\u4e00\u4e2a\u53ea\u8bfb\u914d\u7f6e\u9879\u8fdb\u884c\u4e86\u5220\u9664\u64cd\u4f5c\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u5e0c\u671b\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u7684\u4efb\u4f55\u64cd\u4f5c\u4f1a\u76f4\u63a5\u5bf9\u4f20\u5165\u7684\u914d\u7f6e\u8fdb\u884c\u4fee\u6539\uff0c\u4f46\u96be\u4ee5\u9650\u5236\u5e95\u5c42\u63d2\u4ef6\uff08\u5982 postcss-loader \u7b49\uff09\u7684\u884c\u4e3a\uff0c\u5982\u679c\u51fa\u73b0\u8be5\u62a5\u9519\uff0c\u8bf7\u8054\u7cfb builder \u5f00\u53d1\u4eba\u5458\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u8be5\u914d\u7f6e\u8fdb\u884c\u5355\u72ec\u5904\u7406\u3002\\n\\n\u540c\u7c7b\u578b\u62a5\u9519\u8fd8\u6709\uff1a\\n\\n- 'TypeError: Cannot add property xxx, object is not extensible'\\n- 'TypeError: Cannot assign to read only property 'xxx' of object '#\\\\<Object\\\\>'\\n\"";function i(s){const e=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",div:"div",button:"button",pre:"pre",code:"code",span:"span",ol:"ol",li:"li",ul:"ul",strong:"strong"},s.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h1,{id:"\u5f02\u5e38\u7c7b\u95ee\u9898",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5f02\u5e38\u7c7b\u95ee\u9898",children:"#"}),"\u5f02\u5e38\u7c7b\u95ee\u9898"]}),"\n",(0,n.jsxs)(e.h2,{id:"webpack-\u7f16\u8bd1\u51fa\u73b0-compilation-argument-\u62a5\u9519",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-\u7f16\u8bd1\u51fa\u73b0-compilation-argument-\u62a5\u9519",children:"#"}),"webpack \u7f16\u8bd1\u51fa\u73b0 'compilation' argument \u62a5\u9519\uff1f"]}),"\n",(0,n.jsx)(e.p,{children:"\u5982\u679c\u7f16\u8bd1\u65f6\u51fa\u73b0\u4ee5\u4e0b\u62a5\u9519\uff0c\u901a\u5e38\u662f\u7531\u4e8e\u9879\u76ee\u4e2d\u5b89\u88c5\u4e86\u9519\u8bef\u7684 webpack \u7248\u672c\uff0c\u6216\u8005\u5b89\u88c5\u4e86\u591a\u4e2a webpack \u7248\u672c\u5f15\u8d77\uff1a"}),"\n",(0,n.jsxs)(e.div,{className:"language-bash",children:[(0,n.jsx)(e.div,{className:""}),(0,n.jsxs)(e.div,{className:"modern-code-content",children:[(0,n.jsx)(e.button,{className:"copy"}),(0,n.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"#2e3440ff"},children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"TypeError: The "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"compilation"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" argument must be an instance of Compilation"})]}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,n.jsx)(e.p,{children:"webpack \u7248\u672c\u95ee\u9898\u6709\u4ee5\u4e0b\u51e0\u79cd\u60c5\u51b5\uff1a"}),"\n",(0,n.jsxs)(e.ol,{children:["\n",(0,n.jsx)(e.li,{children:"\u9879\u76ee\u7684 package.json \u4e2d\u76f4\u63a5\u58f0\u660e\u4e86 webpack \u4f9d\u8d56\uff0c\u5e76\u4e14\u4e0e Builder \u4f9d\u8d56\u7684 webpack \u7248\u672c\u8303\u56f4\u4e0d\u540c\uff0c\u65e0\u6cd5\u5339\u914d\u5230\u540c\u4e00\u4e2a\u7248\u672c\u3002"}),"\n",(0,n.jsx)(e.li,{children:"\u9879\u76ee\u91cc\u5b89\u88c5\u7684\u591a\u4e2a npm \u5305\u90fd\u4f9d\u8d56\u4e86 webpack\uff0c\u5e76\u4e14\u5b83\u4eec\u4f9d\u8d56\u7684 webpack \u7248\u672c\u8303\u56f4\u4e0d\u540c\uff0c\u65e0\u6cd5\u5339\u914d\u5230\u540c\u4e00\u4e2a\u7248\u672c\u3002"}),"\n",(0,n.jsx)(e.li,{children:"\u7531\u4e8e\u5305\u7ba1\u7406\u5668\u7684 lock \u673a\u5236\uff0c\u5bfc\u81f4 lock \u6587\u4ef6\u4e2d\u4ea7\u751f\u4e86\u591a\u4e2a webpack \u7248\u672c\u3002"}),"\n"]}),"\n",(0,n.jsxs)(e.p,{children:["\u5982\u679c\u662f\u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u5efa\u8bae\u4ece\u9879\u76ee\u7684 package.json \u4e2d\u79fb\u9664 webpack \u4f9d\u8d56\u3002\u56e0\u4e3a Builder \u9ed8\u8ba4\u5c01\u88c5\u4e86 webpack \u76f8\u5173\u80fd\u529b\uff0c\u5e76\u4e14\u4f1a\u5728 ",(0,n.jsx)(e.a,{href:"/builder/api/config-tools.html#tools-webpack",children:"tools.webpack"})," \u914d\u7f6e\u9879\u4e2d\u4f20\u5165 webpack \u5bf9\u8c61\u3002\u56e0\u6b64\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4e0d\u5efa\u8bae\u5728\u9879\u76ee\u4e2d\u989d\u5916\u5b89\u88c5 webpack \u4f9d\u8d56\u3002"]}),"\n",(0,n.jsxs)(e.p,{children:["\u5982\u679c\u662f\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u5efa\u8bae\u770b\u770b\u80fd\u5426\u5347\u7ea7\u67d0\u4e2a npm \u5305\uff0c\u4f7f\u5176\u4f9d\u8d56\u7684 webpack \u7248\u672c\u8303\u56f4\u4e0e Builder \u4fdd\u6301\u4e00\u81f4\u3002\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5305\u7ba1\u7406\u5668\u7684\u80fd\u529b\u6765\u624b\u52a8\u7edf\u4e00\u7248\u672c\uff0c\u6bd4\u5982\u4f7f\u7528 ",(0,n.jsx)(e.a,{href:"https://classic.yarnpkg.com/lang/en/docs/selective-version-resolutions/",target:"_blank",rel:"nofollow",children:"yarn resolutions"})," \u6216 ",(0,n.jsx)(e.a,{href:"https://pnpm.io/package_json#pnpmoverrides",target:"_blank",rel:"nofollow",children:"pnpm overrides"}),"\u3002"]}),"\n",(0,n.jsx)(e.p,{children:"\u5982\u679c\u662f\u7b2c\u4e09\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e8c\u79cd\u60c5\u51b5\u4e2d\u63d0\u5230\u7684\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u5c1d\u8bd5\u5220\u9664 lock \u6587\u4ef6\u540e\u91cd\u65b0\u5b89\u88c5\u6765\u89e3\u51b3\u3002"}),"\n",(0,n.jsxs)(e.div,{className:"modern-directive tip",children:[(0,n.jsx)(e.p,{className:"modern-directive-title",children:"TIP"}),(0,n.jsx)(e.div,{className:"modern-directive-content",children:(0,n.jsx)(e.p,{children:"\n\u5220\u9664 lock \u6587\u4ef6\u4f1a\u4f7f\u9879\u76ee\u4e2d\u7684\u4f9d\u8d56\u7248\u672c\u81ea\u52a8\u5347\u7ea7\u5230\u6307\u5b9a\u8303\u56f4\u4e0b\u7684\u6700\u65b0\u7248\uff0c\u8bf7\u8fdb\u884c\u5145\u5206\u7684\u6d4b\u8bd5\u3002"})})]}),"\n",(0,n.jsxs)(e.h2,{id:"\u7f16\u8bd1\u4ea7\u7269\u4e2d\u5b58\u5728\u672a\u7f16\u8bd1\u7684-es6-\u4ee3\u7801",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7f16\u8bd1\u4ea7\u7269\u4e2d\u5b58\u5728\u672a\u7f16\u8bd1\u7684-es6-\u4ee3\u7801",children:"#"}),"\u7f16\u8bd1\u4ea7\u7269\u4e2d\u5b58\u5728\u672a\u7f16\u8bd1\u7684 ES6+ \u4ee3\u7801\uff1f"]}),"\n",(0,n.jsxs)(e.p,{children:["\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4e0d\u4f1a\u901a\u8fc7 ",(0,n.jsx)(e.code,{children:"babel-loader"})," \u6216 ",(0,n.jsx)(e.code,{children:"ts-loader"})," \u6765\u7f16\u8bd1 ",(0,n.jsx)(e.code,{children:"node_modules"})," \u4e0b\u7684\u6587\u4ef6\u3002\u5982\u679c\u9879\u76ee\u5f15\u5165\u7684 npm \u5305\u4e2d\u542b\u6709 ES6+ \u8bed\u6cd5\uff0c\u4f1a\u88ab\u6253\u5305\u8fdb\u4ea7\u7269\u4e2d\u3002"]}),"\n",(0,n.jsxs)(e.p,{children:["\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,n.jsx)(e.a,{href:"/builder/api/config-source.html#source-include",children:"source.include"})," \u914d\u7f6e\u9879\u6765\u6307\u5b9a\u9700\u8981\u989d\u5916\u8fdb\u884c\u7f16\u8bd1\u7684\u76ee\u5f55\u6216\u6a21\u5757\u3002"]}),"\n",(0,n.jsxs)(e.h2,{id:"\u5728-monorepo-\u4e2d\u5f15\u7528\u5176\u4ed6\u6a21\u5757\u4ee3\u7801\u6ca1\u6709\u88ab\u6b63\u786e\u7f16\u8bd1",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5728-monorepo-\u4e2d\u5f15\u7528\u5176\u4ed6\u6a21\u5757\u4ee3\u7801\u6ca1\u6709\u88ab\u6b63\u786e\u7f16\u8bd1",children:"#"}),"\u5728 Monorepo \u4e2d\u5f15\u7528\u5176\u4ed6\u6a21\u5757\uff0c\u4ee3\u7801\u6ca1\u6709\u88ab\u6b63\u786e\u7f16\u8bd1\uff1f"]}),"\n",(0,n.jsxs)(e.p,{children:["\u51fa\u4e8e\u7f16\u8bd1\u6027\u80fd\u7684\u8003\u8651\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cBuilder \u4e0d\u4f1a\u901a\u8fc7 ",(0,n.jsx)(e.code,{children:"babel-loader"})," \u6216 ",(0,n.jsx)(e.code,{children:"ts-loader"})," \u6765\u7f16\u8bd1 ",(0,n.jsx)(e.code,{children:"node_modules"})," \u4e0b\u7684\u6587\u4ef6\uff0c\u4e5f\u4e0d\u4f1a\u7f16\u8bd1\u5f53\u524d\u5de5\u7a0b\u76ee\u5f55\u5916\u90e8\u7684\u6587\u4ef6\u3002"]}),"\n",(0,n.jsxs)(e.p,{children:["\u901a\u8fc7 ",(0,n.jsx)(e.code,{children:"source.include"})," \u914d\u7f6e\u9879\uff0c\u53ef\u4ee5\u6307\u5b9a\u9700\u8981\u989d\u5916\u8fdb\u884c\u7f16\u8bd1\u7684\u76ee\u5f55\u6216\u6a21\u5757\u3002"]}),"\n",(0,n.jsxs)(e.p,{children:["\u8be6\u89c1 ",(0,n.jsx)(e.a,{href:"/builder/api/config-source.html#source-include",children:"source.include \u7528\u6cd5\u4ecb\u7ecd"}),"\u3002"]}),"\n",(0,n.jsxs)(e.h2,{id:"\u7f16\u8bd1\u65f6\u62a5\u9519-you-may-need-additional-loader",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7f16\u8bd1\u65f6\u62a5\u9519-you-may-need-additional-loader",children:"#"}),"\u7f16\u8bd1\u65f6\u62a5\u9519 ",(0,n.jsx)(e.code,{children:"You may need additional loader"}),"\uff1f"]}),"\n",(0,n.jsx)(e.p,{children:"\u5982\u679c\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u9047\u5230\u4e86\u4ee5\u4e0b\u62a5\u9519\u63d0\u793a\uff0c\u8868\u793a\u5b58\u5728\u4e2a\u522b\u6587\u4ef6\u65e0\u6cd5\u88ab\u6b63\u786e\u7f16\u8bd1\u3002"}),"\n",(0,n.jsxs)(e.div,{className:"language-bash",children:[(0,n.jsx)(e.div,{className:""}),(0,n.jsxs)(e.div,{className:"modern-code-content",children:[(0,n.jsx)(e.button,{className:"copy"}),(0,n.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"#2e3440ff"},children:(0,n.jsxs)(e.code,{children:[(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"Module parse failed: Unexpected token"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"File was processed with these loaders:"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"*"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" some-loader/index.js"})]}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"You may need an additional loader to handle the result of these loaders."})}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,n.jsx)(e.p,{children:"\u89e3\u51b3\u65b9\u6cd5\uff1a"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:["\u5982\u679c\u662f\u5f15\u7528\u4e86\u5f53\u524d\u5de5\u7a0b\u5916\u90e8\u7684 ",(0,n.jsx)(e.code,{children:".ts"})," \u6587\u4ef6\uff0c\u6216\u8005\u662f node_modules \u4e0b\u7684 ",(0,n.jsx)(e.code,{children:".ts"})," \u6587\u4ef6\uff0c\u8bf7\u6dfb\u52a0 ",(0,n.jsx)(e.a,{href:"/builder/api/config-source.html#source-include",children:"source.include"})," \u914d\u7f6e\u9879\uff0c\u6307\u5b9a\u9700\u8981\u989d\u5916\u8fdb\u884c\u7f16\u8bd1\u7684\u6587\u4ef6\u3002"]}),"\n",(0,n.jsx)(e.li,{children:"\u5982\u679c\u662f\u5f15\u7528\u4e86 Builder \u4e0d\u652f\u6301\u7684\u6587\u4ef6\u683c\u5f0f\uff0c\u8bf7\u81ea\u884c\u914d\u7f6e\u5bf9\u5e94\u7684 webpack loader \u8fdb\u884c\u7f16\u8bd1\u3002"}),"\n"]}),"\n",(0,n.jsxs)(e.h2,{id:"\u6253\u5f00\u9875\u9762\u540e\u62a5\u9519\u63d0\u793a-exports-is-not-defined",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6253\u5f00\u9875\u9762\u540e\u62a5\u9519\u63d0\u793a-exports-is-not-defined",children:"#"}),"\u6253\u5f00\u9875\u9762\u540e\u62a5\u9519\uff0c\u63d0\u793a exports is not defined\uff1f"]}),"\n",(0,n.jsxs)(e.p,{children:["\u5982\u679c\u7f16\u8bd1\u6b63\u5e38\uff0c\u4f46\u662f\u6253\u5f00\u9875\u9762\u540e\u51fa\u73b0 ",(0,n.jsx)(e.code,{children:"exports is not defined"})," \u62a5\u9519\uff0c\u901a\u5e38\u662f\u56e0\u4e3a\u5728\u9879\u76ee\u4e2d\u4f7f\u7528 babel \u7f16\u8bd1\u4e86\u4e00\u4e2a CommonJS \u6a21\u5757\uff0c\u5bfc\u81f4 babel \u51fa\u73b0\u5f02\u5e38\u3002"]}),"\n",(0,n.jsxs)(e.p,{children:["\u5728\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0cBuilder \u662f\u4e0d\u4f1a\u4f7f\u7528 babel \u6765\u7f16\u8bd1 CommonJS \u6a21\u5757\u7684\u3002\u5982\u679c\u9879\u76ee\u4e2d\u4f7f\u7528\u4e86 ",(0,n.jsx)(e.a,{href:"",children:"source.include"})," \u914d\u7f6e\u9879\uff0c\u6216\u4f7f\u7528\u4e86 ",(0,n.jsx)(e.a,{href:"/builder/api/config-tools.html#tools-babel",children:"tools.babel"})," \u7684 ",(0,n.jsx)(e.code,{children:"addIncludes"})," \u65b9\u6cd5\uff0c\u5219\u53ef\u80fd\u4f1a\u628a\u4e00\u4e9b CommonJS \u6a21\u5757\u52a0\u5165\u5230 babel \u7f16\u8bd1\u4e2d\u3002"]}),"\n",(0,n.jsx)(e.p,{children:"\u8be5\u95ee\u9898\u6709\u4e24\u79cd\u89e3\u51b3\u65b9\u6cd5\uff1a"}),"\n",(0,n.jsxs)(e.ol,{children:["\n",(0,n.jsx)(e.li,{children:"\u907f\u514d\u5c06 CommonJS \u6a21\u5757\u52a0\u5165\u5230 babel \u7f16\u8bd1\u4e2d\u3002"}),"\n",(0,n.jsxs)(e.li,{children:["\u5c06 babel \u7684 ",(0,n.jsx)(e.code,{children:"sourceType"})," \u914d\u7f6e\u9879\u8bbe\u7f6e\u4e3a ",(0,n.jsx)(e.code,{children:"unambiguous"}),"\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a"]}),"\n"]}),"\n",(0,n.jsxs)(e.div,{className:"language-js",children:[(0,n.jsx)(e.div,{className:""}),(0,n.jsxs)(e.div,{className:"modern-code-content",children:[(0,n.jsx)(e.button,{className:"copy"}),(0,n.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"#2e3440ff"},children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"export"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"default"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:"tools"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"    "}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:"babel"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"("}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"config"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:")"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"      "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"config"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"."}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"sourceType"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"unambiguous"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"    "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"}"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"})]}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,n.jsxs)(e.p,{children:["\u5c06 ",(0,n.jsx)(e.code,{children:"sourceType"})," \u8bbe\u7f6e\u4e3a ",(0,n.jsx)(e.code,{children:"unambiguous"})," \u53ef\u80fd\u4f1a\u4ea7\u751f\u4e00\u4e9b\u5176\u4ed6\u5f71\u54cd\uff0c\u8bf7\u53c2\u8003 ",(0,n.jsx)(e.a,{href:"https://babeljs.io/docs/en/options#sourcetype",target:"_blank",rel:"nofollow",children:"babel \u5b98\u65b9\u6587\u6863"}),"\u3002"]}),"\n",(0,n.jsxs)(e.h2,{id:"\u7f16\u8bd1\u65f6\u62a5\u9519-error-es-modules-may-not-assign-moduleexports-or-exports-use-esm-export-syntax",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7f16\u8bd1\u65f6\u62a5\u9519-error-es-modules-may-not-assign-moduleexports-or-exports-use-esm-export-syntax",children:"#"}),'\u7f16\u8bd1\u65f6\u62a5\u9519 "Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax"\uff1f']}),"\n",(0,n.jsxs)(e.p,{children:["\u5982\u679c\u7f16\u8bd1\u65f6\u51fa\u73b0\u4ee5\u4e0b\u62a5\u9519\uff0c\u901a\u5e38\u4e5f\u662f\u56e0\u4e3a\u5728\u9879\u76ee\u4e2d\u4f7f\u7528 babel \u7f16\u8bd1\u4e86\u4e00\u4e2a CommonJS \u6a21\u5757\uff0c\u89e3\u51b3\u65b9\u6cd5\u4e0e\u4e0a\u8ff0\u7684 ",(0,n.jsx)(e.code,{children:"exports is not defined"})," \u95ee\u9898\u4e00\u81f4\u3002"]}),"\n",(0,n.jsxs)(e.div,{className:"language-bash",children:[(0,n.jsx)(e.div,{className:""}),(0,n.jsxs)(e.div,{className:"modern-code-content",children:[(0,n.jsx)(e.button,{className:"copy"}),(0,n.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"#2e3440ff"},children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"Error: ES Modules may not assign module.exports or exports."}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"*"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:", Use ESM "}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"export"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" syntax, instead: 581"})]}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,n.jsxs)(e.p,{children:["\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u8003 issue\uff1a",(0,n.jsx)(e.a,{href:"https://github.com/babel/babel/issues/12731",target:"_blank",rel:"nofollow",children:"babel#12731"}),"\u3002"]}),"\n",(0,n.jsxs)(e.h2,{id:"\u7f16\u8bd1\u8fdb\u5ea6\u6761\u5361\u6b7b\u4f46\u7ec8\u7aef\u65e0-error-\u65e5\u5fd7",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u7f16\u8bd1\u8fdb\u5ea6\u6761\u5361\u6b7b\u4f46\u7ec8\u7aef\u65e0-error-\u65e5\u5fd7",children:"#"}),"\u7f16\u8bd1\u8fdb\u5ea6\u6761\u5361\u6b7b\uff0c\u4f46\u7ec8\u7aef\u65e0 Error \u65e5\u5fd7\uff1f"]}),"\n",(0,n.jsx)(e.p,{children:"\u5f53\u7f16\u8bd1\u8fdb\u5ea6\u6761\u5361\u6b7b\uff0c\u4f46\u7ec8\u7aef\u65e0 Error \u65e5\u5fd7\u65f6\uff0c\u901a\u5e38\u662f\u56e0\u4e3a\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u5f02\u5e38\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5f53 Error \u88ab webpack \u6216\u5176\u4ed6\u6a21\u5757\u6355\u83b7\u540e\uff0c\u9519\u8bef\u65e5\u5fd7\u4e0d\u4f1a\u88ab\u6b63\u786e\u8f93\u51fa\u3002\u6700\u4e3a\u5e38\u89c1\u7684\u573a\u666f\u662f Babel \u914d\u7f6e\u51fa\u73b0\u5f02\u5e38\uff0c\u629b\u51fa Error \u540e\u88ab webpack \u6355\u83b7\uff0c\u800c webpack \u5728\u4e2a\u522b\u60c5\u51b5\u4e0b\u541e\u6389\u4e86 Error\u3002"}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6cd5\uff1a"})}),"\n",(0,n.jsx)(e.p,{children:"\u5982\u679c\u4f60\u4fee\u6539 Babel \u914d\u7f6e\u540e\u51fa\u73b0\u6b64\u95ee\u9898\uff0c\u5efa\u8bae\u68c0\u67e5\u662f\u5426\u6709\u4ee5\u4e0b\u9519\u8bef\u7528\u6cd5\uff1a"}),"\n",(0,n.jsxs)(e.ol,{children:["\n",(0,n.jsx)(e.li,{children:"\u914d\u7f6e\u4e86\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684 plugin \u6216 preset\uff0c\u53ef\u80fd\u662f\u540d\u79f0\u62fc\u5199\u9519\u8bef\uff0c\u6216\u662f\u672a\u6b63\u786e\u5b89\u88c5\u3002"}),"\n"]}),"\n",(0,n.jsxs)(e.div,{className:"language-ts",children:[(0,n.jsx)(e.div,{className:""}),(0,n.jsxs)(e.div,{className:"modern-code-content",children:[(0,n.jsx)(e.button,{className:"copy"}),(0,n.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"#2e3440ff"},children:(0,n.jsxs)(e.code,{children:[(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#616E88"},children:"// \u9519\u8bef\u793a\u4f8b"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"export"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"default"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"tools"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"    "}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:"babel"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"("}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"config"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"addPlugins"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"})"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"      "}),(0,n.jsx)(e.span,{style:{color:"#616E88"},children:"// \u8be5\u63d2\u4ef6\u540d\u79f0\u9519\u8bef\uff0c\u6216\u8005\u672a\u5b89\u88c5"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"      "}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:"addPlugins"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"("}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"babel-plugin-not-exists"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:")"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"    "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"}"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"})]}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,n.jsxs)(e.ol,{start:"2",children:["\n",(0,n.jsx)(e.li,{children:"\u662f\u5426\u914d\u7f6e\u4e86\u591a\u4e2a babel-plugin-import\uff0c\u4f46\u662f\u6ca1\u6709\u5728\u6570\u7ec4\u7684\u7b2c\u4e09\u9879\u58f0\u660e\u6bcf\u4e00\u4e2a babel-plugin-import \u7684\u540d\u79f0\u3002"}),"\n"]}),"\n",(0,n.jsxs)(e.div,{className:"language-ts",children:[(0,n.jsx)(e.div,{className:""}),(0,n.jsxs)(e.div,{className:"modern-code-content",children:[(0,n.jsx)(e.button,{className:"copy"}),(0,n.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"#2e3440ff"},children:(0,n.jsxs)(e.code,{children:[(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#616E88"},children:"// \u9519\u8bef\u793a\u4f8b"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"export"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"default"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"tools"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"    "}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:"babel"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"("}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"config"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"addPlugins"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"})"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"      "}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:"addPlugins"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"(["})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"        ["})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"          "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"babel-plugin-import"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"          "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"libraryName"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"antd"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"libraryDirectory"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"es"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"        ]"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"        ["})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"          "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"babel-plugin-import"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"          "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"libraryName"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"antd-mobile"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"libraryDirectory"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"es"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"        ]"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"      ])"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"    "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"}"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"})]}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,n.jsxs)(e.div,{className:"language-ts",children:[(0,n.jsx)(e.div,{className:""}),(0,n.jsxs)(e.div,{className:"modern-code-content",children:[(0,n.jsx)(e.button,{className:"copy"}),(0,n.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"#2e3440ff"},children:(0,n.jsxs)(e.code,{children:[(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#616E88"},children:"// \u6b63\u786e\u793a\u4f8b"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"export"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"default"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"tools"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"    "}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:"babel"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"("}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"config"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"addPlugins"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"})"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"      "}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:"addPlugins"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"(["})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"        ["})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"          "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"babel-plugin-import"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"          "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"libraryName"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"antd"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"libraryDirectory"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"es"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"          "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"antd"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"        ]"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"        ["})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"          "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"babel-plugin-import"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"          "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"libraryName"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"antd-mobile"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"libraryDirectory"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"es"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"          "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#A3BE8C"},children:"antd-mobile"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"'"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"        ]"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"      ])"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"    "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"}"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"})]}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,n.jsxs)(e.h2,{id:"webpack-\u7f16\u8bd1\u7f13\u5b58\u672a\u751f\u6548\u5e94\u8be5\u5982\u4f55\u6392\u67e5",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-\u7f16\u8bd1\u7f13\u5b58\u672a\u751f\u6548\u5e94\u8be5\u5982\u4f55\u6392\u67e5",children:"#"}),"webpack \u7f16\u8bd1\u7f13\u5b58\u672a\u751f\u6548\uff0c\u5e94\u8be5\u5982\u4f55\u6392\u67e5\uff1f"]}),"\n",(0,n.jsx)(e.p,{children:"Builder \u9ed8\u8ba4\u5f00\u542f\u4e86 webpack \u7684\u6301\u4e45\u5316\u7f13\u5b58\u3002"}),"\n",(0,n.jsxs)(e.p,{children:["\u9996\u6b21\u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u4f1a\u81ea\u52a8\u751f\u6210\u7f13\u5b58\u6587\u4ef6\uff0c\u5e76\u8f93\u51fa\u5230 ",(0,n.jsx)(e.code,{children:"./node_modules/.cache/webpack"})," \u76ee\u5f55\u4e0b\u3002\u6267\u884c\u7b2c\u4e8c\u6b21\u7f16\u8bd1\u65f6\uff0c\u4f1a\u547d\u4e2d\u7f13\u5b58\uff0c\u5e76\u5927\u5e45\u5ea6\u63d0\u9ad8\u7f16\u8bd1\u901f\u5ea6\u3002"]}),"\n",(0,n.jsxs)(e.p,{children:["\u5f53 ",(0,n.jsx)(e.code,{children:"package.json"})," \u7b49\u914d\u7f6e\u6587\u4ef6\u88ab\u4fee\u6539\u65f6\uff0c\u7f13\u5b58\u4f1a\u81ea\u52a8\u5931\u6548\u3002"]}),"\n",(0,n.jsx)(e.p,{children:"\u5982\u679c\u9879\u76ee\u4e2d webpack \u7f16\u8bd1\u7f13\u5b58\u4e00\u76f4\u672a\u751f\u6548\uff0c\u53ef\u4ee5\u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\u8fdb\u884c\u6392\u67e5\uff1a"}),"\n",(0,n.jsxs)(e.div,{className:"language-ts",children:[(0,n.jsx)(e.div,{className:""}),(0,n.jsxs)(e.div,{className:"modern-code-content",children:[(0,n.jsx)(e.button,{className:"copy"}),(0,n.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"#2e3440ff"},children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"export"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"default"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"tools"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"    "}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:"webpack"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"("}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"config"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:")"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"      "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"config"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"."}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"infrastructureLogging"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"        "}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"..."}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"config"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"."}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"infrastructureLogging"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"        "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"debug"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#EBCB8B"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"/"}),(0,n.jsx)(e.span,{style:{color:"#EBCB8B"},children:"webpack\\.cache"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"/"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"      "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"}"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"    "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"}"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"})]}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,n.jsxs)(e.p,{children:["\u6dfb\u52a0\u4ee5\u4e0a\u914d\u7f6e\u540e\uff0cwebpack \u4f1a\u8f93\u51fa\u65e5\u5fd7\u7528\u4e8e debug\uff0c\u8bf7\u53c2\u8003 ",(0,n.jsx)(e.code,{children:"PackFileCacheStrategy"})," \u76f8\u5173\u7684\u65e5\u5fd7\u6765\u4e86\u89e3\u7f13\u5b58\u5931\u6548\u7684\u539f\u56e0\u3002"]}),"\n",(0,n.jsxs)(e.h2,{id:"\u6253\u5305\u540e\u53d1\u73b0-tree-shaking-\u6ca1\u6709\u751f\u6548",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6253\u5305\u540e\u53d1\u73b0-tree-shaking-\u6ca1\u6709\u751f\u6548",children:"#"}),"\u6253\u5305\u540e\u53d1\u73b0 Tree Shaking \u6ca1\u6709\u751f\u6548\uff1f"]}),"\n",(0,n.jsx)(e.p,{children:"Builder \u5728\u751f\u4ea7\u6784\u5efa\u65f6\u4f1a\u9ed8\u8ba4\u5f00\u542f webpack \u7684 Tree Shaking \u529f\u80fd\uff0cTree Shaking \u662f\u5426\u80fd\u591f\u751f\u6548\uff0c\u53d6\u51b3\u4e8e\u4e1a\u52a1\u4ee3\u7801\u80fd\u5426\u6ee1\u8db3 webpack \u7684 Tree Shaking \u6761\u4ef6\u3002"}),"\n",(0,n.jsxs)(e.p,{children:["\u5982\u679c\u4f60\u9047\u5230\u4e86 Tree Shaking \u4e0d\u751f\u6548\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u68c0\u67e5\u4e0b\u76f8\u5173 npm \u5305\u7684 ",(0,n.jsx)(e.code,{children:"sideEffects"})," \u914d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u5982\u679c\u4e0d\u4e86\u89e3 ",(0,n.jsx)(e.code,{children:"sideEffects"})," \u662f\u4ec0\u4e48\uff0c\u53ef\u4ee5\u9605\u8bfb\u4ee5\u4e0b\u4e24\u7bc7\u6587\u6863\uff1a"]}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:"https://webpack.docschina.org/guides/tree-shaking/",target:"_blank",rel:"nofollow",children:"webpack \u5b98\u65b9\u6587\u6863 - Tree Shaking"})}),"\n",(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:"https://bytedance.feishu.cn/docs/doccn8E1ldDct5uv1EEDQs8Ycwe",target:"_blank",rel:"nofollow",children:"Tree Shaking \u95ee\u9898\u6392\u67e5\u6307\u5357"})}),"\n"]}),"\n",(0,n.jsxs)(e.h2,{id:"\u6253\u5305\u65f6\u51fa\u73b0-javascript-heap-out-of-memory",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6253\u5305\u65f6\u51fa\u73b0-javascript-heap-out-of-memory",children:"#"}),"\u6253\u5305\u65f6\u51fa\u73b0 JavaScript heap out of memory?"]}),"\n",(0,n.jsx)(e.p,{children:"\u8be5\u62a5\u9519\u8868\u793a\u6253\u5305\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u5185\u5b58\u6ea2\u51fa\u95ee\u9898\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u662f\u7531\u4e8e\u6253\u5305\u7684\u5185\u5bb9\u8f83\u591a\uff0c\u8d85\u51fa\u4e86 Node.js \u9ed8\u8ba4\u7684\u5185\u5b58\u4e0a\u9650\u3002"}),"\n",(0,n.jsxs)(e.p,{children:["\u5982\u679c\u51fa\u73b0 OOM \u95ee\u9898\uff0c\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u901a\u8fc7\u589e\u52a0\u5185\u5b58\u4e0a\u9650\u6765\u89e3\u51b3\uff0cNode.js \u63d0\u4f9b\u4e86 ",(0,n.jsx)(e.code,{children:"--max-old-space-size"})," \u9009\u9879\u6765\u5bf9\u6b64\u8fdb\u884c\u8bbe\u7f6e\u3002\u4f60\u53ef\u4ee5\u5728 CLI \u547d\u4ee4\u524d\u6dfb\u52a0 ",(0,n.jsx)(e.a,{href:"https://nodejs.org/api/cli.html#node_optionsoptions",target:"_blank",rel:"nofollow",children:"NODE_OPTIONS"})," \u6765\u8bbe\u7f6e\u6b64\u53c2\u6570\uff1a"]}),"\n",(0,n.jsxs)(e.div,{className:"language-bash",children:[(0,n.jsx)(e.div,{className:""}),(0,n.jsxs)(e.div,{className:"modern-code-content",children:[(0,n.jsx)(e.button,{className:"copy"}),(0,n.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"#2e3440ff"},children:(0,n.jsxs)(e.code,{children:[(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"NODE_OPTIONS=--max_old_space_size=16384 modern build"})}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,n.jsxs)(e.p,{children:["\u53c2\u6570\u7684\u503c\u4ee3\u8868\u5185\u5b58\u4e0a\u9650\u5927\u5c0f\uff08MB)\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u8bbe\u7f6e\u4e3a ",(0,n.jsx)(e.code,{children:"16384"}),"\uff0816GB\uff09\u5373\u53ef\u3002"]}),"\n",(0,n.jsx)(e.p,{children:"Node.js \u5b98\u65b9\u6587\u6863\u4e2d\u6709\u5bf9\u4ee5\u4e0b\u53c2\u6570\u66f4\u8be6\u7ec6\u7684\u89e3\u91ca\uff1a"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:"https://nodejs.org/api/cli.html#node_optionsoptions",target:"_blank",rel:"nofollow",children:"NODE_OPTIONS"})}),"\n",(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:"https://nodejs.org/api/cli.html#--max-old-space-sizesize-in-megabytes",target:"_blank",rel:"nofollow",children:"--max-old-space-size"})}),"\n"]}),"\n",(0,n.jsx)(e.p,{children:"\u9664\u4e86\u589e\u52a0\u5185\u5b58\u4e0a\u9650\uff0c\u901a\u8fc7\u5f00\u542f\u4e00\u4e9b\u7f16\u8bd1\u7b56\u7565\u6765\u63d0\u5347\u6548\u7387\u4e5f\u662f\u4e00\u4e2a\u89e3\u51b3\u65b9\u6848\u3002"}),"\n",(0,n.jsxs)(e.h2,{id:"less-\u6587\u4ef6\u4e2d\u7684\u9664\u6cd5\u4e0d\u751f\u6548",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#less-\u6587\u4ef6\u4e2d\u7684\u9664\u6cd5\u4e0d\u751f\u6548",children:"#"}),"Less \u6587\u4ef6\u4e2d\u7684\u9664\u6cd5\u4e0d\u751f\u6548\uff1f"]}),"\n",(0,n.jsx)(e.p,{children:"Less v4 \u7248\u672c\u4e0e v3 \u7248\u672c\u76f8\u6bd4\uff0c\u9664\u6cd5\u7684\u5199\u6cd5\u6709\u4e00\u4e9b\u533a\u522b\uff1a"}),"\n",(0,n.jsxs)(e.div,{className:"language-less",children:[(0,n.jsx)(e.div,{className:""}),(0,n.jsxs)(e.div,{className:"modern-code-content",children:[(0,n.jsx)(e.button,{className:"copy"}),(0,n.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"#2e3440ff"},children:(0,n.jsxs)(e.code,{children:[(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#616E88"},children:"// Less v3"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"."}),(0,n.jsx)(e.span,{style:{color:"#8FBCBB"},children:"math"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"width"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#B48EAD"},children:"2"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"px"}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"/"}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#B48EAD"},children:"2"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#616E88"},children:"// 1px"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"width"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#B48EAD"},children:"2"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"px"}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:" ."}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"/"}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#B48EAD"},children:"2"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#616E88"},children:"// 1px"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"width"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:"("}),(0,n.jsx)(e.span,{style:{color:"#B48EAD"},children:"2"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"px"}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"/"}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#B48EAD"},children:"2"}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:")"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#616E88"},children:"// 1px"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"}"})}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#616E88"},children:"// Less v4"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"."}),(0,n.jsx)(e.span,{style:{color:"#8FBCBB"},children:"math"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"width"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#B48EAD"},children:"2"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"px"}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"/"}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#B48EAD"},children:"2"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#616E88"},children:"// 2px / 2"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"width"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#B48EAD"},children:"2"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"px"}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:" ."}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"/"}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#B48EAD"},children:"2"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#616E88"},children:"// 1px"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9"},children:"width"}),(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:"("}),(0,n.jsx)(e.span,{style:{color:"#B48EAD"},children:"2"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"px"}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:"/"}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#B48EAD"},children:"2"}),(0,n.jsx)(e.span,{style:{color:"#88C0D0"},children:")"}),(0,n.jsx)(e.span,{style:{color:"#81A1C1"},children:";"}),(0,n.jsx)(e.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,n.jsx)(e.span,{style:{color:"#616E88"},children:"// 1px"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#ECEFF4"},children:"}"})}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,n.jsx)(e.p,{children:"Builder \u5185\u7f6e\u7684 Less \u7248\u672c\u4e3a v4\uff0c\u4f4e\u7248\u672c\u7684\u5199\u6cd5\u4e0d\u4f1a\u751f\u6548\uff0c\u8bf7\u6ce8\u610f\u533a\u5206\u3002"}),"\n",(0,n.jsxs)(e.p,{children:["Less \u4e2d\u9664\u6cd5\u7684\u5199\u6cd5\u4e5f\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u9879\u6765\u4fee\u6539\uff0c\u8be6\u89c1 ",(0,n.jsx)(e.a,{href:"https://lesscss.org/usage/#less-options-math",target:"_blank",rel:"nofollow",children:"Less - Math"}),"\u3002"]}),"\n",(0,n.jsxs)(e.h2,{id:"\u4fee\u6539\u914d\u7f6e\u540e\u62a5\u9519-typeerror-cannot-delete-property-xxx-of-object",children:[(0,n.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4fee\u6539\u914d\u7f6e\u540e\u62a5\u9519-typeerror-cannot-delete-property-xxx-of-object",children:"#"}),"\u4fee\u6539\u914d\u7f6e\u540e\uff0c\u62a5\u9519 \u2018TypeError: Cannot delete property 'xxx' of #<Object>\u2019"]}),"\n",(0,n.jsx)(e.p,{children:"\u8be5\u62a5\u9519\u8868\u793a\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u5bf9\u4e00\u4e2a\u53ea\u8bfb\u914d\u7f6e\u9879\u8fdb\u884c\u4e86\u5220\u9664\u64cd\u4f5c\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u5e0c\u671b\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u7684\u4efb\u4f55\u64cd\u4f5c\u4f1a\u76f4\u63a5\u5bf9\u4f20\u5165\u7684\u914d\u7f6e\u8fdb\u884c\u4fee\u6539\uff0c\u4f46\u96be\u4ee5\u9650\u5236\u5e95\u5c42\u63d2\u4ef6\uff08\u5982 postcss-loader \u7b49\uff09\u7684\u884c\u4e3a\uff0c\u5982\u679c\u51fa\u73b0\u8be5\u62a5\u9519\uff0c\u8bf7\u8054\u7cfb builder \u5f00\u53d1\u4eba\u5458\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u8be5\u914d\u7f6e\u8fdb\u884c\u5355\u72ec\u5904\u7406\u3002"}),"\n",(0,n.jsx)(e.p,{children:"\u540c\u7c7b\u578b\u62a5\u9519\u8fd8\u6709\uff1a"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:"'TypeError: Cannot add property xxx, object is not extensible'"}),"\n",(0,n.jsx)(e.li,{children:"'TypeError: Cannot assign to read only property 'xxx' of object '#<Object>'"}),"\n"]})]})}e.default=function(s={}){const{wrapper:e}=s.components||{};return e?(0,n.jsx)(e,Object.assign({},s,{children:(0,n.jsx)(i,s)})):i(s)}}}]);