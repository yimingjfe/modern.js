(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{282:function(s,t,e){"use strict";e.r(t);var a=e(4),n=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"node-polyfill-plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-polyfill-plugin"}},[s._v("#")]),s._v(" Node Polyfill Plugin")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("About Node Polyfill")]),s._v(" "),t("p",[s._v("Normally, we don't need to use Node libs on the browser side. However, it is possible to use some Node libs when the code will run on both the Node side and the browser side, and Node Polyfill provides browser versions of polyfills for these Node libs.")])]),s._v(" "),t("p",[s._v("By using the Node Polyfill plugin, Node core libs polyfills are automatically injected into the browser-side, allowing you to use these modules on the browser side with confidence.")]),s._v(" "),t("h2",{attrs:{id:"install"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install"}},[s._v("#")]),s._v(" Install")]),s._v(" "),t("p",[s._v("You can install the plugin with the following command:")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @modern-js/builder-plugin-node-polyfill -D\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yarn")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" @modern-js/builder-plugin-node-polyfill -D\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pnpm")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @modern-js/builder-plugin-node-polyfill -D\n")])])]),t("h2",{attrs:{id:"register"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#register"}},[s._v("#")]),s._v(" Register")]),s._v(" "),t("p",[s._v("You can register the plugin in Builder to enable node polyfill features:")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" PluginNodePolyfill "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@modern-js/builder-plugin-node-polyfill'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Add plugins to the builder instance.")]),s._v("\nbuilder"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("addPlugins")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("PluginNodePolyfill")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h2",{attrs:{id:"node-polyfills"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-polyfills"}},[s._v("#")]),s._v(" Node Polyfills")]),s._v(" "),t("h3",{attrs:{id:"globals"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#globals"}},[s._v("#")]),s._v(" Globals")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("Buffer")])]),s._v(" "),t("li",[t("code",[s._v("process")])])]),s._v(" "),t("p",[s._v("When the above module is used directly in code, the corresponding polyfill will be injected.")]),s._v(" "),t("div",{staticClass:"language-ts extra-class"},[t("pre",{pre:!0,attrs:{class:"language-ts"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" bufferData "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Buffer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("from")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xxxx'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"modules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#modules"}},[s._v("#")]),s._v(" Modules")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("assert")])]),s._v(" "),t("li",[t("code",[s._v("buffer")])]),s._v(" "),t("li",[t("code",[s._v("console")])]),s._v(" "),t("li",[t("code",[s._v("constants")])]),s._v(" "),t("li",[t("code",[s._v("crypto")])]),s._v(" "),t("li",[t("code",[s._v("domain")])]),s._v(" "),t("li",[t("code",[s._v("events")])]),s._v(" "),t("li",[t("code",[s._v("http")])]),s._v(" "),t("li",[t("code",[s._v("https")])]),s._v(" "),t("li",[t("code",[s._v("os")])]),s._v(" "),t("li",[t("code",[s._v("path")])]),s._v(" "),t("li",[t("code",[s._v("punycode")])]),s._v(" "),t("li",[t("code",[s._v("process")])]),s._v(" "),t("li",[t("code",[s._v("querystring")])]),s._v(" "),t("li",[t("code",[s._v("stream")])]),s._v(" "),t("li",[t("code",[s._v("_stream_duplex")])]),s._v(" "),t("li",[t("code",[s._v("_stream_passthrough")])]),s._v(" "),t("li",[t("code",[s._v("_stream_readable")])]),s._v(" "),t("li",[t("code",[s._v("_stream_transform")])]),s._v(" "),t("li",[t("code",[s._v("_stream_writable")])]),s._v(" "),t("li",[t("code",[s._v("string_decoder")])]),s._v(" "),t("li",[t("code",[s._v("sys")])]),s._v(" "),t("li",[t("code",[s._v("timers")])]),s._v(" "),t("li",[t("code",[s._v("tty")])]),s._v(" "),t("li",[t("code",[s._v("url")])]),s._v(" "),t("li",[t("code",[s._v("util")])]),s._v(" "),t("li",[t("code",[s._v("vm")])]),s._v(" "),t("li",[t("code",[s._v("zlib")])])]),s._v(" "),t("p",[s._v("When the above module is referenced in code via import / require syntax, the corresponding polyfill will be injected.")]),s._v(" "),t("div",{staticClass:"language-ts extra-class"},[t("pre",{pre:!0,attrs:{class:"language-ts"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" Buffer "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'buffer'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" bufferData "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Buffer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("from")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xxxx'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);