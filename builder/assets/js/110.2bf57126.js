(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{333:function(r,e,t){"use strict";t.r(e);var s=t(4),a=Object(s.a)({},(function(){var r=this,e=r._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[e("h1",{attrs:{id:"介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[r._v("#")]),r._v(" 介绍")]),r._v(" "),e("p",[r._v("Modern.js Builder 是"),e("strong",[r._v("一个面向现代 Web 开发场景的构建引擎")]),r._v("。")]),r._v(" "),e("p",[r._v("随着前端生态的发展，社区中出现了多样化的编译工具和插件。对于大部分开发者来说，构建一个 Web 应用所需的配置和依赖已变得十分复杂。在追求最佳实践的过程中，开发者需要付出的成本也在不断上升。")]),r._v(" "),e("p",[r._v("为了减少构建的复杂性，降低上手门槛，我们基于 Modern.js 在 Web 应用构建方面的实践经验，抽象其中的构建能力，打造出 Modern.js Builder 这个开源工具。")]),r._v(" "),e("h2",{attrs:{id:"rust-化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rust-化"}},[r._v("#")]),r._v(" Rust 化")]),r._v(" "),e("p",[r._v("近年来，前端工具链的发展趋势是使用 Rust 等编程语言重新实现 —— 以获得更好的性能表现。社区中出现 "),e("a",{attrs:{href:"https://swc.rs/",target:"_blank",rel:"noopener noreferrer"}},[r._v("SWC"),e("OutboundLink")],1),r._v("、"),e("a",{attrs:{href:"https://github.com/evanw/esbuild",target:"_blank",rel:"noopener noreferrer"}},[r._v("esbuild"),e("OutboundLink")],1),r._v("、"),e("a",{attrs:{href:"https://turbo.build/pack",target:"_blank",rel:"noopener noreferrer"}},[r._v("Turbopack"),e("OutboundLink")],1),r._v(" 等高性能工具，并且应用领域在逐步扩宽。但这些 Rust 工具与 JavaScript 工具之间存在较多差异，包括功能不完整、配置不一致等，导致使用者需要承担一定的迁移成本。")]),r._v(" "),e("img",{attrs:{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/rust-tools-11175.png"}}),r._v(" "),e("p",[r._v("前端工具链 Rust 化的进程还会持续较长一段时间，"),e("strong",[r._v("Modern.js Builder 期望能帮助开发者更好地过渡到 Rust 工具")]),r._v("。不管是 JavaScript 工具，还是 Rust 工具，甚至是 webpack 等底层 bundler，在 Modern.js Builder 中都是可替换的零部件。你可以通过开启配置或启用插件的方式，对这些零部件进行渐进式替换，Modern.js Builder 会抹平其中的主要差异，帮助使用者进行低成本迁移。")]),r._v(" "),e("h2",{attrs:{id:"定位"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#定位"}},[r._v("#")]),r._v(" 定位")]),r._v(" "),e("p",[r._v("Modern.js Builder (简称 Builder) 的定位是"),e("strong",[r._v("服务于上层框架的构建引擎")]),r._v("，它专注于解决 Web 应用构建面临的各类问题，期望能为前端框架提供开箱即用的构建能力。")]),r._v(" "),e("img",{staticStyle:{"max-width":"80%","margin-left":"10%"},attrs:{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/builder-layers-1117.png"}}),r._v(" "),e("p",[r._v("如果你正在开发一个前端框架，或是开发一个前端应用的脚手架，那么 Builder 可以为你完成前端框架中大部分与构建有关的逻辑，让你能够聚焦于实现框架的其他功能。")]),r._v(" "),e("p",[r._v("如果你是一名业务开发者，大部分情况下，你不需要在业务项目中手动接入 Builder，我们推荐你直接使用一些基于 Builder 的上层框架。")]),r._v(" "),e("p",[r._v("目前已经接入 Builder 的前端框架有：")]),r._v(" "),e("ul",[e("li",[r._v("开源的 "),e("a",{attrs:{href:"https://github.com/modern-js-dev/modern.js",target:"_blank",rel:"noopener noreferrer"}},[r._v("Modern.js 2.0"),e("OutboundLink")],1),r._v(" 框架。")]),r._v(" "),e("li",[r._v("字节跳动内部的 EdenX、PIA 等框架。")])]),r._v(" "),e("h2",{attrs:{id:"特性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特性"}},[r._v("#")]),r._v(" 特性")]),r._v(" "),e("h3",{attrs:{id:"支持多种打包工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#支持多种打包工具"}},[r._v("#")]),r._v(" 支持多种打包工具")]),r._v(" "),e("p",[r._v("在架构上，"),e("strong",[r._v("Builder 支持多种打包工具")]),r._v("，使用者可以根据自身需求来使用不同的打包工具。")]),r._v(" "),e("p",[r._v("默认情况下，Builder 使用 webpack 5 作为打包工具，尽管 webpack 的编译速度不是很理想，但它依然是社区中功能最完整、生态最丰富的打包工具。Builder 在 webpack 的基础上，集成了 "),e("a",{attrs:{href:"https://github.com/babel/babel",target:"_blank",rel:"noopener noreferrer"}},[r._v("babel"),e("OutboundLink")],1),r._v("、"),e("a",{attrs:{href:"https://github.com/postcss/postcss",target:"_blank",rel:"noopener noreferrer"}},[r._v("postcss"),e("OutboundLink")],1),r._v("、"),e("a",{attrs:{href:"https://github.com/terser/terser",target:"_blank",rel:"noopener noreferrer"}},[r._v("terser"),e("OutboundLink")],1),r._v(" 等工具进行代码转义和压缩。Builder 也支持替换部分编译能力为原生工具来提升编译速度，比如将 babel/terser 替换为 "),e("a",{attrs:{href:"https://github.com/swc-project/swc",target:"_blank",rel:"noopener noreferrer"}},[r._v("swc"),e("OutboundLink")],1),r._v(" 或 "),e("a",{attrs:{href:"https://github.com/evanw/esbuild",target:"_blank",rel:"noopener noreferrer"}},[r._v("esbuild"),e("OutboundLink")],1),r._v("。")]),r._v(" "),e("p",[r._v("除了 webpack 打包，Builder 也正在对接"),e("strong",[r._v("字节跳动 Web Infra 团队自研的 Rust Bundler —— rspack")]),r._v("，以提供更快的编译速度。")]),r._v(" "),e("p",[r._v("目前，Builder 基于 webpack 的构建已经成熟可用，基于 rspack 的构建仍在开发过程中，敬请期待。")]),r._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[r._v("关于 Turbopack")]),r._v(" "),e("p",[r._v("尽管 Builder 已经在对接 rspack，对于 webpack 的继任者 —— "),e("a",{attrs:{href:"https://turbo.build/pack",target:"_blank",rel:"noopener noreferrer"}},[r._v("Turbopack"),e("OutboundLink")],1),r._v("，我们也会持续关注它后续的发展情况。")]),r._v(" "),e("p",[r._v("目前 Turbopack 仅支持在 Next.js 中使用，当 Turbopack 支持独立使用，并且完成度和社区生态达到一定水平时，我们会考虑进行接入。")])]),r._v(" "),e("h3",{attrs:{id:"深度优化构建产物"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#深度优化构建产物"}},[r._v("#")]),r._v(" 深度优化构建产物")]),r._v(" "),e("p",[r._v("Builder "),e("strong",[r._v("充分利用 webpack 生态内的各种优化手段")]),r._v("，保证生产环境的产物性能得到深度优化，并在稳定性上提供保障。")]),r._v(" "),e("p",[r._v("以拆包场景为例，webpack 原生的 splitChunks 配置较为复杂，Builder 将其封装为开箱即用的 "),e("RouterLink",{attrs:{to:"/zh/api/config-performance.html#performance-chunksplit"}},[r._v("performance.chunkSplit")]),r._v(" 配置项，默认将常见的三方库拆分为体积适中的 chunk，使页面加载速度达到最优状态。")],1),r._v(" "),e("h3",{attrs:{id:"易于扩展的插件系统"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#易于扩展的插件系统"}},[r._v("#")]),r._v(" 易于扩展的插件系统")]),r._v(" "),e("p",[r._v("Builder 提供丰富的配置项和可插拔的插件系统，支持对各项能力进行扩展和定制。")]),r._v(" "),e("p",[r._v("对于 Builder 来说，所有的构建能力都是通过插件来实现的：")]),r._v(" "),e("ul",[e("li",[r._v("大部分插件较为轻量，被内置在 Builder 内部，开发者可以通过配置项来控制启用。")]),r._v(" "),e("li",[r._v("少部分插件较为复杂，被外置为独立 npm 包，开发者可以按需进行安装和使用。")])]),r._v(" "),e("p",[r._v("Builder 也支持自定义插件，因此框架开发者可以开发自定义的插件，实现定制化的构建需求。")]),r._v(" "),e("h2",{attrs:{id:"npm-包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npm-包"}},[r._v("#")]),r._v(" npm 包")]),r._v(" "),e("p",[r._v("Builder 已发布的 npm 包有：")]),r._v(" "),e("table",[e("thead",[e("tr",[e("th",[r._v("包名")]),r._v(" "),e("th",[r._v("版本")]),r._v(" "),e("th",[r._v("描述")])])]),r._v(" "),e("tbody",[e("tr",[e("td",[e("a",{attrs:{href:"https://www.npmjs.com/package/@modern-js/builder",target:"_blank",rel:"noopener noreferrer"}},[r._v("@modern-js/builder"),e("OutboundLink")],1)]),r._v(" "),e("td",[e("img",{attrs:{src:"https://img.shields.io/npm/v/@modern-js/builder/beta?style=flat-square",alt:""}})]),r._v(" "),e("td",[r._v("Builder 核心包")])]),r._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://www.npmjs.com/package/@modern-js/builder-webpack-provider",target:"_blank",rel:"noopener noreferrer"}},[r._v("@modern-js/builder-webpack-provider"),e("OutboundLink")],1)]),r._v(" "),e("td",[e("img",{attrs:{src:"https://img.shields.io/npm/v/@modern-js/builder-webpack-provider/beta?style=flat-square",alt:""}})]),r._v(" "),e("td",[r._v("提供 webpack 构建能力")])]),r._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://www.npmjs.com/package/@modern-js/builder-rspack-provider",target:"_blank",rel:"noopener noreferrer"}},[r._v("@modern-js/builder-rspack-provider"),e("OutboundLink")],1)]),r._v(" "),e("td",[e("img",{attrs:{src:"https://img.shields.io/npm/v/@modern-js/builder-rspack-provider/beta?style=flat-square",alt:""}})]),r._v(" "),e("td",[r._v("提供 rspack 构建能力")])]),r._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-swc",target:"_blank",rel:"noopener noreferrer"}},[r._v("@modern-js/builder-plugin-swc"),e("OutboundLink")],1)]),r._v(" "),e("td",[e("img",{attrs:{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-swc/beta?style=flat-square",alt:""}})]),r._v(" "),e("td",[r._v("SWC 插件")])]),r._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-esbuild",target:"_blank",rel:"noopener noreferrer"}},[r._v("@modern-js/builder-plugin-esbuild"),e("OutboundLink")],1)]),r._v(" "),e("td",[e("img",{attrs:{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-esbuild/beta?style=flat-square",alt:""}})]),r._v(" "),e("td",[r._v("Esbuild 插件")])]),r._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-node-polyfill",target:"_blank",rel:"noopener noreferrer"}},[r._v("@modern-js/builder-plugin-node-polyfill"),e("OutboundLink")],1)]),r._v(" "),e("td",[e("img",{attrs:{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-node-polyfill/beta?style=flat-square",alt:""}})]),r._v(" "),e("td",[r._v("Node Polyfill 插件")])]),r._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-image-compress",target:"_blank",rel:"noopener noreferrer"}},[r._v("@modern-js/builder-plugin-image-compress"),e("OutboundLink")],1)]),r._v(" "),e("td",[e("img",{attrs:{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-image-compress/beta?style=flat-square",alt:""}})]),r._v(" "),e("td",[r._v("Image Compress 插件")])]),r._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://www.npmjs.com/package/@modern-js/builder-shared",target:"_blank",rel:"noopener noreferrer"}},[r._v("@modern-js/builder-shared"),e("OutboundLink")],1)]),r._v(" "),e("td",[e("img",{attrs:{src:"https://img.shields.io/npm/v/@modern-js/builder-shared/beta?style=flat-square",alt:""}})]),r._v(" "),e("td",[r._v("Builder 内部的公共模块")])]),r._v(" "),e("tr",[e("td",[e("a",{attrs:{href:"https://www.npmjs.com/package/@modern-js/builder-doc",target:"_blank",rel:"noopener noreferrer"}},[r._v("@modern-js/builder-doc"),e("OutboundLink")],1)]),r._v(" "),e("td",[e("img",{attrs:{src:"https://img.shields.io/npm/v/@modern-js/builder-doc/beta?style=flat-square",alt:""}})]),r._v(" "),e("td",[r._v("提供可复用的文档片段")])])])]),r._v(" "),e("p",[r._v("你可以在 modern.js 仓库的 "),e("a",{attrs:{href:"https://github.com/modern-js-dev/modern.js/tree/main/packages/builder/",target:"_blank",rel:"noopener noreferrer"}},[r._v("packages/builder"),e("OutboundLink")],1),r._v(" 目录下查看这些包的源代码。")]),r._v(" "),e("h2",{attrs:{id:"下一步"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下一步"}},[r._v("#")]),r._v(" 下一步")]),r._v(" "),e("p",[r._v("你可能想要：")]),r._v(" "),e("NextSteps",[e("Step",{attrs:{href:"/guide/quick-start.html",title:"快速上手",description:"了解如何使用 Builder"}}),r._v(" "),e("Step",{attrs:{href:"/guide/features.html",title:"功能导航",description:"了解 Builder 提供的所有功能"}}),r._v(" "),e("Step",{attrs:{href:"/api",title:"查阅 API",description:"查看详细的 API 文档"}})],1)],1)}),[],!1,null,null,null);e.default=a.exports}}]);