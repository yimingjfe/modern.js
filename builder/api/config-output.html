<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title data-rh="true">Output Config - Modern.js Builder</title><meta data-rh="true" name="description" content="一个面向 Web 开发场景的构建引擎"/><script>!function(){"use strict";var e,_,n,i,o,t,c,a={},f={};function r(e){var _=f[e];if(void 0!==_)return _.exports;var n=f[e]={exports:{}};return a[e].call(n.exports,n,n.exports,r),n.exports}r.m=a,e=[],r.O=function(_,n,i,o){if(!n){var t=1/0;for(s=0;s<e.length;s++){n=e[s][0],i=e[s][1],o=e[s][2];for(var c=!0,a=0;a<n.length;a++)(!1&o||t>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[a])}))?n.splice(a--,1):(c=!1,o<t&&(t=o));if(c){e.splice(s--,1);var f=i();void 0!==f&&(_=f)}}return _}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,i,o]},r.n=function(e){var _=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(_,{a:_}),_},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var o=Object.create(null);r.r(o);var t={};_=_||[null,n({}),n([]),n(n)];for(var c=2&i&&e;"object"==typeof c&&!~_.indexOf(c);c=n(c))Object.getOwnPropertyNames(c).forEach((function(_){t[_]=function(){return e[_]}}));return t.default=function(){return e},r.d(o,t),o},r.d=function(e,_){for(var n in _)r.o(_,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:_[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(_,n){return r.f[n](e,_),_}),[]))},r.u=function(e){return"static/js/async/"+({27:"en_guide_advanced_custom-webpack-config",44:"zh_config_tools_webpack",54:"zh_guide_basic_html-template",99:"zh_shared_onAfterBuild",163:"zh_config_html_mountId",195:"en_config_output_disableCssModuleExtension",207:"en_plugins_list",213:"zh_guide_optimization_split-chunk",234:"zh_config_tools_autoprefixer",285:"en_config_experiments_lazyCompilation",288:"zh_config_html_templateParameters",299:"zh_api_plugin-hooks",301:"en_config_source_compileJsDataURI",315:"en_index",461:"zh_config_output_enableCssModuleTSDeclaration",551:"en_guide_optimization_split-chunk",557:"zh_api_config-source",570:"zh_guide_advanced_hmr",583:"en_shared_onAfterCreateCompiler",591:"zh_config_output_cleanDistPath",613:"zh_api_config-experiments",652:"en_guide_basic_json-files",659:"en_api_config-source",707:"zh_guide_features",771:"en_config_tools_styleLoader",789:"zh_config_performance_chunkSplit",805:"en_config_output_legalComments",806:"en_config_html_templateByEntries",818:"zh_config_performance_buildCache",826:"en_config_tools_babel",901:"en_config_output_enableLatestDecorators",902:"en_config_html_metaByEntries",951:"zh_config_dev_port",1001:"zh_api_config-output",1085:"en_api_index",1108:"zh_config_html_templateByEntries",1164:"zh_config_output_disableFilenameHash",1167:"en_guide_basic_builder-config",1189:"zh_api_index",1320:"zh_config_html_injectByEntries",1387:"en_config_performance_chunkSplit",1436:"en_config_tools_sass",1447:"en_plugins_plugin-node-polyfill",1596:"en_config_tools_postcss",1655:"zh_api_config-tools",1677:"en_guide_basic_svg-assets",1680:"zh_shared_onAfterCreateCompiler",1722:"zh_guide_basic_build-target",1743:"en_config_source_resolveMainFields",1767:"zh_guide_basic_builder-config",1773:"en_config_output_disableSourceMap",1778:"zh_config_output_disableInlineRuntimeChunk",1780:"en_config_performance_printFileSize",1786:"zh_config_output_charset",1813:"zh_api_builder-instance",1816:"zh_guide_optimization_inline-assets",1895:"zh_index",1911:"en_guide_quick-start",1963:"zh_config_html_disableHtmlFolder",1969:"en_config_html_template",1989:"en_config_output_enableAssetManifest",1999:"zh_guide_debug_debug-mode",2008:"zh_shared_onBeforeCreateCompiler",2011:"zh_config_output_disableCssExtract",2025:"en_config_html_favicon",2029:"zh_guide_faq_general",2061:"en_guide_basic_typescript",2140:"zh_config_output_overrideBrowserslist",2213:"en_api_builder-instance",2232:"zh_guide_debug_inspector",2271:"en_shared_onBeforeBuild",2278:"zh_shared_onBeforeBuild",2315:"en_config_html_appIcon",2331:"en_config_tools_devServer",2401:"en_config_tools_tsChecker",2403:"en_config_tools_pug",2456:"en_config_html_inject",2477:"en_config_tools_autoprefixer",2540:"zh_config_html_crossorigin",2566:"zh_config_html_template",2570:"en_config_html_title",2634:"en_config_html_templateParameters",2638:"zh_config_html_templateParametersByEntries",2642:"zh_guide_basic_typescript",2693:"zh_plugins_plugin-image-compress",2727:"en_config_tools_minifyCss",2760:"zh_config_output_disableTsChecker",2797:"en_api_builder-core",2847:"en_config_source_globalVars",2855:"zh_config_performance_removeMomentLocale",2870:"zh_config_dev_assetPrefix",2893:"en_guide_features",2897:"en_config_tools_webpackChain",3020:"zh_config_tools_cssLoader",3059:"zh_config_performance_profile",3062:"en_config_dev_hmr",3065:"en_guide_optimization_build-performance",3092:"zh_guide_advanced_browser-compatibility",3119:"zh_config_tools_cssExtract",3143:"zh_config_source_moduleScopes",3181:"zh_guide_basic_output-files",3209:"zh_config_html_favicon",3256:"en_config_tools_cssLoader",3272:"zh_config_html_titleByEntries",3310:"en_config_source_define",3317:"en_config_output_enableInlineStyles",3372:"zh_config_tools_postcss",3406:"zh_guide_advanced_custom-webpack-config",3431:"en_guide_advanced_browserslist",3459:"zh_guide_optimization_build-performance",3490:"zh_config_html_faviconByEntries",3608:"zh_config_source_preEntry",3614:"zh_plugins_plugin-node-polyfill",3670:"en_shared_getNormalizedConfig",3722:"en_config_dev_assetPrefix",3751:"zh_shared_onDevCompileDone",3756:"zh_config_tools_tsLoader",3766:"zh_api_config-html",3778:"en_plugins_plugin-esbuild",3784:"en_config_security_sri",3811:"en_shared_onExit",3827:"zh_config_source_resolveExtensionPrefix",3839:"zh_api_config-dev",3873:"en_guide_advanced_alias",3942:"en_config_output_convertToRem",3952:"zh_plugins_integration",3978:"en_api_config-dev",3991:"en_config_output_disableInlineRuntimeChunk",4080:"zh_plugins_plugin-esbuild",4094:"en_guide_advanced_rem",4132:"en_config_output_copy",4170:"zh_guide_basic_json-files",4175:"zh_guide_basic_css-usage",4227:"en_config_output_disableCssExtract",4263:"zh_config_dev_progressBar",4285:"zh_config_tools_terser",4298:"zh_config_output_assetPrefix",4321:"en_config_output_cleanDistPath",4349:"zh_shared_onExit",4395:"zh_config_performance_printFileSize",4513:"en_config_tools_inspector",4572:"zh_config_dev_startUrl",4578:"en_api_builder-types",4615:"zh_config_output_svgDefaultExport",4632:"en_config_output_enableCssModuleTSDeclaration",4639:"en_config_dev_port",4697:"zh_shared_getBuilderConfig",4709:"zh_config_security_sri",4738:"zh_config_output_polyfill",4764:"zh_guide_introduction",4768:"zh_shared_getHTMLPaths",4780:"zh_config_tools_pug",4784:"global.d",4831:"en_config_tools_terser",4854:"zh_config_output_filename",4871:"en_config_tools_styledComponents",4877:"en_shared_onDevCompileDone",4904:"en_guide_faq_exceptions",4912:"zh_config_output_enableInlineScripts",4919:"en_guide_optimization_optimize-bundle",4932:"zh_guide_advanced_alias",4933:"en_api_config-experiments",4960:"en_config_html_meta",5001:"en_config_dev_startUrl",5064:"en_config_output_filename",5077:"zh_config_dev_hmr",5222:"zh_guide_advanced_rem",5224:"zh_config_html_appIcon",5386:"en_config_source_alias",5391:"zh_config_source_include",5430:"en_api_config-html",5451:"zh_config_source_compileJsDataURI",5464:"en_config_html_disableHtmlFolder",5492:"zh_plugins_list",5495:"zh_shared_onAfterStartDevServer",5506:"en_config_dev_progressBar",5521:"components_NextSteps",5531:"zh_api_plugin-core",5637:"zh_guide_glossary",5688:"zh_config_performance_bundleAnalyze",5697:"zh_config_tools_inspector",5791:"en_shared_getBuilderConfig",5841:"en_guide_basic_output-files",5867:"en_api_config-output",5868:"en_config_performance_profile",5923:"en_config_source_include",5952:"zh_config_output_legalComments",5974:"zh_config_tools_htmlPlugin",5979:"zh_guide_quick-start",6066:"en_guide_basic_static-assets",6080:"en_plugins_testing",6086:"en_config_output_externals",6093:"en_guide_debug_inspector",6119:"en_config_output_overrideBrowserslist",6194:"en_config_tools_webpack",6210:"en_guide_basic_html-template",6219:"en_config_output_enableInlineScripts",6226:"zh_config_output_enableInlineStyles",6236:"en_config_output_assetPrefix",6385:"zh_config_source_define",6418:"zh_config_output_convertToRem",6472:"en_guide_basic_css-usage",6477:"zh_config_performance_removeConsole",6489:"zh_config_html_metaByEntries",6504:"en_guide_advanced_define",6520:"en_config_html_titleByEntries",6551:"zh_config_output_disableMinimize",6575:"zh_config_tools_less",6592:"en_config_html_faviconByEntries",6593:"en_config_output_charset",6596:"en_shared_onAfterStartDevServer",6602:"zh_config_html_tagsByEntries",6690:"en_config_output_assetsRetry",6753:"zh_config_output_copy",6785:"en_guide_basic_build-target",6805:"zh_config_html_inject",6811:"en_plugins_integration",6819:"en_config_html_tags",6824:"zh_config_output_externals",6825:"en_plugins_plugin-swc",6870:"en_config_output_disableMinimize",6887:"zh_guide_basic_svg-assets",6925:"zh_config_tools_babel",6952:"en_config_tools_less",6972:"en_plugins_plugin-stylus",7021:"zh_config_tools_webpackChain",7099:"zh_guide_basic_static-assets",7202:"zh_config_html_title",7320:"zh_config_output_assetsRetry",7370:"en_guide_advanced_browser-compatibility",7381:"en_config_performance_bundleAnalyze",7403:"en_guide_advanced_hmr",7409:"en_shared_onAfterBuild",7429:"en_config_output_distPath",7480:"en_config_html_tagsByEntries",7544:"zh_config_output_enableAssetManifest",7545:"zh_config_source_resolveMainFields",7578:"en_guide_debug_debug-mode",7622:"en_config_performance_removeConsole",7629:"components_Step",7666:"zh_plugins_plugin-stylus",7680:"en_config_tools_cssExtract",7681:"zh_config_output_distPath",7687:"zh_api_config-security",7708:"en_config_source_exclude",7737:"zh_guide_advanced_browserslist",7747:"zh_shared_getNormalizedConfig",7762:"en_config_output_enableAssetFallback",7784:"zh_config_tools_minifyCss",7787:"zh_config_tools_styleLoader",7809:"zh_config_output_cssModuleLocalIdentName",7828:"en_config_output_svgDefaultExport",7892:"zh_guide_faq_exceptions",7907:"zh_guide_advanced_define",7917:"en_api_config-security",7962:"en_config_output_dataUriLimit",8006:"en_plugins_introduction",8021:"zh_guide_faq_features",8126:"zh_shared_onBeforeStartDevServer",8161:"zh_config_experiments_lazyCompilation",8246:"en_config_performance_buildCache",8254:"en_config_html_crossorigin",8308:"zh_guide_basic_css-modules",8395:"en_config_source_moduleScopes",8403:"en_guide_faq_general",8421:"en_guide_glossary",8425:"zh_config_output_disableCssModuleExtension",8426:"zh_shared_isPluginExists",8599:"zh_config_output_disableSourceMap",8610:"en_shared_getHTMLPaths",8630:"zh_config_tools_sass",8651:"zh_config_source_alias",8667:"zh_config_tools_devServer",8684:"en_api_plugin-core",8705:"en_api_config-tools",8717:"en_guide_optimization_inline-assets",8737:"en_config_output_polyfill",8801:"zh_config_output_enableAssetFallback",8829:"en_config_html_injectByEntries",8835:"en_shared_onBeforeStartDevServer",8884:"zh_plugins_plugin-swc",8893:"zh_config_tools_tsChecker",8930:"en_config_source_resolveExtensionPrefix",8975:"en_shared_isPluginExists",8977:"zh_plugins_testing",9011:"zh_config_output_enableLatestDecorators",9024:"zh_config_output_dataUriLimit",9031:"zh_config_tools_styledComponents",9038:"en_plugins_plugin-image-compress",9082:"en_guide_faq_features",9119:"en_config_dev_https",9200:"en_config_output_disableFilenameHash",9209:"en_guide_introduction",9308:"en_config_html_templateParametersByEntries",9313:"en_config_html_mountId",9350:"zh_config_html_tags",9364:"en_api_plugin-hooks",9438:"en_api_config-performance",9483:"zh_config_dev_https",9553:"en_config_performance_removeMomentLocale",9584:"zh_guide_optimization_optimize-bundle",9611:"zh_api_builder-types",9656:"zh_api_builder-core",9675:"en_config_output_disableTsChecker",9711:"en_guide_basic_css-modules",9733:"zh_plugins_introduction",9742:"en_config_output_cssModuleLocalIdentName",9762:"en_config_tools_tsLoader",9769:"en_shared_onBeforeCreateCompiler",9797:"zh_config_source_exclude",9836:"zh_config_source_globalVars",9878:"en_config_source_preEntry",9927:"zh_config_html_meta",9929:"zh_api_config-performance",9935:"en_config_tools_htmlPlugin"}[e]||e)+"."+{27:"dfb69f90",44:"7751e67a",54:"99063e3a",99:"e7534875",163:"c65ff164",195:"0bcbf18f",207:"63226b67",213:"512a8357",234:"f2e6029d",285:"d60a9805",288:"90123e15",299:"e61f08a9",301:"2ea9d249",315:"eb3f5ebd",461:"bce521cb",551:"dd08873b",557:"2907f697",570:"b3837160",583:"99f99f75",591:"4e4c818d",613:"61da6d76",652:"24c0ae59",659:"2fc83518",707:"cb8468e2",771:"f41ada49",789:"da2964e5",805:"621048c4",806:"8c5480a3",818:"0b423582",826:"a6fe6adb",901:"02df8255",902:"b92b7db8",951:"f06510e8",1001:"6426fb4a",1085:"40688b68",1108:"3a8d87ad",1164:"9367314f",1167:"5e34ac7a",1189:"83d0f938",1320:"e7cea07f",1387:"0dd11f04",1436:"5c095243",1447:"c6984585",1596:"f575c284",1655:"f6288c08",1677:"5377a9c0",1680:"87cf2203",1722:"3babde6c",1743:"b4986b99",1767:"7ec8a561",1773:"2098a8f7",1778:"58a51869",1780:"67cb6a75",1786:"f8d96248",1813:"c497c899",1816:"e5666aed",1895:"e5b63360",1911:"45b7f539",1963:"486cd138",1969:"a545857a",1989:"37e30725",1999:"f94a8eb7",2008:"a3b97f40",2011:"7fb2ea19",2025:"3014f9f5",2029:"cb7281b9",2061:"a8b871ca",2140:"4bce097c",2213:"1667e878",2232:"2730fd7c",2271:"5f1a26a2",2278:"edce8514",2315:"6a98c0c9",2331:"19794a77",2401:"a3b164cc",2403:"5f732f91",2456:"8ebbdb37",2477:"f31d078b",2540:"a0ae7934",2566:"25e75127",2570:"2130f420",2634:"d3b22012",2638:"04e93c7d",2642:"1dd81697",2693:"40f44536",2727:"6ca4137e",2760:"05cf7d9e",2797:"00d57194",2847:"a5c11377",2855:"d94e02b1",2870:"31102c09",2893:"d83f77a0",2897:"9e80e167",3020:"44c693b0",3059:"9c4387af",3062:"339a10fd",3065:"ec584203",3092:"82f5c53f",3119:"6b26bdbb",3143:"cc53d728",3181:"a3fb6cef",3209:"16aed972",3256:"87367960",3272:"57346c84",3310:"72c929b7",3317:"0932b528",3372:"241d77dd",3406:"60a39934",3431:"ee3564e3",3459:"85161242",3490:"29681cb8",3608:"4666f54d",3614:"898f2beb",3670:"15aab896",3722:"35afb8cf",3751:"97f23763",3756:"33dcca5b",3766:"e7b110db",3778:"a12175f7",3784:"c21bc605",3811:"add4fb0d",3827:"8c70eaa2",3839:"cf1a911b",3873:"ea53268b",3942:"0bc03871",3952:"6ecb9543",3978:"1fb4ec85",3991:"02cd76bb",4080:"54d4b11e",4094:"fabd0af5",4132:"f627a0bc",4170:"0cb3c80e",4175:"03089c41",4227:"51b14852",4263:"db42d5b3",4285:"968fc383",4298:"16d3480b",4321:"e19abe0e",4349:"b1f1ce51",4395:"6395db9f",4513:"61e1d2c4",4572:"66f3b459",4578:"2a27c4cc",4615:"362da8ab",4632:"1d59d08d",4639:"42c61aa0",4697:"5a41537f",4709:"a9590cd2",4738:"5196916e",4764:"5240b439",4768:"eded53fb",4780:"a2ead57f",4784:"d4cb3c6a",4831:"ba619227",4854:"bfa08ddb",4871:"94e0dab2",4877:"ef2f5fc4",4904:"2a07e772",4912:"0df72f36",4919:"9a956882",4932:"272d73ed",4933:"91b71bad",4960:"05661efb",5001:"a0e4ede6",5064:"a847c4b8",5077:"1be22e42",5222:"c7e309f4",5224:"814e6687",5386:"d5eba7c1",5391:"61eb197e",5430:"b1213b63",5451:"0bcd1780",5464:"482455cf",5492:"81085df9",5495:"7e6332c3",5506:"9f2f8cbd",5521:"4ec19870",5531:"90551f08",5637:"fff9fb74",5688:"c2485278",5697:"5f86a3d6",5791:"ce8f6f06",5841:"b1cc7522",5867:"f63fee6c",5868:"9fccffd0",5923:"20c36af5",5952:"7e7298d2",5974:"8b11bdcd",5979:"adb0d3bf",6025:"12fc1f22",6066:"b3812c63",6080:"cb1e6ea3",6086:"04d8b4dc",6093:"408345ca",6119:"fe54cf18",6194:"32e7ab05",6210:"7d954753",6219:"6447b07d",6226:"a1b9bd4d",6236:"87e6c24f",6385:"1865ef4c",6418:"9011eb35",6472:"93a986ac",6477:"ac4e7283",6489:"952d1017",6504:"53213c1c",6520:"b1900f0f",6551:"21c10378",6575:"03c8156a",6592:"f63eccb7",6593:"6933e20d",6596:"843e1ff8",6602:"8de84156",6690:"9d958916",6753:"8da30d2f",6785:"44e2ecf0",6805:"f0f4e9ea",6811:"a9cbee9a",6819:"bd9c576f",6824:"80c61d3c",6825:"4758ccce",6870:"05abdf9a",6887:"55856c2c",6925:"40e2a2e1",6952:"5996333c",6972:"2d08d92c",7021:"375bd9ec",7099:"0de214c5",7202:"9a07d2d4",7320:"98572ddb",7370:"c6f6a3c0",7381:"9972abc9",7403:"fc073b9f",7409:"d0597e6a",7429:"9d3122b6",7480:"23c7011f",7544:"0e3ff33e",7545:"9d006f3c",7578:"da171eba",7622:"50ccc41d",7629:"4429c27b",7666:"0dd9eb90",7680:"1d97fce6",7681:"dbd895a9",7687:"1aeda2b6",7708:"053d4061",7737:"1268f4f7",7747:"f237e9de",7762:"55898368",7784:"8f748df0",7787:"3e31e501",7809:"beaebcdd",7828:"64997aa1",7892:"854da705",7907:"b201b0f0",7917:"d6f066cb",7962:"34cfa8db",8006:"9f6a88ac",8021:"0924cf7d",8126:"57846a54",8161:"53f82abe",8246:"5e902c65",8254:"3e2f1157",8308:"ee8e6c33",8395:"dfa59db9",8403:"9a4c23e5",8421:"7ad2fefd",8425:"2a79105d",8426:"3e01866d",8599:"591d5280",8610:"fb5b731b",8630:"8424ee09",8651:"b3ec3458",8667:"9105dc7b",8684:"25a272bb",8705:"4693e386",8717:"894dc572",8737:"cd99fa8d",8801:"aaeb3ba8",8829:"9394f141",8835:"da9e7382",8884:"64856d09",8893:"9cfcde34",8930:"452a7d69",8975:"37ff725e",8977:"da1dc5c6",9011:"48184336",9024:"84425809",9031:"57274eb9",9038:"26cf287a",9082:"d613863a",9119:"302a4b1e",9200:"a8fb2ef6",9209:"6167c162",9308:"3f554983",9313:"025526d8",9350:"849f709b",9364:"52f7cc15",9438:"e6c757ff",9483:"fe783991",9553:"fce57cc5",9584:"f00fa7db",9611:"5428ddd3",9656:"b1649787",9675:"8da2e40f",9711:"125aaaec",9733:"723d3739",9742:"fe4356a2",9762:"18c87180",9769:"8f5b8d55",9797:"f872caa6",9836:"a503d7e5",9878:"c933bcf8",9927:"b998f55a",9929:"37214537",9935:"6388f1b7"}[e]+".js"},r.miniCssF=function(e){return"static/css/async/"+{1911:"en_guide_quick-start",4764:"zh_guide_introduction",5521:"components_NextSteps",5979:"zh_guide_quick-start",7629:"components_Step",9209:"en_guide_introduction"}[e]+"."+{1911:"f46cc4b1",4764:"f46cc4b1",5521:"bb07a773",5979:"f46cc4b1",7629:"e431101f",9209:"f46cc4b1"}[e]+".css"},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,_){return Object.prototype.hasOwnProperty.call(e,_)},i={},o="@modern-js/builder-doc:",r.l=function(e,_,n,t){if(i[e])i[e].push(_);else{var c,a;if(void 0!==n)for(var f=document.getElementsByTagName("script"),s=0;s<f.length;s++){var d=f[s];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==o+n){c=d;break}}c||(a=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.setAttribute("data-webpack",o+n),c.src=e),i[e]=[_];var u=function(_,n){c.onerror=c.onload=null,clearTimeout(l);var o=i[e];if(delete i[e],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((function(e){return e(n)})),_)return _(n)},l=setTimeout(u.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=u.bind(null,c.onerror),c.onload=u.bind(null,c.onload),a&&document.head.appendChild(c)}},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",t=function(e){return new Promise((function(_,n){var i=r.miniCssF(e),o=r.p+i;if(function(e,_){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var o=(c=n[i]).getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(o===e||o===_))return c}var t=document.getElementsByTagName("style");for(i=0;i<t.length;i++){var c;if((o=(c=t[i]).getAttribute("data-href"))===e||o===_)return c}}(i,o))return _();!function(e,_,n,i){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=function(t){if(o.onerror=o.onload=null,"load"===t.type)n();else{var c=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.href||_,f=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");f.code="CSS_CHUNK_LOAD_FAILED",f.type=c,f.request=a,o.parentNode.removeChild(o),i(f)}},o.href=_,document.head.appendChild(o)}(e,o,_,n)}))},c={6272:0},r.f.miniCss=function(e,_){c[e]?_.push(c[e]):0!==c[e]&&{1911:1,4764:1,5521:1,5979:1,7629:1,9209:1}[e]&&_.push(c[e]=t(e).then((function(){c[e]=0}),(function(_){throw delete c[e],_})))},function(){var e={6272:0};r.f.j=function(_,n){var i=r.o(e,_)?e[_]:void 0;if(0!==i)if(i)n.push(i[2]);else if(6272!=_){var o=new Promise((function(n,o){i=e[_]=[n,o]}));n.push(i[2]=o);var t=r.p+r.u(_),c=new Error;r.l(t,(function(n){if(r.o(e,_)&&(0!==(i=e[_])&&(e[_]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),t=n&&n.target&&n.target.src;c.message="Loading chunk "+_+" failed.\n("+o+": "+t+")",c.name="ChunkLoadError",c.type=o,c.request=t,i[1](c)}}),"chunk-"+_,_)}else e[_]=0},r.O.j=function(_){return 0===e[_]};var _=function(_,n){var i,o,t=n[0],c=n[1],a=n[2],f=0;if(t.some((function(_){return 0!==e[_]}))){for(i in c)r.o(c,i)&&(r.m[i]=c[i]);if(a)var s=a(r)}for(_&&_(n);f<t.length;f++)o=t[f],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(s)},n=self.webpackChunk_modern_js_builder_doc=self.webpackChunk_modern_js_builder_doc||[];n.forEach(_.bind(null,0)),n.push=_.bind(null,n.push.bind(n))}()}();</script><script defer="defer" src="/static/js/lib-polyfill.c826e6c1.js"></script><script defer="defer" src="/static/js/lib-lodash.ef14e6c1.js"></script><script defer="defer" src="/static/js/lib-react.53e5563e.js"></script><script defer="defer" src="/static/js/1340.cd0beaad.js"></script><script defer="defer" src="/static/js/main.0f634372.js"></script><link href="/static/css/main.8f76fc92.css" rel="stylesheet"></head><body><div id="root"><div style="height:100%"><header z="4" class="top-0 left-0 md:border-b lg:border-b relative md:fixed" style="border-bottom:1px solid var(--modern-c-divider-light)" w="full"><div class="relative" p="x-6" transition="background-color duration-500"><div flex="~" justify="between" align="items-center" h="full" class="bcLAe"><div class="undefined"><a href="/builder/" w="full" h="full" text="1rem" font="semibold" transition="opacity duration-300" hover="opacity-60" class="flex items-center"><span>Modern.js Builder</span></a></div><div flex="~ 1" justify="end" align-items-center="~"><div class="LPoOT"><div class="search" flex="sm:1" p="sm:l-8"><div flex="~" align="items-center" pos="relative" m="r-2" font="semibold"><svg width="32" height="32" viewBox="0 0 32 32" w="5" h="5" fill="currentColor"><path fill="#888888" d="m29 27.586l-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9a9.01 9.01 0 0 1-9-9Z"></path></svg><input disabled="" cursor="text focus:auto" placeholder="Search" height="8" border="none" type="text" text="sm" p="t-0 r-2 b-0 l-2" transition="all duration-200 ease" class="rounded-sm HYrjO " aria-label="Search" autoComplete="off"/><div m="r-3" w="10" h="6" p="x-1.5" border="1px solid gray-light-3 rounded-md" text="xs gray-light-3" flex="~" align="items-center" justify="around" class="M7ZZK"><span>⌘</span><span>K</span></div></div></div><div class="menu" h="14"><div text="sm" font="medium" m="x-3" class=""><a class="qVky9 " target="" cursor="pointer" href="/builder/guide/introduction.html">指南</a></div><div text="sm" font="medium" m="x-3" class="text-brand"><a class="qVky9 " target="" cursor="pointer" href="/builder/api/index.html">API</a></div><div text="sm" font="medium" m="x-3" class=""><a class="qVky9 " target="" cursor="pointer" href="/builder/plugins/introduction.html">插件</a></div></div><div flex="~" text="sm" font="bold" align="items-center" class="translation sjQjZ"><div m="x-1.5"><div h="14" class="relative" flex="~ center"><button flex="~ center" align="items-center" font="medium" text="sm text-1 hover:text-2" transition="color duration-200" class="nav-menu-group-button"><span m="r-1" text="sm" font="medium"><svg width="32" height="32" viewBox="0 0 32 32" w="18px" h="18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6l2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.71 14.71 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.47 16.47 0 0 0 3 5.58A16.84 16.84 0 0 1 3 18l.75 1.86A18.47 18.47 0 0 0 9.53 16a16.92 16.92 0 0 0 5.76 3.84L16 18a14.48 14.48 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M16 22L6 12l1.4-1.4l8.6 8.6l8.6-8.6L26 12z"></path></svg></button><div pos="top-13 right-0" m="x-0.8" transition="opacity duration-300" class="nav-menu-group-content absolute" style="opacity:0;visibility:hidden"><div p="3" w="full" h="full" class="min-w-128px max-h-100vh rounded-xl whitespace-nowrap" bg="white" style="box-shadow:var(--modern-shadow-3);margin-right:-1.5rem;z-index:100;border:1px solid var(--modern-c-divider-light)"><div class="rounded-md" p="y-1.6 l-3"><span m="r-1" text="brand">简体中文</span></div><div font="medium"><a class="qVky9 " target="" cursor="pointer" href="/builder/builder/en/api/config-output"><div class="rounded-md" hover="bg-mute" p="y-1.6 l-3 r-6"><div flex="~"><span m="r-1">English<svg width="32" height="32" viewBox="0 0 32 32" w="11px" h="11px" text="text-3" m="t-1 r-1 l-1" class="inline-block align-text-top"><path fill="currentColor" d="M10 6v2h12.59L6 24.59L7.41 26L24 9.41V22h2V6H10z"></path></svg></span></div></div></a></div></div></div></div></div></div><div class="appearance sjQjZ" display="none sm:flex" align-items-center="center"><button class="xSrUP undefined" id="" type="button" role="switch"><span class="CSfjI"><span class="zDdMk"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="nk0gt"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="A1HSI"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg></span></span></button></div><div class="social-links WIILt" nav-h="mobile sm:desktop" flex="~" align-items-center="~" pos="relative"><div h="full" flex="~" gap="x-4" align-items-center="~" transition="color duration-300"><a href="https://github.com/modern-js-dev/modern.js/tree/main/packages/builder" target="_blank" rel="noopener noreferrer"><div class="a9VBM"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></div></a></div></div></div><button class=" eE8v3"><span class="pOzTZ"><span class="aD0WQ"></span><span class="GwaZ7"></span><span class="HyMv9"></span></span></button><div class="XAjwG " id="navScreen"><div class="VrSyn"><div class="YCP7r"><div w="full" class="LiNpS"><div text="sm" font="medium" m="x-3" class=""><a class="qVky9 " target="" cursor="pointer" href="/builder/guide/introduction.html">指南</a></div></div><div w="full" class="LiNpS"><div text="sm" font="medium" m="x-3" class="text-brand"><a class="qVky9 " target="" cursor="pointer" href="/builder/api/index.html">API</a></div></div><div w="full" class="LiNpS"><div text="sm" font="medium" m="x-3" class=""><a class="qVky9 " target="" cursor="pointer" href="/builder/plugins/introduction.html">插件</a></div></div></div><div class="afhvm" flex="~" justify="center" align-items-center="center"><div class="align-items-center appearance pa-2 NeDxD" flex="~" justify="center"><button class="xSrUP undefined" id="" type="button" role="switch"><span class="CSfjI"><span class="zDdMk"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="nk0gt"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="A1HSI"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg></span></span></button></div></div><div flex="~" text="sm" font="bold" justify="center"><div m="x-1.5"><div pos="relative" class=" FwXtz"><button class="YoOiJ"><span class="QFqBl"><svg width="32" height="32" viewBox="0 0 32 32" w="18px" h="18px"><path fill="currentColor" d="M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6l2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.71 14.71 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.47 16.47 0 0 0 3 5.58A16.84 16.84 0 0 1 3 18l.75 1.86A18.47 18.47 0 0 0 9.53 16a16.92 16.92 0 0 0 5.76 3.84L16 18a14.48 14.48 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"></path></svg></span><svg width="1em" height="1em" viewBox="0 0 32 32" class=" GPyuP "><path fill="currentColor" d="M16 22L6 12l1.4-1.4l8.6 8.6l8.6-8.6L26 12z"></path></svg></button><div><div class="SEGAO"><div class="pa-1"><span m="r-1" text="brand">简体中文</span></div><div class="pa-1" font="medium"><a class="qVky9 " target="" cursor="pointer" href="/builder/en"><div><div flex="~"><span m="r-1">English</span><svg width="32" height="32" viewBox="0 0 32 32" w="11px" h="11px" text="text-3" m="t-1 r-1"><path fill="currentColor" d="M10 6v2h12.59L6 24.59L7.41 26L24 9.41V22h2V6H10z"></path></svg></div></div></a></div></div></div></div></div></div><div class="social-links WIILt" nav-h="mobile sm:desktop" flex="~" align-items-center="~" pos="relative"><div h="full" flex="~" gap="x-4" align-items-center="~" transition="color duration-300"><a href="https://github.com/modern-js-dev/modern.js/tree/main/packages/builder" target="_blank" rel="noopener noreferrer"><div class="a9VBM"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></div></a></div></div></div></div></div></div></div></header><section><div p="t-0 b-24 md:6" m="md:t-14" class="NycN9"><div class="htA00"><button flex="~ center" class="i_YqX"><div text="md" m="r-2"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M4 6h24v2H4zm0 18h24v2H4zm0-12h24v2H4zm0 6h24v2H4z"></path></svg></div><span text="sm">Menu</span></button></div><aside class="WSh16 " style="border-right:1px solid var(--modern-c-divider-light)"><nav m="t-1"><a class="qVky9 eKj7t" target="" cursor="pointer" href="/builder/api/index.html"><div m="t-1" p="y-1 x-2" block="~" text="sm" border="rounded-sm" font-medium="~" class="SCFOX" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">API 总览</div></a><section block="~"><div flex="~" justify="between" items-start="~" cursor="pointer" class="items-center SCFOX"><h2 p="y-1 x-2" text="sm" font="semibold">配置</h2></div><div style="transition:height 0.2s ease-in-out;overflow:hidden;height:256px"><div m="last:b-0.5 l-4"><a class="qVky9 eKj7t" target="" cursor="pointer" href="/builder/api/config-source.html"><div m="t-1" p="y-1 x-2" block="~" text="sm" border="rounded-sm" font-medium="~" class="SCFOX" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Source Config</div></a></div><div m="last:b-0.5 l-4"><a class="qVky9 eKj7t" target="" cursor="pointer" href="/builder/api/config-html.html"><div m="t-1" p="y-1 x-2" block="~" text="sm" border="rounded-sm" font-medium="~" class="SCFOX" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Html Config</div></a></div><div m="last:b-0.5 l-4"><a class="qVky9 eKj7t" target="" cursor="pointer" href="/builder/api/config-dev.html"><div m="t-1" p="y-1 x-2" block="~" text="sm" border="rounded-sm" font-medium="~" class="SCFOX" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Dev Config</div></a></div><div m="last:b-0.5 l-4"><a class="qVky9 eKj7t" target="" cursor="pointer" href="/builder/api/config-output.html"><div m="t-1" p="y-1 x-2" block="~" text="sm" border="rounded-sm" font-medium="~" class="DYqu8" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Output Config</div></a></div><div m="last:b-0.5 l-4"><a class="qVky9 eKj7t" target="" cursor="pointer" href="/builder/api/config-security.html"><div m="t-1" p="y-1 x-2" block="~" text="sm" border="rounded-sm" font-medium="~" class="SCFOX" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Security Config</div></a></div><div m="last:b-0.5 l-4"><a class="qVky9 eKj7t" target="" cursor="pointer" href="/builder/api/config-tools.html"><div m="t-1" p="y-1 x-2" block="~" text="sm" border="rounded-sm" font-medium="~" class="SCFOX" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Tools Config</div></a></div><div m="last:b-0.5 l-4"><a class="qVky9 eKj7t" target="" cursor="pointer" href="/builder/api/config-performance.html"><div m="t-1" p="y-1 x-2" block="~" text="sm" border="rounded-sm" font-medium="~" class="SCFOX" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Performance Config</div></a></div><div m="last:b-0.5 l-4"><a class="qVky9 eKj7t" target="" cursor="pointer" href="/builder/api/config-experiments.html"><div m="t-1" p="y-1 x-2" block="~" text="sm" border="rounded-sm" font-medium="~" class="SCFOX" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Experiments Config</div></a></div></div></section><section block="~"><div flex="~" justify="between" items-start="~" cursor="pointer" class="items-center SCFOX"><h2 p="y-1 x-2" text="sm" font="semibold">Node API</h2></div><div style="transition:height 0.2s ease-in-out;overflow:hidden;height:96px"><div m="last:b-0.5 l-4"><a class="qVky9 eKj7t" target="" cursor="pointer" href="/builder/api/builder-core.html"><div m="t-1" p="y-1 x-2" block="~" text="sm" border="rounded-sm" font-medium="~" class="SCFOX" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Builder Core</div></a></div><div m="last:b-0.5 l-4"><a class="qVky9 eKj7t" target="" cursor="pointer" href="/builder/api/builder-instance.html"><div m="t-1" p="y-1 x-2" block="~" text="sm" border="rounded-sm" font-medium="~" class="SCFOX" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Builder Instance</div></a></div><div m="last:b-0.5 l-4"><a class="qVky9 eKj7t" target="" cursor="pointer" href="/builder/api/builder-types.html"><div m="t-1" p="y-1 x-2" block="~" text="sm" border="rounded-sm" font-medium="~" class="SCFOX" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Builder Types</div></a></div></div></section><section block="~"><div flex="~" justify="between" items-start="~" cursor="pointer" class="items-center SCFOX"><h2 p="y-1 x-2" text="sm" font="semibold">Plugin API</h2></div><div style="transition:height 0.2s ease-in-out;overflow:hidden;height:64px"><div m="last:b-0.5 l-4"><a class="qVky9 eKj7t" target="" cursor="pointer" href="/builder/api/plugin-core.html"><div m="t-1" p="y-1 x-2" block="~" text="sm" border="rounded-sm" font-medium="~" class="SCFOX" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Plugin Core</div></a></div><div m="last:b-0.5 l-4"><a class="qVky9 eKj7t" target="" cursor="pointer" href="/builder/api/plugin-hooks.html"><div m="t-1" p="y-1 x-2" block="~" text="sm" border="rounded-sm" font-medium="~" class="SCFOX" style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Plugin Hooks</div></a></div></div></section></nav></aside><div flex="~ 1 shrink-0" class="Attzr"><div class="max-w-full md:max-w-960px lg:min-w-640px relative"><div class="modern-doc"><!--$--><h1 id="output-config"><a class="header-anchor" aria-hidden="true" href="#output-config">#</a>Output Config</h1>
<p>本章节描述了 Builder 中与构建产物有关的配置。</p>
<h2 id="outputassetprefix"><a class="header-anchor" aria-hidden="true" href="#outputassetprefix">#</a>output.assetPrefix</h2>
<!-- -->
<ul>
<li>Type: <code>boolean | string</code></li>
<li>Default: <code>&#x27;/&#x27;</code></li>
</ul>
<p>在生产环境使用 CDN 部署时，可使用该选项设置静态资源的 URL 前缀，对应 webpack 的 <a href="https://webpack.js.org/guides/public-path/" target="_blank" rel="nofollow">output.publicPath</a> 配置。</p>
<p><code>assetPrefix</code> 会影响构建产物中绝大部分静态资源的 URL，包括 JavaScript 文件、CSS 文件、图片、视频等。如果指定了一个错误的值，则在加载这些资源时可能会出现 404 错误。</p>
<p>该配置项仅用于生产环境。在开发环境下，请使用 <code>dev.assetPrefix</code> 配置项进行设置。</p>
<p>设置后，项目的 JavaScript、CSS、图片等静态资源的 URL 都会加上 <code>output.assetPrefix</code> 作为前缀：</p>
<h4 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h4>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">assetPrefix</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">https://cdn.example.com/assets/</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>构建之后，可以看到 JS 文件从以下地址加载：</p>
<div class="language-html"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">&lt;script</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">defer</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">src</span><span style="color:#ECEFF4">=</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">https://cdn.example.com/assets/static/js/main.ebc4ff4f.js</span><span style="color:#ECEFF4">&quot;</span></span>
<span class="line"><span style="color:#81A1C1">&gt;&lt;/script&gt;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputassetsretry"><a class="header-anchor" aria-hidden="true" href="#outputassetsretry">#</a>output.assetsRetry</h2>
<!-- -->
<ul>
<li>Type: <code>Object</code></li>
</ul>
<p><code>output.assetsRetry</code> 用于配置资源加载失败时的重试逻辑。配置类型如下:</p>
<div class="language-ts"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">type</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">AssetsRetryHookContext</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  times</span><span style="color:#81A1C1">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">number</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  domain</span><span style="color:#81A1C1">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  url</span><span style="color:#81A1C1">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  tagName</span><span style="color:#81A1C1">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">type</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">AssetsRetryOptions</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  type</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#D8DEE9FF">[]</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  domain</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#D8DEE9FF">[]</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  max</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">number</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  test</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">|</span><span style="color:#D8DEE9FF"> (</span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">url</span><span style="color:#81A1C1">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#ECEFF4">)</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">boolean</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  crossOrigin</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">boolean</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">onRetry</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">options</span><span style="color:#81A1C1">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">AssetsRetryHookContext</span><span style="color:#ECEFF4">)</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">void</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">onSuccess</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">options</span><span style="color:#81A1C1">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">AssetsRetryHookContext</span><span style="color:#ECEFF4">)</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">void</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">onFail</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">options</span><span style="color:#81A1C1">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">AssetsRetryHookContext</span><span style="color:#ECEFF4">)</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">void</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>默认值如下:</p>
<div class="language-ts"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">defaultAssetsRetryOptions</span><span style="color:#81A1C1">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">AssetsRetryOptions</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">type</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">script</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">link</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">img</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">]</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">domain</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> []</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">max</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">3</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">test</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">crossOrigin</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">false</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">onRetry</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">onSuccess</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">onFail</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h3 id="assetsretrymax"><a class="header-anchor" aria-hidden="true" href="#assetsretrymax">#</a>assetsRetry.max</h3>
<ul>
<li>Type: <code>number</code></li>
<li>Default: <code>3</code></li>
</ul>
<p>单个资源的最大重试次数。比如：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">assetsRetry</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">max</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">3</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h3 id="assetsretrydomain"><a class="header-anchor" aria-hidden="true" href="#assetsretrydomain">#</a>assetsRetry.domain</h3>
<ul>
<li>Type: <code>string[]</code></li>
<li>Default: <code>[]</code></li>
</ul>
<p>指定资源加载失败时的重试域名，如果为空则使用当前页面的域名。比如：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">assetsRetry</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">domain</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">https://cdn1.example.com</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">https://cdn2.example.com</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">]</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h3 id="assetsretrytype"><a class="header-anchor" aria-hidden="true" href="#assetsretrytype">#</a>assetsRetry.type</h3>
<ul>
<li>Type: <code>string[]</code></li>
<li>Default: <code>[&#x27;script&#x27;, &#x27;link&#x27;, &#x27;img&#x27;]</code></li>
</ul>
<p>可重试的资源类型。比如：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">assetsRetry</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">type</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">script</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">link</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">]</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h3 id="assetsretrytest"><a class="header-anchor" aria-hidden="true" href="#assetsretrytest">#</a>assetsRetry.test</h3>
<ul>
<li>Type: <code>string | ((url: string) =&gt; boolean) | undefined</code></li>
<li>Default: <code>undefined</code></li>
</ul>
<p>匹配资源 URL 的正则表达式或函数，默认匹配所有资源。比如：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">assetsRetry</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">test</span><span style="color:#ECEFF4">:</span><span style="color:#EBCB8B"> </span><span style="color:#ECEFF4">/</span><span style="color:#EBCB8B">cdn\.example\.com</span><span style="color:#ECEFF4">/</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h3 id="assetsretrycrossorigin"><a class="header-anchor" aria-hidden="true" href="#assetsretrycrossorigin">#</a>assetsRetry.crossOrigin</h3>
<ul>
<li>Type: <code>undefined | boolean</code></li>
<li>Default: false</li>
</ul>
<p>用于向 <code>&lt;script&gt;</code> 资源标签中注入 crossorigin 属性，传入 true 则会启用默认值 anonymous。比如：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">assetsRetry</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">crossOrigin</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h3 id="assetsretryonretry"><a class="header-anchor" aria-hidden="true" href="#assetsretryonretry">#</a>assetsRetry.onRetry</h3>
<ul>
<li>Type: <code>undefined | (options: AssetsRetryHookContext) =&gt; void</code></li>
</ul>
<p>资源重试时的回调函数。比如：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">assetsRetry</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">onRetry</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">({</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">times</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">domain</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">url</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">tagName</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">})</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">console</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">log</span><span style="color:#D8DEE9FF">(</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#ECEFF4">`</span><span style="color:#A3BE8C">Retry </span><span style="color:#81A1C1">${</span><span style="color:#D8DEE9">times</span><span style="color:#81A1C1">}</span><span style="color:#A3BE8C"> times, domain: </span><span style="color:#81A1C1">${</span><span style="color:#D8DEE9">domain</span><span style="color:#81A1C1">}</span><span style="color:#A3BE8C">, url: </span><span style="color:#81A1C1">${</span><span style="color:#D8DEE9">url</span><span style="color:#81A1C1">}</span><span style="color:#A3BE8C">, tagName: </span><span style="color:#81A1C1">${</span><span style="color:#D8DEE9">tagName</span><span style="color:#81A1C1">}</span><span style="color:#ECEFF4">`</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        )</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h3 id="assetsretryonsuccess"><a class="header-anchor" aria-hidden="true" href="#assetsretryonsuccess">#</a>assetsRetry.onSuccess</h3>
<ul>
<li>Type: <code>undefined | (options: AssetsRetryHookContext) =&gt; void</code></li>
</ul>
<p>资源重试成功时的回调函数。比如：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">assetsRetry</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">onSuccess</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">({</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">times</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">domain</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">url</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">tagName</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">})</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">console</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">log</span><span style="color:#D8DEE9FF">(</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#ECEFF4">`</span><span style="color:#A3BE8C">Retry </span><span style="color:#81A1C1">${</span><span style="color:#D8DEE9">times</span><span style="color:#81A1C1">}</span><span style="color:#A3BE8C"> times, domain: </span><span style="color:#81A1C1">${</span><span style="color:#D8DEE9">domain</span><span style="color:#81A1C1">}</span><span style="color:#A3BE8C">, url: </span><span style="color:#81A1C1">${</span><span style="color:#D8DEE9">url</span><span style="color:#81A1C1">}</span><span style="color:#A3BE8C">, tagName: </span><span style="color:#81A1C1">${</span><span style="color:#D8DEE9">tagName</span><span style="color:#81A1C1">}</span><span style="color:#ECEFF4">`</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        )</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h3 id="assetsretryonfail"><a class="header-anchor" aria-hidden="true" href="#assetsretryonfail">#</a>assetsRetry.onFail</h3>
<ul>
<li>Type: <code>undefined | (options: AssetsRetryHookContext) =&gt; void</code></li>
</ul>
<p>资源重试超过最大重试次数时的回调函数。比如：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">assetsRetry</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">onFail</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">({</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">times</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">domain</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">url</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">tagName</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">})</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">console</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">log</span><span style="color:#D8DEE9FF">(</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#ECEFF4">`</span><span style="color:#A3BE8C">Retry </span><span style="color:#81A1C1">${</span><span style="color:#D8DEE9">times</span><span style="color:#81A1C1">}</span><span style="color:#A3BE8C"> times, domain: </span><span style="color:#81A1C1">${</span><span style="color:#D8DEE9">domain</span><span style="color:#81A1C1">}</span><span style="color:#A3BE8C">, url: </span><span style="color:#81A1C1">${</span><span style="color:#D8DEE9">url</span><span style="color:#81A1C1">}</span><span style="color:#A3BE8C">, tagName: </span><span style="color:#81A1C1">${</span><span style="color:#D8DEE9">tagName</span><span style="color:#81A1C1">}</span><span style="color:#ECEFF4">`</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">        )</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputcharset"><a class="header-anchor" aria-hidden="true" href="#outputcharset">#</a>output.charset</h2>
<!-- -->
<ul>
<li>Type: <code>&#x27;ascii&#x27; | &#x27;utf8&#x27;</code></li>
<li>Default: <code>&#x27;ascii&#x27;</code></li>
</ul>
<p>默认情况下，Builder 的产物内容是纯 ASCII 的，并且会转义所有非 ASCII 字符。</p>
<p>如果不希望进行转义，而是输出所有原始字符，可以将 <code>output.charset</code> 设置为 <code>utf8</code>。</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">charset</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">utf8</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>当 <code>output.charset</code> 为 <code>utf8</code> 时，Builder 会自动将 <code>&lt;meta charset=&quot;utf-8&quot;&gt;</code> 添加到生成的 HTML 文件中。</p>
<h2 id="outputcleandistpath"><a class="header-anchor" aria-hidden="true" href="#outputcleandistpath">#</a>output.cleanDistPath</h2>
<!-- -->
<ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>true</code></li>
</ul>
<p>是否在构建开始前清理 dist 目录下的所有文件。</p>
<p>默认情况下，Builder 会自动清理 dist 目录下的文件，你可以把 <code>cleanDistPath</code> 设置为 <code>false</code> 来禁用该行为。</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">cleanDistPath</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">false</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputconverttorem"><a class="header-anchor" aria-hidden="true" href="#outputconverttorem">#</a>output.convertToRem</h2>
<!-- -->
<ul>
<li>Type: <code>boolean | object</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>通过设置 <code>output.convertToRem</code>，Builder 可进行如下处理：</p>
<ul>
<li>将 CSS 中的 px 转成 rem</li>
<li>在 HTML 模版中插入运行时代码，对根元素 fontSize 进行设置</li>
</ul>
<h4 id="boolean-类型"><a class="header-anchor" aria-hidden="true" href="#boolean-类型">#</a>Boolean 类型</h4>
<p>当设置 <code>output.convertToRem</code> 为 <code>true</code>，将开启 rem 处理能力。</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">convertToRem</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>此时，rem 配置默认如下：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  enableRuntime</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  rootFontSize</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">50</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  screenWidth</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">375</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  rootFontSize</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">50</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  maxRootFontSize</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">64</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  widthQueryKey</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  excludeEntries</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> []</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  supportLandscape</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">false</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  useRootFontSizeBeyondMax</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">false</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  pxtorem</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    rootValue</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">50</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    unitPrecision</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">5</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    propList</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">*</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">]</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#ECEFF4">}</span></span>
<span class="line"></span></code></pre></div></div>
<h4 id="object-类型"><a class="header-anchor" aria-hidden="true" href="#object-类型">#</a>Object 类型</h4>
<p>当 <code>output.convertToRem</code> 的值为 <code>object</code> 类型时，Builder 会根据当前配置进行 rem 处理。</p>
<p>选项：</p>
<table><thead><tr><th>名称</th><th>类型</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>enableRuntime</td><td><code>boolean</code></td><td><code>true</code></td><td>开启 HTML 模版插入功能，动态计算根元素字体大小</td></tr><tr><td>rootFontSize</td><td><code>number</code></td><td><code>50</code></td><td>根元素字体值</td></tr><tr><td>maxRootFontSize</td><td><code>number</code></td><td><code>64</code></td><td>最大根元素字体值</td></tr><tr><td>widthQueryKey</td><td><code>string</code></td><td><code>&#x27;&#x27; </code></td><td>根据 widthQueryKey 的值去 url query 中取 client width</td></tr><tr><td>screenWidth</td><td><code>number</code></td><td><code>375</code></td><td>UI 设计图宽度</td></tr><tr><td>excludeEntries</td><td><code>string[]</code></td><td><code>[]</code></td><td>不进行调整的页面入口</td></tr><tr><td>supportLandscape</td><td><code>boolean</code></td><td><code>false</code></td><td>横屏时使用 height 计算 rem</td></tr><tr><td>useRootFontSizeBeyondMax</td><td><code>boolean</code></td><td><code>false</code></td><td>超过 maxRootFontSize 时，是否使用 rootFontSize</td></tr><tr><td>pxtorem</td><td><code>object</code></td><td>rootValue。默认与 rootFontSize 相同 <!-- -->unitPrecision: 5。精确位数 <!-- -->propList: [&#x27;*&#x27;]。支持转换的 CSS 属性</td><td><a href="https://github.com/cuth/postcss-pxtorem#options" target="_blank" rel="nofollow">postcss-pxtorem</a> 插件属性</td></tr></tbody></table>
<h4 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h4>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">convertToRem</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">rootFontSize</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">30</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">excludeEntries</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">404</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">page2</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">]</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">pxtorem</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#88C0D0">propList</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">font-size</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">]</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputcopy"><a class="header-anchor" aria-hidden="true" href="#outputcopy">#</a>output.copy</h2>
<!-- -->
<ul>
<li>Type: <code>CopyPluginOptions | CopyPluginOptions[&#x27;patterns&#x27;]</code></li>
<li>Default: <code>undefined</code></li>
</ul>
<p>将指定的文件或目录拷贝到构建输出目录中。</p>
<p>例如，将 <code>src/assets</code> 下的文件直接拷贝到 dist 目录：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">copy</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">from</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">./src/assets</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">to</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;&#x27;</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">]</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>更详细的配置项请参考：<a href="https://github.com/webpack-contrib/copy-webpack-plugin" target="_blank" rel="nofollow">copy-webpack-plugin</a> 文档。</p>
<h2 id="outputcssmodulelocalidentname"><a class="header-anchor" aria-hidden="true" href="#outputcssmodulelocalidentname">#</a>output.cssModuleLocalIdentName</h2>
<!-- -->
<ul>
<li>Type: <code>string</code></li>
<li>Default:</li>
</ul>
<div class="language-ts"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#616E88">// isProd 表示生产环境构建</span></span>
<span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">localIdentName</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">isProd</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">?</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[hash:base64:5]</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[path][name]__[local]--[hash:base64:5]</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>设置 CSS Modules 编译后生成的 className 格式。</p>
<h3 id="默认值"><a class="header-anchor" aria-hidden="true" href="#默认值">#</a>默认值</h3>
<p><code>cssModuleLocalIdentName</code> 在开发环境和生产环境有不同的默认值。</p>
<p>在生产环境，Builder 会生成更简短的类名，从而减少构建产物的体积。</p>
<div class="language-ts"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">styles</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">./index.module.scss</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88">// 在开发环境下，值为 `.src-index-module__header--xxxxx`</span></span>
<span class="line"><span style="color:#616E88">// 在生产环境下，值为 `.xxxxx`</span></span>
<span class="line"><span style="color:#D8DEE9">console</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">log</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">styles</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">header</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h3 id="模板字符串"><a class="header-anchor" aria-hidden="true" href="#模板字符串">#</a>模板字符串</h3>
<p>在 <code>cssModuleLocalIdentName</code> 中，你可以使用以下模板字符串：</p>
<ul>
<li><code>[name]</code> - 源文件名称。</li>
<li><code>[local]</code> - 原始类名。</li>
<li><code>[hash]</code> - 字符串的哈希值。</li>
<li><code>[folder]</code> - 文件夹的相对路径。</li>
<li><code>[path]</code> - 源文件的相对路径。</li>
<li><code>[file]</code> - 文件名和路径。</li>
<li><code>[ext]</code> - 文件后缀名，包含点号。</li>
<li><code>[hash:&lt;hashDigest&gt;:&lt;hashDigestLength&gt;]</code> - 带有哈希设置的哈希。</li>
</ul>
<h3 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h3>
<p>将 <code>cssModuleLocalIdentName</code> 设置为其他值：</p>
<div class="language-ts"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">cssModuleLocalIdentName</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[hash:base64:4]</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputdataurilimit"><a class="header-anchor" aria-hidden="true" href="#outputdataurilimit">#</a>output.dataUriLimit</h2>
<!-- -->
<ul>
<li><strong>Type</strong></li>
</ul>
<div class="language-ts"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">type</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">DataUriLimitConfig</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  svg</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">number</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  font</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">number</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  image</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">number</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  media</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">number</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<ul>
<li><strong>Default</strong></li>
</ul>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">defaultDatUriLimit</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">svg</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">10000</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">font</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">10000</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">image</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">10000</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">media</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">10000</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>设置图片、字体、媒体等静态资源被自动内联为 base64 的体积阈值。</p>
<p>默认情况下，体积小于 10KB 的图片、字体、媒体等文件，会自动经过 Base64 编码，内联到页面中，不再会发送独立的 HTTP 请求。</p>
<p>你可以通过修改 <code>dataUriLimit</code> 参数来调整这个阈值。</p>
<p>其中：</p>
<ul>
<li><code>svg</code>：表示 SVG 图片的体积阈值。</li>
<li><code>font</code>：表示字体文件的体积阈值。</li>
<li><code>image</code>：表示非 SVG 图片的体积阈值。</li>
<li><code>media</code>：表示视频等媒体资源的体积阈值。</li>
</ul>
<h4 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h4>
<p>修改图片资源的阈值为 5000 Bytes，设置视频资源不内联：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">dataUriLimit</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">image</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#B48EAD">5000</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">media</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">Infinite</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputdisablecssextract"><a class="header-anchor" aria-hidden="true" href="#outputdisablecssextract">#</a>output.disableCssExtract</h2>
<!-- -->
<ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>是否禁用 CSS 提取逻辑，并将 CSS 文件内联到 JS 文件中。</p>
<p>默认情况下，Builder 会把 CSS 提取为独立的 <code>.css</code> 文件，并输出到构建产物目录。设置该选项为 <code>true</code> 后，CSS 文件会被内联到 JS 文件中，并在运行时通过 <code>&lt;style&gt;</code> 标签插入到页面上。</p>
<h3 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h3>
<div class="language-ts"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">disableCssExtract</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputdisablecssmoduleextension"><a class="header-anchor" aria-hidden="true" href="#outputdisablecssmoduleextension">#</a>output.disableCssModuleExtension</h2>
<!-- -->
<ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>是否将源码目录下的所有样式文件当做 CSS Modules 模块进行处理。</p>
<p>在默认情况下，只有 <code>*.module.css</code> 结尾的文件才被视为 CSS Modules 模块。开启该配置项之后，会将源码目录下的所有 <code>*.css</code> 样式文件当做 CSS Modules 模块。</p>
<p><code>.sass</code>、<code>.scss</code> 和 <code>.less</code> 文件的处理规则与 <code>.css</code> 文件一致，也会受到 <code>disableCssModuleExtension</code> 的影响。</p>
<div class="modern-directive tip"><p class="modern-directive-title">TIP</p><div class="modern-directive-content"><p>
我们不推荐开启此配置项，因为开启 <code>disableCssModuleExtension</code>后，CSS Modules 文件和普通 CSS 文件无法得到明确的区分，不利于长期维护。</p></div></div>
<h3 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h3>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">disableCssModuleExtension</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h3 id="规则"><a class="header-anchor" aria-hidden="true" href="#规则">#</a>规则</h3>
<p>以下是对 CSS Modules 判断规则的详细解释：</p>
<h4 id="未开启-disablecssmoduleextension默认"><a class="header-anchor" aria-hidden="true" href="#未开启-disablecssmoduleextension默认">#</a>未开启 disableCssModuleExtension（默认）</h4>
<p>以下文件会视为 CSS Modules：</p>
<ul>
<li>所有 <code>*.module.css</code> 文件</li>
</ul>
<p>以下文件会视为普通 CSS：</p>
<ul>
<li>所有 <code>*.css</code> 文件（不含 <code>.module</code>）</li>
<li>所有 <code>*.global.css</code> 文件</li>
</ul>
<h4 id="开启-disablecssmoduleextension"><a class="header-anchor" aria-hidden="true" href="#开启-disablecssmoduleextension">#</a>开启 disableCssModuleExtension</h4>
<p>以下文件会视为 CSS Modules：</p>
<ul>
<li>源码目录下的 <code>*.css</code> 和 <code>*.module.css</code> 文件</li>
<li>node_modules 下的 <code>*.module.css</code> 文件</li>
</ul>
<p>以下文件会视为普通 CSS：</p>
<ul>
<li>所有 <code>*.global.css</code> 文件</li>
<li>node_modules 下的 <code>*.css</code> 文件（不含 <code>.module</code>）</li>
</ul>
<div class="modern-directive tip"><p class="modern-directive-title">TIP</p><div class="modern-directive-content"><p>
对于 node_modules 中的 CSS Modules 文件，请始终使用 <code>*.module.css</code>后缀。</p></div></div>
<h2 id="outputdistpath"><a class="header-anchor" aria-hidden="true" href="#outputdistpath">#</a>output.distPath</h2>
<!-- -->
<ul>
<li><strong>Type</strong></li>
</ul>
<div class="language-ts"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">type</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">DistPathConfig</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  root</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  js</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  css</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  svg</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  font</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  html</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  image</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  media</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  server</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<ul>
<li><strong>Default</strong></li>
</ul>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">defaultDistPath</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">root</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">dist</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">html</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">html</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">js</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">static/js</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">css</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">static/css</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">svg</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">static/svg</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">font</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">static/font</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">image</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">static/image</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">media</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">static/media</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">server</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">bundles</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>设置构建产物的输出目录，Builder 会根据产物的类型输出到对应的子目录下。</p>
<p>其中：</p>
<ul>
<li><code>root</code>: 表示所有构建产物输出的根目录。</li>
<li><code>html</code>：表示 HTML 文件的输出目录。</li>
<li><code>js</code>：表示 JavaScript 文件的输出目录。</li>
<li><code>css</code>：表示 CSS 样式文件的输出目录。</li>
<li><code>svg</code>：表示 SVG 图片的输出目录。</li>
<li><code>font</code>：表示字体文件的输出目录。</li>
<li><code>image</code>：表示非 SVG 图片的输出目录。</li>
<li><code>media</code>：表示视频等媒体资源的输出目录。</li>
<li><code>server</code>: 表示服务端产物的输出目录，仅在 target 为 <code>node</code> 时有效。</li>
</ul>
<h4 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h4>
<p>以 JavaScript 文件为例，会输出到 <code>distPath.root</code> + <code>distPath.js</code> 目录，即为 <code>dist/static/js</code>。</p>
<p>如果需要将 JavaScript 文件输出到 <code>build/resource/js</code> 目录，可以这样设置：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">distPath</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">root</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">build</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">js</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">resource/js</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputdisableminimize"><a class="header-anchor" aria-hidden="true" href="#outputdisableminimize">#</a>output.disableMinimize</h2>
<!-- -->
<ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>是否禁用生产环境下的代码压缩。</p>
<p>默认情况下，JS 代码和 CSS 代码会在生产环境构建时被自动压缩。如果不希望执行代码压缩，可以将 <code>disableMinimize</code> 设置为 <code>true</code>。</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">disableMinimize</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputdisablesourcemap"><a class="header-anchor" aria-hidden="true" href="#outputdisablesourcemap">#</a>output.disableSourceMap</h2>
<!-- -->
<ul>
<li>Type:</li>
</ul>
<div class="language-ts"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">type</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">DisableSourceMap</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">|</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">boolean</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">|</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      js</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">boolean</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      css</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">boolean</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<ul>
<li>Default:</li>
</ul>
<div class="language-ts"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">defaultDisableSourceMap</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">js</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">false</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">css</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">process</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">env</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">NODE_ENV</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">===</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">production</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>是否禁用 Source Map 生成。</p>
<div class="modern-directive tip"><p class="modern-directive-title">什么是 Source Map</p><div class="modern-directive-content"><p>
Source Map 是保存源代码映射关系的信息文件，它记录了编译后的代码的每一个位置，以及所对应的编译前的位置。通过 Source Map，可以在调试编译后的代码时，直接查看对应的源代码。</p></div></div>
<p>默认情况下，Builder 的 Source Map 生成规则如下：</p>
<ul>
<li>在开发环境构建时，会生成 JS 文件和 CSS 文件的 SourceMap，便于进行开发调试。</li>
<li>在生产环境构建时，会生成 JS 文件的 Source Map，用于调试和排查线上问题；不会生成 CSS 文件的 Source Map。</li>
</ul>
<p>如果项目不需要 Source Map，可以关闭该功能，从而提升构建的速度。</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">disableSourceMap</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>如果需要开启开发环境的 Source Map，并在生产环境禁用，可以设置为：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">disableSourceMap</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">process</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">env</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">NODE_ENV</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">===</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">production</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>如果需要单独控制 JS 文件或 CSS 文件的 Source Map，可以参考下方设置：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">disableSourceMap</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">js</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">false</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">css</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputdisabletschecker"><a class="header-anchor" aria-hidden="true" href="#outputdisabletschecker">#</a>output.disableTsChecker</h2>
<!-- -->
<ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>是否禁用编译过程中的 TypeScript 类型检查。</p>
<p>默认情况下，Builder 执行构建的过程中，会在一个独立的进程里运行 TypeScript 类型检查工具，它的检查逻辑与 TypeScript 原生的 <code>tsc</code> 命令一致，你可以通过 <code>tsconfig.json</code> 或是 Builder 的 <code>tools.tsChecker</code> 配置项来自定义检查行为。</p>
<h3 id="阻塞编译"><a class="header-anchor" aria-hidden="true" href="#阻塞编译">#</a>阻塞编译</h3>
<ul>
<li>在开发环境构建时，类型错误不会阻塞编译流程。</li>
<li>在生产环境构建时，类型错误会导致构建失败，以保证生产环境代码的稳定性。</li>
</ul>
<h3 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h3>
<p>禁用 TypeScript 类型检查：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">disableTsChecker</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>禁用开发环境构建时的类型检查：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">disableTsChecker</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">process</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">env</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">NODE_ENV</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">===</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">development</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>禁用生产环境构建时的类型检查：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">disableTsChecker</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">process</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">env</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">NODE_ENV</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">===</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">production</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<div class="modern-directive tip"><p class="modern-directive-title">TIP</p><div class="modern-directive-content"><p>
不建议在生产环境构建时禁用类型检查，这会导致线上代码的稳定性下降，请谨慎使用。</p></div></div>
<h2 id="outputdisablefilenamehash"><a class="header-anchor" aria-hidden="true" href="#outputdisablefilenamehash">#</a>output.disableFilenameHash</h2>
<!-- -->
<ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>移除生产环境的构建产物名称中的 hash 值。</p>
<p>在生产环境构建后，会自动在文件名中间添加 hash 值，如果不需要添加，可以通过 <code>output.disableFilenameHash</code> 配置来禁用该行为。</p>
<h4 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h4>
<p>默认情况下，构建后的产物名称为：</p>
<div class="language-bash"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#D8DEE9FF">File                                     Size         Gzipped</span></span>
<span class="line"><span style="color:#D8DEE9FF">dist/static/css/187.7879e19d.css         126.99 KB    9.17 KB</span></span>
<span class="line"><span style="color:#D8DEE9FF">dist/static/js/main.18a568e5.js          2.24 KB      922 B</span></span>
<span class="line"></span></code></pre></div></div>
<p>添加 <code>output.disableFilenameHash</code> 配置：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">disableFilenameHash</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>重新构建，产物的名称变为：</p>
<div class="language-bash"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#D8DEE9FF">File                            Size         Gzipped</span></span>
<span class="line"><span style="color:#D8DEE9FF">dist/static/css/187.css         126.99 KB    9.17 KB</span></span>
<span class="line"><span style="color:#D8DEE9FF">dist/static/js/main.js          2.24 KB      922 B</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputdisableinlineruntimechunk"><a class="header-anchor" aria-hidden="true" href="#outputdisableinlineruntimechunk">#</a>output.disableInlineRuntimeChunk</h2>
<!-- -->
<ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>用于控制是否内联 <a href="https://webpack.js.org/configuration/optimization/#optimizationruntimechunk" target="_blank" rel="nofollow">runtimeChunk</a> 到 HTML 中。</p>
<p>在生产环境下，runtime chunk 文件将会默认被内联到 HTML 文件中，而不是写到产物目录中，这样可以减少文件请求的数量。</p>
<p>这个选项用来关闭这个默认行为。</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">disableInlineRuntimeChunk</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputenableassetmanifest"><a class="header-anchor" aria-hidden="true" href="#outputenableassetmanifest">#</a>output.enableAssetManifest</h2>
<!-- -->
<ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>是否生成 manifest 文件，该文件包含所有构建产物的信息。</p>
<h4 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h4>
<p>添加以下配置来开启：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">enableAssetManifest</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>开启后，当编译完成时，会自动生成 <code>dist/manifest.json</code> 文件：</p>
<div class="language-json"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">files</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">main.css</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">/static/css/main.45b01211.css</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">main.js</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">/static/js/main.52fd298f.js</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">html/main/index.html</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">/html/main/index.html</span><span style="color:#ECEFF4">&quot;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">&quot;</span><span style="color:#8FBCBB">entrypoints</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">[</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">static/css/main.45b01211.css</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">static/js/main.52fd298f.js</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">]</span></span>
<span class="line"><span style="color:#ECEFF4">}</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputenableassetfallback"><a class="header-anchor" aria-hidden="true" href="#outputenableassetfallback">#</a>output.enableAssetFallback</h2>
<!-- -->
<ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>开启该选项后，当编译过程中遇到无法识别的文件类型时，会直接将该文件直接输出到产物目录；否则会抛出一个异常。</p>
<h4 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h4>
<p>开启配置项：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">enableAssetFallback</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>在代码中引用一个未知类型的模块：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">./foo.xxx</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>编译后，<code>foo.xxx</code> 会被自动输出到 <code>dist/static/media</code> 目录下。</p>
<p>你可以通过 <code>output.distPath.media</code> 和 <code>output.filename.media</code> 配置项来控制 fallback 后的输出路径和文件名称。</p>
<div class="modern-directive tip"><p class="modern-directive-title">TIP</p><div class="modern-directive-content"><p>
开启该配置会导致 webpack 配置中的 rules 结构变化，增加一层额外的 <code>oneOf</code>嵌套结构。大多数情况下，我们不推荐你使用此配置。</p></div></div>
<h2 id="outputenablelatestdecorators"><a class="header-anchor" aria-hidden="true" href="#outputenablelatestdecorators">#</a>output.enableLatestDecorators</h2>
<!-- -->
<ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>是否要使用<a href="https://github.com/tc39/proposal-decorators/tree/7fa580b40f2c19c561511ea2c978e307ae689a1b" target="_blank" rel="nofollow">新版 decorator 提案</a> 进行编译。</p>
<p>默认情况下，Builder 在编译装饰器时采用<a href="https://github.com/wycats/javascript-decorators/blob/e1bf8d41bfa2591d949dd3bbf013514c8904b913/README.md" target="_blank" rel="nofollow">旧版 decorator 提案</a>。</p>
<p>将 <code>output.enableLatestDecorators</code> 设置为 <code>true</code> 时，Builder 会采用新版 decorator 提案 (2018-09 版本) 进行编译。</p>
<div class="language-ts"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#D8DEE9">enableLatestDecorators</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputenablecssmoduletsdeclaration"><a class="header-anchor" aria-hidden="true" href="#outputenablecssmoduletsdeclaration">#</a>output.enableCssModuleTSDeclaration</h2>
<!-- -->
<ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>是否生成 CSS Modules 的 TypeScript 声明文件。</p>
<h4 id="example"><a class="header-anchor" aria-hidden="true" href="#example">#</a>Example</h4>
<p>启用 CSS Module TypeScript 声明，比如：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">enableCssModuleTSDeclaration</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>项目构建完成后，每个 CSS Module 文件都会生成一个 <code>.d.ts</code> 文件。例如：</p>
<div class="language-ts"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">interface</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">CssExports</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  title</span><span style="color:#81A1C1">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#ECEFF4">}</span></span>
<span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">cssExports</span><span style="color:#81A1C1">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">CssExports</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">cssExports</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputenableinlinescripts"><a class="header-anchor" aria-hidden="true" href="#outputenableinlinescripts">#</a>output.enableInlineScripts</h2>
<!-- -->
<ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>用来控制生产环境中是否用 <code>&lt;script&gt;</code> 标签将产物中的 script 文件（.js 文件）inline 到 HTML 中。</p>
<p>注意，如果开启了这个选项，那么 script 文件将不会被写入产物目录中，而只会以 inline 脚本的形式存在于 HTML 文件中。</p>
<h4 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h4>
<p>默认情况下，我们有这样的产物文件：</p>
<div class="language-bash"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#D8DEE9FF">dist/html/main/index.html</span></span>
<span class="line"><span style="color:#D8DEE9FF">dist/static/css/style.css</span></span>
<span class="line"><span style="color:#D8DEE9FF">dist/static/js/main.js</span></span>
<span class="line"></span></code></pre></div></div>
<p>开启 <code>output.enableInlineScripts</code> 选项后：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">enableInlineScripts</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>产物文件将变成：</p>
<div class="language-bash"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#D8DEE9FF">dist/html/main/index.html</span></span>
<span class="line"><span style="color:#D8DEE9FF">dist/static/css/style.css</span></span>
<span class="line"></span></code></pre></div></div>
<p>同时，<code>dist/static/js/main.js</code> 文件将被 inline 到 <code>index.html</code> 中：</p>
<div class="language-html"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">&lt;html&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;body&gt;</span></span>
<span class="line"><span style="color:#ECEFF4">    </span><span style="color:#81A1C1">&lt;script&gt;</span></span>
<span class="line"><span style="color:#ECEFF4">      </span><span style="color:#616E88">// content of dist/static/js/main.js</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">&lt;/script&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;/body&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/html&gt;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputenableinlinestyles"><a class="header-anchor" aria-hidden="true" href="#outputenableinlinestyles">#</a>output.enableInlineStyles</h2>
<!-- -->
<ul>
<li>Type: <code>boolean</code></li>
<li>Default: <code>false</code></li>
</ul>
<p>用来控制生产环境中是否用 <code>&lt;style&gt;</code> 标签将产物中的 style 文件（.css 文件）inline 到 HTML 中。</p>
<p>注意，如果开启了这个选项，那么 style 文件将不会被写入产物目录中，而只会以 inline 样式的形式存在于 HTML 文件中。</p>
<h4 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h4>
<p>默认情况下，我们有这样的产物文件：</p>
<div class="language-bash"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#D8DEE9FF">dist/html/main/index.html</span></span>
<span class="line"><span style="color:#D8DEE9FF">dist/static/css/style.css</span></span>
<span class="line"><span style="color:#D8DEE9FF">dist/static/js/main.js</span></span>
<span class="line"></span></code></pre></div></div>
<p>开启 <code>output.enableInlineStyles</code> 选项后：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">enableInlineStyles</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">true</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>产物文件将变成：</p>
<div class="language-bash"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#D8DEE9FF">dist/html/main/index.html</span></span>
<span class="line"><span style="color:#D8DEE9FF">dist/static/js/main.js</span></span>
<span class="line"></span></code></pre></div></div>
<p>同时，<code>dist/static/css/style.css</code> 文件将被 inline 到 <code>index.html</code> 中：</p>
<div class="language-html"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">&lt;html&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;head&gt;</span></span>
<span class="line"><span style="color:#ECEFF4">    </span><span style="color:#81A1C1">&lt;style&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#616E88">/* content of dist/static/css/style.css */</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">&lt;/style&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;/head&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;body&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">&lt;/body&gt;</span></span>
<span class="line"><span style="color:#81A1C1">&lt;/html&gt;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputexternals"><a class="header-anchor" aria-hidden="true" href="#outputexternals">#</a>output.externals</h2>
<!-- -->
<ul>
<li>Type : <code>string | object | function | RegExp</code></li>
<li>Default: <code>undefined</code></li>
</ul>
<p>在构建时，防止将代码中某些 <code>import</code> 的依赖包打包到 bundle 中，而是在运行时再去从外部获取这些依赖。</p>
<p>详情请见: <a href="https://webpack.docschina.org/configuration/externals/" target="_blank" rel="nofollow">webpack 外部扩展 (Externals)</a></p>
<h4 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h4>
<p>将 <code>react-dom</code> 依赖从构建产物中剔除。为了在运行时获取这个模块, <code>react-dom</code> 的值将全局检索 <code>ReactDOM</code> 变量。</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">externals</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">react-dom</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">ReactDOM</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<div class="modern-directive tip"><p class="modern-directive-title">TIP</p><div class="modern-directive-content"><p>
当构建 Web Worker 产物时，externals 将不会生效。这是因为 Worker 环境不支持通过访问全局变量。</p></div></div>
<h2 id="outputfilename"><a class="header-anchor" aria-hidden="true" href="#outputfilename">#</a>output.filename</h2>
<!-- -->
<ul>
<li><strong>Type</strong></li>
</ul>
<div class="language-ts"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">type</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">FilenameConfig</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  js</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  css</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  svg</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  font</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  image</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#D8DEE9FF">  media</span><span style="color:#81A1C1">?:</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">string</span><span style="color:#81A1C1">;</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<ul>
<li><strong>Default</strong></li>
</ul>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#616E88">// 开发环境</span></span>
<span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">devDefaultFilename</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">js</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[name].js</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">css</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[name].css</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">svg</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[name].[contenthash:8].svg</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">font</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[name].[contenthash:8][ext]</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">image</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[name].[contenthash:8][ext]</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">media</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[name].[contenthash:8][ext]</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88">// 生产环境</span></span>
<span class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">prodDefaultFilename</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">js</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[name].[contenthash:8].js</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">css</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[name].[contenthash:8].css</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">svg</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[name].[contenthash:8].svg</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">font</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[name].[contenthash:8][ext]</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">image</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[name].[contenthash:8][ext]</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">media</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[name].[contenthash:8][ext]</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>设置构建产物的名称。</p>
<p>在生产环境构建后，会自动在文件名中间添加 hash 值，如果不需要添加，可以通过 <code>output.disableFilenameHash</code> 配置来禁用该行为。</p>
<p>其中：</p>
<ul>
<li><code>js</code>：表示 JavaScript 文件的名称。</li>
<li><code>css</code>：表示 CSS 样式文件的名称。</li>
<li><code>svg</code>：表示 SVG 图片的名称。</li>
<li><code>font</code>：表示字体文件的名称。</li>
<li><code>image</code>：表示非 SVG 图片的名称。</li>
<li><code>media</code>：表示视频等媒体资源的名称。</li>
</ul>
<h4 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h4>
<p>修改 JavaScript 文件的名称为 <code>[name]_script.js</code>：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">filename</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">js</span><span style="color:#ECEFF4">:</span></span>
<span class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#D8DEE9">process</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">env</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">NODE_ENV</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">===</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">production</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#81A1C1">?</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[name]_script.[contenthash:8].js</span><span style="color:#ECEFF4">&#x27;</span></span>
<span class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#81A1C1">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">[name]_script.js</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputlegalcomments"><a class="header-anchor" aria-hidden="true" href="#outputlegalcomments">#</a>output.legalComments</h2>
<!-- -->
<ul>
<li>Type : <code>&#x27;linked&#x27; | &#x27;inline&#x27; | &#x27;none&#x27;</code></li>
<li>Default: <code>&#x27;linked&#x27;</code></li>
</ul>
<p>配置 legal comment 的处理方式。</p>
<p>legal comment 是 JS 或 CSS 文件中的一些特殊注释，这些注释包含 <code>@license</code> 或 <code>@preserve</code>，或是以 <code>//!</code> 开头。默认情况下，这些注释保留在输出文件中，因为这遵循了代码原作者的意图。</p>
<p>你可以通过 <code>legalComments</code> 来配置相关行为：</p>
<ul>
<li><code>linked</code>：将所有 legal comments 移至 .LEGAL.txt 文件并通过注释链接到它们。</li>
<li><code>inline</code>：保留所有 legal comments。</li>
<li><code>none</code>：移除所有 legal comments。</li>
</ul>
<h4 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h4>
<p>移除所有 legal comments。</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">legalComments</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">none</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputoverridebrowserslist"><a class="header-anchor" aria-hidden="true" href="#outputoverridebrowserslist">#</a>output.overrideBrowserslist</h2>
<!-- -->
<ul>
<li>Type: <code>string[] | Record&lt;BuilderTarget, string[]&gt;</code></li>
<li>Default: <code>undefined</code></li>
</ul>
<p>指定项目兼容的目标浏览器范围。该值会被 <a href="https://babeljs.io/docs/en/babel-preset-env" target="_blank" rel="nofollow">@babel/preset-env</a> 和 <a href="https://github.com/postcss/autoprefixer" target="_blank" rel="nofollow">autoprefixer</a> 用来确定需要转换的 JavaScript 语法特性和需要添加的 CSS 浏览器前缀。</p>
<h4 id="优先级"><a class="header-anchor" aria-hidden="true" href="#优先级">#</a>优先级</h4>
<p><code>overrideBrowserslist</code> 配置的优先级高于项目中的 <code>.browserslistrc</code> 配置文件和 package.json 中的 <code>browserslist</code> 字段。</p>
<p>大多数场景下，推荐优先使用 <code>.browserslistrc</code> 文件，而不是使用 <code>overrideBrowserslist</code> 配置。因为 <code>.browserslistrc</code> 文件是官方定义的配置文件，通用性更强，可以被社区中的其他库识别。</p>
<h4 id="默认值"><a class="header-anchor" aria-hidden="true" href="#默认值">#</a>默认值</h4>
<p>如果项目中没有定义任何 <code>browserslist</code> 相关的配置，也没有定义 <code>overrideBrowserslist</code>，那么 Builder 会设置默认值为：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#D8DEE9FF">[</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">&gt; 0.01%</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">not dead</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">not op_mini all</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">]</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h4 id="示例"><a class="header-anchor" aria-hidden="true" href="#示例">#</a>示例</h4>
<p>下面是兼容移动端 H5 场景的示例：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">overrideBrowserslist</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">iOS 9</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">Android 4.4</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">last 2 versions</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">&gt; 0.2%</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">not dead</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    ]</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<p>可以查看 <a href="https://github.com/browserslist/browserslist" target="_blank" rel="nofollow">browserslist 文档</a> 来了解如何自定义浏览器范围。</p>
<h4 id="根据产物类型设置"><a class="header-anchor" aria-hidden="true" href="#根据产物类型设置">#</a>根据产物类型设置</h4>
<p>当你同时构建多种类型的产物时，你可以为不同的产物类型设置不同的目标浏览器范围。此时，你需要把 <code>overrideBrowserslist</code> 设置为一个对象，对象的 key 为对应的产物类型。</p>
<p>比如为 <code>web</code> 和 <code>node</code> 设置不同的范围：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">output</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">overrideBrowserslist</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">web</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">iOS 9</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">Android 4.4</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">last 2 versions</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">&gt; 0.2%</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">not dead</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">]</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">node</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">node &gt;= 14</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#D8DEE9FF">]</span><span style="color:#ECEFF4">,</span></span>
<span class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></span>
<span class="line"><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span></code></pre></div></div>
<h2 id="outputpolyfill"><a class="header-anchor" aria-hidden="true" href="#outputpolyfill">#</a>output.polyfill</h2>
<!-- -->
<ul>
<li>Type: <code>&#x27;entry&#x27; | &#x27;usage&#x27; | &#x27;ua&#x27; | &#x27;off&#x27;</code></li>
<li>Default: <code>&#x27;entry&#x27;</code></li>
</ul>
<p>通过 <code>output.polyfill</code> 你可以配置 Polyfill 的注入方式。</p>
<h3 id="配置项"><a class="header-anchor" aria-hidden="true" href="#配置项">#</a>配置项</h3>
<h4 id="entry"><a class="header-anchor" aria-hidden="true" href="#entry">#</a>entry</h4>
<p>当 <code>output.polyfill</code> 配置为 <code>&#x27;entry&#x27;</code> 时，会在每个入口文件中注入 Polyfill。</p>
<p>等价于 <code>@babel/preset-env</code> 的 <code>useBuiltIns: &#x27;entry&#x27;</code> 配置。</p>
<h4 id="usage"><a class="header-anchor" aria-hidden="true" href="#usage">#</a>usage</h4>
<p>当 <code>output.polyfill</code> 配置为 <code>&#x27;usage&#x27;</code> 时，会在每个文件中根据代码中使用的 API 注入 Polyfill。</p>
<p>等价于 <code>@babel/preset-env</code> 的 <code>useBuiltIns: &#x27;usage&#x27;</code> 配置。</p>
<h4 id="ua"><a class="header-anchor" aria-hidden="true" href="#ua">#</a>ua</h4>
<p>根据当前请求的 UA 信息，动态下发 Polyfill 代码。</p>
<h4 id="off"><a class="header-anchor" aria-hidden="true" href="#off">#</a>off</h4>
<p>不注入 Polyfill。使用此选项时，需要自行保证代码的兼容性。</p>
<h2 id="outputsvgdefaultexport"><a class="header-anchor" aria-hidden="true" href="#outputsvgdefaultexport">#</a>output.svgDefaultExport</h2>
<!-- -->
<ul>
<li>Type: <code>url</code> | <code>component</code></li>
<li>Default: <code>url</code></li>
</ul>
<p><code>output.svgDefaultExport</code> 可以用来配置 SVG 文件的默认导出。</p>
<p>当 <code>output.svgDefaultExport</code> 配置为 <code>url</code> 时，SVG 文件的默认导出是文件的 URL。例如：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">logo</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">./logo.svg</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9">console</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">log</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">logo</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span><span style="color:#D8DEE9FF"> </span><span style="color:#616E88">// =&gt; 资源 url</span></span>
<span class="line"></span></code></pre></div></div>
<p>当 <code>output.svgDefaultExport</code> 配置为 <code>component</code> 时，SVG 文件的默认导出是文件的 React 组件。例如：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">Logo</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">./logo.svg</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9">console</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">log</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">Logo</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span><span style="color:#D8DEE9FF"> </span><span style="color:#616E88">// =&gt; React 组件</span></span>
<span class="line"></span></code></pre></div></div>
<p>此时，你也可以通过指定 <code>?url</code> 的 query 来导入 url，比如：</p>
<div class="language-js"><div class=""></div><div class="modern-code-content"><button class="copy"></button><pre class="shiki" style="background-color:#2e3440ff"><code><span class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">logo</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">./logo.svg?url</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#81A1C1">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9">console</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">log</span><span style="color:#D8DEE9FF">(</span><span style="color:#D8DEE9">logo</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span><span style="color:#D8DEE9FF"> </span><span style="color:#616E88">// =&gt; 资源 url</span></span>
<span class="line"></span></code></pre></div></div><!--/$--></div><footer m="t-8"><div flex="~ col sm:row" justify="sm:around" gap="2" p="t-6"><div flex="~ col" class="zPHT1"></div><div flex="~ col" class="oflez"><a class="qVky9 gMyXy oflez" target="" cursor="pointer" href="/builder/guide/introduction.html"><span class="pA5H9">下一页</span><span class="K2e43">介绍</span></a></div></div></footer></div><div class="relative hidden lg:block"><div class="xH_Uj"><div style="min-height:calc(100vh - (var(--modern-nav-height) + 32px))"><div m="l-16"><div flex="~ col" class="max-w-256px"><div class="&lt;lg:hidden"><div p="l-4" text="sm" font-medium="~" id="aside-container" style="border-left:1px solid var(--modern-c-divider-light)" class="relative"><div class="absolute" opacity="0" w="1px" h="18px" bg="brand" style="top:33px;left:-1px;transition:top 0.25s cubic-bezier(0, 1, 0.5, 1), background-color 0.5s, opacity 0.25s" id="aside-marker"></div><div block="~" class="leading-7" text="sm" font="semibold">目录</div><nav><ul class="relative"><li><a href="#outputassetprefix" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.assetPrefix</a></li><li><a href="#outputassetsretry" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.assetsRetry</a></li><li><a href="#outputcharset" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.charset</a></li><li><a href="#outputcleandistpath" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.cleanDistPath</a></li><li><a href="#outputconverttorem" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.convertToRem</a></li><li><a href="#outputcopy" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.copy</a></li><li><a href="#outputcssmodulelocalidentname" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.cssModuleLocalIdentName</a></li><li><a href="#outputdataurilimit" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.dataUriLimit</a></li><li><a href="#outputdisablecssextract" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.disableCssExtract</a></li><li><a href="#outputdisablecssmoduleextension" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.disableCssModuleExtension</a></li><li><a href="#outputdistpath" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.distPath</a></li><li><a href="#outputdisableminimize" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.disableMinimize</a></li><li><a href="#outputdisablesourcemap" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.disableSourceMap</a></li><li><a href="#outputdisabletschecker" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.disableTsChecker</a></li><li><a href="#outputdisablefilenamehash" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.disableFilenameHash</a></li><li><a href="#outputdisableinlineruntimechunk" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.disableInlineRuntimeChunk</a></li><li><a href="#outputenableassetmanifest" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.enableAssetManifest</a></li><li><a href="#outputenableassetfallback" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.enableAssetFallback</a></li><li><a href="#outputenablelatestdecorators" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.enableLatestDecorators</a></li><li><a href="#outputenablecssmoduletsdeclaration" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.enableCssModuleTSDeclaration</a></li><li><a href="#outputenableinlinescripts" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.enableInlineScripts</a></li><li><a href="#outputenableinlinestyles" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.enableInlineStyles</a></li><li><a href="#outputexternals" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.externals</a></li><li><a href="#outputfilename" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.filename</a></li><li><a href="#outputlegalcomments" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.legalComments</a></li><li><a href="#outputoverridebrowserslist" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.overrideBrowserslist</a></li><li><a href="#outputpolyfill" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.polyfill</a></li><li><a href="#outputsvgdefaultexport" block="~" text="text-2" font="medium" hover="text-text-1" transition="color duration-300" class="leading-7" style="font-size:13px;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">output.svgDefaultExport</a></li></ul></nav></div></div></div></div></div></div></div></div></div></section></div></div></body></html>