(self.webpackChunk_modern_js_main_doc=self.webpackChunk_modern_js_main_doc||[]).push([["docs_zh_guides_topic-detail_generator_create_option_md"],{24122:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{frontmatter:function(){return s},title:function(){return c},toc:function(){return i},default:function(){return h}});var d=r("9880"),a=r("23169"),s={sidebar_position:2},c="CLI 参数",i=[{text:"[projectDir]",depth:2,id:"[projectdir]"},{text:"--version",depth:2,id:"--version"},{text:"--lang <lang>",depth:2,id:"--lang-<lang>"},{text:"-c, --config <config>",depth:2,id:"-c,---config-<config>"},{text:"-d,--debug",depth:2,id:"-d,--debug"},{text:"--mwa",depth:2,id:"--mwa"},{text:"--module",depth:2,id:"--module"},{text:"--monorepo",depth:2,id:"--monorepo"},{text:"-p, --plugin <plugin>",depth:2,id:"-p,---plugin-<plugin>"},{text:"--generator <generator>",depth:2,id:"--generator-<generator>"},{text:"--dist-tag <distTag>",depth:2,id:"--dist-tag-<disttag>"},{text:"--packages <packages>",depth:2,id:"--packages-<packages>"},{text:"--registry <registry>",depth:2,id:"--registry-<registry>"},{text:"--no-need-install",depth:2,id:"--no-need-install"},{text:"clean-cache",depth:2,id:"clean-cache"}];function t(e){var n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",pre:"pre",h2:"h2",div:"div"},(0,a.useMDXComponents)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.h1,{id:"cli-参数",children:["CLI 参数",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#cli-参数",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"@modern-js/create"})," 提供了很多配置参数用于配置其执行过程中的行为，可以通过 ",(0,d.jsx)(n.code,{children:"--help"})," 参数进行查看："]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'npx @modern-js/create@latest --help\n\nUsage: npx @modern-js/create@latest [projectDir]\n\n创建 Modern.js 工程方案\n\nOptions:\n  --version                当前 create 工具版本号\n  --lang <lang>            设置 create 工具语言(zh 或者 en)\n  -c, --config <config>    创建项目默认配置(JSON 字符串) (default: "{}")\n  -d,--debug               开启 Debug 模式，打印调试日志信息 (default: false)\n  --mwa                    一键创建 Web 应用(使用默认配置) (default: false)\n  --module                 一键创建 Module 应用(使用默认配置) (default: false)\n  --monorepo               一键创建 Monorepo 应用(使用默认配置) (default: false)\n  --generator <generator>  使用自定义生成器\n  -p, --plugin <plugin>    使用生成器插件创建新的工程方案类型或定制化 Modern.js 工程方案 (default: [])\n  --dist-tag <distTag>     生成项目时生成器使用特殊的 npm Tag (default: "")\n  --packages <packages>    创建项目指定特定依赖版本信息 (default: "{}")\n  --registry <registry>    在创建过程中定制 npm Registry (default: "")\n  --no-need-install        无需安装依赖\n  -h, --help               display help for command\n\nCommands:\n  clean-cache              清除本地生成器缓存\n'})}),"\n",(0,d.jsx)(n.p,{children:"下面将针对这些参数做详细介绍："}),"\n",(0,d.jsxs)(n.h2,{id:"[projectdir]",children:["[projectDir]",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#[projectdir]",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"项目目录名称。"}),"\n",(0,d.jsxs)(n.p,{children:["执行 ",(0,d.jsx)(n.code,{children:"@modern-js/create"})," 时，默认会在当前目录创建 ",(0,d.jsx)(n.code,{children:"projectDir"})," 文件夹，并在该文件夹下初始化项目。该参数为空时，将会在当前目录直接生成初始化项目。"]}),"\n",(0,d.jsxs)(n.div,{className:"modern-directive info",children:[(0,d.jsx)(n.div,{className:"modern-directive-title",children:"INFO"}),(0,d.jsx)(n.div,{className:"modern-directive-content",children:(0,d.jsxs)(n.p,{children:["如果 ",(0,d.jsx)(n.code,{children:"projectDir"})," 所在目录内容不为空，将会提示是否继续创建，推荐在空目录下进行项目初始化操作。\n"]})})]}),"\n",(0,d.jsxs)(n.h2,{id:"--version",children:["--version",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#--version",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["获取 ",(0,d.jsx)(n.code,{children:"@modern-js/create"})," 工具版本。"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npx @modern-js/create@latest --version\n\n[INFO] @modern-js/create v2.21.1\n"})}),"\n",(0,d.jsxs)(n.h2,{id:"--lang-<lang>",children:["--lang <lang>",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#--lang-<lang>",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["执行执行语言，支持 ",(0,d.jsx)(n.code,{children:"zh"})," 和 ",(0,d.jsx)(n.code,{children:"en"}),"。"]}),"\n",(0,d.jsxs)(n.p,{children:["默认情况下，",(0,d.jsx)(n.code,{children:"@modern-js/create"})," 会自动识别用户的系统语言，选择使用中文或者英文，如果识别失败或者不符合使用习惯，可以使用该参数手动指定。"]}),"\n",(0,d.jsxs)(n.h2,{id:"-c,---config-<config>",children:["-c, --config <config>",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-c,---config-<config>",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"指定项目默认配置。"}),"\n",(0,d.jsxs)(n.p,{children:["默认情况下，",(0,d.jsx)(n.code,{children:"@modern-js/create"})," 在执行过程中会出现选择语言、包管理工具等交互问题，当需要提前指定这些配置内容时，可以通过该字段传入。"]}),"\n",(0,d.jsx)(n.p,{children:"该字段为 JSON 字符串，例如需指定包管理工具时："}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'npx @modern-js/create@latest --config \'{"packageManager": "pnpm"}\'\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"config"})," 支持的参数可查看",(0,d.jsx)(n.a,{href:"/guides/topic-detail/generator/create/config",children:"配置参数"}),"。"]}),"\n",(0,d.jsxs)(n.h2,{id:"-d,--debug",children:["-d,--debug",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-d,--debug",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"展示调试日志。"}),"\n",(0,d.jsx)(n.p,{children:"当在使用过程中遇到问题时，可以使用该参数显示调试日志，方便快速定位问题位置及对问题进行排查。"}),"\n",(0,d.jsxs)(n.h2,{id:"--mwa",children:["--mwa",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#--mwa",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"快速创建 Web 应用项目。"}),"\n",(0,d.jsxs)(n.h2,{id:"--module",children:["--module",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#--module",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"快速创建 Npm 模块项目。"}),"\n",(0,d.jsxs)(n.h2,{id:"--monorepo",children:["--monorepo",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#--monorepo",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"快速创建 Monorepo 项目。"}),"\n",(0,d.jsxs)(n.h2,{id:"-p,---plugin-<plugin>",children:["-p, --plugin <plugin>",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-p,---plugin-<plugin>",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"指定生成器插件。"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"@modern-js/create"})," 支持使用生成器插件定制 Modern.js 默认的工程方案类型或者添加工程方案类型场景，详情可查看",(0,d.jsx)(n.a,{href:"/guides/topic-detail/generator/plugin/structure",children:"开发生成器插件"}),"。"]}),"\n",(0,d.jsxs)(n.h2,{id:"--generator-<generator>",children:["--generator <generator>",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#--generator-<generator>",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"指定微生成器。"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"@modern-js/create"})," 支持使用微生成器完全定制项目生成流程。"]}),"\n",(0,d.jsxs)(n.h2,{id:"--dist-tag-<disttag>",children:["--dist-tag <distTag>",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#--dist-tag-<disttag>",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"指定生成器及 Modern.js 相关依赖版本。"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"@modern-js/create"})," 执行过程中会执行更小的微生成器，默认会使用 ",(0,d.jsx)(n.code,{children:"latest"})," 的微生成器版本，使用该参数可以指定执行的微生成器的版本号和对应的安装 Modern.js 相关依赖的版本。"]}),"\n",(0,d.jsxs)(n.p,{children:["比如使用 ",(0,d.jsx)(n.code,{children:"next"})," 版本："]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npx @modern-js/create@next --dist-tag next\n"})}),"\n",(0,d.jsxs)(n.h2,{id:"--packages-<packages>",children:["--packages <packages>",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#--packages-<packages>",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"创建项目是指定特定包版本依赖。"}),"\n",(0,d.jsxs)(n.p,{children:["在创建项目时如果有需要指定特定包版本，可以使用该参数。该参数会在项目根目录的 ",(0,d.jsx)(n.code,{children:"package.json"})," 中配置 ",(0,d.jsx)(n.code,{children:"pnpm.overrides"}),"(包管理工具选择 pnpm) 或者 ",(0,d.jsx)(n.code,{children:"resolutions"})," 锁定包版本号。"]}),"\n",(0,d.jsx)(n.p,{children:"该参数值为 JSON 字符串。"}),"\n",(0,d.jsx)(n.p,{children:"例如指定 react 版本："}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'npx @modern-js/create@latest --packages \'{"react":"^17"}\'\n'})}),"\n",(0,d.jsxs)(n.h2,{id:"--registry-<registry>",children:["--registry <registry>",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#--registry-<registry>",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"指定执行子生成器和获取项目依赖版本的 npm registry。"}),"\n",(0,d.jsxs)(n.h2,{id:"--no-need-install",children:["--no-need-install",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#--no-need-install",children:"#"})]}),"\n",(0,d.jsx)(n.p,{children:"忽略自动安装依赖。"}),"\n",(0,d.jsxs)(n.p,{children:["默认情况下，",(0,d.jsx)(n.code,{children:"@modern-js/create"})," 在创建项目完成后会自动安装依赖，使用该参数可以忽略安装依赖步骤。"]}),"\n",(0,d.jsxs)(n.h2,{id:"clean-cache",children:["clean-cache",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#clean-cache",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"@modern-js/create"})," 默认会在执行机器的 tmp 目录生成子生成器缓存用于加快生成器执行速度，在需要刷新缓存或者缓存出现问题时可以使用该命令删除缓存。"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npx @modern-js/create@latest clean-cache\n"})})]})}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},(0,a.useMDXComponents)(),e.components).wrapper;return n?(0,d.jsx)(n,Object.assign({},e,{children:(0,d.jsx)(t,e)})):t(e)}}}]);