"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2131],{44993:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>u});var n=r(52983);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},d=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=p(r),u=i,f=m["".concat(s,".").concat(u)]||m[u]||c[u]||a;return r?n.createElement(f,o(o({ref:t},d),{},{components:r})):n.createElement(f,o({ref:t},d))}));function u(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=r.length,o=new Array(a);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var p=2;p<a;p++)o[p]=r[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},47505:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var n=r(18249),i=(r(52983),r(44993));const a={sidebar_position:3},o="@modern-js/codesmith-api-fs",l={unversionedId:"guides/topic-detail/generator/codesmith/api/fs",id:"guides/topic-detail/generator/codesmith/api/fs",title:"@modern-js/codesmith-api-fs",description:"API wrapper for file operations in microgenerators, providing methods to render individual template files and folders. FsAPI is usually used to handle binaries or template files that cannot be handled with handlebars, ejs.",source:"@site/../../packages/toolkit/main-doc/en/docusaurus-plugin-content-docs/current/guides/topic-detail/generator/codesmith/api/fs.md",sourceDirName:"guides/topic-detail/generator/codesmith/api",slug:"/guides/topic-detail/generator/codesmith/api/fs",permalink:"/v2/en/docs/guides/topic-detail/generator/codesmith/api/fs",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"guidesSidebar",previous:{title:"@modern-js/codesmith-api-json",permalink:"/v2/en/docs/guides/topic-detail/generator/codesmith/api/json"},next:{title:"@modern-js/codesmith-api-git",permalink:"/v2/en/docs/guides/topic-detail/generator/codesmith/api/git"}},s={},p=[{value:"Use",id:"use",level:2},{value:"API",id:"api",level:2},{value:"renderFile",id:"renderfile",level:3},{value:"renderDir",id:"renderdir",level:3}],d={toc:p};function c(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"modern-jscodesmith-api-fs"},"@modern-js/codesmith-api-fs"),(0,i.kt)("p",null,"API wrapper for file operations in microgenerators, providing methods to render individual template files and folders. FsAPI is usually used to handle binaries or template files that cannot be handled with handlebars, ejs."),(0,i.kt)("h2",{id:"use"},"Use"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"import { FsAPI } from '@modern-js/codesmith-api-fs';\n\nexport default async (context: GeneratorContext, generator: GeneratorCore) => {\n  const handlebarApi = new HandlebarsAPI(generator);\n  await handlebarsAPI.renderFile(\n     material.get('templates/a.js'),\n     target: 'b.js'\n   );\n}\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Create FsAPI instance, the parameter is the generator of the microgenerator function parameter, please see the composition of the microgenerator project for details."),(0,i.kt)("li",{parentName:"ul"},"Just call the API on its example.")),(0,i.kt)("h2",{id:"api"},"API"),(0,i.kt)("h3",{id:"renderfile"},"renderFile"),(0,i.kt)("p",null,"Render a single template file."),(0,i.kt)("p",null,"Parameter:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"resource: ",(0,i.kt)("inlineCode",{parentName:"li"},"FsResource"),". Template file resource, used by  ",(0,i.kt)("inlineCode",{parentName:"li"},"context.materials.get(<filename>)"),"."),(0,i.kt)("li",{parentName:"ul"},"target: ",(0,i.kt)("inlineCode",{parentName:"li"},"string"),". Target file path name.")),(0,i.kt)("h3",{id:"renderdir"},"renderDir"),(0,i.kt)("p",null,"Render template folder."),(0,i.kt)("p",null,"Parameter:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"material: ",(0,i.kt)("inlineCode",{parentName:"li"},"FsMaterial"),". The material context of the current microgenerator execution."),(0,i.kt)("li",{parentName:"ul"},"findGlob: ",(0,i.kt)("inlineCode",{parentName:"li"},"string"),". Template file matches the regular."),(0,i.kt)("li",{parentName:"ul"},"target: ",(0,i.kt)("inlineCode",{parentName:"li"},"(globMatch: string) => string"),". The target file path generation function, the parameter is ",(0,i.kt)("inlineCode",{parentName:"li"},"resourceKey.")),(0,i.kt)("li",{parentName:"ul"},"options?: ",(0,i.kt)("inlineCode",{parentName:"li"},"RenderTemplateDirOptions"),". Glob Find the file configuration, the specific function viewable is here ","[glob]"," (",(0,i.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/glob"},"https://www.npmjs.com/package/glob"),").")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"type RenderTemplateDirOptions = {\n  nodir?: boolean;\n  dot?: boolean;\n  ignore?: string | readonly string[];\n};\n")))}c.isMDXComponent=!0}}]);