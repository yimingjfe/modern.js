"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2683],{44993:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(52983);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),l=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),u=l(n),m=o,f=u["".concat(s,".").concat(m)]||u[m]||d[m]||r;return n?a.createElement(f,i(i({ref:t},c),{},{components:n})):a.createElement(f,i({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=u;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:o,i[1]=p;for(var l=2;l<r;l++)i[l]=n[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5912:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>p,toc:()=>l});var a=n(18249),o=(n(52983),n(44993));const r={title:"Add Application Entry"},i=void 0,p={unversionedId:"tutorials/first-app/c08-entries",id:"tutorials/first-app/c08-entries",title:"Add Application Entry",description:"In the last chapter, we basically completed the development of the point of contact list application, introduced the usage of some functions in the Modern.js, and recommended best practices.",source:"@site/../../packages/toolkit/main-doc/en/docusaurus-plugin-content-docs/current/tutorials/first-app/c08-entries.md",sourceDirName:"tutorials/first-app",slug:"/tutorials/first-app/c08-entries",permalink:"/v2/en/docs/tutorials/first-app/c08-entries",draft:!1,tags:[],version:"current",frontMatter:{title:"Add Application Entry"},sidebar:"tutorialsSidebar",previous:{title:"Add Container",permalink:"/v2/en/docs/tutorials/first-app/c07-container"}},s={},l=[{value:"New entry",id:"new-entry",level:2},{value:"Modify the configuration by entry",id:"modify-the-configuration-by-entry",level:2},{value:"Next step",id:"next-step",level:2}],c={toc:l};function d(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"In the last chapter, we basically completed the development of the point of contact list application, introduced the usage of some functions in the Modern.js, and recommended best practices."),(0,o.kt)("p",null,"In this chapter, we will describe how to add a new entry to the application."),(0,o.kt)("h2",{id:"new-entry"},"New entry"),(0,o.kt)("p",null,"A complete project may require multiple entries, Modern.js supports the automatic creation of new entries, as mentioned in the previous section, ",(0,o.kt)("inlineCode",{parentName:"p"},"pnpm run new")," can enable optional features."),(0,o.kt)("p",null,"We can also use it to create new project elements and execute ",(0,o.kt)("inlineCode",{parentName:"p"},"pnpm run new")," in the project root directory:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'? Action Create project element\n? Create project element New "entry"\n? Entry name (entry) landing-page\n')),(0,o.kt)("p",null,"When created, the project will look like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},".\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 modern.config.ts\n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 pnpm-lock.yaml\n\u251c\u2500\u2500 src\n\u2502\xa0\xa0 \u251c\u2500\u2500 modern-app-env.d.ts\n\u2502\xa0\xa0 \u251c\u2500\u2500 landing-page\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 routes\n\u2502\xa0\xa0 \u2502\xa0\xa0     \u251c\u2500\u2500 index.css\n\u2502\xa0\xa0 \u2502\xa0\xa0     \u251c\u2500\u2500 layout.tsx\n\u2502\xa0\xa0 \u2502\xa0\xa0     \u2514\u2500\u2500 page.tsx\n\u2502\xa0\xa0 \u2514\u2500\u2500 myapp\n\u2502\xa0\xa0     \u251c\u2500\u2500 components\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 Avatar\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 index.tsx\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u2514\u2500\u2500 Item\n\u2502\xa0\xa0     \u2502\xa0\xa0     \u2514\u2500\u2500 index.tsx\n\u2502\xa0\xa0     \u251c\u2500\u2500 containers\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u2514\u2500\u2500 Contacts.tsx\n\u2502\xa0\xa0     \u251c\u2500\u2500 models\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u2514\u2500\u2500 contacts.ts\n\u2502\xa0\xa0     \u251c\u2500\u2500 routes\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 archives\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 page.tsx\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u251c\u2500\u2500 layout.tsx\n\u2502\xa0\xa0     \u2502\xa0\xa0 \u2514\u2500\u2500 page.tsx\n\u2502\xa0\xa0     \u2514\u2500\u2500 styles\n\u2502\xa0\xa0         \u2514\u2500\u2500 utils.css\n\u2514\u2500\u2500 tsconfig.json\n")),(0,o.kt)("p",null,"You can see that the files of the contact list application are automatically refactored into ",(0,o.kt)("inlineCode",{parentName:"p"},"src/myapp/"),"."),(0,o.kt)("p",null,"At the same time, a new ",(0,o.kt)("inlineCode",{parentName:"p"},"src/landing-page/")," is created, which also has ",(0,o.kt)("inlineCode",{parentName:"p"},"routes/*")," (the ",(0,o.kt)("inlineCode",{parentName:"p"},"pnpm run new")," command only does these things, so you can also easily create new entries or modify entries manually)."),(0,o.kt)("p",null,"Execute ",(0,o.kt)("inlineCode",{parentName:"p"},"pnpm run dev")," to display:"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/nuvjhpqnuvr/modern-website/tutorials/c08-entries-myapp.png",alt:"design"})),(0,o.kt)("p",null,"Access ",(0,o.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/")," to see the application as before."),(0,o.kt)("p",null,"Visit ",(0,o.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/landing-page")," to see the landing-page for the new entry you just created (Modern.js automatically generated default page)."),(0,o.kt)("p",null,"One of the design principles of the Modern.js framework is [",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Convention_over_configuration"},"Convention over Configuration")," ]. In most cases, you can write code directly by convention without any configuration. The directory structure in ",(0,o.kt)("inlineCode",{parentName:"p"},"src/")," is a convention:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"src/myapp/")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"src/landing-page/")," are automatically identified as two application portals: myapp and landing-page."),(0,o.kt)("p",null,"The directory name of ",(0,o.kt)("inlineCode",{parentName:"p"},"src/myapp/")," is the same as the project name (",(0,o.kt)("inlineCode",{parentName:"p"},"name")," in ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json"),"), which will be considered as the main entry of the project, and the root path of the project URL (the default in the development environment is ",(0,o.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/"),") will automatically point to the main entry."),(0,o.kt)("p",null,"The URL of other entries is to append the entry name after the root path, such as ",(0,o.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/landing-page"),"."),(0,o.kt)("p",null,"Next, we rename ",(0,o.kt)("inlineCode",{parentName:"p"},"src/myapp/")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"src/contacts/"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"mv src/myapp src/contacts\n")),(0,o.kt)("p",null,"Execute ",(0,o.kt)("inlineCode",{parentName:"p"},"pnpm run dev")," again, the result becomes:"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/nuvjhpqnuvr/modern-website/tutorials/c08-entries-contacts.png",alt:"design"})),(0,o.kt)("p",null,"There is no longer a main entry, the point of contact list is now a normal entry that needs to be accessed with ",(0,o.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/contacts"),"."),(0,o.kt)("h2",{id:"modify-the-configuration-by-entry"},"Modify the configuration by entry"),(0,o.kt)("p",null,"In the Modern.js configuration file, we can write our own code to control the configuration of the project."),(0,o.kt)("p",null,"Now, modify the ",(0,o.kt)("inlineCode",{parentName:"p"},"modern.config.ts")," to add something:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import appTools, { defineConfig } from '@modern-js/app-tools';\nimport tailwindcssPlugin from '@modern-js/plugin-tailwindcss';\n\n// https://modernjs.dev/docs/apis/app/config\nexport default defineConfig({\n  runtime: {\n    router: true,\n    state: true,\n  },\n  server: {\n    ssr: true,\n    ssrByEntries: {\n      'landing-page': false,\n    },\n  },\n  plugins: [appTools(), tailwindcssPlugin()],\n});\n")),(0,o.kt)("p",null,"Execute ",(0,o.kt)("inlineCode",{parentName:"p"},"pnpm run dev"),", and then open ",(0,o.kt)("inlineCode",{parentName:"p"},"view-source: http://localhost:8080/landing-page")," with the browser, you can see that the content of the ",(0,o.kt)("inlineCode",{parentName:"p"},"landing-page")," web page is dynamically loaded through js, and the SSR function of this page is turned off."),(0,o.kt)("p",null,"If ",(0,o.kt)("inlineCode",{parentName:"p"},"ssrByEntries")," and its value are annotated, the SSR function of landing-page is restored."),(0,o.kt)("p",null,"Other times, you need some more sophisticated logic to do the setup, such as JS variables, expressions, import modules, etc., for example, only in the development environment to enable SSR:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"export default defineConfig({\n  server: {\n    ssrByEntries: {\n      'landing-page': process.env.NODE_ENV !== 'production',\n    },\n  },\n};\n")),(0,o.kt)("p",null,"So far, the prototype of our point of contact list application is almost complete \ud83d\udc4f\ud83d\udc4f\ud83d\udc4f."),(0,o.kt)("h2",{id:"next-step"},"Next step"),(0,o.kt)("p",null,"Then you can further refine your application by following more tutorials like ",(0,o.kt)("a",{parentName:"p",href:"/docs/guides/get-started/quick-start"},"Guides"),", ",(0,o.kt)("a",{parentName:"p",href:"/docs/configure/app/usage"},"configuration"),", and more."))}d.isMDXComponent=!0}}]);