"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1168],{44993:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>m});var n=r(52983);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},d=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=l(r),m=o,g=u["".concat(c,".").concat(m)]||u[m]||p[m]||i;return r?n.createElement(g,a(a({ref:t},d),{},{components:r})):n.createElement(g,a({ref:t},d))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var l=2;l<i;l++)a[l]=r[l];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},57008:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var n=r(18249),o=(r(52983),r(44993));const i={sidebar_position:1},a="What is a microgenerator",s={unversionedId:"guides/topic-detail/generator/codesmith/introduce",id:"guides/topic-detail/generator/codesmith/introduce",title:"What is a microgenerator",description:"Modern.js provides the @modern-js/create tool and the new command for initialization to create projects and the ability to enable some plugin functions, respectively, these tools are based on microgenerators, also known as codesmith implementations.",source:"@site/../../packages/toolkit/main-doc/en/docusaurus-plugin-content-docs/current/guides/topic-detail/generator/codesmith/introduce.md",sourceDirName:"guides/topic-detail/generator/codesmith",slug:"/guides/topic-detail/generator/codesmith/introduce",permalink:"/v2/en/docs/guides/topic-detail/generator/codesmith/introduce",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"guidesSidebar",previous:{title:"gitAddAndCommit",permalink:"/v2/en/docs/guides/topic-detail/generator/plugin/api/git/gitAddAndCommit"},next:{title:"The composition of the microgenerator",permalink:"/v2/en/docs/guides/topic-detail/generator/codesmith/structure"}},c={},l=[{value:"Core concept",id:"core-concept",level:2},{value:"GeneratorCore",id:"generatorcore",level:3},{value:"Materials",id:"materials",level:3}],d={toc:l};function p(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"what-is-a-microgenerator"},"What is a microgenerator"),(0,o.kt)("p",null,"Modern.js provides the ",(0,o.kt)("inlineCode",{parentName:"p"},"@modern-js/create")," tool and the ",(0,o.kt)("inlineCode",{parentName:"p"},"new")," command for initialization to create projects and the ability to enable some plugin functions, respectively, these tools are based on microgenerators, also known as codesmith implementations."),(0,o.kt)("p",null,"Codesmith is committed to providing a set of micro-generator operating mechanism, and maintain the context information in the execution process of the micro-generator, so as to implement various operations based on files, commands, etc., to complete sophisticated operations."),(0,o.kt)("p",null,"Codesmith also encapsulates the commonly used methods, and can directly use the API functions it provides, which can more easily implement its own micro-generator."),(0,o.kt)("h2",{id:"core-concept"},"Core concept"),(0,o.kt)("h3",{id:"generatorcore"},"GeneratorCore"),(0,o.kt)("p",null,"GeneratorCore is the core of codesmith running generator, maintaining the context and running methods during the execution of the generator."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"class GeneratorCore {\n  logger: ILogger;\n  materialsManager: MaterialsManager;\n  outputPath: string;\n  output:\n    fs: (file: string | number, data: any, options?: fs.WriteFileOptions | string) => Promise<void>;\n  };\n  _context: GeneratorContext;\n  addMaterial(key: string, material: FsMaterial): void;\n  runGenerator(generator: string, config?: Record<string, unknown>): Promise<void>;\n  runSubGenerator(subGenerator: string, relativePwdPath?: string, config?: Record<string, any>): Promise<void>;\n}\n")),(0,o.kt)("h3",{id:"materials"},"Materials"),(0,o.kt)("p",null,"The micro-generator resource information currently only includes file resources (fsMaterials). Through this field, the template resources in the generator execution process can be obtained and operated through the API."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"class MaterialsManager {\n  materialMap: { // \u8d44\u6e90\u6620\u5c04\u5173\u7cfb\n    [materialUri: string]: FsMaterial;\n  };\n  loadLocalGenerator(generator: string): Promise<FsMaterial>;\n  loadRemoteGenerator(generator: string): Promise<FsMaterial>;\n}\n")))}p.isMDXComponent=!0}}]);