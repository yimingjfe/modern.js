"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3452],{44993:(e,t,r)=>{r.d(t,{Zo:()=>s,kt:()=>f});var n=r(52983);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=n.createContext({}),c=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},s=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),d=c(r),f=o,m=d["".concat(p,".").concat(f)]||d[f]||u[f]||a;return r?n.createElement(m,l(l({ref:t},s),{},{components:r})):n.createElement(m,l({ref:t},s))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,l=new Array(a);l[0]=d;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var c=2;c<a;c++)l[c]=r[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},5672:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>p,default:()=>f,frontMatter:()=>i,metadata:()=>c,toc:()=>u});var n=r(18249),o=(r(52983),r(44993));const a={toc:[{value:"Add a single script",id:"add-a-single-script",level:4},{value:"Add global style",id:"add-global-style",level:4},{value:"Add multiple scripts",id:"add-multiple-scripts",level:4}]};function l(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},a,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Type: ",(0,o.kt)("inlineCode",{parentName:"li"},"string | string[]")),(0,o.kt)("li",{parentName:"ul"},"Default: ",(0,o.kt)("inlineCode",{parentName:"li"},"undefined"))),(0,o.kt)("p",null,"Add a script before the entry file of each page. This script will be executed before the page code. It can be used to execute global logics, such as injecting polyfills, setting global styles, etc."),(0,o.kt)("h4",{id:"add-a-single-script"},"Add a single script"),(0,o.kt)("p",null,"First create a ",(0,o.kt)("inlineCode",{parentName:"p"},"src/polyfill.ts")," file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"console.log('I am a polyfill');\n")),(0,o.kt)("p",null,"Then configure ",(0,o.kt)("inlineCode",{parentName:"p"},"src/polyfill.ts")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"source.preEntry"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"export default {\n  source: {\n    preEntry: './src/polyfill.ts',\n  },\n};\n")),(0,o.kt)("p",null,"Re-run the compilation and visit any page, you can see that the code in ",(0,o.kt)("inlineCode",{parentName:"p"},"src/polyfill.ts")," has been executed, and the ",(0,o.kt)("inlineCode",{parentName:"p"},"I am a polyfill")," is logged in the console."),(0,o.kt)("h4",{id:"add-global-style"},"Add global style"),(0,o.kt)("p",null,"You can also configure the global style through ",(0,o.kt)("inlineCode",{parentName:"p"},"source.preEntry"),", this CSS code will be loaded earlier than the page code, such as introducing a ",(0,o.kt)("inlineCode",{parentName:"p"},"normalize.css")," file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"export default {\n  source: {\n    preEntry: './src/normalize.css',\n  },\n};\n")),(0,o.kt)("h4",{id:"add-multiple-scripts"},"Add multiple scripts"),(0,o.kt)("p",null,"You can add multiple scripts by setting ",(0,o.kt)("inlineCode",{parentName:"p"},"preEntry")," to an array, and they will be executed in array order:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"export default {\n  source: {\n    preEntry: ['./src/polyfill-a.ts', './src/polyfill-b.ts'],\n  },\n};\n")))}l.isMDXComponent=!0;const i={title:"source.preEntry",sidebar_label:"preEntry"},p=void 0,c={unversionedId:"configure/app/source/pre-entry",id:"configure/app/source/pre-entry",title:"source.preEntry",description:"This configuration is Modern.js Builder configuration, more detail can see source.preEntry\u3002",source:"@site/../../packages/toolkit/main-doc/en/docusaurus-plugin-content-docs/current/configure/app/source/pre-entry.md",sourceDirName:"configure/app/source",slug:"/configure/app/source/pre-entry",permalink:"/v2/en/docs/configure/app/source/pre-entry",draft:!1,tags:[],version:"current",frontMatter:{title:"source.preEntry",sidebar_label:"preEntry"},sidebar:"configsAppSidebar",previous:{title:"moduleScopes",permalink:"/v2/en/docs/configure/app/source/module-scopes"},next:{title:"resolveExtensionPrefix",permalink:"/v2/en/docs/configure/app/source/resolve-extension-prefix"}},s={},u=[],d={toc:u};function f(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{title:"BUILDER",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"This configuration is Modern.js Builder configuration, more detail can see ",(0,o.kt)("a",{parentName:"p",href:"https://modernjs.dev/builder/en/api/config-source.html#source-preentry"},"source.preEntry"),"\u3002")),(0,o.kt)(l,{mdxType:"Main"}))}f.isMDXComponent=!0}}]);