"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4683],{44993:(e,n,r)=>{r.d(n,{Zo:()=>c,kt:()=>d});var t=r(52983);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function l(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function s(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=t.createContext({}),i=function(e){var n=t.useContext(p),r=n;return e&&(r="function"==typeof e?e(n):l(l({},n),e)),r},c=function(e){var n=i(e.components);return t.createElement(p.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},m=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=i(r),d=o,f=m["".concat(p,".").concat(d)]||m[d]||u[d]||a;return r?t.createElement(f,l(l({ref:n},c),{},{components:r})):t.createElement(f,l({ref:n},c))}));function d(e,n){var r=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=r.length,l=new Array(a);l[0]=m;var s={};for(var p in n)hasOwnProperty.call(n,p)&&(s[p]=n[p]);s.originalType=e,s.mdxType="string"==typeof e?e:o,l[1]=s;for(var i=2;i<a;i++)l[i]=r[i];return t.createElement.apply(null,l)}return t.createElement.apply(null,r)}m.displayName="MDXCreateElement"},23039:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>p,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>u});var t=r(18249),o=(r(52983),r(44993));const a={toc:[{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:4}]};function l(e){let{components:n,...r}=e;return(0,o.kt)("wrapper",(0,t.Z)({},a,r,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Type: ",(0,o.kt)("inlineCode",{parentName:"li"},"Record<string, JSONValue>")),(0,o.kt)("li",{parentName:"ul"},"Default:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"// Builder \u4f1a\u81ea\u52a8\u6dfb\u52a0\u73af\u5883\u53d8\u91cf `process.env.NODE_ENV` \u4f5c\u4e3a\u9ed8\u8ba4\u503c\uff0c\u56e0\u6b64\u4f60\u4e0d\u9700\u8981\u624b\u52a8\u6dfb\u52a0\u5b83\u3002\nconst defaultGlobalVars = {\n  'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV),\n};\n")),(0,o.kt)("p",null,"\u6784\u5efa\u65f6\u5c06\u7c7b\u4f3c ",(0,o.kt)("inlineCode",{parentName:"p"},"process.env.FOO")," \u7684\u5168\u5c40\u53d8\u91cf\u8868\u8fbe\u5f0f\u66ff\u6362\u4e3a\u6307\u5b9a\u7684\u503c\uff0c\u6bd4\u5982\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"console.log(process.env.NODE_ENV);\n\n// \u2b07\ufe0f Turn into being...\nconsole.log('development');\n")),(0,o.kt)("p",null,"\u4f7f\u7528\u89e3\u6784\u8d4b\u503c\u65f6\uff0c\u6784\u5efa\u5668\u65e0\u6cd5\u5224\u65ad\u53d8\u91cf ",(0,o.kt)("inlineCode",{parentName:"p"},"NODE_ENV")," \u662f\u5426\u4e0e\u8981\u66ff\u6362\u7684\u8868\u8fbe\u5f0f ",(0,o.kt)("inlineCode",{parentName:"p"},"process.env.NODE_ENV")," \u5b58\u5728\u5173\u8054\uff0c\u6240\u4ee5\u8fd9\u6837\u7684\u4f7f\u7528\u65b9\u5f0f\u662f\u65e0\u6548\u7684\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const { NODE_ENV } = process.env;\nconsole.log(NODE_ENV);\n// \u274c Won't get a string.\n")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"source.globalVars")," \u662f ",(0,o.kt)("inlineCode",{parentName:"p"},"source.define")," \u7684\u4e00\u4e2a\u8bed\u6cd5\u7cd6\uff0c\u552f\u4e00\u7684\u533a\u522b\u662f ",(0,o.kt)("inlineCode",{parentName:"p"},"source.globalVars")," \u4f1a\u81ea\u52a8\u5c06\u4f20\u5165\u7684\u503c\u8fdb\u884c JSON \u5e8f\u5217\u5316\u5904\u7406\uff0c\u8fd9\u4f7f\u5f97\u8bbe\u7f6e\u5168\u5c40\u53d8\u91cf\u7684\u503c\u66f4\u5bb9\u6613\u3002\u6ce8\u610f ",(0,o.kt)("inlineCode",{parentName:"p"},"globalVars")," \u7684\u6bcf\u4e2a\u503c\u90fd\u9700\u8981\u662f\u53ef\u4ee5\u88ab JSON \u5e8f\u5217\u5316\u7684\u503c\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"export default {\n  source: {\n    globalVars: {\n      'process.env.BUILD_VERSION': '0.0.1',\n      'import.meta.foo': { bar: 42 },\n      'import.meta.baz': false,\n    },\n    define: {\n      'process.env.BUILD_VERSION': JSON.stringify('0.0.1'),\n      'import.meta': {\n        foo: JSON.stringify({ bar: 42 }),\n        baz: JSON.stringify(false),\n      },\n    },\n  },\n};\n")),(0,o.kt)("h4",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"export default {\n  source: {\n    globalVars: {\n      ENABLE_VCONSOLE: true,\n      APP_CONTEXT: { answer: 42 },\n    },\n  },\n};\n")))}l.isMDXComponent=!0;const s={title:"source.globalVars",sidebar_label:"globalVars"},p=void 0,i={unversionedId:"configure/app/source/global-vars",id:"configure/app/source/global-vars",title:"source.globalVars",description:"\u8be5\u914d\u7f6e\u4e3a Modern.js Builder \u914d\u7f6e\uff0c\u8be6\u7ec6\u4fe1\u606f\u53ef\u53c2\u8003 source.globalVars\u3002",source:"@site/../../packages/toolkit/main-doc/zh/configure/app/source/global-vars.md",sourceDirName:"configure/app/source",slug:"/configure/app/source/global-vars",permalink:"/v2/docs/configure/app/source/global-vars",draft:!1,tags:[],version:"current",frontMatter:{title:"source.globalVars",sidebar_label:"globalVars"},sidebar:"configsAppSidebar",previous:{title:"exclude",permalink:"/v2/docs/configure/app/source/exclude"},next:{title:"include",permalink:"/v2/docs/configure/app/source/include"}},c={},u=[],m={toc:u};function d(e){let{components:n,...r}=e;return(0,o.kt)("wrapper",(0,t.Z)({},m,r,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{title:"BUILDER",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"\u8be5\u914d\u7f6e\u4e3a Modern.js Builder \u914d\u7f6e\uff0c\u8be6\u7ec6\u4fe1\u606f\u53ef\u53c2\u8003 ",(0,o.kt)("a",{parentName:"p",href:"https://modernjs.dev/builder/zh/api/config-source.html#source-globalvars"},"source.globalVars"),"\u3002")),(0,o.kt)(l,{mdxType:"Main"}))}d.isMDXComponent=!0}}]);